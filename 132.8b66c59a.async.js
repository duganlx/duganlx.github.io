"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[132],{94064:function(e,t,n){n.d(t,{dZ:function(){return $w}});var r=n(14334),o=n(68508),i=n(85418),a=n(2453),l=n(94184),s=n.n(l),u=n(98423),c=n(67294),d=n(53124),f=n(98675),h=n(99559),p=n(48096),v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var g=e=>{var{prefixCls:t,className:n,hoverable:r=!0}=e,o=v(e,["prefixCls","className","hoverable"]);const{getPrefixCls:i}=c.useContext(d.E_),a=i("card",t),l=s()(`${a}-grid`,n,{[`${a}-grid-hoverable`]:r});return c.createElement("div",Object.assign({},o,{className:l}))},m=n(14747),y=n(67968),b=n(45503);const C=e=>{const{antCls:t,componentCls:n,headerHeight:r,cardPaddingBase:o,tabsMarginBottom:i}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${o}px`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},(0,m.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},m.vS),{[`\n          > ${n}-typography,\n          > ${n}-typography-edit-content\n        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:i,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`}}})},w=e=>{const{cardPaddingBase:t,colorBorderSecondary:n,cardShadow:r,lineWidth:o}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`\n      ${o}px 0 0 0 ${n},\n      0 ${o}px 0 0 ${n},\n      ${o}px ${o}px 0 0 ${n},\n      ${o}px 0 0 0 ${n} inset,\n      0 ${o}px 0 0 ${n} inset;\n    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},x=e=>{const{componentCls:t,iconCls:n,actionsLiMargin:r,cardActionsIconSize:o,colorBorderSecondary:i,actionsBg:a}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:a,borderTop:`${e.lineWidth}px ${e.lineType} ${i}`,display:"flex",borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px `},(0,m.dF)()),{"& > li":{margin:r,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:2*e.cardActionsIconSize,fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:e.fontSize*e.lineHeight+"px",transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${n}`]:{fontSize:o,lineHeight:o*e.lineHeight+"px"}},"&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${i}`}}})},S=e=>Object.assign(Object.assign({margin:`-${e.marginXXS}px 0`,display:"flex"},(0,m.dF)()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},m.vS),"&-description":{color:e.colorTextDescription}}),E=e=>{const{componentCls:t,cardPaddingBase:n,colorFillAlter:r}=e;return{[`${t}-head`]:{padding:`0 ${n}px`,background:r,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${e.padding}px ${n}px`}}},I=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},O=e=>{const{antCls:t,componentCls:n,cardShadow:r,cardHeadPadding:o,colorBorderSecondary:i,boxShadowTertiary:a,cardPaddingBase:l,extraColor:s}=e;return{[n]:Object.assign(Object.assign({},(0,m.Wf)(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${n}-bordered)`]:{boxShadow:a},[`${n}-head`]:C(e),[`${n}-extra`]:{marginInlineStart:"auto",color:s,fontWeight:"normal",fontSize:e.fontSize},[`${n}-body`]:Object.assign({padding:l,borderRadius:` 0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},(0,m.dF)()),[`${n}-grid`]:w(e),[`${n}-cover`]:{"> *":{display:"block",width:"100%"},[`img, img + ${t}-image-mask`]:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`}},[`${n}-actions`]:x(e),[`${n}-meta`]:S(e)}),[`${n}-bordered`]:{border:`${e.lineWidth}px ${e.lineType} ${i}`,[`${n}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${n}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:r}},[`${n}-contain-grid`]:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0 `,[`${n}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${n}-loading) ${n}-body`]:{marginBlockStart:-e.lineWidth,marginInlineStart:-e.lineWidth,padding:0}},[`${n}-contain-tabs`]:{[`> ${n}-head`]:{[`${n}-head-title, ${n}-extra`]:{paddingTop:o}}},[`${n}-type-inner`]:E(e),[`${n}-loading`]:I(e),[`${n}-rtl`]:{direction:"rtl"}}},L=e=>{const{componentCls:t,cardPaddingSM:n,headerHeightSM:r,headerFontSizeSM:o}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:r,padding:`0 ${n}px`,fontSize:o,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:n}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{minHeight:r,paddingTop:0,display:"flex",alignItems:"center"}}}}};var _=(0,y.Z)("Card",(e=>{const t=(0,b.TS)(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[O(t),L(t)]}),(e=>({headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+2*e.padding,headerHeightSM:e.fontSize*e.lineHeight+2*e.paddingXS,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText}))),T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const M=c.forwardRef(((e,t)=>{const{prefixCls:n,className:r,rootClassName:o,style:i,extra:a,headStyle:l={},bodyStyle:v={},title:m,loading:y,bordered:b=!0,size:C,type:w,cover:x,actions:S,tabList:E,children:I,activeTabKey:O,defaultActiveTabKey:L,tabBarExtraContent:M,hoverable:R,tabProps:N={}}=e,A=T(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),{getPrefixCls:D,direction:B,card:k}=c.useContext(d.E_),P=c.useMemo((()=>{let e=!1;return c.Children.forEach(I,(t=>{t&&t.type&&t.type===g&&(e=!0)})),e}),[I]),z=D("card",n),[F,H]=_(z),$=c.createElement(h.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1},I),j=void 0!==O,W=Object.assign(Object.assign({},N),{[j?"activeKey":"defaultActiveKey"]:j?O:L,tabBarExtraContent:M});let G;const Z=(0,f.Z)(C),V=Z&&"default"!==Z?Z:"large",U=E?c.createElement(p.Z,Object.assign({size:V},W,{className:`${z}-head-tabs`,onChange:t=>{var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)},items:E.map((e=>{var{tab:t}=e,n=T(e,["tab"]);return Object.assign({label:t},n)}))})):null;(m||a||U)&&(G=c.createElement("div",{className:`${z}-head`,style:l},c.createElement("div",{className:`${z}-head-wrapper`},m&&c.createElement("div",{className:`${z}-head-title`},m),a&&c.createElement("div",{className:`${z}-extra`},a)),U));const Y=x?c.createElement("div",{className:`${z}-cover`},x):null,X=c.createElement("div",{className:`${z}-body`,style:v},y?$:I),q=S&&S.length?c.createElement("ul",{className:`${z}-actions`},function(e){return e.map(((t,n)=>c.createElement("li",{style:{width:100/e.length+"%"},key:`action-${n}`},c.createElement("span",null,t))))}(S)):null,K=(0,u.Z)(A,["onTabChange"]),Q=s()(z,null==k?void 0:k.className,{[`${z}-loading`]:y,[`${z}-bordered`]:b,[`${z}-hoverable`]:R,[`${z}-contain-grid`]:P,[`${z}-contain-tabs`]:E&&E.length,[`${z}-${Z}`]:Z,[`${z}-type-${w}`]:!!w,[`${z}-rtl`]:"rtl"===B},r,o,H),J=Object.assign(Object.assign({},null==k?void 0:k.style),i);return F(c.createElement("div",Object.assign({ref:t},K,{className:Q,style:J}),G,Y,X,q))}));var R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var N=e=>{const{prefixCls:t,className:n,avatar:r,title:o,description:i}=e,a=R(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:l}=c.useContext(d.E_),u=l("card",t),f=s()(`${u}-meta`,n),h=r?c.createElement("div",{className:`${u}-meta-avatar`},r):null,p=o?c.createElement("div",{className:`${u}-meta-title`},o):null,v=i?c.createElement("div",{className:`${u}-meta-description`},i):null,g=p||v?c.createElement("div",{className:`${u}-meta-detail`},p,v):null;return c.createElement("div",Object.assign({},a,{className:f}),h,g)};const A=M;A.Grid=g,A.Meta=N;var D=A,B=n(97183),k=n(74902),P=n(82225),z=n(33603),F=n(65223);function H(e){const[t,n]=c.useState(e);return c.useEffect((()=>{const t=setTimeout((()=>{n(e)}),e.length?0:10);return()=>{clearTimeout(t)}}),[e]),t}var $=n(50438),j=n(33507);var W=e=>{const{componentCls:t}=e,n=`${t}-show-help-item`;return{[`${t}-show-help`]:{transition:`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[n]:{overflow:"hidden",transition:`height ${e.motionDurationSlow} ${e.motionEaseInOut},\n                     opacity ${e.motionDurationSlow} ${e.motionEaseInOut},\n                     transform ${e.motionDurationSlow} ${e.motionEaseInOut} !important`,[`&${n}-appear, &${n}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${n}-leave-active`]:{transform:"translateY(-5px)"}}}}};const G=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},label:{fontSize:e.fontSize},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),Z=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},V=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},(0,m.Wf)(e)),G(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},Z(e,e.controlHeightSM)),"&-large":Object.assign({},Z(e,e.controlHeightLG))})}},U=e=>{const{formItemCls:t,iconCls:n,componentCls:r,rootPrefixCls:o,labelRequiredMarkColor:i,labelColor:a,labelFontSize:l,labelHeight:s,labelColonMarginInlineStart:u,labelColonMarginInlineEnd:c,itemMarginBottom:d}=e;return{[t]:Object.assign(Object.assign({},(0,m.Wf)(e)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,\n        &-hidden.${o}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:`${e.lineHeight} - 0.25em`,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:s,color:a,fontSize:l,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required:not(${t}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:e.marginXXS,color:i,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${r}-hide-required-mark &`]:{display:"none"}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`${r}-hide-required-mark &`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:u,marginInlineEnd:c},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${o}-col-'"]):not([class*="' ${o}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:$.kr,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},Y=e=>{const{componentCls:t,formItemCls:n}=e;return{[`${t}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},X=e=>{const{componentCls:t,formItemCls:n}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:0,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,\n        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},q=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),K=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:q(e),[t]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},Q=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${t}-vertical`]:{[n]:{"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"},[`${t}-item-control`]:{width:"100%"}}},[`${t}-vertical ${n}-label,\n      .${r}-col-24${n}-label,\n      .${r}-col-xl-24${n}-label`]:q(e),[`@media (max-width: ${e.screenXSMax}px)`]:[K(e),{[t]:{[`.${r}-col-xs-24${n}-label`]:q(e)}}],[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{[`.${r}-col-sm-24${n}-label`]:q(e)}},[`@media (max-width: ${e.screenMDMax}px)`]:{[t]:{[`.${r}-col-md-24${n}-label`]:q(e)}},[`@media (max-width: ${e.screenLGMax}px)`]:{[t]:{[`.${r}-col-lg-24${n}-label`]:q(e)}}}},J=(e,t)=>(0,b.TS)(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t});var ee=(0,y.Z)("Form",((e,t)=>{let{rootPrefixCls:n}=t;const r=J(e,n);return[V(r),U(r),W(r),Y(r),X(r),Q(r),(0,j.Z)(r),$.kr]}),(e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0})),{order:-1e3});const te=[];function ne(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"==typeof e?e:`${t}-${r}`,error:e,errorStatus:n}}var re=e=>{let{help:t,helpStatus:n,errors:r=te,warnings:o=te,className:i,fieldId:a,onVisibleChanged:l}=e;const{prefixCls:u}=c.useContext(F.Rk),d=`${u}-item-explain`,[,f]=ee(u),h=(0,c.useMemo)((()=>(0,z.Z)(u)),[u]),p=H(r),v=H(o),g=c.useMemo((()=>null!=t?[ne(t,"help",n)]:[].concat((0,k.Z)(p.map(((e,t)=>ne(e,"error","error",t)))),(0,k.Z)(v.map(((e,t)=>ne(e,"warning","warning",t)))))),[t,n,p,v]),m={};return a&&(m.id=`${a}_help`),c.createElement(P.ZP,{motionDeadline:h.motionDeadline,motionName:`${u}-show-help`,visible:!!g.length,onVisibleChanged:l},(e=>{const{className:t,style:n}=e;return c.createElement("div",Object.assign({},m,{className:s()(d,t,i,f),style:n,role:"alert"}),c.createElement(P.V4,Object.assign({keys:g},(0,z.Z)(u),{motionName:`${u}-show-help-item`,component:!1}),(e=>{const{key:t,error:n,errorStatus:r,className:o,style:i}=e;return c.createElement("div",{key:t,className:s()(o,{[`${d}-${r}`]:r}),style:i},n)})))}))},oe=n(43589),ie=n(98866),ae=n(97647);const le=e=>"object"==typeof e&&null!=e&&1===e.nodeType,se=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,ue=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return se(n.overflowY,t)||se(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},ce=(e,t,n,r,o,i,a,l)=>i<e&&a>t||i>e&&a<t?0:i<=e&&l<=n||a>=t&&l>=n?i-e-r:a>t&&l<n||i<e&&l>n?a-t+o:0,de=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},fe=(e,t)=>{var n,r,o,i;if("undefined"==typeof document)return[];const{scrollMode:a,block:l,inline:s,boundary:u,skipOverflowHiddenElements:c}=t,d="function"==typeof u?u:e=>e!==u;if(!le(e))throw new TypeError("Invalid target");const f=document.scrollingElement||document.documentElement,h=[];let p=e;for(;le(p)&&d(p);){if(p=de(p),p===f){h.push(p);break}null!=p&&p===document.body&&ue(p)&&!ue(document.documentElement)||null!=p&&ue(p,c)&&h.push(p)}const v=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,g=null!=(i=null==(o=window.visualViewport)?void 0:o.height)?i:innerHeight,{scrollX:m,scrollY:y}=window,{height:b,width:C,top:w,right:x,bottom:S,left:E}=e.getBoundingClientRect();let I="start"===l||"nearest"===l?w:"end"===l?S:w+b/2,O="center"===s?E+C/2:"end"===s?x:E;const L=[];for(let e=0;e<h.length;e++){const t=h[e],{height:n,width:r,top:o,right:i,bottom:u,left:c}=t.getBoundingClientRect();if("if-needed"===a&&w>=0&&E>=0&&S<=g&&x<=v&&w>=o&&S<=u&&E>=c&&x<=i)return L;const d=getComputedStyle(t),p=parseInt(d.borderLeftWidth,10),_=parseInt(d.borderTopWidth,10),T=parseInt(d.borderRightWidth,10),M=parseInt(d.borderBottomWidth,10);let R=0,N=0;const A="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-T:0,D="offsetHeight"in t?t.offsetHeight-t.clientHeight-_-M:0,B="offsetWidth"in t?0===t.offsetWidth?0:r/t.offsetWidth:0,k="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(f===t)R="start"===l?I:"end"===l?I-g:"nearest"===l?ce(y,y+g,g,_,M,y+I,y+I+b,b):I-g/2,N="start"===s?O:"center"===s?O-v/2:"end"===s?O-v:ce(m,m+v,v,p,T,m+O,m+O+C,C),R=Math.max(0,R+y),N=Math.max(0,N+m);else{R="start"===l?I-o-_:"end"===l?I-u+M+D:"nearest"===l?ce(o,u,n,_,M+D,I,I+b,b):I-(o+n/2)+D/2,N="start"===s?O-c-p:"center"===s?O-(c+r/2)+A/2:"end"===s?O-i+T+A:ce(c,i,r,p,T+A,O,O+C,C);const{scrollLeft:e,scrollTop:a}=t;R=Math.max(0,Math.min(a+R/k,t.scrollHeight-n/k+D)),N=Math.max(0,Math.min(e+N/B,t.scrollWidth-r/B+A)),I+=a-R,O+=e-N}L.push({el:t,top:R,left:N})}return L};function he(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(fe(e,t));const r="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:o,top:i,left:a}of fe(e,(e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"})(t))){const e=i-n.top+n.bottom,t=a-n.left+n.right;o.scroll({top:e,left:t,behavior:r})}}const pe=["parentNode"];function ve(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function ge(e,t){if(!e.length)return;const n=e.join("_");if(t)return`${t}_${n}`;return pe.includes(n)?`form_item_${n}`:n}function me(e,t,n,r,o,i){let a=r;return void 0!==i?a=i:n.validating?a="validating":e.length?a="error":t.length?a="warning":(n.touched||o&&n.validated)&&(a="success"),a}function ye(e){return ve(e).join("_")}function be(e){const[t]=(0,oe.cI)(),n=c.useRef({}),r=c.useMemo((()=>null!=e?e:Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:e=>t=>{const r=ye(e);t?n.current[r]=t:delete n.current[r]}},scrollToField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ve(e),o=ge(n,r.__INTERNAL__.name),i=o?document.getElementById(o):null;i&&he(i,Object.assign({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:e=>{const t=ye(e);return n.current[t]}})),[e,t]);return[r]}var Ce=n(37920),we=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const xe=(e,t)=>{const n=c.useContext(ie.Z),{getPrefixCls:r,direction:o,form:i}=c.useContext(d.E_),{prefixCls:a,className:l,rootClassName:u,size:h,disabled:p=n,form:v,colon:g,labelAlign:m,labelWrap:y,labelCol:b,wrapperCol:C,hideRequiredMark:w,layout:x="horizontal",scrollToFirstError:S,requiredMark:E,onFinishFailed:I,name:O,style:L,feedbackIcons:_}=e,T=we(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons"]),M=(0,f.Z)(h),R=c.useContext(Ce.Z);const N=(0,c.useMemo)((()=>void 0!==E?E:i&&void 0!==i.requiredMark?i.requiredMark:!w),[w,E,i]),A=null!=g?g:null==i?void 0:i.colon,D=r("form",a),[B,k]=ee(D),P=s()(D,`${D}-${x}`,{[`${D}-hide-required-mark`]:!1===N,[`${D}-rtl`]:"rtl"===o,[`${D}-${M}`]:M},k,null==i?void 0:i.className,l,u),[z]=be(v),{__INTERNAL__:H}=z;H.name=O;const $=(0,c.useMemo)((()=>({name:O,labelAlign:m,labelCol:b,labelWrap:y,wrapperCol:C,vertical:"vertical"===x,colon:A,requiredMark:N,itemRef:H.itemRef,form:z,feedbackIcons:_})),[O,m,b,C,x,A,N,z,_]);c.useImperativeHandle(t,(()=>z));const j=(e,t)=>{if(e){let n={block:"nearest"};"object"==typeof e&&(n=e),z.scrollToField(t,n)}};return B(c.createElement(ie.n,{disabled:p},c.createElement(ae.q,{size:M},c.createElement(F.RV,Object.assign({},{validateMessages:R}),c.createElement(F.q3.Provider,{value:$},c.createElement(oe.ZP,Object.assign({id:O},T,{name:O,onFinishFailed:e=>{if(null==I||I(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==S)return void j(S,t);i&&void 0!==i.scrollToFirstError&&j(i.scrollToFirstError,t)}},form:z,style:Object.assign(Object.assign({},null==i?void 0:i.style),L),className:P})))))))};var Se=c.forwardRef(xe),Ee=n(30470),Ie=n(42550),Oe=n(96159),Le=n(27288),_e=n(50344);const Te=()=>{const{status:e,errors:t=[],warnings:n=[]}=(0,c.useContext)(F.aM);return{status:e,errors:t,warnings:n}};Te.Context=F.aM;var Me=Te,Re=n(75164);var Ne=n(5110),Ae=n(8410),De=n(74443);var Be=(0,c.createContext)({});const ke=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Pe=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},ze=(e,t)=>((e,t)=>{const{componentCls:n,gridColumns:r}=e,o={};for(let e=r;e>=0;e--)0===e?(o[`${n}${t}-${e}`]={display:"none"},o[`${n}-push-${e}`]={insetInlineStart:"auto"},o[`${n}-pull-${e}`]={insetInlineEnd:"auto"},o[`${n}${t}-push-${e}`]={insetInlineStart:"auto"},o[`${n}${t}-pull-${e}`]={insetInlineEnd:"auto"},o[`${n}${t}-offset-${e}`]={marginInlineStart:0},o[`${n}${t}-order-${e}`]={order:0}):(o[`${n}${t}-${e}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${e/r*100}%`,maxWidth:e/r*100+"%"}],o[`${n}${t}-push-${e}`]={insetInlineStart:e/r*100+"%"},o[`${n}${t}-pull-${e}`]={insetInlineEnd:e/r*100+"%"},o[`${n}${t}-offset-${e}`]={marginInlineStart:e/r*100+"%"},o[`${n}${t}-order-${e}`]={order:e});return o})(e,t),Fe=(0,y.Z)("Grid",(e=>[ke(e)])),He=(0,y.Z)("Grid",(e=>{const t=(0,b.TS)(e,{gridColumns:24}),n={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[Pe(t),ze(t,""),ze(t,"-xs"),Object.keys(n).map((e=>((e,t,n)=>({[`@media (min-width: ${t}px)`]:Object.assign({},ze(e,n))}))(t,n[e],e))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})]}));var $e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function je(e,t){const[n,r]=c.useState("string"==typeof e?e:"");return c.useEffect((()=>{(()=>{if("string"==typeof e&&r(e),"object"==typeof e)for(let n=0;n<De.c4.length;n++){const o=De.c4[n];if(!t[o])continue;const i=e[o];if(void 0!==i)return void r(i)}})()}),[JSON.stringify(e),t]),n}const We=c.forwardRef(((e,t)=>{const{prefixCls:n,justify:r,align:o,className:i,style:a,children:l,gutter:u=0,wrap:f}=e,h=$e(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:p,direction:v}=c.useContext(d.E_),[g,m]=c.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[y,b]=c.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),C=je(o,y),w=je(r,y),x=c.useRef(u),S=(0,De.ZP)();c.useEffect((()=>{const e=S.subscribe((e=>{b(e);const t=x.current||0;(!Array.isArray(t)&&"object"==typeof t||Array.isArray(t)&&("object"==typeof t[0]||"object"==typeof t[1]))&&m(e)}));return()=>S.unsubscribe(e)}),[]);const E=p("row",n),[I,O]=Fe(E),L=(()=>{const e=[void 0,void 0];return(Array.isArray(u)?u:[u,void 0]).forEach(((t,n)=>{if("object"==typeof t)for(let r=0;r<De.c4.length;r++){const o=De.c4[r];if(g[o]&&void 0!==t[o]){e[n]=t[o];break}}else e[n]=t})),e})(),_=s()(E,{[`${E}-no-wrap`]:!1===f,[`${E}-${w}`]:w,[`${E}-${C}`]:C,[`${E}-rtl`]:"rtl"===v},i,O),T={},M=null!=L[0]&&L[0]>0?L[0]/-2:void 0;M&&(T.marginLeft=M,T.marginRight=M),[,T.rowGap]=L;const[R,N]=L,A=c.useMemo((()=>({gutter:[R,N],wrap:f})),[R,N,f]);return I(c.createElement(Be.Provider,{value:A},c.createElement("div",Object.assign({},h,{className:_,style:Object.assign(Object.assign({},T),a),ref:t}),l)))}));var Ge=We,Ze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Ve=["xs","sm","md","lg","xl","xxl"],Ue=c.forwardRef(((e,t)=>{const{getPrefixCls:n,direction:r}=c.useContext(d.E_),{gutter:o,wrap:i}=c.useContext(Be),{prefixCls:a,span:l,order:u,offset:f,push:h,pull:p,className:v,children:g,flex:m,style:y}=e,b=Ze(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),C=n("col",a),[w,x]=He(C);let S={};Ve.forEach((t=>{let n={};const o=e[t];"number"==typeof o?n.span=o:"object"==typeof o&&(n=o||{}),delete b[t],S=Object.assign(Object.assign({},S),{[`${C}-${t}-${n.span}`]:void 0!==n.span,[`${C}-${t}-order-${n.order}`]:n.order||0===n.order,[`${C}-${t}-offset-${n.offset}`]:n.offset||0===n.offset,[`${C}-${t}-push-${n.push}`]:n.push||0===n.push,[`${C}-${t}-pull-${n.pull}`]:n.pull||0===n.pull,[`${C}-${t}-flex-${n.flex}`]:n.flex||"auto"===n.flex,[`${C}-rtl`]:"rtl"===r})}));const E=s()(C,{[`${C}-${l}`]:void 0!==l,[`${C}-order-${u}`]:u,[`${C}-offset-${f}`]:f,[`${C}-push-${h}`]:h,[`${C}-pull-${p}`]:p},v,S,x),I={};if(o&&o[0]>0){const e=o[0]/2;I.paddingLeft=e,I.paddingRight=e}return m&&(I.flex=function(e){return"number"==typeof e?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}(m),!1!==i||I.minWidth||(I.minWidth=0)),w(c.createElement("div",Object.assign({},b,{style:Object.assign(Object.assign({},I),y),className:E,ref:t}),g))}));var Ye=Ue;const Xe=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}};var qe=(0,y.b)(["Form","item-item"],((e,t)=>{let{rootPrefixCls:n}=t;const r=J(e,n);return[Xe(r)]}));var Ke=e=>{const{prefixCls:t,status:n,wrapperCol:r,children:o,errors:i,warnings:a,_internalItemRender:l,extra:u,help:d,fieldId:f,marginBottom:h,onErrorVisibleChanged:p}=e,v=`${t}-item`,g=c.useContext(F.q3),m=r||g.wrapperCol||{},y=s()(`${v}-control`,m.className),b=c.useMemo((()=>Object.assign({},g)),[g]);delete b.labelCol,delete b.wrapperCol;const C=c.createElement("div",{className:`${v}-control-input`},c.createElement("div",{className:`${v}-control-input-content`},o)),w=c.useMemo((()=>({prefixCls:t,status:n})),[t,n]),x=null!==h||i.length||a.length?c.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},c.createElement(F.Rk.Provider,{value:w},c.createElement(re,{fieldId:f,errors:i,warnings:a,help:d,helpStatus:n,className:`${v}-explain-connected`,onVisibleChanged:p})),!!h&&c.createElement("div",{style:{width:0,height:h}})):null,S={};f&&(S.id=`${f}_extra`);const E=u?c.createElement("div",Object.assign({},S,{className:`${v}-extra`}),u):null,I=l&&"pro_table_render"===l.mark&&l.render?l.render(e,{input:C,errorList:x,extra:E}):c.createElement(c.Fragment,null,C,x,E);return c.createElement(F.q3.Provider,{value:b},c.createElement(Ye,Object.assign({},m,{className:y}),I),c.createElement(qe,{prefixCls:t}))},Qe=n(87462),Je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},et=n(93771),tt=function(e,t){return c.createElement(et.Z,(0,Qe.Z)({},e,{ref:t,icon:Je}))};var nt=c.forwardRef(tt),rt=n(88526),ot=n(10110),it=n(61781),at=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var lt=e=>{let{prefixCls:t,label:n,htmlFor:r,labelCol:o,labelAlign:i,colon:a,required:l,requiredMark:u,tooltip:d}=e;var f;const[h]=(0,ot.Z)("Form"),{vertical:p,labelAlign:v,labelCol:g,labelWrap:m,colon:y}=c.useContext(F.q3);if(!n)return null;const b=o||g||{},C=i||v,w=`${t}-item-label`,x=s()(w,"left"===C&&`${w}-left`,b.className,{[`${w}-wrap`]:!!m});let S=n;const E=!0===a||!1!==y&&!1!==a;E&&!p&&"string"==typeof n&&""!==n.trim()&&(S=n.replace(/[:|：]\s*$/,""));const I=function(e){return e?"object"!=typeof e||c.isValidElement(e)?{title:e}:e:null}(d);if(I){const{icon:e=c.createElement(nt,null)}=I,n=at(I,["icon"]),r=c.createElement(it.Z,Object.assign({},n),c.cloneElement(e,{className:`${t}-item-tooltip`,title:""}));S=c.createElement(c.Fragment,null,S,r)}const O="optional"===u,L="function"==typeof u;L?S=u(S,{required:!!l}):O&&!l&&(S=c.createElement(c.Fragment,null,S,c.createElement("span",{className:`${t}-item-optional`,title:""},(null==h?void 0:h.optional)||(null===(f=rt.Z.Form)||void 0===f?void 0:f.optional))));const _=s()({[`${t}-item-required`]:l,[`${t}-item-required-mark-optional`]:O||L,[`${t}-item-no-colon`]:!E});return c.createElement(Ye,Object.assign({},b,{className:x}),c.createElement("label",{htmlFor:r,className:_,title:"string"==typeof n?n:""},S))},st=n(76278),ut=n(41322),ct=n(26702),dt=n(22508);const ft={success:st.Z,warning:ct.Z,error:ut.Z,validating:dt.Z};function ht(e){let{children:t,errors:n,warnings:r,hasFeedback:o,validateStatus:i,prefixCls:a,meta:l,noStyle:u}=e;const d=`${a}-item`,{feedbackIcons:f}=c.useContext(F.q3),h=me(n,r,l,null,!!o,i),{isFormItemInput:p,status:v}=c.useContext(F.aM),g=c.useMemo((()=>{var e;let t;if(o){const i=!0!==o&&o.icons||f,a=h&&(null===(e=null==i?void 0:i({status:h,errors:n,warnings:r}))||void 0===e?void 0:e[h]),l=h&&ft[h];t=!1!==a&&l?c.createElement("span",{className:s()(`${d}-feedback-icon`,`${d}-feedback-icon-${h}`)},a||c.createElement(l,null)):null}let i=!0,a=h||"";return u&&(i=p,a=(null!=h?h:v)||""),{status:a,errors:n,warnings:r,hasFeedback:!!o,feedbackIcon:t,isFormItemInput:i}}),[h,o,u,p,v]);return c.createElement(F.aM.Provider,{value:g},t)}var pt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function vt(e){const{prefixCls:t,className:n,rootClassName:r,style:o,help:i,errors:a,warnings:l,validateStatus:d,meta:f,hasFeedback:h,hidden:p,children:v,fieldId:g,required:m,isRequired:y,onSubItemMetaChange:b}=e,C=pt(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange"]),w=`${t}-item`,{requiredMark:x}=c.useContext(F.q3),S=c.useRef(null),E=H(a),I=H(l),O=null!=i,L=!!(O||a.length||l.length),_=!!S.current&&(0,Ne.Z)(S.current),[T,M]=c.useState(null);(0,Ae.Z)((()=>{if(L&&S.current){const e=getComputedStyle(S.current);M(parseInt(e.marginBottom,10))}}),[L,_]);const R=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=e?E:f.errors,n=e?I:f.warnings;return me(t,n,f,"",!!h,d)}(),N=s()(w,n,r,{[`${w}-with-help`]:O||E.length||I.length,[`${w}-has-feedback`]:R&&h,[`${w}-has-success`]:"success"===R,[`${w}-has-warning`]:"warning"===R,[`${w}-has-error`]:"error"===R,[`${w}-is-validating`]:"validating"===R,[`${w}-hidden`]:p});return c.createElement("div",{className:N,style:o,ref:S},c.createElement(Ge,Object.assign({className:`${w}-row`},(0,u.Z)(C,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),c.createElement(lt,Object.assign({htmlFor:g},e,{requiredMark:x,required:null!=m?m:y,prefixCls:t})),c.createElement(Ke,Object.assign({},e,f,{errors:E,warnings:I,prefixCls:t,status:R,help:i,marginBottom:T,onErrorVisibleChanged:e=>{e||M(null)}}),c.createElement(F.qI.Provider,{value:b},c.createElement(ht,{prefixCls:t,meta:f,errors:f.errors,warnings:f.warnings,hasFeedback:h,validateStatus:R},v)))),!!T&&c.createElement("div",{className:`${w}-margin-offset`,style:{marginBottom:-T}}))}const gt=c.memo((e=>{let{children:t}=e;return t}),((e,t)=>e.value===t.value&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every(((e,n)=>e===t.childProps[n]))));const mt=function(e){const{name:t,noStyle:n,className:r,dependencies:o,prefixCls:i,shouldUpdate:a,rules:l,children:u,required:f,label:h,messageVariables:p,trigger:v="onChange",validateTrigger:g,hidden:m,help:y}=e,{getPrefixCls:b}=c.useContext(d.E_),{name:C}=c.useContext(F.q3),w=function(e){if("function"==typeof e)return e;const t=(0,_e.Z)(e);return t.length<=1?t[0]:t}(u),x="function"==typeof w,S=c.useContext(F.qI),{validateTrigger:E}=c.useContext(oe.zb),I=void 0!==g?g:E,O=!(null==t),L=b("form",i),[_,T]=ee(L);(0,Le.ln)("Form.Item");const M=c.useContext(oe.ZM),R=c.useRef(),[N,A]=function(e){const[t,n]=c.useState(e),r=(0,c.useRef)(null),o=(0,c.useRef)([]),i=(0,c.useRef)(!1);return c.useEffect((()=>(i.current=!1,()=>{i.current=!0,Re.Z.cancel(r.current),r.current=null})),[]),[t,function(e){i.current||(null===r.current&&(o.current=[],r.current=(0,Re.Z)((()=>{r.current=null,n((e=>{let t=e;return o.current.forEach((e=>{t=e(t)})),t}))}))),o.current.push(e))}]}({}),[D,B]=(0,Ee.Z)((()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}))),P=(e,t)=>{A((n=>{const r=Object.assign({},n),o=[].concat((0,k.Z)(e.name.slice(0,-1)),(0,k.Z)(t)).join("__SPLIT__");return e.destroy?delete r[o]:r[o]=e,r}))},[z,H]=c.useMemo((()=>{const e=(0,k.Z)(D.errors),t=(0,k.Z)(D.warnings);return Object.values(N).forEach((n=>{e.push.apply(e,(0,k.Z)(n.errors||[])),t.push.apply(t,(0,k.Z)(n.warnings||[]))})),[e,t]}),[N,D.errors,D.warnings]),$=function(){const{itemRef:e}=c.useContext(F.q3),t=c.useRef({});return function(n,r){const o=r&&"object"==typeof r&&r.ref,i=n.join("_");return t.current.name===i&&t.current.originRef===o||(t.current.name=i,t.current.originRef=o,t.current.ref=(0,Ie.sQ)(e(n),o)),t.current.ref}}();function j(t,o,i){return n&&!m?c.createElement(ht,{prefixCls:L,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:D,errors:z,warnings:H,noStyle:!0},t):c.createElement(vt,Object.assign({key:"row"},e,{className:s()(r,T),prefixCls:L,fieldId:o,isRequired:i,errors:z,warnings:H,meta:D,onSubItemMetaChange:P}),t)}if(!O&&!x&&!o)return _(j(w));let W={};return"string"==typeof h?W.label=h:t&&(W.label=String(t)),p&&(W=Object.assign(Object.assign({},W),p)),_(c.createElement(oe.gN,Object.assign({},e,{messageVariables:W,trigger:v,validateTrigger:I,onMetaChange:e=>{const t=null==M?void 0:M.getKey(e.name);if(B(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),n&&!1!==y&&S){let n=e.name;if(e.destroy)n=R.current||n;else if(void 0!==t){const[e,r]=t;n=[e].concat((0,k.Z)(r)),R.current=n}S(e,n)}}}),((n,r,i)=>{const s=ve(t).length&&r?r.name:[],u=ge(s,C),d=void 0!==f?f:!(!l||!l.some((e=>{if(e&&"object"==typeof e&&e.required&&!e.warningOnly)return!0;if("function"==typeof e){const t=e(i);return t&&t.required&&!t.warningOnly}return!1}))),h=Object.assign({},n);let p=null;if(Array.isArray(w)&&O)p=w;else if(x&&(!a&&!o||O));else if(!o||x||O)if((0,Oe.l$)(w)){const t=Object.assign(Object.assign({},w.props),h);if(t.id||(t.id=u),y||z.length>0||H.length>0||e.extra){const n=[];(y||z.length>0)&&n.push(`${u}_help`),e.extra&&n.push(`${u}_extra`),t["aria-describedby"]=n.join(" ")}z.length>0&&(t["aria-invalid"]="true"),d&&(t["aria-required"]="true"),(0,Ie.Yr)(w)&&(t.ref=$(s,w));new Set([].concat((0,k.Z)(ve(v)),(0,k.Z)(ve(I)))).forEach((e=>{t[e]=function(){for(var t,n,r,o,i,a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];null===(r=h[e])||void 0===r||(t=r).call.apply(t,[h].concat(l)),null===(i=(o=w.props)[e])||void 0===i||(n=i).call.apply(n,[o].concat(l))}}));const n=[t["aria-required"],t["aria-invalid"],t["aria-describedby"]];p=c.createElement(gt,{value:h[e.valuePropName||"value"],update:w,childProps:n},(0,Oe.Tm)(w,t))}else p=x&&(a||o)&&!O?w(i):w;else;return j(p,u,d)})))};mt.useStatus=Me;var yt=mt,bt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var Ct=e=>{var{prefixCls:t,children:n}=e,r=bt(e,["prefixCls","children"]);const{getPrefixCls:o}=c.useContext(d.E_),i=o("form",t),a=c.useMemo((()=>({prefixCls:i,status:"error"})),[i]);return c.createElement(oe.aV,Object.assign({},r),((e,t,r)=>c.createElement(F.Rk.Provider,{value:a},n(e.map((e=>Object.assign(Object.assign({},e),{fieldKey:e.key}))),t,{errors:r.errors,warnings:r.warnings}))))};const wt=Se;wt.Item=yt,wt.List=Ct,wt.ErrorList=re,wt.useForm=be,wt.useFormInstance=function(){const{form:e}=(0,c.useContext)(F.q3);return e},wt.useWatch=oe.qo,wt.Provider=F.RV,wt.create=()=>{};var xt=wt,St=n(4942),Et=n(1413),It=n(97685),Ot=n(91),Lt=n(71002),_t=n(21770),Tt=n(80334),Mt=n(31131),Rt=n(15105),Nt=function(e){var t,n=e.className,r=e.customizeIcon,o=e.customizeIconProps,i=e.onMouseDown,a=e.onClick,l=e.children;return t="function"==typeof r?r(o):r,c.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),i&&i(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==t?t:c.createElement("span",{className:s()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},l))};var At=c.createContext(null);function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=c.useRef(null),n=c.useRef(null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return c.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var Bt=n(64217),kt=n(39983),Pt=function(e,t){var n,r,o=e.prefixCls,i=e.id,a=e.inputElement,l=e.disabled,u=e.tabIndex,d=e.autoFocus,f=e.autoComplete,h=e.editable,p=e.activeDescendantId,v=e.value,g=e.maxLength,m=e.onKeyDown,y=e.onMouseDown,b=e.onChange,C=e.onPaste,w=e.onCompositionStart,x=e.onCompositionEnd,S=e.open,E=e.attrs,I=a||c.createElement("input",null),O=I,L=O.ref,_=O.props,T=_.onKeyDown,M=_.onChange,R=_.onMouseDown,N=_.onCompositionStart,A=_.onCompositionEnd,D=_.style;return(0,Tt.Kp)(!("maxLength"in I.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),I=c.cloneElement(I,(0,Et.Z)((0,Et.Z)((0,Et.Z)({type:"search"},_),{},{id:i,ref:(0,Ie.sQ)(t,L),disabled:l,tabIndex:u,autoComplete:f||"off",autoFocus:d,className:s()("".concat(o,"-selection-search-input"),null===(n=I)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),role:"combobox","aria-label":"Search","aria-expanded":S||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":S?p:void 0},E),{},{value:h?v:"",maxLength:g,readOnly:!h,unselectable:h?null:"on",style:(0,Et.Z)((0,Et.Z)({},D),{},{opacity:h?null:0}),onKeyDown:function(e){m(e),T&&T(e)},onMouseDown:function(e){y(e),R&&R(e)},onChange:function(e){b(e),M&&M(e)},onCompositionStart:function(e){w(e),N&&N(e)},onCompositionEnd:function(e){x(e),A&&A(e)},onPaste:C}))},zt=c.forwardRef(Pt);zt.displayName="Input";var Ft=zt;function Ht(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var $t="undefined"!=typeof window&&window.document&&window.document.documentElement;function jt(e){return["string","number"].includes((0,Lt.Z)(e))}function Wt(e){var t=void 0;return e&&(jt(e.title)?t=e.title.toString():jt(e.label)&&(t=e.label.toString())),t}function Gt(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var Zt=function(e){e.preventDefault(),e.stopPropagation()},Vt=function(e){var t,n,r=e.id,o=e.prefixCls,i=e.values,a=e.open,l=e.searchValue,u=e.autoClearSearchValue,d=e.inputRef,f=e.placeholder,h=e.disabled,p=e.mode,v=e.showSearch,g=e.autoFocus,m=e.autoComplete,y=e.activeDescendantId,b=e.tabIndex,C=e.removeIcon,w=e.maxTagCount,x=e.maxTagTextLength,S=e.maxTagPlaceholder,E=void 0===S?function(e){return"+ ".concat(e.length," ...")}:S,I=e.tagRender,O=e.onToggleOpen,L=e.onRemove,_=e.onInputChange,T=e.onInputPaste,M=e.onInputKeyDown,R=e.onInputMouseDown,N=e.onInputCompositionStart,A=e.onInputCompositionEnd,D=c.useRef(null),B=(0,c.useState)(0),k=(0,It.Z)(B,2),P=k[0],z=k[1],F=(0,c.useState)(!1),H=(0,It.Z)(F,2),$=H[0],j=H[1],W="".concat(o,"-selection"),G=a||"multiple"===p&&!1===u||"tags"===p?l:"",Z="tags"===p||"multiple"===p&&!1===u||v&&(a||$);function V(e,t,n,r,o){return c.createElement("span",{className:s()("".concat(W,"-item"),(0,St.Z)({},"".concat(W,"-item-disabled"),n)),title:Wt(e)},c.createElement("span",{className:"".concat(W,"-item-content")},t),r&&c.createElement(Nt,{className:"".concat(W,"-item-remove"),onMouseDown:Zt,onClick:o,customizeIcon:C},"×"))}t=function(){z(D.current.scrollWidth)},n=[G],$t?c.useLayoutEffect(t,n):c.useEffect(t,n);var U=c.createElement("div",{className:"".concat(W,"-search"),style:{width:P},onFocus:function(){j(!0)},onBlur:function(){j(!1)}},c.createElement(Ft,{ref:d,open:a,prefixCls:o,id:r,inputElement:null,disabled:h,autoFocus:g,autoComplete:m,editable:Z,activeDescendantId:y,value:G,onKeyDown:M,onMouseDown:R,onChange:_,onPaste:T,onCompositionStart:N,onCompositionEnd:A,tabIndex:b,attrs:(0,Bt.Z)(e,!0)}),c.createElement("span",{ref:D,className:"".concat(W,"-search-mirror"),"aria-hidden":!0},G," ")),Y=c.createElement(kt.Z,{prefixCls:"".concat(W,"-overflow"),data:i,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,o=!h&&!t,i=n;if("number"==typeof x&&("string"==typeof n||"number"==typeof n)){var l=String(i);l.length>x&&(i="".concat(l.slice(0,x),"..."))}var s=function(t){t&&t.stopPropagation(),L(e)};return"function"==typeof I?function(e,t,n,r,o){return c.createElement("span",{onMouseDown:function(e){Zt(e),O(!a)}},I({label:t,value:e,disabled:n,closable:r,onClose:o}))}(r,i,t,o,s):V(e,i,t,o,s)},renderRest:function(e){var t="function"==typeof E?E(e):E;return V({title:t},t,!1)},suffix:U,itemKey:Gt,maxCount:w});return c.createElement(c.Fragment,null,Y,!i.length&&!G&&c.createElement("span",{className:"".concat(W,"-placeholder")},f))},Ut=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,o=e.inputRef,i=e.disabled,a=e.autoFocus,l=e.autoComplete,s=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,h=e.placeholder,p=e.tabIndex,v=e.showSearch,g=e.searchValue,m=e.activeValue,y=e.maxLength,b=e.onInputKeyDown,C=e.onInputMouseDown,w=e.onInputChange,x=e.onInputPaste,S=e.onInputCompositionStart,E=e.onInputCompositionEnd,I=e.title,O=c.useState(!1),L=(0,It.Z)(O,2),_=L[0],T=L[1],M="combobox"===u,R=M||v,N=f[0],A=g||"";M&&m&&!_&&(A=m),c.useEffect((function(){M&&T(!1)}),[M,m]);var D=!("combobox"!==u&&!d&&!v)&&!!A,B=void 0===I?Wt(N):I;return c.createElement(c.Fragment,null,c.createElement("span",{className:"".concat(n,"-selection-search")},c.createElement(Ft,{ref:o,prefixCls:n,id:r,open:d,inputElement:t,disabled:i,autoFocus:a,autoComplete:l,editable:R,activeDescendantId:s,value:A,onKeyDown:b,onMouseDown:C,onChange:function(e){T(!0),w(e)},onPaste:x,onCompositionStart:S,onCompositionEnd:E,tabIndex:p,attrs:(0,Bt.Z)(e,!0),maxLength:M?y:void 0})),!M&&N?c.createElement("span",{className:"".concat(n,"-selection-item"),title:B,style:D?{visibility:"hidden"}:void 0},N.label):null,function(){if(N)return null;var e=D?{visibility:"hidden"}:void 0;return c.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},h)}())};var Yt=function(e,t){var n=(0,c.useRef)(null),r=(0,c.useRef)(!1),o=e.prefixCls,i=e.open,a=e.mode,l=e.showSearch,s=e.tokenWithEnter,u=e.autoClearSearchValue,d=e.onSearch,f=e.onSearchSubmit,h=e.onToggleOpen,p=e.onInputKeyDown,v=e.domRef;c.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var g=Dt(0),m=(0,It.Z)(g,2),y=m[0],b=m[1],C=(0,c.useRef)(null),w=function(e){!1!==d(e,!0,r.current)&&h(!0)},x={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==Rt.Z.UP&&n!==Rt.Z.DOWN||e.preventDefault(),p&&p(e),n!==Rt.Z.ENTER||"tags"!==a||r.current||i||null==f||f(e.target.value),t=n,[Rt.Z.ESC,Rt.Z.SHIFT,Rt.Z.BACKSPACE,Rt.Z.TAB,Rt.Z.WIN_KEY,Rt.Z.ALT,Rt.Z.META,Rt.Z.WIN_KEY_RIGHT,Rt.Z.CTRL,Rt.Z.SEMICOLON,Rt.Z.EQUALS,Rt.Z.CAPS_LOCK,Rt.Z.CONTEXT_MENU,Rt.Z.F1,Rt.Z.F2,Rt.Z.F3,Rt.Z.F4,Rt.Z.F5,Rt.Z.F6,Rt.Z.F7,Rt.Z.F8,Rt.Z.F9,Rt.Z.F10,Rt.Z.F11,Rt.Z.F12].includes(t)||h(!0)},onInputMouseDown:function(){b(!0)},onInputChange:function(e){var t=e.target.value;if(s&&C.current&&/[\r\n]/.test(C.current)){var n=C.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,C.current)}C.current=null,w(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");C.current=t},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==a&&w(e.target.value)}},S="multiple"===a||"tags"===a?c.createElement(Vt,(0,Qe.Z)({},e,x)):c.createElement(Ut,(0,Qe.Z)({},e,x));return c.createElement("div",{ref:v,className:"".concat(o,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=y();e.target===n.current||t||"combobox"===a||e.preventDefault(),("combobox"===a||l&&t)&&i||(i&&!1!==u&&d("",!0,!1),h())}},S)},Xt=c.forwardRef(Yt);Xt.displayName="Selector";var qt=Xt,Kt=n(40228),Qt=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Jt=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),o=e.children,i=e.popupElement,a=e.animation,l=e.transitionName,u=e.dropdownStyle,d=e.dropdownClassName,f=e.direction,h=void 0===f?"ltr":f,p=e.placement,v=e.builtinPlacements,g=e.dropdownMatchSelectWidth,m=e.dropdownRender,y=e.dropdownAlign,b=e.getPopupContainer,C=e.empty,w=e.getTriggerDOMNode,x=e.onPopupVisibleChange,S=e.onPopupMouseEnter,E=(0,Ot.Z)(e,Qt),I="".concat(n,"-dropdown"),O=i;m&&(O=m(i));var L=c.useMemo((function(){return v||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(g)}),[v,g]),_=a?"".concat(I,"-").concat(a):l,T="number"==typeof g,M=c.useMemo((function(){return T?null:!1===g?"minWidth":"width"}),[g,T]),R=u;T&&(R=(0,Et.Z)((0,Et.Z)({},R),{},{width:g}));var N=c.useRef(null);return c.useImperativeHandle(t,(function(){return{getPopupElement:function(){return N.current}}})),c.createElement(Kt.Z,(0,Qe.Z)({},E,{showAction:x?["click"]:[],hideAction:x?["click"]:[],popupPlacement:p||("rtl"===h?"bottomRight":"bottomLeft"),builtinPlacements:L,prefixCls:I,popupTransitionName:_,popup:c.createElement("div",{ref:N,onMouseEnter:S},O),stretch:M,popupAlign:y,popupVisible:r,getPopupContainer:b,popupClassName:s()(d,(0,St.Z)({},"".concat(I,"-empty"),C)),popupStyle:R,getTriggerDOMNode:w,onPopupVisibleChange:x}),o)},en=c.forwardRef(Jt);en.displayName="SelectTrigger";var tn=en,nn=n(84506);function rn(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!=r?r:void 0!==n?n:"rc-index-key-".concat(t)}function on(e,t){var n=e||{},r=n.label||(t?"children":"label");return{label:r,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||r}}function an(e){var t=(0,Et.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,Tt.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var ln=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],sn=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function un(e){return"tags"===e||"multiple"===e}var cn=c.forwardRef((function(e,t){var n,r,o=e.id,i=e.prefixCls,a=e.className,l=e.showSearch,u=e.tagRender,d=e.direction,f=e.omitDomProps,h=e.displayValues,p=e.onDisplayValuesChange,v=e.emptyOptions,g=e.notFoundContent,m=void 0===g?"Not Found":g,y=e.onClear,b=e.mode,C=e.disabled,w=e.loading,x=e.getInputElement,S=e.getRawInputElement,E=e.open,I=e.defaultOpen,O=e.onDropdownVisibleChange,L=e.activeValue,_=e.onActiveValueChange,T=e.activeDescendantId,M=e.searchValue,R=e.autoClearSearchValue,N=e.onSearch,A=e.onSearchSplit,D=e.tokenSeparators,B=e.allowClear,P=e.suffixIcon,z=e.clearIcon,F=e.OptionList,H=e.animation,$=e.transitionName,j=e.dropdownStyle,W=e.dropdownClassName,G=e.dropdownMatchSelectWidth,Z=e.dropdownRender,V=e.dropdownAlign,U=e.placement,Y=e.builtinPlacements,X=e.getPopupContainer,q=e.showAction,K=void 0===q?[]:q,Q=e.onFocus,J=e.onBlur,ee=e.onKeyUp,te=e.onKeyDown,ne=e.onMouseDown,re=(0,Ot.Z)(e,ln),oe=un(b),ie=(void 0!==l?l:oe)||"combobox"===b,ae=(0,Et.Z)({},re);sn.forEach((function(e){delete ae[e]})),null==f||f.forEach((function(e){delete ae[e]}));var le=c.useState(!1),se=(0,It.Z)(le,2),ue=se[0],ce=se[1];c.useEffect((function(){ce((0,Mt.Z)())}),[]);var de=c.useRef(null),fe=c.useRef(null),he=c.useRef(null),pe=c.useRef(null),ve=c.useRef(null),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=c.useState(!1),n=(0,It.Z)(t,2),r=n[0],o=n[1],i=c.useRef(null),a=function(){window.clearTimeout(i.current)};return c.useEffect((function(){return a}),[]),[r,function(t,n){a(),i.current=window.setTimeout((function(){o(t),n&&n()}),e)},a]}(),me=(0,It.Z)(ge,3),ye=me[0],be=me[1],Ce=me[2];c.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=pe.current)||void 0===e?void 0:e.focus,blur:null===(t=pe.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=ve.current)||void 0===t?void 0:t.scrollTo(e)}}}));var we=c.useMemo((function(){var e;if("combobox"!==b)return M;var t=null===(e=h[0])||void 0===e?void 0:e.value;return"string"==typeof t||"number"==typeof t?String(t):""}),[M,b,h]),xe="combobox"===b&&"function"==typeof x&&x()||null,Se="function"==typeof S&&S(),Ee=(0,Ie.x1)(fe,null==Se||null===(n=Se.props)||void 0===n?void 0:n.ref),Oe=c.useState(!1),Le=(0,It.Z)(Oe,2),_e=Le[0],Te=Le[1];(0,Ae.Z)((function(){Te(!0)}),[]);var Me=(0,_t.Z)(!1,{defaultValue:I,value:E}),Re=(0,It.Z)(Me,2),Ne=Re[0],De=Re[1],Be=!!_e&&Ne,ke=!m&&v;(C||ke&&Be&&"combobox"===b)&&(Be=!1);var Pe=!ke&&Be,ze=c.useCallback((function(e){var t=void 0!==e?e:!Be;C||(De(t),Be!==t&&(null==O||O(t)))}),[C,Be,De,O]),Fe=c.useMemo((function(){return(D||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[D]),He=function(e,t,n){var r=!0,o=e;null==_||_(null);var i=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var o=(0,nn.Z)(r),i=o[0],a=o.slice(1);if(!i)return[t];var l=t.split(i);return n=n||l.length>1,l.reduce((function(t,n){return[].concat((0,k.Z)(t),(0,k.Z)(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,D);return"combobox"!==b&&i&&(o="",null==A||A(i),ze(!1),r=!1),N&&we!==o&&N(o,{source:t?"typing":"effect"}),r};c.useEffect((function(){Be||oe||"combobox"===b||He("",!1,!1)}),[Be]),c.useEffect((function(){Ne&&C&&De(!1),C&&be(!1)}),[C]);var $e=Dt(),je=(0,It.Z)($e,2),We=je[0],Ge=je[1],Ze=c.useRef(!1),Ve=[];c.useEffect((function(){return function(){Ve.forEach((function(e){return clearTimeout(e)})),Ve.splice(0,Ve.length)}}),[]);var Ue,Ye=c.useState({}),Xe=(0,It.Z)(Ye,2)[1];Se&&(Ue=function(e){ze(e)}),function(e,t,n,r){var o=c.useRef(null);o.current={open:t,triggerOpen:n,customizedTrigger:r},c.useEffect((function(){function t(t){var n;if(null===(n=o.current)||void 0===n||!n.customizedTrigger){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),o.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[de.current,null===(e=he.current)||void 0===e?void 0:e.getPopupElement()]}),Pe,ze,!!Se);var qe,Ke=c.useMemo((function(){return(0,Et.Z)((0,Et.Z)({},e),{},{notFoundContent:m,open:Be,triggerOpen:Pe,id:o,showSearch:ie,multiple:oe,toggleOpen:ze})}),[e,m,Pe,Be,o,ie,oe,ze]),Je=!!P||w;Je&&(qe=c.createElement(Nt,{className:s()("".concat(i,"-arrow"),(0,St.Z)({},"".concat(i,"-arrow-loading"),w)),customizeIcon:P,customizeIconProps:{loading:w,searchValue:we,open:Be,focused:ye,showSearch:ie}}));var et,tt=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,s=c.useMemo((function(){return"object"===(0,Lt.Z)(r)?r.clearIcon:o||void 0}),[r,o]),u=c.useMemo((function(){return!(i||!r||!n.length&&!a||"combobox"===l&&""===a)}),[r,i,n.length,a,l]);return{allowClear:u,clearIcon:c.createElement(Nt,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:s},"×")}}(i,(function(){var e;null==y||y(),null===(e=pe.current)||void 0===e||e.focus(),p([],{type:"clear",values:h}),He("",!1,!1)}),h,B,z,C,we,b),nt=tt.allowClear,rt=tt.clearIcon,ot=c.createElement(F,{ref:ve}),it=s()(i,a,(r={},(0,St.Z)(r,"".concat(i,"-focused"),ye),(0,St.Z)(r,"".concat(i,"-multiple"),oe),(0,St.Z)(r,"".concat(i,"-single"),!oe),(0,St.Z)(r,"".concat(i,"-allow-clear"),B),(0,St.Z)(r,"".concat(i,"-show-arrow"),Je),(0,St.Z)(r,"".concat(i,"-disabled"),C),(0,St.Z)(r,"".concat(i,"-loading"),w),(0,St.Z)(r,"".concat(i,"-open"),Be),(0,St.Z)(r,"".concat(i,"-customize-input"),xe),(0,St.Z)(r,"".concat(i,"-show-search"),ie),r)),at=c.createElement(tn,{ref:he,disabled:C,prefixCls:i,visible:Pe,popupElement:ot,animation:H,transitionName:$,dropdownStyle:j,dropdownClassName:W,direction:d,dropdownMatchSelectWidth:G,dropdownRender:Z,dropdownAlign:V,placement:U,builtinPlacements:Y,getPopupContainer:X,empty:v,getTriggerDOMNode:function(){return fe.current},onPopupVisibleChange:Ue,onPopupMouseEnter:function(){Xe({})}},Se?c.cloneElement(Se,{ref:Ee}):c.createElement(qt,(0,Qe.Z)({},e,{domRef:fe,prefixCls:i,inputElement:xe,ref:pe,id:o,showSearch:ie,autoClearSearchValue:R,mode:b,activeDescendantId:T,tagRender:u,values:h,open:Be,onToggleOpen:ze,activeValue:L,searchValue:we,onSearch:He,onSearchSubmit:function(e){e&&e.trim()&&N(e,{source:"submit"})},onRemove:function(e){var t=h.filter((function(t){return t!==e}));p(t,{type:"remove",values:[e]})},tokenWithEnter:Fe})));return et=Se?at:c.createElement("div",(0,Qe.Z)({className:it},ae,{ref:de,onMouseDown:function(e){var t,n=e.target,r=null===(t=he.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var o=setTimeout((function(){var e,t=Ve.indexOf(o);-1!==t&&Ve.splice(t,1),Ce(),ue||r.contains(document.activeElement)||null===(e=pe.current)||void 0===e||e.focus()}));Ve.push(o)}for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];null==ne||ne.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=We(),r=e.which;if(r===Rt.Z.ENTER&&("combobox"!==b&&e.preventDefault(),Be||ze(!0)),Ge(!!we),r===Rt.Z.BACKSPACE&&!n&&oe&&!we&&h.length){for(var o=(0,k.Z)(h),i=null,a=o.length-1;a>=0;a-=1){var l=o[a];if(!l.disabled){o.splice(a,1),i=l;break}}i&&p(o,{type:"remove",values:[i]})}for(var s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];Be&&ve.current&&(t=ve.current).onKeyDown.apply(t,[e].concat(u)),null==te||te.apply(void 0,[e].concat(u))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;Be&&ve.current&&(o=ve.current).onKeyUp.apply(o,[e].concat(n)),null==ee||ee.apply(void 0,[e].concat(n))},onFocus:function(){be(!0),C||(Q&&!Ze.current&&Q.apply(void 0,arguments),K.includes("focus")&&ze(!0)),Ze.current=!0},onBlur:function(){be(!1,(function(){Ze.current=!1,ze(!1)})),C||(we&&("tags"===b?N(we,{source:"submit"}):"multiple"===b&&N("",{source:"blur"})),J&&J.apply(void 0,arguments))}}),ye&&!Be&&c.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(h.map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,Lt.Z)(t))?t:n})).join(", "))),at,qe,nt&&rt),c.createElement(At.Provider,{value:Ke},et)}));var dn=cn;function fn(e,t){return Ht(e).join("").toUpperCase().includes(t)}var hn=n(98924),pn=0,vn=(0,hn.Z)();function gn(e){var t=c.useState(),n=(0,It.Z)(t,2),r=n[0],o=n[1];return c.useEffect((function(){var e;o("rc_select_".concat((vn?(e=pn,pn+=1):e="TEST_OR_SSR",e)))}),[]),e||r}var mn=["children","value"],yn=["children"];function bn(e){var t=e,n=t.key,r=t.props,o=r.children,i=r.value,a=(0,Ot.Z)(r,mn);return(0,Et.Z)({key:n,value:void 0!==i?i:n,children:o},a)}function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,_e.Z)(e).map((function(e,n){if(!c.isValidElement(e)||!e.type)return null;var r=e,o=r.type.isSelectOptGroup,i=r.key,a=r.props,l=a.children,s=(0,Ot.Z)(a,yn);return t||!o?bn(e):(0,Et.Z)((0,Et.Z)({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},s),{},{options:Cn(l)})})).filter((function(e){return e}))}function wn(e,t,n,r,o){return c.useMemo((function(){var i=e;!e&&(i=Cn(t));var a=new Map,l=new Map,s=function(e,t,n){n&&"string"==typeof n&&e.set(t[n],t)};return function e(t){for(var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=0;u<t.length;u+=1){var c=t[u];!c[n.options]||i?(a.set(c[n.value],c),s(l,c,n.label),s(l,c,r),s(l,c,o)):e(c[n.options],!0)}}(i),{options:i,valueOptions:a,labelOptions:l}}),[e,t,n,r,o])}function xn(e){var t=c.useRef();t.current=e;var n=c.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var Sn=function(){return null};Sn.isSelectOptGroup=!0;var En=Sn,In=function(){return null};In.isSelectOption=!0;var On=In,Ln=n(56982),_n=n(73935),Tn=n(9220),Mn=c.forwardRef((function(e,t){var n,r=e.height,o=e.offsetY,i=e.offsetX,a=e.children,l=e.prefixCls,u=e.onInnerResize,d=e.innerProps,f=e.rtl,h=e.extra,p={},v={display:"flex",flexDirection:"column"};void 0!==o&&(p={height:r,position:"relative",overflow:"hidden"},v=(0,Et.Z)((0,Et.Z)({},v),{},(n={transform:"translateY(".concat(o,"px)")},(0,St.Z)(n,f?"marginRight":"marginLeft",-i),(0,St.Z)(n,"position","absolute"),(0,St.Z)(n,"left",0),(0,St.Z)(n,"right",0),(0,St.Z)(n,"top",0),n)));return c.createElement("div",{style:p},c.createElement(Tn.Z,{onResize:function(e){e.offsetHeight&&u&&u()}},c.createElement("div",(0,Qe.Z)({style:v,className:s()((0,St.Z)({},"".concat(l,"-holder-inner"),l)),ref:t},d),a,h)))}));Mn.displayName="Filler";var Rn=Mn;function Nn(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]}var An=c.forwardRef((function(e,t){var n,r=e.prefixCls,o=e.rtl,i=e.scrollOffset,a=e.scrollRange,l=e.onStartMove,u=e.onStopMove,d=e.onScroll,f=e.horizontal,h=e.spinSize,p=e.containerSize,v=c.useState(!1),g=(0,It.Z)(v,2),m=g[0],y=g[1],b=c.useState(null),C=(0,It.Z)(b,2),w=C[0],x=C[1],S=c.useState(null),E=(0,It.Z)(S,2),I=E[0],O=E[1],L=!o,_=c.useRef(),T=c.useRef(),M=c.useState(!1),R=(0,It.Z)(M,2),N=R[0],A=R[1],D=c.useRef(),B=function(){clearTimeout(D.current),A(!0),D.current=setTimeout((function(){A(!1)}),3e3)},k=a-p||0,P=p-h||0,z=k>0,F=c.useMemo((function(){return 0===i||0===k?0:i/k*P}),[i,k,P]),H=c.useRef({top:F,dragging:m,pageY:w,startTop:I});H.current={top:F,dragging:m,pageY:w,startTop:I};var $=function(e){y(!0),x(Nn(e,f)),O(H.current.top),l(),e.stopPropagation(),e.preventDefault()};c.useEffect((function(){var e=function(e){e.preventDefault()},t=_.current,n=T.current;return t.addEventListener("touchstart",e),n.addEventListener("touchstart",$),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",$)}}),[]);var j=c.useRef();j.current=k;var W=c.useRef();W.current=P,c.useEffect((function(){if(m){var e,t=function(t){var n=H.current,r=n.dragging,o=n.pageY,i=n.startTop;if(Re.Z.cancel(e),r){var a=Nn(t,f)-o,l=i;!L&&f?l-=a:l+=a;var s=j.current,u=W.current,c=u?l/u:0,h=Math.ceil(c*s);h=Math.max(h,0),h=Math.min(h,s),e=(0,Re.Z)((function(){d(h,f)}))}},n=function(){y(!1),u()};return window.addEventListener("mousemove",t),window.addEventListener("touchmove",t),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),Re.Z.cancel(e)}}}),[m]),c.useEffect((function(){B()}),[i]),c.useImperativeHandle(t,(function(){return{delayHidden:B}}));var G="".concat(r,"-scrollbar"),Z={position:"absolute",visibility:N&&z?null:"hidden"},V={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return f?(Z.height=8,Z.left=0,Z.right=0,Z.bottom=0,V.height="100%",V.width=h,L?V.left=F:V.right=F):(Z.width=8,Z.top=0,Z.bottom=0,L?Z.right=0:Z.left=0,V.width="100%",V.height=h,V.top=F),c.createElement("div",{ref:_,className:s()(G,(n={},(0,St.Z)(n,"".concat(G,"-horizontal"),f),(0,St.Z)(n,"".concat(G,"-vertical"),!f),(0,St.Z)(n,"".concat(G,"-visible"),N),n)),style:Z,onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:B},c.createElement("div",{ref:T,className:s()("".concat(G,"-thumb"),(0,St.Z)({},"".concat(G,"-thumb-moving"),m)),style:V,onMouseDown:$}))}));var Dn=An;function Bn(e){var t=e.children,n=e.setRef,r=c.useCallback((function(e){n(e)}),[]);return c.cloneElement(t,{ref:r})}var kn=n(34203),Pn=n(15671),zn=n(43144),Fn=function(){function e(){(0,Pn.Z)(this,e),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return(0,zn.Z)(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),e}();function Hn(e,t,n){var r=c.useState(e),o=(0,It.Z)(r,2),i=o[0],a=o[1],l=c.useState(null),s=(0,It.Z)(l,2),u=s[0],d=s[1];return c.useEffect((function(){var r=function(e,t,n){var r,o,i=e.length,a=t.length;if(0===i&&0===a)return null;i<a?(r=e,o=t):(r=t,o=e);var l={__EMPTY_ITEM__:!0};function s(e){return void 0!==e?n(e):l}for(var u=null,c=1!==Math.abs(i-a),d=0;d<o.length;d+=1){var f=s(r[d]);if(f!==s(o[d])){u=d,c=c||f!==s(o[d+1]);break}}return null===u?null:{index:u,multiple:c}}(i||[],e||[],t);void 0!==(null==r?void 0:r.index)&&(null==n||n(r.index),d(e[r.index])),a(e)}),[e]),[u]}var $n="object"===("undefined"==typeof navigator?"undefined":(0,Lt.Z)(navigator))&&/Firefox/i.test(navigator.userAgent),jn=function(e,t){var n=(0,c.useRef)(!1),r=(0,c.useRef)(null);function o(){clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)}var i=(0,c.useRef)({top:e,bottom:t});return i.current.top=e,i.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e<0&&i.current.top||e>0&&i.current.bottom;return t&&a?(clearTimeout(r.current),n.current=!1):a&&!n.current||o(),!n.current&&a}};function Wn(e,t,n,r,o){var i=(0,c.useRef)(0),a=(0,c.useRef)(null),l=(0,c.useRef)(null),s=(0,c.useRef)(!1),u=jn(t,n);var d=(0,c.useRef)(null),f=(0,c.useRef)(null);return[function(t){if(e){Re.Z.cancel(f.current),f.current=(0,Re.Z)((function(){d.current=null}),2);var n=t.deltaX,c=t.deltaY,h=t.shiftKey,p=n,v=c;("sx"===d.current||!d.current&&h&&c&&!n)&&(p=c,v=0,d.current="sx");var g=Math.abs(p),m=Math.abs(v);null===d.current&&(d.current=r&&g>m?"x":"y"),"y"===d.current?function(e,t){Re.Z.cancel(a.current),i.current+=t,l.current=t,u(t)||($n||e.preventDefault(),a.current=(0,Re.Z)((function(){var e=s.current?10:1;o(i.current*e),i.current=0})))}(t,v):function(e,t){o(t,!0),$n||e.preventDefault()}(t,p)}},function(t){e&&(s.current=t.detail===l.current)}]}function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e/t*100;return isNaN(n)&&(n=0),n=Math.max(n,20),n=Math.min(n,e/2),Math.floor(n)}var Zn=n(56790);var Vn=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender"],Un=[],Yn={overflowY:"auto",overflowAnchor:"none"};function Xn(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,o=e.className,i=e.height,a=e.itemHeight,l=e.fullHeight,u=void 0===l||l,d=e.style,f=e.data,h=e.children,p=e.itemKey,v=e.virtual,g=e.direction,m=e.scrollWidth,y=e.component,b=void 0===y?"div":y,C=e.onScroll,w=e.onVirtualScroll,x=e.onVisibleChange,S=e.innerProps,E=e.extraRender,I=(0,Ot.Z)(e,Vn),O=!(!1===v||!i||!a),L=O&&f&&(a*f.length>i||!!m),_="rtl"===g,T=s()(r,(0,St.Z)({},"".concat(r,"-rtl"),_),o),M=f||Un,R=(0,c.useRef)(),N=(0,c.useRef)(),A=(0,c.useState)(0),D=(0,It.Z)(A,2),B=D[0],k=D[1],P=(0,c.useState)(0),z=(0,It.Z)(P,2),F=z[0],H=z[1],$=(0,c.useState)(!1),j=(0,It.Z)($,2),W=j[0],G=j[1],Z=function(){G(!0)},V=function(){G(!1)},U=c.useCallback((function(e){return"function"==typeof p?p(e):null==e?void 0:e[p]}),[p]),Y={getKey:U};function X(e){k((function(t){var n=function(e){var t=e;Number.isNaN(Ce.current)||(t=Math.min(t,Ce.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return R.current.scrollTop=n,n}))}var q=(0,c.useRef)({start:0,end:M.length}),K=(0,c.useRef)(),Q=Hn(M,U),J=(0,It.Z)(Q,1)[0];K.current=J;var ee=function(e,t,n){var r=c.useState(0),o=(0,It.Z)(r,2),i=o[0],a=o[1],l=(0,c.useRef)(new Map),s=(0,c.useRef)(new Fn),u=(0,c.useRef)();function d(){Re.Z.cancel(u.current)}function f(){d(),u.current=(0,Re.Z)((function(){l.current.forEach((function(e,t){if(e&&e.offsetParent){var n=(0,kn.Z)(e),r=n.offsetHeight;s.current.get(t)!==r&&s.current.set(t,n.offsetHeight)}})),a((function(e){return e+1}))}))}return(0,c.useEffect)((function(){return d}),[]),[function(r,o){var i=e(r),a=l.current.get(i);o?(l.current.set(i,o),f()):l.current.delete(i),!a!=!o&&(o?null==t||t(r):null==n||n(r))},f,s.current,i]}(U,null,null),te=(0,It.Z)(ee,4),ne=te[0],re=te[1],oe=te[2],ie=te[3],ae=c.useMemo((function(){if(!O)return{scrollHeight:void 0,start:0,end:M.length-1,offset:void 0};var e;if(!L)return{scrollHeight:(null===(e=N.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:M.length-1,offset:void 0};for(var t,n,r,o=0,l=M.length,s=0;s<l;s+=1){var u=M[s],c=U(u),d=oe.get(c),f=o+(void 0===d?a:d);f>=B&&void 0===t&&(t=s,n=o),f>B+i&&void 0===r&&(r=s),o=f}return void 0===t&&(t=0,n=0,r=Math.ceil(i/a)),void 0===r&&(r=M.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,M.length-1),offset:n}}),[L,O,B,M,ie,i]),le=ae.scrollHeight,se=ae.start,ue=ae.end,ce=ae.offset;q.current.start=se,q.current.end=ue;var de=c.useState({width:0,height:i}),fe=(0,It.Z)(de,2),he=fe[0],pe=fe[1],ve=(0,c.useRef)(),ge=(0,c.useRef)(),me=c.useMemo((function(){return Gn(he.width,m)}),[he.width,m]),ye=c.useMemo((function(){return Gn(he.height,le)}),[he.height,le]),be=le-i,Ce=(0,c.useRef)(be);Ce.current=be;var we=B<=0,xe=B>=be,Se=jn(we,xe),Ee=function(){return{x:_?-F:F,y:B}},Ie=(0,c.useRef)(Ee()),Oe=(0,Zn.zX)((function(){if(w){var e=Ee();Ie.current.x===e.x&&Ie.current.y===e.y||(w(e),Ie.current=e)}}));function Le(e,t){var n=e;t?((0,_n.flushSync)((function(){H(n)})),Oe()):X(n)}var _e=function(e){var t=e,n=m-he.width;return t=Math.max(t,0),t=Math.min(t,n)},Te=(0,Zn.zX)((function(e,t){t?((0,_n.flushSync)((function(){H((function(t){return _e(t+(_?-e:e))}))})),Oe()):X((function(t){return t+e}))})),Me=Wn(O,we,xe,!!m,Te),Ne=(0,It.Z)(Me,2),De=Ne[0],Be=Ne[1];!function(e,t,n){var r,o=(0,c.useRef)(!1),i=(0,c.useRef)(0),a=(0,c.useRef)(null),l=(0,c.useRef)(null),s=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageY),r=i.current-t;i.current=t,n(r)&&e.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(l.current)}),16)}},u=function(){o.current=!1,r()},d=function(e){r(),1!==e.touches.length||o.current||(o.current=!0,i.current=Math.ceil(e.touches[0].pageY),a.current=e.target,a.current.addEventListener("touchmove",s),a.current.addEventListener("touchend",u))};r=function(){a.current&&(a.current.removeEventListener("touchmove",s),a.current.removeEventListener("touchend",u))},(0,Ae.Z)((function(){return e&&t.current.addEventListener("touchstart",d),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",d),r(),clearInterval(l.current)}}),[e])}(O,R,(function(e,t){return!Se(e,t)&&(De({preventDefault:function(){},deltaY:e}),!0)})),(0,Ae.Z)((function(){function e(e){O&&e.preventDefault()}var t=R.current;return t.addEventListener("wheel",De),t.addEventListener("DOMMouseScroll",Be),t.addEventListener("MozMousePixelScroll",e),function(){t.removeEventListener("wheel",De),t.removeEventListener("DOMMouseScroll",Be),t.removeEventListener("MozMousePixelScroll",e)}}),[O]),(0,Ae.Z)((function(){m&&H((function(e){return _e(e)}))}),[he.width,m]);var ke=function(){var e,t;null===(e=ve.current)||void 0===e||e.delayHidden(),null===(t=ge.current)||void 0===t||t.delayHidden()},Pe=function(e,t,n,r,o,i,a,l){var s=c.useRef();return function(u){if(null!=u){if(Re.Z.cancel(s.current),"number"==typeof u)a(u);else if(u&&"object"===(0,Lt.Z)(u)){var c,d=u.align;c="index"in u?u.index:t.findIndex((function(e){return o(e)===u.key}));var f=u.offset,h=void 0===f?0:f;!function l(u,f){if(!(u<0)&&e.current){var p=e.current.clientHeight,v=!1,g=f;if(p){for(var m=f||d,y=0,b=0,C=0,w=Math.min(t.length,c),x=0;x<=w;x+=1){var S=o(t[x]);b=y;var E=n.get(S);y=C=b+(void 0===E?r:E),x===c&&void 0===E&&(v=!0)}var I=null;switch(m){case"top":I=b-h;break;case"bottom":I=C-p+h;break;default:var O=e.current.scrollTop;b<O?g="top":C>O+p&&(g="bottom")}null!==I&&I!==e.current.scrollTop&&a(I)}s.current=(0,Re.Z)((function(){v&&i(),l(u-1,g)}),2)}}(3)}}else l()}}(R,M,oe,a,U,re,X,ke);c.useImperativeHandle(t,(function(){return{getScrollInfo:Ee,scrollTo:function(e){var t;(t=e)&&"object"===(0,Lt.Z)(t)&&("left"in t||"top"in t)?(void 0!==e.left&&H(_e(e.left)),Pe(e.top)):Pe(e)}}})),(0,Ae.Z)((function(){if(x){var e=M.slice(se,ue+1);x(e,M)}}),[se,ue,M]);var ze=function(e,t,n,r){var o=c.useMemo((function(){return[new Map,[]]}),[e,n.id,r]),i=(0,It.Z)(o,2),a=i[0],l=i[1];return function(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,s=a.get(o),u=a.get(i);if(void 0===s||void 0===u)for(var c=e.length,d=l.length;d<c;d+=1){var f,h=e[d],p=t(h);a.set(p,d);var v=null!==(f=n.get(p))&&void 0!==f?f:r;if(l[d]=(l[d-1]||0)+v,p===o&&(s=d),p===i&&(u=d),void 0!==s&&void 0!==u)break}return{top:l[s-1]||0,bottom:l[u]}}}(M,U,oe,a),Fe=null==E?void 0:E({start:se,end:ue,virtual:L,offsetX:F,offsetY:ce,rtl:_,getSize:ze}),He=function(e,t,n,r,o,i,a){var l=a.getKey;return e.slice(t,n+1).map((function(e,n){var a=i(e,t+n,{style:{width:r}}),s=l(e);return c.createElement(Bn,{key:s,setRef:function(t){return o(e,t)}},a)}))}(M,se,ue,m,ne,h,Y),$e=null;i&&($e=(0,Et.Z)((0,St.Z)({},u?"height":"maxHeight",i),Yn),O&&($e.overflowY="hidden",m&&($e.overflowX="hidden"),W&&($e.pointerEvents="none")));var je={};return _&&(je.dir="rtl"),c.createElement("div",(0,Qe.Z)({style:(0,Et.Z)((0,Et.Z)({},d),{},{position:"relative"}),className:T},je,I),c.createElement(Tn.Z,{onResize:function(e){pe(e)}},c.createElement(b,{className:"".concat(r,"-holder"),style:$e,ref:R,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==B&&X(t),null==C||C(e),Oe()},onMouseEnter:ke},c.createElement(Rn,{prefixCls:r,height:le,offsetX:F,offsetY:ce,scrollWidth:m,onInnerResize:re,ref:N,innerProps:S,rtl:_,extra:Fe},He))),L&&le>i&&c.createElement(Dn,{ref:ve,prefixCls:r,scrollOffset:B,scrollRange:le,rtl:_,onScroll:Le,onStartMove:Z,onStopMove:V,spinSize:ye,containerSize:he.height}),L&&m&&c.createElement(Dn,{ref:ge,prefixCls:r,scrollOffset:F,scrollRange:m,rtl:_,onScroll:Le,onStartMove:Z,onStopMove:V,spinSize:me,containerSize:he.width,horizontal:!0}))}var qn=c.forwardRef(Xn);qn.displayName="List";var Kn=qn,Qn=c.createContext(null);var Jn=["disabled","title","children","style","className"];function er(e){return"string"==typeof e||"number"==typeof e}var tr=function(e,t){var n=c.useContext(At),r=n.prefixCls,o=n.id,i=n.open,a=n.multiple,l=n.mode,d=n.searchValue,f=n.toggleOpen,h=n.notFoundContent,p=n.onPopupScroll,v=c.useContext(Qn),g=v.flattenOptions,m=v.onActiveValue,y=v.defaultActiveFirstOption,b=v.onSelect,C=v.menuItemSelectedIcon,w=v.rawValues,x=v.fieldNames,S=v.virtual,E=v.direction,I=v.listHeight,O=v.listItemHeight,L="".concat(r,"-item"),_=(0,Ln.Z)((function(){return g}),[i,g],(function(e,t){return t[0]&&e[1]!==t[1]})),T=c.useRef(null),M=function(e){e.preventDefault()},R=function(e){T.current&&T.current.scrollTo("number"==typeof e?{index:e}:e)},N=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=_.length,r=0;r<n;r+=1){var o=(e+r*t+n)%n,i=_[o],a=i.group,l=i.data;if(!a&&!l.disabled)return o}return-1},A=c.useState((function(){return N(0)})),D=(0,It.Z)(A,2),B=D[0],P=D[1],z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];P(e);var n={source:t?"keyboard":"mouse"},r=_[e];r?m(r.value,e,n):m(null,-1,n)};(0,c.useEffect)((function(){z(!1!==y?N(0):-1)}),[_.length,d]);var F=c.useCallback((function(e){return w.has(e)&&"combobox"!==l}),[l,(0,k.Z)(w).toString(),w.size]);(0,c.useEffect)((function(){var e,t=setTimeout((function(){if(!a&&i&&1===w.size){var e=Array.from(w)[0],t=_.findIndex((function(t){return t.data.value===e}));-1!==t&&(z(t),R(t))}}));i&&(null===(e=T.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[i,d,g.length]);var H=function(e){void 0!==e&&b(e,{selected:!w.has(e)}),a||f(!1)};if(c.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Rt.Z.N:case Rt.Z.P:case Rt.Z.UP:case Rt.Z.DOWN:var r=0;if(t===Rt.Z.UP?r=-1:t===Rt.Z.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Rt.Z.N?r=1:t===Rt.Z.P&&(r=-1)),0!==r){var o=N(B+r,r);R(o),z(o,!0)}break;case Rt.Z.ENTER:var a=_[B];a&&!a.data.disabled?H(a.value):H(void 0),i&&e.preventDefault();break;case Rt.Z.ESC:f(!1),i&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){R(e)}}})),0===_.length)return c.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(L,"-empty"),onMouseDown:M},h);var $=Object.keys(x).map((function(e){return x[e]})),j=function(e){return e.label};function W(e,t){return{role:e.group?"presentation":"option",id:"".concat(o,"_list_").concat(t)}}var G=function(e){var t=_[e];if(!t)return null;var n=t.data||{},r=n.value,o=t.group,i=(0,Bt.Z)(n,!0),a=j(t);return t?c.createElement("div",(0,Qe.Z)({"aria-label":"string"!=typeof a||o?null:a},i,{key:e},W(t,e),{"aria-selected":F(r)}),r):null},Z={role:"listbox",id:"".concat(o,"_list")};return c.createElement(c.Fragment,null,S&&c.createElement("div",(0,Qe.Z)({},Z,{style:{height:0,width:0,overflow:"hidden"}}),G(B-1),G(B),G(B+1)),c.createElement(Kn,{itemKey:"key",ref:T,data:_,height:I,itemHeight:O,fullHeight:!1,onMouseDown:M,onScroll:p,virtual:S,direction:E,innerProps:S?null:Z},(function(e,t){var n,r=e.group,o=e.groupOption,i=e.data,a=e.label,l=e.value,d=i.key;if(r){var f,h=null!==(f=i.title)&&void 0!==f?f:er(a)?a.toString():void 0;return c.createElement("div",{className:s()(L,"".concat(L,"-group")),title:h},void 0!==a?a:d)}var p=i.disabled,v=i.title,g=(i.children,i.style),m=i.className,y=(0,Ot.Z)(i,Jn),b=(0,u.Z)(y,$),w=F(l),x="".concat(L,"-option"),E=s()(L,x,m,(n={},(0,St.Z)(n,"".concat(x,"-grouped"),o),(0,St.Z)(n,"".concat(x,"-active"),B===t&&!p),(0,St.Z)(n,"".concat(x,"-disabled"),p),(0,St.Z)(n,"".concat(x,"-selected"),w),n)),I=j(e),O=!C||"function"==typeof C||w,_="number"==typeof I?I:I||l,T=er(_)?_.toString():void 0;return void 0!==v&&(T=v),c.createElement("div",(0,Qe.Z)({},(0,Bt.Z)(b),S?{}:W(e,t),{"aria-selected":w,className:E,title:T,onMouseMove:function(){B===t||p||z(t)},onClick:function(){p||H(l)},style:g}),c.createElement("div",{className:"".concat(x,"-content")},_),c.isValidElement(C)||w,O&&c.createElement(Nt,{className:"".concat(L,"-option-state"),customizeIcon:C,customizeIconProps:{isSelected:w}},w?"✓":null))})))},nr=c.forwardRef(tr);nr.displayName="OptionList";var rr=nr;var or=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],ir=["inputValue"];var ar=c.forwardRef((function(e,t){var n=e.id,r=e.mode,o=e.prefixCls,i=void 0===o?"rc-select":o,a=e.backfill,l=e.fieldNames,s=e.inputValue,u=e.searchValue,d=e.onSearch,f=e.autoClearSearchValue,h=void 0===f||f,p=e.onSelect,v=e.onDeselect,g=e.dropdownMatchSelectWidth,m=void 0===g||g,y=e.filterOption,b=e.filterSort,C=e.optionFilterProp,w=e.optionLabelProp,x=e.options,S=e.children,E=e.defaultActiveFirstOption,I=e.menuItemSelectedIcon,O=e.virtual,L=e.direction,_=e.listHeight,T=void 0===_?200:_,M=e.listItemHeight,R=void 0===M?20:M,N=e.value,A=e.defaultValue,D=e.labelInValue,B=e.onChange,P=(0,Ot.Z)(e,or),z=gn(n),F=un(r),H=!(x||!S),$=c.useMemo((function(){return(void 0!==y||"combobox"!==r)&&y}),[y,r]),j=c.useMemo((function(){return on(l,H)}),[JSON.stringify(l),H]),W=(0,_t.Z)("",{value:void 0!==u?u:s,postState:function(e){return e||""}}),G=(0,It.Z)(W,2),Z=G[0],V=G[1],U=wn(x,S,j,C,w),Y=U.valueOptions,X=U.labelOptions,q=U.options,K=c.useCallback((function(e){return Ht(e).map((function(e){var t,n,r,o,i,a;(function(e){return!e||"object"!==(0,Lt.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:r);var l,s=Y.get(t);s&&(void 0===n&&(n=null==s?void 0:s[w||j.label]),void 0===r&&(r=null!==(l=null==s?void 0:s.key)&&void 0!==l?l:t),o=null==s?void 0:s.disabled,i=null==s?void 0:s.title);return{label:n,value:t,key:r,disabled:o,title:i}}))}),[j,w,Y]),Q=(0,_t.Z)(A,{value:N}),J=(0,It.Z)(Q,2),ee=J[0],te=J[1],ne=c.useMemo((function(){var e,t=K(ee);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t}),[ee,K,r]),re=function(e,t){var n=c.useRef({values:new Map,options:new Map});return[c.useMemo((function(){var r=n.current,o=r.values,i=r.options,a=e.map((function(e){var t;return void 0===e.label?(0,Et.Z)((0,Et.Z)({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e})),l=new Map,s=new Map;return a.forEach((function(e){l.set(e.value,e),s.set(e.value,t.get(e.value)||i.get(e.value))})),n.current.values=l,n.current.options=s,a}),[e,t]),c.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(ne,Y),oe=(0,It.Z)(re,2),ie=oe[0],ae=oe[1],le=c.useMemo((function(){if(!r&&1===ie.length){var e=ie[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ie.map((function(e){var t;return(0,Et.Z)((0,Et.Z)({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[r,ie]),se=c.useMemo((function(){return new Set(ie.map((function(e){return e.value})))}),[ie]);c.useEffect((function(){if("combobox"===r){var e,t=null===(e=ie[0])||void 0===e?void 0:e.value;V(function(e){return null!=e}(t)?String(t):"")}}),[ie]);var ue=xn((function(e,t){var n,r=null!=t?t:e;return n={},(0,St.Z)(n,j.value,e),(0,St.Z)(n,j.label,r),n})),ce=c.useMemo((function(){if("tags"!==r)return q;var e=(0,k.Z)(q);return(0,k.Z)(ie).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return Y.has(e)})(n)||e.push(ue(n,t.label))})),e}),[ue,q,Y,ie,r]),de=function(e,t,n,r,o){return c.useMemo((function(){if(!n||!1===r)return e;var i=t.options,a=t.label,l=t.value,s=[],u="function"==typeof r,c=n.toUpperCase(),d=u?r:function(e,t){return o?fn(t[o],c):t[i]?fn(t["children"!==a?a:"label"],c):fn(t[l],c)},f=u?function(e){return an(e)}:function(e){return e};return e.forEach((function(e){if(e[i])if(d(n,f(e)))s.push(e);else{var t=e[i].filter((function(e){return d(n,f(e))}));t.length&&s.push((0,Et.Z)((0,Et.Z)({},e),{},(0,St.Z)({},i,t)))}else d(n,f(e))&&s.push(e)})),s}),[e,r,o,n,t])}(ce,j,Z,$,C),fe=c.useMemo((function(){return"tags"!==r||!Z||de.some((function(e){return e[C||"value"]===Z}))||de.some((function(e){return e[j.value]===Z}))?de:[ue(Z)].concat((0,k.Z)(de))}),[ue,C,r,de,Z,j]),he=c.useMemo((function(){return b?(0,k.Z)(fe).sort((function(e,t){return b(e,t)})):fe}),[fe,b]),pe=c.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,o=[],i=on(n,!1),a=i.label,l=i.value,s=i.options,u=i.groupLabel;function c(e,t){e.forEach((function(e){if(t||!(s in e)){var n=e[l];o.push({key:rn(e,o.length),groupOption:t,data:e,label:e[a],value:n})}else{var i=e[u];void 0===i&&r&&(i=e.label),o.push({key:rn(e,o.length),group:!0,data:e,label:i}),c(e[s],!0)}}))}return c(e,!1),o}(he,{fieldNames:j,childrenAsData:H})}),[he,j,H]),ve=function(e){var t=K(e);if(te(t),B&&(t.length!==ie.length||t.some((function(e,t){var n;return(null===(n=ie[t])||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)})))){var n=D?t:t.map((function(e){return e.value})),r=t.map((function(e){return an(ae(e.value))}));B(F?n:n[0],F?r:r[0])}},ge=c.useState(null),me=(0,It.Z)(ge,2),ye=me[0],be=me[1],Ce=c.useState(0),we=(0,It.Z)(Ce,2),xe=we[0],Se=we[1],Ee=void 0!==E?E:"combobox"!==r,Ie=c.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.source,i=void 0===o?"keyboard":o;Se(t),a&&"combobox"===r&&null!==e&&"keyboard"===i&&be(String(e))}),[a,r]),Oe=function(e,t,n){var r=function(){var t,n=ae(e);return[D?{label:null==n?void 0:n[j.label],value:e,key:null!==(t=null==n?void 0:n.key)&&void 0!==t?t:e}:e,an(n)]};if(t&&p){var o=r(),i=(0,It.Z)(o,2),a=i[0],l=i[1];p(a,l)}else if(!t&&v&&"clear"!==n){var s=r(),u=(0,It.Z)(s,2),c=u[0],d=u[1];v(c,d)}},Le=xn((function(e,t){var n,o=!F||t.selected;n=o?F?[].concat((0,k.Z)(ie),[e]):[e]:ie.filter((function(t){return t.value!==e})),ve(n),Oe(e,o),"combobox"===r?be(""):un&&!h||(V(""),be(""))})),_e=c.useMemo((function(){var e=!1!==O&&!1!==m;return(0,Et.Z)((0,Et.Z)({},U),{},{flattenOptions:pe,onActiveValue:Ie,defaultActiveFirstOption:Ee,onSelect:Le,menuItemSelectedIcon:I,rawValues:se,fieldNames:j,virtual:e,direction:L,listHeight:T,listItemHeight:R,childrenAsData:H})}),[U,pe,Ie,Ee,Le,I,se,j,O,m,T,R,H]);return c.createElement(Qn.Provider,{value:_e},c.createElement(dn,(0,Qe.Z)({},P,{id:z,prefixCls:i,ref:t,omitDomProps:ir,mode:r,displayValues:le,onDisplayValuesChange:function(e,t){ve(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach((function(e){Oe(e.value,!1,n)}))},direction:L,searchValue:Z,onSearch:function(e,t){if(V(e),be(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&ve(e),null==d||d(e));else{var n=(e||"").trim();if(n){var o=Array.from(new Set([].concat((0,k.Z)(se),[n])));ve(o),Oe(n,!0),V("")}}},autoClearSearchValue:h,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=X.get(e);return null==t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,k.Z)(se),(0,k.Z)(t))));ve(n),n.forEach((function(e){Oe(e,!0)}))},dropdownMatchSelectWidth:m,OptionList:rr,emptyOptions:!pe.length,activeValue:ye,activeDescendantId:"".concat(z,"_list_").concat(xe)})))}));var lr=ar;lr.Option=On,lr.OptGroup=En;var sr=lr,ur=n(8745),cr=n(9708),dr=n(10274),fr=n(29691);var hr=()=>{const[,e]=(0,fr.Z)(),t=new dr.C(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return c.createElement("svg",{style:t,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},c.createElement("g",{fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(24 31.67)"},c.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),c.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),c.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),c.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),c.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),c.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),c.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},c.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),c.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};var pr=()=>{const[,e]=(0,fr.Z)(),{colorFill:t,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:o}=e,{borderColor:i,shadowColor:a,contentColor:l}=(0,c.useMemo)((()=>({borderColor:new dr.C(t).onBackground(o).toHexShortString(),shadowColor:new dr.C(n).onBackground(o).toHexShortString(),contentColor:new dr.C(r).onBackground(o).toHexShortString()})),[t,n,r,o]);return c.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},c.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},c.createElement("ellipse",{fill:a,cx:"32",cy:"33",rx:"32",ry:"7"}),c.createElement("g",{fillRule:"nonzero",stroke:i},c.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),c.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))};const vr=e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:o,fontSize:i,lineHeight:a}=e;return{[t]:{marginInline:r,fontSize:i,lineHeight:a,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorText},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:o,color:e.colorTextDisabled,[`${t}-description`]:{color:e.colorTextDisabled},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDisabled,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}};var gr=(0,y.Z)("Empty",(e=>{const{componentCls:t,controlHeightLG:n}=e,r=(0,b.TS)(e,{emptyImgCls:`${t}-img`,emptyImgHeight:2.5*n,emptyImgHeightMD:n,emptyImgHeightSM:.875*n});return[vr(r)]})),mr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const yr=c.createElement(hr,null),br=c.createElement(pr,null),Cr=e=>{var{className:t,rootClassName:n,prefixCls:r,image:o=yr,description:i,children:a,imageStyle:l,style:u}=e,f=mr(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:h,direction:p,empty:v}=c.useContext(d.E_),g=h("empty",r),[m,y]=gr(g),[b]=(0,ot.Z)("Empty"),C=void 0!==i?i:null==b?void 0:b.description,w="string"==typeof C?C:"empty";let x=null;return x="string"==typeof o?c.createElement("img",{alt:w,src:o}):o,m(c.createElement("div",Object.assign({className:s()(y,g,null==v?void 0:v.className,{[`${g}-normal`]:o===br,[`${g}-rtl`]:"rtl"===p},t,n),style:Object.assign(Object.assign({},null==v?void 0:v.style),u)},f),c.createElement("div",{className:`${g}-image`,style:l},x),C&&c.createElement("div",{className:`${g}-description`},C),a&&c.createElement("div",{className:`${g}-footer`},a)))};Cr.PRESENTED_IMAGE_DEFAULT=yr,Cr.PRESENTED_IMAGE_SIMPLE=br;var wr=Cr;var xr=e=>{const{componentName:t}=e,{getPrefixCls:n}=(0,c.useContext)(d.E_),r=n("empty");switch(t){case"Table":case"List":return c.createElement(wr,{image:wr.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return c.createElement(wr,{image:wr.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});default:return c.createElement(wr,null)}},Sr=n(4173),Er=n(80110),Ir=n(67771),Or=n(33297);const Lr=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:r,optionPadding:o}=e;return{position:"relative",display:"block",minHeight:t,padding:o,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}};var _r=e=>{const{antCls:t,componentCls:n}=e,r=`${n}-item`,o=`&${t}-slide-up-enter${t}-slide-up-enter-active`,i=`&${t}-slide-up-appear${t}-slide-up-appear-active`,a=`&${t}-slide-up-leave${t}-slide-up-leave-active`,l=`${n}-dropdown-placement-`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},(0,m.Wf)(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`\n          ${o}${l}bottomLeft,\n          ${i}${l}bottomLeft\n        `]:{animationName:Ir.fJ},[`\n          ${o}${l}topLeft,\n          ${i}${l}topLeft,\n          ${o}${l}topRight,\n          ${i}${l}topRight\n        `]:{animationName:Ir.Qt},[`${a}${l}bottomLeft`]:{animationName:Ir.Uw},[`\n          ${a}${l}topLeft,\n          ${a}${l}topRight\n        `]:{animationName:Ir.ly},"&-hidden":{display:"none"},[`${r}`]:Object.assign(Object.assign({},Lr(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},m.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:e.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,[`${r}-option-state`]:{color:e.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:2*e.controlPaddingHorizontal}}}),"&-rtl":{direction:"rtl"}})},(0,Ir.oN)(e,"slide-up"),(0,Ir.oN)(e,"slide-down"),(0,Or.Fm)(e,"move-up"),(0,Or.Fm)(e,"move-down")]};const Tr=e=>{let{multipleSelectItemHeight:t,selectHeight:n,lineWidth:r}=e;const o=(n-t)/2-r;return[o,Math.ceil(o/2)]};function Mr(e,t){const{componentCls:n,iconCls:r}=e,o=`${n}-selection-overflow`,i=e.multipleSelectItemHeight,[a]=Tr(e);return{[`${n}-multiple${t?`${n}-${t}`:""}`]:{fontSize:e.fontSize,[o]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",padding:a-2+"px 4px",borderRadius:e.borderRadius,[`${n}-show-search&`]:{cursor:"text"},[`${n}-disabled&`]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:"2px 0",lineHeight:`${i}px`,visibility:"hidden",content:'"\\a0"'}},[`\n        &${n}-show-arrow ${n}-selector,\n        &${n}-allow-clear ${n}-selector\n      `]:{paddingInlineEnd:e.fontSizeIcon+e.controlPaddingHorizontal},[`${n}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:i,marginTop:2,marginBottom:2,lineHeight:i-2*e.lineWidth+"px",background:e.multipleItemBg,border:`${e.lineWidth}px ${e.lineType} ${e.multipleItemBorderColor}`,borderRadius:e.borderRadiusSM,cursor:"default",transition:`font-size ${e.motionDurationSlow}, line-height ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,marginInlineEnd:4,paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS/2,[`${n}-disabled&`]:{color:e.multipleItemColorDisabled,borderColor:e.multipleItemBorderColorDisabled,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,m.Ro)()),{display:"inline-flex",alignItems:"center",color:e.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${r}`]:{verticalAlign:"-0.2em"},"&:hover":{color:e.colorIconHover}})},[`${o}-item + ${o}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${o}-item-suffix`]:{height:"100%"},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.inputPaddingHorizontalBase-a,"\n          &-input,\n          &-mirror\n        ":{height:i,fontFamily:e.fontFamily,lineHeight:`${i}px`,transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}}}}var Rr=e=>{const{componentCls:t}=e,n=(0,b.TS)(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.controlHeightXS,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),r=(0,b.TS)(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius}),[,o]=Tr(e);return[Mr(e),Mr(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.controlPaddingHorizontalSM-e.lineWidth},[`${t}-selection-search`]:{marginInlineStart:o}}},Mr(r,"lg")]};function Nr(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:o}=e,i=e.controlHeight-2*e.lineWidth,a=Math.ceil(1.25*e.fontSize);return{[`${n}-single${t?`${n}-${t}`:""}`]:{fontSize:e.fontSize,height:e.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},(0,m.Wf)(e)),{display:"flex",borderRadius:o,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%"}},[`\n          ${n}-selection-item,\n          ${n}-selection-placeholder\n        `]:{padding:0,lineHeight:`${i}px`,transition:`all ${e.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:after`,`${n}-selection-placeholder:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`\n        &${n}-show-arrow ${n}-selection-item,\n        &${n}-show-arrow ${n}-selection-placeholder\n      `]:{paddingInlineEnd:a},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",padding:`0 ${r}px`,[`${n}-selection-search-input`]:{height:i},"&:after":{lineHeight:`${i}px`}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${r}px`,"&:after":{display:"none"}}}}}}}function Ar(e){const{componentCls:t}=e,n=e.controlPaddingHorizontalSM-e.lineWidth;return[Nr(e),Nr((0,b.TS)(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${t}-selector`]:{padding:`0 ${n}px`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:n+1.5*e.fontSize},[`\n            &${t}-show-arrow ${t}-selection-item,\n            &${t}-show-arrow ${t}-selection-placeholder\n          `]:{paddingInlineEnd:1.5*e.fontSize}}}},Nr((0,b.TS)(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const Dr=e=>{const{componentCls:t,selectorBg:n}=e;return{position:"relative",backgroundColor:n,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${t}-disabled&`]:{color:e.colorTextDisabled,background:e.colorBgContainerDisabled,cursor:"not-allowed",[`${t}-multiple&`]:{background:e.multipleSelectorBgDisabled},input:{cursor:"not-allowed"}}}},Br=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{componentCls:r,borderHoverColor:o,outlineColor:i,antCls:a}=t,l=n?{[`${r}-selector`]:{borderColor:o}}:{};return{[e]:{[`&:not(${r}-disabled):not(${r}-customize-input):not(${a}-pagination-size-changer)`]:Object.assign(Object.assign({},l),{[`${r}-focused& ${r}-selector`]:{borderColor:o,boxShadow:`0 0 0 ${t.controlOutlineWidth}px ${i}`,outline:0},[`&:hover ${r}-selector`]:{borderColor:o}})}}},kr=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Pr=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:r,iconCls:o}=e;return{[n]:Object.assign(Object.assign({},(0,m.Wf)(e)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},Dr(e)),kr(e)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},m.vS),{[`> ${t}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},m.vS),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},(0,m.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[o]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:e.clearBg,cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},"&:hover":{[`${n}-clear`]:{opacity:1}}}),[`${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:r+e.fontSize+e.paddingXS}}}},zr=e=>{const{componentCls:t}=e;return[{[t]:{[`&-borderless ${t}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${t}-in-form-item`]:{width:"100%"}}},Pr(e),Ar(e),Rr(e),_r(e),{[`${t}-rtl`]:{direction:"rtl"}},Br(t,(0,b.TS)(e,{borderHoverColor:e.colorPrimaryHover,outlineColor:e.controlOutline})),Br(`${t}-status-error`,(0,b.TS)(e,{borderHoverColor:e.colorErrorHover,outlineColor:e.colorErrorOutline}),!0),Br(`${t}-status-warning`,(0,b.TS)(e,{borderHoverColor:e.colorWarningHover,outlineColor:e.colorWarningOutline}),!0),(0,Er.c)(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]};var Fr=(0,y.Z)("Select",((e,t)=>{let{rootPrefixCls:n}=t;const r=(0,b.TS)(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.paddingSM-1,multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[zr(r)]}),(e=>{const{fontSize:t,lineHeight:n,controlHeight:r,controlPaddingHorizontal:o,zIndexPopupBase:i,colorText:a,fontWeightStrong:l,controlItemBgActive:s,controlItemBgHover:u,colorBgContainer:c,colorFillSecondary:d,controlHeightLG:f,controlHeightSM:h,colorBgContainerDisabled:p,colorTextDisabled:v}=e;return{zIndexPopup:i+50,optionSelectedColor:a,optionSelectedFontWeight:l,optionSelectedBg:s,optionActiveBg:u,optionPadding:`${(r-t*n)/2}px ${o}px`,optionFontSize:t,optionLineHeight:n,optionHeight:r,selectorBg:c,clearBg:c,singleItemHeightLG:f,multipleItemBg:d,multipleItemBorderColor:"transparent",multipleItemHeight:h,multipleItemHeightLG:r,multipleSelectorBgDisabled:p,multipleItemColorDisabled:v,multipleItemBorderColorDisabled:"transparent"}}));function Hr(e,t){return e||(e=>{const t={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:"scroll"===e?"scroll":"visible",_experimental:{dynamicInset:!0}};return{bottomLeft:Object.assign(Object.assign({},t),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},t),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},t),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},t),{points:["br","tr"],offset:[0,-4]})}})(t)}function $r(e,t){return void 0!==t?t:null!==e}var jr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Wr=function(e,t){return c.createElement(et.Z,(0,Qe.Z)({},e,{ref:t,icon:jr}))};var Gr=c.forwardRef(Wr),Zr=n(84481),Vr=n(58964),Ur=n(13805);function Yr(e){let{suffixIcon:t,clearIcon:n,menuItemSelectedIcon:r,removeIcon:o,loading:i,multiple:a,hasFeedback:l,prefixCls:s,showSuffixIcon:u,feedbackIcon:d,showArrow:f,componentName:h}=e;const p=null!=n?n:c.createElement(ut.Z,null),v=e=>null!==t||l||f?c.createElement(c.Fragment,null,!1!==u&&e,l&&d):null;let g=null;if(void 0!==t)g=v(t);else if(i)g=v(c.createElement(dt.Z,{spin:!0}));else{const e=`${s}-suffix`;g=t=>{let{open:n,showSearch:r}=t;return v(n&&r?c.createElement(Ur.Z,{className:e}):c.createElement(Vr.Z,{className:e}))}}let m=null;m=void 0!==r?r:a?c.createElement(Gr,null):null;let y=null;return y=void 0!==o?o:c.createElement(Zr.Z,null),{clearIcon:p,suffixIcon:g,itemIcon:m,removeIcon:y}}var Xr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const qr="SECRET_COMBOBOX_MODE_DO_NOT_USE",Kr=(e,t)=>{var n,{prefixCls:r,bordered:o=!0,className:i,rootClassName:a,getPopupContainer:l,popupClassName:h,dropdownClassName:p,listHeight:v=256,placement:g,listItemHeight:m=24,size:y,disabled:b,notFoundContent:C,status:w,builtinPlacements:x,dropdownMatchSelectWidth:S,popupMatchSelectWidth:E,direction:I,style:O,allowClear:L}=e,_=Xr(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear"]);const{getPopupContainer:T,getPrefixCls:M,renderEmpty:R,direction:N,virtual:A,popupMatchSelectWidth:D,popupOverflow:B,select:k}=c.useContext(d.E_),P=M("select",r),H=M(),$=null!=I?I:N,{compactSize:j,compactItemClassnames:W}=(0,Sr.ri)(P,$),[G,Z]=Fr(P),V=c.useMemo((()=>{const{mode:e}=_;if("combobox"!==e)return e===qr?"combobox":e}),[_.mode]),U="multiple"===V||"tags"===V,Y=$r(_.suffixIcon,_.showArrow),X=null!==(n=null!=E?E:S)&&void 0!==n?n:D,{status:q,hasFeedback:K,isFormItemInput:Q,feedbackIcon:J}=c.useContext(F.aM),ee=(0,cr.F)(q,w);let te;te=void 0!==C?C:"combobox"===V?null:(null==R?void 0:R("Select"))||c.createElement(xr,{componentName:"Select"});const{suffixIcon:ne,itemIcon:re,removeIcon:oe,clearIcon:ae}=Yr(Object.assign(Object.assign({},_),{multiple:U,hasFeedback:K,feedbackIcon:J,showSuffixIcon:Y,prefixCls:P,showArrow:_.showArrow,componentName:"Select"})),le=!0===L?{clearIcon:ae}:L,se=(0,u.Z)(_,["suffixIcon","itemIcon"]),ue=s()(h||p,{[`${P}-dropdown-${$}`]:"rtl"===$},a,Z),ce=(0,f.Z)((e=>{var t;return null!==(t=null!=y?y:j)&&void 0!==t?t:e})),de=c.useContext(ie.Z),fe=null!=b?b:de,he=s()({[`${P}-lg`]:"large"===ce,[`${P}-sm`]:"small"===ce,[`${P}-rtl`]:"rtl"===$,[`${P}-borderless`]:!o,[`${P}-in-form-item`]:Q},(0,cr.Z)(P,ee,K),W,null==k?void 0:k.className,i,a,Z),pe=c.useMemo((()=>void 0!==g?g:"rtl"===$?"bottomRight":"bottomLeft"),[g,$]),ve=Hr(x,B);return G(c.createElement(sr,Object.assign({ref:t,virtual:A,showSearch:null==k?void 0:k.showSearch},se,{style:Object.assign(Object.assign({},null==k?void 0:k.style),O),dropdownMatchSelectWidth:X,builtinPlacements:ve,transitionName:(0,z.m)(H,"slide-up",_.transitionName),listHeight:v,listItemHeight:m,mode:V,prefixCls:P,placement:pe,direction:$,suffixIcon:ne,menuItemSelectedIcon:re,removeIcon:oe,allowClear:le,notFoundContent:te,className:he,getPopupContainer:l||T,dropdownClassName:ue,disabled:fe})))};const Qr=c.forwardRef(Kr),Jr=(0,ur.Z)(Qr);Qr.SECRET_COMBOBOX_MODE_DO_NOT_USE=qr,Qr.Option=On,Qr.OptGroup=En,Qr._InternalPanelDoNotUseOrYouWillBeFired=Jr;var eo=Qr,to=n(62946),no=n(68843),ro=function(e){var t,n=e.className,r=e.customizeIcon,o=e.customizeIconProps,i=e.onMouseDown,a=e.onClick,l=e.children;return t="function"==typeof r?r(o):r,c.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),i&&i(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==t?t:c.createElement("span",{className:s()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},l))};var oo=c.createContext(null);function io(){return c.useContext(oo)}function ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=c.useRef(null),n=c.useRef(null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return c.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var lo=function(e,t){var n,r,o=e.prefixCls,i=e.id,a=e.inputElement,l=e.disabled,u=e.tabIndex,d=e.autoFocus,f=e.autoComplete,h=e.editable,p=e.activeDescendantId,v=e.value,g=e.maxLength,m=e.onKeyDown,y=e.onMouseDown,b=e.onChange,C=e.onPaste,w=e.onCompositionStart,x=e.onCompositionEnd,S=e.open,E=e.attrs,I=a||c.createElement("input",null),O=I,L=O.ref,_=O.props,T=_.onKeyDown,M=_.onChange,R=_.onMouseDown,N=_.onCompositionStart,A=_.onCompositionEnd,D=_.style;return(0,Tt.Kp)(!("maxLength"in I.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),I=c.cloneElement(I,(0,Et.Z)((0,Et.Z)((0,Et.Z)({type:"search"},_),{},{id:i,ref:(0,Ie.sQ)(t,L),disabled:l,tabIndex:u,autoComplete:f||"off",autoFocus:d,className:s()("".concat(o,"-selection-search-input"),null===(n=I)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),role:"combobox","aria-label":"Search","aria-expanded":S||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":S?p:void 0},E),{},{value:h?v:"",maxLength:g,readOnly:!h,unselectable:h?null:"on",style:(0,Et.Z)((0,Et.Z)({},D),{},{opacity:h?null:0}),onKeyDown:function(e){m(e),T&&T(e)},onMouseDown:function(e){y(e),R&&R(e)},onChange:function(e){b(e),M&&M(e)},onCompositionStart:function(e){w(e),N&&N(e)},onCompositionEnd:function(e){x(e),A&&A(e)},onPaste:C}))},so=c.forwardRef(lo);so.displayName="Input";var uo=so;function co(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var fo="undefined"!=typeof window&&window.document&&window.document.documentElement;function ho(e){return["string","number"].includes((0,Lt.Z)(e))}function po(e){var t=void 0;return e&&(ho(e.title)?t=e.title.toString():ho(e.label)&&(t=e.label.toString())),t}function vo(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var go=function(e){e.preventDefault(),e.stopPropagation()},mo=function(e){var t,n,r=e.id,o=e.prefixCls,i=e.values,a=e.open,l=e.searchValue,u=e.autoClearSearchValue,d=e.inputRef,f=e.placeholder,h=e.disabled,p=e.mode,v=e.showSearch,g=e.autoFocus,m=e.autoComplete,y=e.activeDescendantId,b=e.tabIndex,C=e.removeIcon,w=e.maxTagCount,x=e.maxTagTextLength,S=e.maxTagPlaceholder,E=void 0===S?function(e){return"+ ".concat(e.length," ...")}:S,I=e.tagRender,O=e.onToggleOpen,L=e.onRemove,_=e.onInputChange,T=e.onInputPaste,M=e.onInputKeyDown,R=e.onInputMouseDown,N=e.onInputCompositionStart,A=e.onInputCompositionEnd,D=c.useRef(null),B=(0,c.useState)(0),k=(0,It.Z)(B,2),P=k[0],z=k[1],F=(0,c.useState)(!1),H=(0,It.Z)(F,2),$=H[0],j=H[1],W="".concat(o,"-selection"),G=a||"multiple"===p&&!1===u||"tags"===p?l:"",Z="tags"===p||"multiple"===p&&!1===u||v&&(a||$);function V(e,t,n,r,o){return c.createElement("span",{className:s()("".concat(W,"-item"),(0,St.Z)({},"".concat(W,"-item-disabled"),n)),title:po(e)},c.createElement("span",{className:"".concat(W,"-item-content")},t),r&&c.createElement(ro,{className:"".concat(W,"-item-remove"),onMouseDown:go,onClick:o,customizeIcon:C},"×"))}t=function(){z(D.current.scrollWidth)},n=[G],fo?c.useLayoutEffect(t,n):c.useEffect(t,n);var U=c.createElement("div",{className:"".concat(W,"-search"),style:{width:P},onFocus:function(){j(!0)},onBlur:function(){j(!1)}},c.createElement(uo,{ref:d,open:a,prefixCls:o,id:r,inputElement:null,disabled:h,autoFocus:g,autoComplete:m,editable:Z,activeDescendantId:y,value:G,onKeyDown:M,onMouseDown:R,onChange:_,onPaste:T,onCompositionStart:N,onCompositionEnd:A,tabIndex:b,attrs:(0,Bt.Z)(e,!0)}),c.createElement("span",{ref:D,className:"".concat(W,"-search-mirror"),"aria-hidden":!0},G," ")),Y=c.createElement(kt.Z,{prefixCls:"".concat(W,"-overflow"),data:i,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,o=!h&&!t,i=n;if("number"==typeof x&&("string"==typeof n||"number"==typeof n)){var l=String(i);l.length>x&&(i="".concat(l.slice(0,x),"..."))}var s=function(t){t&&t.stopPropagation(),L(e)};return"function"==typeof I?function(e,t,n,r,o){return c.createElement("span",{onMouseDown:function(e){go(e),O(!a)}},I({label:t,value:e,disabled:n,closable:r,onClose:o}))}(r,i,t,o,s):V(e,i,t,o,s)},renderRest:function(e){var t="function"==typeof E?E(e):E;return V({title:t},t,!1)},suffix:U,itemKey:vo,maxCount:w});return c.createElement(c.Fragment,null,Y,!i.length&&!G&&c.createElement("span",{className:"".concat(W,"-placeholder")},f))},yo=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,o=e.inputRef,i=e.disabled,a=e.autoFocus,l=e.autoComplete,s=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,h=e.placeholder,p=e.tabIndex,v=e.showSearch,g=e.searchValue,m=e.activeValue,y=e.maxLength,b=e.onInputKeyDown,C=e.onInputMouseDown,w=e.onInputChange,x=e.onInputPaste,S=e.onInputCompositionStart,E=e.onInputCompositionEnd,I=e.title,O=c.useState(!1),L=(0,It.Z)(O,2),_=L[0],T=L[1],M="combobox"===u,R=M||v,N=f[0],A=g||"";M&&m&&!_&&(A=m),c.useEffect((function(){M&&T(!1)}),[M,m]);var D=!("combobox"!==u&&!d&&!v)&&!!A,B=void 0===I?po(N):I;return c.createElement(c.Fragment,null,c.createElement("span",{className:"".concat(n,"-selection-search")},c.createElement(uo,{ref:o,prefixCls:n,id:r,open:d,inputElement:t,disabled:i,autoFocus:a,autoComplete:l,editable:R,activeDescendantId:s,value:A,onKeyDown:b,onMouseDown:C,onChange:function(e){T(!0),w(e)},onPaste:x,onCompositionStart:S,onCompositionEnd:E,tabIndex:p,attrs:(0,Bt.Z)(e,!0),maxLength:M?y:void 0})),!M&&N?c.createElement("span",{className:"".concat(n,"-selection-item"),title:B,style:D?{visibility:"hidden"}:void 0},N.label):null,function(){if(N)return null;var e=D?{visibility:"hidden"}:void 0;return c.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},h)}())};var bo=function(e,t){var n=(0,c.useRef)(null),r=(0,c.useRef)(!1),o=e.prefixCls,i=e.open,a=e.mode,l=e.showSearch,s=e.tokenWithEnter,u=e.autoClearSearchValue,d=e.onSearch,f=e.onSearchSubmit,h=e.onToggleOpen,p=e.onInputKeyDown,v=e.domRef;c.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var g=ao(0),m=(0,It.Z)(g,2),y=m[0],b=m[1],C=(0,c.useRef)(null),w=function(e){!1!==d(e,!0,r.current)&&h(!0)},x={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==Rt.Z.UP&&n!==Rt.Z.DOWN||e.preventDefault(),p&&p(e),n!==Rt.Z.ENTER||"tags"!==a||r.current||i||null==f||f(e.target.value),t=n,[Rt.Z.ESC,Rt.Z.SHIFT,Rt.Z.BACKSPACE,Rt.Z.TAB,Rt.Z.WIN_KEY,Rt.Z.ALT,Rt.Z.META,Rt.Z.WIN_KEY_RIGHT,Rt.Z.CTRL,Rt.Z.SEMICOLON,Rt.Z.EQUALS,Rt.Z.CAPS_LOCK,Rt.Z.CONTEXT_MENU,Rt.Z.F1,Rt.Z.F2,Rt.Z.F3,Rt.Z.F4,Rt.Z.F5,Rt.Z.F6,Rt.Z.F7,Rt.Z.F8,Rt.Z.F9,Rt.Z.F10,Rt.Z.F11,Rt.Z.F12].includes(t)||h(!0)},onInputMouseDown:function(){b(!0)},onInputChange:function(e){var t=e.target.value;if(s&&C.current&&/[\r\n]/.test(C.current)){var n=C.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,C.current)}C.current=null,w(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");C.current=t},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==a&&w(e.target.value)}},S="multiple"===a||"tags"===a?c.createElement(mo,(0,Qe.Z)({},e,x)):c.createElement(yo,(0,Qe.Z)({},e,x));return c.createElement("div",{ref:v,className:"".concat(o,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=y();e.target===n.current||t||"combobox"===a||e.preventDefault(),("combobox"===a||l&&t)&&i||(i&&!1!==u&&d("",!0,!1),h())}},S)},Co=c.forwardRef(bo);Co.displayName="Selector";var wo=Co,xo=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],So=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),o=e.children,i=e.popupElement,a=e.animation,l=e.transitionName,u=e.dropdownStyle,d=e.dropdownClassName,f=e.direction,h=void 0===f?"ltr":f,p=e.placement,v=e.builtinPlacements,g=e.dropdownMatchSelectWidth,m=e.dropdownRender,y=e.dropdownAlign,b=e.getPopupContainer,C=e.empty,w=e.getTriggerDOMNode,x=e.onPopupVisibleChange,S=e.onPopupMouseEnter,E=(0,Ot.Z)(e,xo),I="".concat(n,"-dropdown"),O=i;m&&(O=m(i));var L=c.useMemo((function(){return v||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(g)}),[v,g]),_=a?"".concat(I,"-").concat(a):l,T="number"==typeof g,M=c.useMemo((function(){return T?null:!1===g?"minWidth":"width"}),[g,T]),R=u;T&&(R=(0,Et.Z)((0,Et.Z)({},R),{},{width:g}));var N=c.useRef(null);return c.useImperativeHandle(t,(function(){return{getPopupElement:function(){return N.current}}})),c.createElement(Kt.Z,(0,Qe.Z)({},E,{showAction:x?["click"]:[],hideAction:x?["click"]:[],popupPlacement:p||("rtl"===h?"bottomRight":"bottomLeft"),builtinPlacements:L,prefixCls:I,popupTransitionName:_,popup:c.createElement("div",{ref:N,onMouseEnter:S},O),stretch:M,popupAlign:y,popupVisible:r,getPopupContainer:b,popupClassName:s()(d,(0,St.Z)({},"".concat(I,"-empty"),C)),popupStyle:R,getTriggerDOMNode:w,onPopupVisibleChange:x}),o)},Eo=c.forwardRef(So);Eo.displayName="SelectTrigger";var Io=Eo;function Oo(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!=r?r:void 0!==n?n:"rc-index-key-".concat(t)}function Lo(e,t){var n=e||{},r=n.label||(t?"children":"label");return{label:r,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||r}}function _o(e){var t=(0,Et.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,Tt.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var To=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Mo=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function Ro(e){return"tags"===e||"multiple"===e}var No=c.forwardRef((function(e,t){var n,r,o=e.id,i=e.prefixCls,a=e.className,l=e.showSearch,u=e.tagRender,d=e.direction,f=e.omitDomProps,h=e.displayValues,p=e.onDisplayValuesChange,v=e.emptyOptions,g=e.notFoundContent,m=void 0===g?"Not Found":g,y=e.onClear,b=e.mode,C=e.disabled,w=e.loading,x=e.getInputElement,S=e.getRawInputElement,E=e.open,I=e.defaultOpen,O=e.onDropdownVisibleChange,L=e.activeValue,_=e.onActiveValueChange,T=e.activeDescendantId,M=e.searchValue,R=e.autoClearSearchValue,N=e.onSearch,A=e.onSearchSplit,D=e.tokenSeparators,B=e.allowClear,P=e.suffixIcon,z=e.clearIcon,F=e.OptionList,H=e.animation,$=e.transitionName,j=e.dropdownStyle,W=e.dropdownClassName,G=e.dropdownMatchSelectWidth,Z=e.dropdownRender,V=e.dropdownAlign,U=e.placement,Y=e.builtinPlacements,X=e.getPopupContainer,q=e.showAction,K=void 0===q?[]:q,Q=e.onFocus,J=e.onBlur,ee=e.onKeyUp,te=e.onKeyDown,ne=e.onMouseDown,re=(0,Ot.Z)(e,To),oe=Ro(b),ie=(void 0!==l?l:oe)||"combobox"===b,ae=(0,Et.Z)({},re);Mo.forEach((function(e){delete ae[e]})),null==f||f.forEach((function(e){delete ae[e]}));var le=c.useState(!1),se=(0,It.Z)(le,2),ue=se[0],ce=se[1];c.useEffect((function(){ce((0,Mt.Z)())}),[]);var de=c.useRef(null),fe=c.useRef(null),he=c.useRef(null),pe=c.useRef(null),ve=c.useRef(null),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=c.useState(!1),n=(0,It.Z)(t,2),r=n[0],o=n[1],i=c.useRef(null),a=function(){window.clearTimeout(i.current)};return c.useEffect((function(){return a}),[]),[r,function(t,n){a(),i.current=window.setTimeout((function(){o(t),n&&n()}),e)},a]}(),me=(0,It.Z)(ge,3),ye=me[0],be=me[1],Ce=me[2];c.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=pe.current)||void 0===e?void 0:e.focus,blur:null===(t=pe.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=ve.current)||void 0===t?void 0:t.scrollTo(e)}}}));var we=c.useMemo((function(){var e;if("combobox"!==b)return M;var t=null===(e=h[0])||void 0===e?void 0:e.value;return"string"==typeof t||"number"==typeof t?String(t):""}),[M,b,h]),xe="combobox"===b&&"function"==typeof x&&x()||null,Se="function"==typeof S&&S(),Ee=(0,Ie.x1)(fe,null==Se||null===(n=Se.props)||void 0===n?void 0:n.ref),Oe=c.useState(!1),Le=(0,It.Z)(Oe,2),_e=Le[0],Te=Le[1];(0,Ae.Z)((function(){Te(!0)}),[]);var Me=(0,_t.Z)(!1,{defaultValue:I,value:E}),Re=(0,It.Z)(Me,2),Ne=Re[0],De=Re[1],Be=!!_e&&Ne,ke=!m&&v;(C||ke&&Be&&"combobox"===b)&&(Be=!1);var Pe=!ke&&Be,ze=c.useCallback((function(e){var t=void 0!==e?e:!Be;C||(De(t),Be!==t&&(null==O||O(t)))}),[C,Be,De,O]),Fe=c.useMemo((function(){return(D||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[D]),He=function(e,t,n){var r=!0,o=e;null==_||_(null);var i=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var o=(0,nn.Z)(r),i=o[0],a=o.slice(1);if(!i)return[t];var l=t.split(i);return n=n||l.length>1,l.reduce((function(t,n){return[].concat((0,k.Z)(t),(0,k.Z)(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,D);return"combobox"!==b&&i&&(o="",null==A||A(i),ze(!1),r=!1),N&&we!==o&&N(o,{source:t?"typing":"effect"}),r};c.useEffect((function(){Be||oe||"combobox"===b||He("",!1,!1)}),[Be]),c.useEffect((function(){Ne&&C&&De(!1),C&&be(!1)}),[C]);var $e=ao(),je=(0,It.Z)($e,2),We=je[0],Ge=je[1],Ze=c.useRef(!1),Ve=[];c.useEffect((function(){return function(){Ve.forEach((function(e){return clearTimeout(e)})),Ve.splice(0,Ve.length)}}),[]);var Ue,Ye=c.useState({}),Xe=(0,It.Z)(Ye,2)[1];Se&&(Ue=function(e){ze(e)}),function(e,t,n,r){var o=c.useRef(null);o.current={open:t,triggerOpen:n,customizedTrigger:r},c.useEffect((function(){function t(t){var n;if(null===(n=o.current)||void 0===n||!n.customizedTrigger){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),o.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[de.current,null===(e=he.current)||void 0===e?void 0:e.getPopupElement()]}),Pe,ze,!!Se);var qe,Ke=c.useMemo((function(){return(0,Et.Z)((0,Et.Z)({},e),{},{notFoundContent:m,open:Be,triggerOpen:Pe,id:o,showSearch:ie,multiple:oe,toggleOpen:ze})}),[e,m,Pe,Be,o,ie,oe,ze]),Je=!!P||w;Je&&(qe=c.createElement(ro,{className:s()("".concat(i,"-arrow"),(0,St.Z)({},"".concat(i,"-arrow-loading"),w)),customizeIcon:P,customizeIconProps:{loading:w,searchValue:we,open:Be,focused:ye,showSearch:ie}}));var et,tt=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,s=c.useMemo((function(){return"object"===(0,Lt.Z)(r)?r.clearIcon:o||void 0}),[r,o]),u=c.useMemo((function(){return!(i||!r||!n.length&&!a||"combobox"===l&&""===a)}),[r,i,n.length,a,l]);return{allowClear:u,clearIcon:c.createElement(ro,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:s},"×")}}(i,(function(){var e;null==y||y(),null===(e=pe.current)||void 0===e||e.focus(),p([],{type:"clear",values:h}),He("",!1,!1)}),h,B,z,C,we,b),nt=tt.allowClear,rt=tt.clearIcon,ot=c.createElement(F,{ref:ve}),it=s()(i,a,(r={},(0,St.Z)(r,"".concat(i,"-focused"),ye),(0,St.Z)(r,"".concat(i,"-multiple"),oe),(0,St.Z)(r,"".concat(i,"-single"),!oe),(0,St.Z)(r,"".concat(i,"-allow-clear"),B),(0,St.Z)(r,"".concat(i,"-show-arrow"),Je),(0,St.Z)(r,"".concat(i,"-disabled"),C),(0,St.Z)(r,"".concat(i,"-loading"),w),(0,St.Z)(r,"".concat(i,"-open"),Be),(0,St.Z)(r,"".concat(i,"-customize-input"),xe),(0,St.Z)(r,"".concat(i,"-show-search"),ie),r)),at=c.createElement(Io,{ref:he,disabled:C,prefixCls:i,visible:Pe,popupElement:ot,animation:H,transitionName:$,dropdownStyle:j,dropdownClassName:W,direction:d,dropdownMatchSelectWidth:G,dropdownRender:Z,dropdownAlign:V,placement:U,builtinPlacements:Y,getPopupContainer:X,empty:v,getTriggerDOMNode:function(){return fe.current},onPopupVisibleChange:Ue,onPopupMouseEnter:function(){Xe({})}},Se?c.cloneElement(Se,{ref:Ee}):c.createElement(wo,(0,Qe.Z)({},e,{domRef:fe,prefixCls:i,inputElement:xe,ref:pe,id:o,showSearch:ie,autoClearSearchValue:R,mode:b,activeDescendantId:T,tagRender:u,values:h,open:Be,onToggleOpen:ze,activeValue:L,searchValue:we,onSearch:He,onSearchSubmit:function(e){e&&e.trim()&&N(e,{source:"submit"})},onRemove:function(e){var t=h.filter((function(t){return t!==e}));p(t,{type:"remove",values:[e]})},tokenWithEnter:Fe})));return et=Se?at:c.createElement("div",(0,Qe.Z)({className:it},ae,{ref:de,onMouseDown:function(e){var t,n=e.target,r=null===(t=he.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var o=setTimeout((function(){var e,t=Ve.indexOf(o);-1!==t&&Ve.splice(t,1),Ce(),ue||r.contains(document.activeElement)||null===(e=pe.current)||void 0===e||e.focus()}));Ve.push(o)}for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];null==ne||ne.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=We(),r=e.which;if(r===Rt.Z.ENTER&&("combobox"!==b&&e.preventDefault(),Be||ze(!0)),Ge(!!we),r===Rt.Z.BACKSPACE&&!n&&oe&&!we&&h.length){for(var o=(0,k.Z)(h),i=null,a=o.length-1;a>=0;a-=1){var l=o[a];if(!l.disabled){o.splice(a,1),i=l;break}}i&&p(o,{type:"remove",values:[i]})}for(var s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];Be&&ve.current&&(t=ve.current).onKeyDown.apply(t,[e].concat(u)),null==te||te.apply(void 0,[e].concat(u))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;Be&&ve.current&&(o=ve.current).onKeyUp.apply(o,[e].concat(n)),null==ee||ee.apply(void 0,[e].concat(n))},onFocus:function(){be(!0),C||(Q&&!Ze.current&&Q.apply(void 0,arguments),K.includes("focus")&&ze(!0)),Ze.current=!0},onBlur:function(){be(!1,(function(){Ze.current=!1,ze(!1)})),C||(we&&("tags"===b?N(we,{source:"submit"}):"multiple"===b&&N("",{source:"blur"})),J&&J.apply(void 0,arguments))}}),ye&&!Be&&c.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(h.map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,Lt.Z)(t))?t:n})).join(", "))),at,qe,nt&&rt),c.createElement(oo.Provider,{value:Ke},et)}));var Ao=No;function Do(e,t){return co(e).join("").toUpperCase().includes(t)}var Bo=0,ko=(0,hn.Z)();function Po(e){var t=c.useState(),n=(0,It.Z)(t,2),r=n[0],o=n[1];return c.useEffect((function(){var e;o("rc_select_".concat((ko?(e=Bo,Bo+=1):e="TEST_OR_SSR",e)))}),[]),e||r}var zo=["children","value"],Fo=["children"];function Ho(e){var t=e,n=t.key,r=t.props,o=r.children,i=r.value,a=(0,Ot.Z)(r,zo);return(0,Et.Z)({key:n,value:void 0!==i?i:n,children:o},a)}function $o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,_e.Z)(e).map((function(e,n){if(!c.isValidElement(e)||!e.type)return null;var r=e,o=r.type.isSelectOptGroup,i=r.key,a=r.props,l=a.children,s=(0,Ot.Z)(a,Fo);return t||!o?Ho(e):(0,Et.Z)((0,Et.Z)({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},s),{},{options:$o(l)})})).filter((function(e){return e}))}function jo(e,t,n,r,o){return c.useMemo((function(){var i=e;!e&&(i=$o(t));var a=new Map,l=new Map,s=function(e,t,n){n&&"string"==typeof n&&e.set(t[n],t)};return function e(t){for(var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=0;u<t.length;u+=1){var c=t[u];!c[n.options]||i?(a.set(c[n.value],c),s(l,c,n.label),s(l,c,r),s(l,c,o)):e(c[n.options],!0)}}(i),{options:i,valueOptions:a,labelOptions:l}}),[e,t,n,r,o])}function Wo(e){var t=c.useRef();t.current=e;var n=c.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var Go=function(){return null};Go.isSelectOptGroup=!0;var Zo=Go,Vo=function(){return null};Vo.isSelectOption=!0;var Uo=Vo,Yo=c.createContext(null);var Xo=["disabled","title","children","style","className"];function qo(e){return"string"==typeof e||"number"==typeof e}var Ko=function(e,t){var n=io(),r=n.prefixCls,o=n.id,i=n.open,a=n.multiple,l=n.mode,d=n.searchValue,f=n.toggleOpen,h=n.notFoundContent,p=n.onPopupScroll,v=c.useContext(Yo),g=v.flattenOptions,m=v.onActiveValue,y=v.defaultActiveFirstOption,b=v.onSelect,C=v.menuItemSelectedIcon,w=v.rawValues,x=v.fieldNames,S=v.virtual,E=v.direction,I=v.listHeight,O=v.listItemHeight,L="".concat(r,"-item"),_=(0,Ln.Z)((function(){return g}),[i,g],(function(e,t){return t[0]&&e[1]!==t[1]})),T=c.useRef(null),M=function(e){e.preventDefault()},R=function(e){T.current&&T.current.scrollTo("number"==typeof e?{index:e}:e)},N=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=_.length,r=0;r<n;r+=1){var o=(e+r*t+n)%n,i=_[o],a=i.group,l=i.data;if(!a&&!l.disabled)return o}return-1},A=c.useState((function(){return N(0)})),D=(0,It.Z)(A,2),B=D[0],P=D[1],z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];P(e);var n={source:t?"keyboard":"mouse"},r=_[e];r?m(r.value,e,n):m(null,-1,n)};(0,c.useEffect)((function(){z(!1!==y?N(0):-1)}),[_.length,d]);var F=c.useCallback((function(e){return w.has(e)&&"combobox"!==l}),[l,(0,k.Z)(w).toString(),w.size]);(0,c.useEffect)((function(){var e,t=setTimeout((function(){if(!a&&i&&1===w.size){var e=Array.from(w)[0],t=_.findIndex((function(t){return t.data.value===e}));-1!==t&&(z(t),R(t))}}));i&&(null===(e=T.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[i,d,g.length]);var H=function(e){void 0!==e&&b(e,{selected:!w.has(e)}),a||f(!1)};if(c.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Rt.Z.N:case Rt.Z.P:case Rt.Z.UP:case Rt.Z.DOWN:var r=0;if(t===Rt.Z.UP?r=-1:t===Rt.Z.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Rt.Z.N?r=1:t===Rt.Z.P&&(r=-1)),0!==r){var o=N(B+r,r);R(o),z(o,!0)}break;case Rt.Z.ENTER:var a=_[B];a&&!a.data.disabled?H(a.value):H(void 0),i&&e.preventDefault();break;case Rt.Z.ESC:f(!1),i&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){R(e)}}})),0===_.length)return c.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(L,"-empty"),onMouseDown:M},h);var $=Object.keys(x).map((function(e){return x[e]})),j=function(e){return e.label};function W(e,t){return{role:e.group?"presentation":"option",id:"".concat(o,"_list_").concat(t)}}var G=function(e){var t=_[e];if(!t)return null;var n=t.data||{},r=n.value,o=t.group,i=(0,Bt.Z)(n,!0),a=j(t);return t?c.createElement("div",(0,Qe.Z)({"aria-label":"string"!=typeof a||o?null:a},i,{key:e},W(t,e),{"aria-selected":F(r)}),r):null},Z={role:"listbox",id:"".concat(o,"_list")};return c.createElement(c.Fragment,null,S&&c.createElement("div",(0,Qe.Z)({},Z,{style:{height:0,width:0,overflow:"hidden"}}),G(B-1),G(B),G(B+1)),c.createElement(Kn,{itemKey:"key",ref:T,data:_,height:I,itemHeight:O,fullHeight:!1,onMouseDown:M,onScroll:p,virtual:S,direction:E,innerProps:S?null:Z},(function(e,t){var n,r=e.group,o=e.groupOption,i=e.data,a=e.label,l=e.value,d=i.key;if(r){var f,h=null!==(f=i.title)&&void 0!==f?f:qo(a)?a.toString():void 0;return c.createElement("div",{className:s()(L,"".concat(L,"-group")),title:h},void 0!==a?a:d)}var p=i.disabled,v=i.title,g=(i.children,i.style),m=i.className,y=(0,Ot.Z)(i,Xo),b=(0,u.Z)(y,$),w=F(l),x="".concat(L,"-option"),E=s()(L,x,m,(n={},(0,St.Z)(n,"".concat(x,"-grouped"),o),(0,St.Z)(n,"".concat(x,"-active"),B===t&&!p),(0,St.Z)(n,"".concat(x,"-disabled"),p),(0,St.Z)(n,"".concat(x,"-selected"),w),n)),I=j(e),O=!C||"function"==typeof C||w,_="number"==typeof I?I:I||l,T=qo(_)?_.toString():void 0;return void 0!==v&&(T=v),c.createElement("div",(0,Qe.Z)({},(0,Bt.Z)(b),S?{}:W(e,t),{"aria-selected":w,className:E,title:T,onMouseMove:function(){B===t||p||z(t)},onClick:function(){p||H(l)},style:g}),c.createElement("div",{className:"".concat(x,"-content")},_),c.isValidElement(C)||w,O&&c.createElement(ro,{className:"".concat(L,"-option-state"),customizeIcon:C,customizeIconProps:{isSelected:w}},w?"✓":null))})))},Qo=c.forwardRef(Ko);Qo.displayName="OptionList";var Jo=Qo;var ei=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],ti=["inputValue"];var ni=c.forwardRef((function(e,t){var n=e.id,r=e.mode,o=e.prefixCls,i=void 0===o?"rc-select":o,a=e.backfill,l=e.fieldNames,s=e.inputValue,u=e.searchValue,d=e.onSearch,f=e.autoClearSearchValue,h=void 0===f||f,p=e.onSelect,v=e.onDeselect,g=e.dropdownMatchSelectWidth,m=void 0===g||g,y=e.filterOption,b=e.filterSort,C=e.optionFilterProp,w=e.optionLabelProp,x=e.options,S=e.children,E=e.defaultActiveFirstOption,I=e.menuItemSelectedIcon,O=e.virtual,L=e.direction,_=e.listHeight,T=void 0===_?200:_,M=e.listItemHeight,R=void 0===M?20:M,N=e.value,A=e.defaultValue,D=e.labelInValue,B=e.onChange,P=(0,Ot.Z)(e,ei),z=Po(n),F=Ro(r),H=!(x||!S),$=c.useMemo((function(){return(void 0!==y||"combobox"!==r)&&y}),[y,r]),j=c.useMemo((function(){return Lo(l,H)}),[JSON.stringify(l),H]),W=(0,_t.Z)("",{value:void 0!==u?u:s,postState:function(e){return e||""}}),G=(0,It.Z)(W,2),Z=G[0],V=G[1],U=jo(x,S,j,C,w),Y=U.valueOptions,X=U.labelOptions,q=U.options,K=c.useCallback((function(e){return co(e).map((function(e){var t,n,r,o,i,a;(function(e){return!e||"object"!==(0,Lt.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:r);var l,s=Y.get(t);s&&(void 0===n&&(n=null==s?void 0:s[w||j.label]),void 0===r&&(r=null!==(l=null==s?void 0:s.key)&&void 0!==l?l:t),o=null==s?void 0:s.disabled,i=null==s?void 0:s.title);return{label:n,value:t,key:r,disabled:o,title:i}}))}),[j,w,Y]),Q=(0,_t.Z)(A,{value:N}),J=(0,It.Z)(Q,2),ee=J[0],te=J[1],ne=c.useMemo((function(){var e,t=K(ee);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t}),[ee,K,r]),re=function(e,t){var n=c.useRef({values:new Map,options:new Map});return[c.useMemo((function(){var r=n.current,o=r.values,i=r.options,a=e.map((function(e){var t;return void 0===e.label?(0,Et.Z)((0,Et.Z)({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e})),l=new Map,s=new Map;return a.forEach((function(e){l.set(e.value,e),s.set(e.value,t.get(e.value)||i.get(e.value))})),n.current.values=l,n.current.options=s,a}),[e,t]),c.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(ne,Y),oe=(0,It.Z)(re,2),ie=oe[0],ae=oe[1],le=c.useMemo((function(){if(!r&&1===ie.length){var e=ie[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ie.map((function(e){var t;return(0,Et.Z)((0,Et.Z)({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[r,ie]),se=c.useMemo((function(){return new Set(ie.map((function(e){return e.value})))}),[ie]);c.useEffect((function(){if("combobox"===r){var e,t=null===(e=ie[0])||void 0===e?void 0:e.value;V(function(e){return null!=e}(t)?String(t):"")}}),[ie]);var ue=Wo((function(e,t){var n,r=null!=t?t:e;return n={},(0,St.Z)(n,j.value,e),(0,St.Z)(n,j.label,r),n})),ce=c.useMemo((function(){if("tags"!==r)return q;var e=(0,k.Z)(q);return(0,k.Z)(ie).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return Y.has(e)})(n)||e.push(ue(n,t.label))})),e}),[ue,q,Y,ie,r]),de=function(e,t,n,r,o){return c.useMemo((function(){if(!n||!1===r)return e;var i=t.options,a=t.label,l=t.value,s=[],u="function"==typeof r,c=n.toUpperCase(),d=u?r:function(e,t){return o?Do(t[o],c):t[i]?Do(t["children"!==a?a:"label"],c):Do(t[l],c)},f=u?function(e){return _o(e)}:function(e){return e};return e.forEach((function(e){if(e[i])if(d(n,f(e)))s.push(e);else{var t=e[i].filter((function(e){return d(n,f(e))}));t.length&&s.push((0,Et.Z)((0,Et.Z)({},e),{},(0,St.Z)({},i,t)))}else d(n,f(e))&&s.push(e)})),s}),[e,r,o,n,t])}(ce,j,Z,$,C),fe=c.useMemo((function(){return"tags"!==r||!Z||de.some((function(e){return e[C||"value"]===Z}))||de.some((function(e){return e[j.value]===Z}))?de:[ue(Z)].concat((0,k.Z)(de))}),[ue,C,r,de,Z,j]),he=c.useMemo((function(){return b?(0,k.Z)(fe).sort((function(e,t){return b(e,t)})):fe}),[fe,b]),pe=c.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,o=[],i=Lo(n,!1),a=i.label,l=i.value,s=i.options,u=i.groupLabel;function c(e,t){e.forEach((function(e){if(t||!(s in e)){var n=e[l];o.push({key:Oo(e,o.length),groupOption:t,data:e,label:e[a],value:n})}else{var i=e[u];void 0===i&&r&&(i=e.label),o.push({key:Oo(e,o.length),group:!0,data:e,label:i}),c(e[s],!0)}}))}return c(e,!1),o}(he,{fieldNames:j,childrenAsData:H})}),[he,j,H]),ve=function(e){var t=K(e);if(te(t),B&&(t.length!==ie.length||t.some((function(e,t){var n;return(null===(n=ie[t])||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)})))){var n=D?t:t.map((function(e){return e.value})),r=t.map((function(e){return _o(ae(e.value))}));B(F?n:n[0],F?r:r[0])}},ge=c.useState(null),me=(0,It.Z)(ge,2),ye=me[0],be=me[1],Ce=c.useState(0),we=(0,It.Z)(Ce,2),xe=we[0],Se=we[1],Ee=void 0!==E?E:"combobox"!==r,Ie=c.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.source,i=void 0===o?"keyboard":o;Se(t),a&&"combobox"===r&&null!==e&&"keyboard"===i&&be(String(e))}),[a,r]),Oe=function(e,t,n){var r=function(){var t,n=ae(e);return[D?{label:null==n?void 0:n[j.label],value:e,key:null!==(t=null==n?void 0:n.key)&&void 0!==t?t:e}:e,_o(n)]};if(t&&p){var o=r(),i=(0,It.Z)(o,2),a=i[0],l=i[1];p(a,l)}else if(!t&&v&&"clear"!==n){var s=r(),u=(0,It.Z)(s,2),c=u[0],d=u[1];v(c,d)}},Le=Wo((function(e,t){var n,o=!F||t.selected;n=o?F?[].concat((0,k.Z)(ie),[e]):[e]:ie.filter((function(t){return t.value!==e})),ve(n),Oe(e,o),"combobox"===r?be(""):Ro&&!h||(V(""),be(""))})),_e=c.useMemo((function(){var e=!1!==O&&!1!==m;return(0,Et.Z)((0,Et.Z)({},U),{},{flattenOptions:pe,onActiveValue:Ie,defaultActiveFirstOption:Ee,onSelect:Le,menuItemSelectedIcon:I,rawValues:se,fieldNames:j,virtual:e,direction:L,listHeight:T,listItemHeight:R,childrenAsData:H})}),[U,pe,Ie,Ee,Le,I,se,j,O,m,T,R,H]);return c.createElement(Yo.Provider,{value:_e},c.createElement(Ao,(0,Qe.Z)({},P,{id:z,prefixCls:i,ref:t,omitDomProps:ti,mode:r,displayValues:le,onDisplayValuesChange:function(e,t){ve(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach((function(e){Oe(e.value,!1,n)}))},direction:L,searchValue:Z,onSearch:function(e,t){if(V(e),be(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&ve(e),null==d||d(e));else{var n=(e||"").trim();if(n){var o=Array.from(new Set([].concat((0,k.Z)(se),[n])));ve(o),Oe(n,!0),V("")}}},autoClearSearchValue:h,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=X.get(e);return null==t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,k.Z)(se),(0,k.Z)(t))));ve(n),n.forEach((function(e){Oe(e,!0)}))},dropdownMatchSelectWidth:m,OptionList:Jo,emptyOptions:!pe.length,activeValue:ye,activeDescendantId:"".concat(z,"_list_").concat(xe)})))}));var ri=ni;ri.Option=Uo,ri.OptGroup=Zo;function oi(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function ii(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,o=t.checkable;return!(!n&&!r)||!1===o}function ai(e,t,n,r){var o,i=[];o=r||ii;var a,l=new Set(e.filter((function(e){var t=!!n[e];return t||i.push(e),t}))),s=new Map,u=0;return Object.keys(n).forEach((function(e){var t=n[e],r=t.level,o=s.get(r);o||(o=new Set,s.set(r,o)),o.add(t),u=Math.max(u,r)})),(0,Tt.ZP)(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),a=!0===t?function(e,t,n,r){for(var o=new Set(e),i=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach((function(e){var t=e.key,n=e.node,i=e.children,a=void 0===i?[]:i;o.has(t)&&!r(n)&&a.filter((function(e){return!r(e.node)})).forEach((function(e){o.add(e.key)}))}));for(var l=new Set,s=n;s>=0;s-=1)(t.get(s)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!l.has(e.parent.key))if(r(e.parent.node))l.add(t.key);else{var a=!0,s=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);a&&!n&&(a=!1),s||!n&&!i.has(t)||(s=!0)})),a&&o.add(t.key),s&&i.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(oi(i,o))}}(l,s,u,o):function(e,t,n,r,o){for(var i=new Set(e),a=new Set(t),l=0;l<=r;l+=1)(n.get(l)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,l=void 0===r?[]:r;i.has(t)||a.has(t)||o(n)||l.filter((function(e){return!o(e.node)})).forEach((function(e){i.delete(e.key)}))}));a=new Set;for(var s=new Set,u=r;u>=0;u-=1)(n.get(u)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!s.has(e.parent.key))if(o(e.parent.node))s.add(t.key);else{var r=!0,l=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,n=i.has(t);r&&!n&&(r=!1),l||!n&&!a.has(t)||(l=!0)})),r||i.delete(t.key),l&&a.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(oi(a,i))}}(l,t.halfCheckedKeys,s,u,o),a}var li=n(66680),si=c.createContext(null),ui="__rc_cascader_search_mark__",ci=function(e,t,n){var r=n.label;return t.some((function(t){return String(t[r]).toLowerCase().includes(e.toLowerCase())}))},di=function(e,t,n,r){return t.map((function(e){return e[r.label]})).join(" / ")},fi="__RC_CASCADER_SPLIT__",hi="SHOW_PARENT",pi="SHOW_CHILD";function vi(e){return e.join(fi)}function gi(e){return e.map(vi)}function mi(e,t){var n,r;return null!==(n=e.isLeaf)&&void 0!==n?n:!(null!==(r=e[t.children])&&void 0!==r&&r.length)}function yi(e){var t=e.parentElement;if(t){var n=e.offsetTop-t.offsetTop;n-t.scrollTop<0?t.scrollTo({top:n}):n+e.offsetHeight-t.scrollTop>t.offsetHeight&&t.scrollTo({top:n+e.offsetHeight-t.offsetHeight})}}function bi(e,t){return e.map((function(e){var n;return null===(n=e[ui])||void 0===n?void 0:n.map((function(e){return e[t.value]}))}))}function Ci(e,t,n){var r=new Set(e),o=t();return e.filter((function(e){var t=o[e],i=t?t.parent:null,a=t?t.children:null;return!(!t||!t.node.disabled)||(n===pi?!(a&&a.some((function(e){return e.key&&r.has(e.key)}))):!(i&&!i.node.disabled&&r.has(i.key)))}))}function wi(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t,i=[],a=function(){var t,a,s,u=e[l],c=null===(t=o)||void 0===t?void 0:t.findIndex((function(e){var t=e[n.value];return r?String(t)===String(u):t===u})),d=-1!==c?null===(a=o)||void 0===a?void 0:a[c]:null;i.push({value:null!==(s=null==d?void 0:d[n.value])&&void 0!==s?s:u,index:c,option:d}),o=null==d?void 0:d[n.children]},l=0;l<e.length;l+=1)a();return i}function xi(e,t){return"".concat(e,"-").concat(t)}function Si(e,t){return null!=e?e:t}function Ei(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function Ii(e,t,n){var r,o=("object"===(0,Lt.Z)(n)?n:{externalGetKey:n})||{},i=o.childrenPropName,a=o.externalGetKey,l=Ei(o.fieldNames),s=l.key,u=l.children,c=i||u;a?"string"==typeof a?r=function(e){return e[a]}:"function"==typeof a&&(r=function(e){return a(e)}):r=function(e,t){return Si(e[s],t)},function n(o,i,a,l){var s=o?o[c]:e,u=o?xi(a.pos,i):"0",d=o?[].concat((0,k.Z)(l),[o]):[];if(o){var f=r(o,u),h={node:o,index:i,pos:u,key:f,parentPos:a.node?a.pos:null,level:a.level+1,nodes:d};t(h)}s&&s.forEach((function(e,t){n(e,t,{node:o,pos:u,level:a?a.level+1:-1},d)}))}(null)}var Oi=function(e,t){var n=c.useRef({options:null,info:null}),r=c.useCallback((function(){return n.current.options!==e&&(n.current.options=e,n.current.info=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,o=t.onProcessFinished,i=t.externalGetKey,a=t.childrenPropName,l=t.fieldNames,s=arguments.length>2?arguments[2]:void 0,u=i||s,c={},d={},f={posEntities:c,keyEntities:d};return n&&(f=n(f)||f),Ii(e,(function(e){var t=e.node,n=e.index,o=e.pos,i=e.key,a=e.parentPos,l=e.level,s={node:t,nodes:e.nodes,index:n,key:i,pos:o,level:l},u=Si(i,o);c[o]=s,d[u]=s,s.parent=c[a],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s)),r&&r(s,f)}),{externalGetKey:u,childrenPropName:a,fieldNames:l}),o&&o(f),f}(e,{fieldNames:t,initWrapper:function(e){return(0,Et.Z)((0,Et.Z)({},e),{},{pathKeyEntities:{}})},processEntity:function(e,n){var r=e.nodes.map((function(e){return e[t.value]})).join(fi);n.pathKeyEntities[r]=e,e.key=r}})),n.current.info.pathKeyEntities}),[t,e]);return r};var Li=c.memo((function(e){return e.children}),(function(e,t){return!t.open}));function _i(e){var t,n=e.prefixCls,r=e.checked,o=e.halfChecked,i=e.disabled,a=e.onClick,l=e.disableCheckbox,u=c.useContext(si).checkable,d="boolean"!=typeof u?u:null;return c.createElement("span",{className:s()("".concat(n),(t={},(0,St.Z)(t,"".concat(n,"-checked"),r),(0,St.Z)(t,"".concat(n,"-indeterminate"),!r&&o),(0,St.Z)(t,"".concat(n,"-disabled"),i||l),t)),onClick:a},d)}var Ti="__cascader_fix_label__";function Mi(e){var t=e.prefixCls,n=e.multiple,r=e.options,o=e.activeValue,i=e.prevValuePath,a=e.onToggleOpen,l=e.onSelect,u=e.onActive,d=e.checkedSet,f=e.halfCheckedSet,h=e.loadingKeys,p=e.isSelectable,v=e.searchValue,g="".concat(t,"-menu"),m="".concat(t,"-menu-item"),y=c.useContext(si),b=y.fieldNames,C=y.changeOnSelect,w=y.expandTrigger,x=y.expandIcon,S=y.loadingIcon,E=y.dropdownMenuColumnStyle,I="hover"===w,O=c.useMemo((function(){return r.map((function(e){var t,n=e.disabled,r=e.disableCheckbox,o=e[ui],a=null!==(t=e[Ti])&&void 0!==t?t:e[b.label],l=e[b.value],s=mi(e,b),u=o?o.map((function(e){return e[b.value]})):[].concat((0,k.Z)(i),[l]),c=vi(u);return{disabled:n,label:a,value:l,isLeaf:s,isLoading:h.includes(c),checked:d.has(c),halfChecked:f.has(c),option:e,disableCheckbox:r,fullPath:u,fullPathKey:c}}))}),[r,d,b,f,h,i]);return c.createElement("ul",{className:g,role:"menu"},O.map((function(e){var r,i,d=e.disabled,f=e.label,h=e.value,g=e.isLeaf,y=e.isLoading,b=e.checked,w=e.halfChecked,O=e.option,L=e.fullPath,_=e.fullPathKey,T=e.disableCheckbox,M=function(){if(!d&&!v){var e=(0,k.Z)(L);I&&g&&e.pop(),u(e)}},R=function(){p(O)&&l(L,g)};return"string"==typeof O.title?i=O.title:"string"==typeof f&&(i=f),c.createElement("li",{key:_,className:s()(m,(r={},(0,St.Z)(r,"".concat(m,"-expand"),!g),(0,St.Z)(r,"".concat(m,"-active"),o===h||o===_),(0,St.Z)(r,"".concat(m,"-disabled"),d),(0,St.Z)(r,"".concat(m,"-loading"),y),r)),style:E,role:"menuitemcheckbox",title:i,"aria-checked":b,"data-path-key":_,onClick:function(){M(),T||n&&!g||R()},onDoubleClick:function(){C&&a(!1)},onMouseEnter:function(){I&&M()},onMouseDown:function(e){e.preventDefault()}},n&&c.createElement(_i,{prefixCls:"".concat(t,"-checkbox"),checked:b,halfChecked:w,disabled:d||T,disableCheckbox:T,onClick:function(e){T||(e.stopPropagation(),R())}}),c.createElement("div",{className:"".concat(m,"-content")},f),!y&&x&&!g&&c.createElement("div",{className:"".concat(m,"-expand-icon")},x),y&&S&&c.createElement("div",{className:"".concat(m,"-loading-icon")},S))})))}var Ri=function(e,t,n,r,o,i){var a=io(),l=a.direction,s=a.searchValue,u=a.toggleOpen,d=a.open,f="rtl"===l,h=c.useMemo((function(){for(var e=-1,o=t,i=[],a=[],l=r.length,s=bi(t,n),u=function(t){var l=o.findIndex((function(e,o){return(s[o]?vi(s[o]):e[n.value])===r[t]}));if(-1===l)return"break";e=l,i.push(e),a.push(r[t]),o=o[e][n.children]},c=0;c<l&&o;c+=1){if("break"===u(c))break}for(var d=t,f=0;f<i.length-1;f+=1)d=d[i[f]][n.children];return[a,e,d,s]}),[r,n,t]),p=(0,It.Z)(h,4),v=p[0],g=p[1],m=p[2],y=p[3],b=function(e){o(e)},C=function(){if(v.length>1){var e=v.slice(0,-1);b(e)}else u(!1)},w=function(){var e,t=((null===(e=m[g])||void 0===e?void 0:e[n.children])||[]).find((function(e){return!e.disabled}));if(t){var r=[].concat((0,k.Z)(v),[t[n.value]]);b(r)}};c.useImperativeHandle(e,(function(){return{onKeyDown:function(e){var t=e.which;switch(t){case Rt.Z.UP:case Rt.Z.DOWN:var r=0;t===Rt.Z.UP?r=-1:t===Rt.Z.DOWN&&(r=1),0!==r&&function(e){var t=m.length,r=g;-1===r&&e<0&&(r=t);for(var o=0;o<t;o+=1){var i=m[r=(r+e+t)%t];if(i&&!i.disabled){var a=v.slice(0,-1).concat(y[r]?vi(y[r]):i[n.value]);return void b(a)}}}(r);break;case Rt.Z.LEFT:if(s)break;f?w():C();break;case Rt.Z.RIGHT:if(s)break;f?C():w();break;case Rt.Z.BACKSPACE:s||C();break;case Rt.Z.ENTER:if(v.length){var o=m[g],a=(null==o?void 0:o[ui])||[];a.length?i(a.map((function(e){return e[n.value]})),a[a.length-1]):i(v,m[g])}break;case Rt.Z.ESC:u(!1),d&&e.stopPropagation()}},onKeyUp:function(){}}}))},Ni=c.forwardRef((function(e,t){var n,r,o,i,a=io(),l=a.prefixCls,u=a.multiple,d=a.searchValue,f=a.toggleOpen,h=a.notFoundContent,p=a.direction,v=a.open,g=c.useRef(),m="rtl"===p,y=c.useContext(si),b=y.options,C=y.values,w=y.halfValues,x=y.fieldNames,S=y.changeOnSelect,E=y.onSelect,I=y.searchOptions,O=y.dropdownPrefixCls,L=y.loadData,_=y.expandTrigger,T=O||l,M=c.useState([]),R=(0,It.Z)(M,2),N=R[0],A=R[1];c.useEffect((function(){N.length&&N.forEach((function(e){var t=wi(e.split(fi),b,x,!0).map((function(e){return e.option})),n=t[t.length-1];(!n||n[x.children]||mi(n,x))&&A((function(t){return t.filter((function(t){return t!==e}))}))}))}),[b,N,x]);var D=c.useMemo((function(){return new Set(gi(C))}),[C]),B=c.useMemo((function(){return new Set(gi(w))}),[w]),P=function(){var e=io(),t=e.multiple,n=e.open,r=c.useContext(si).values,o=c.useState([]),i=(0,It.Z)(o,2),a=i[0],l=i[1];return c.useEffect((function(){if(n&&!t){var e=r[0];l(e||[])}}),[n]),[a,l]}(),z=(0,It.Z)(P,2),F=z[0],H=z[1],$=function(e){H(e),function(e){if(L&&!d){var t=wi(e,b,x).map((function(e){return e.option})),n=t[t.length-1];if(n&&!mi(n,x)){var r=vi(e);A((function(e){return[].concat((0,k.Z)(e),[r])})),L(t)}}}(e)},j=function(e){var t=e.disabled,n=mi(e,x);return!t&&(n||S||u)},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];E(e),!u&&(t||S&&("hover"===_||n))&&f(!1)},G=c.useMemo((function(){return d?I:b}),[d,I,b]),Z=c.useMemo((function(){for(var e=[{options:G}],t=G,n=bi(t,x),r=function(){var r=F[o],i=t.find((function(e,t){return(n[t]?vi(n[t]):e[x.value])===r})),a=null==i?void 0:i[x.children];if(null==a||!a.length)return"break";t=a,e.push({options:a})},o=0;o<F.length;o+=1){if("break"===r())break}return e}),[G,F,x]);Ri(t,G,x,F,$,(function(e,t){j(t)&&W(e,mi(t,x),!0)})),c.useEffect((function(){for(var e=0;e<F.length;e+=1){var t,n=vi(F.slice(0,e+1)),r=null===(t=g.current)||void 0===t?void 0:t.querySelector('li[data-path-key="'.concat(n.replace(/\\{0,2}"/g,'\\"'),'"]'));r&&yi(r)}}),[F]);var V=!(null!==(n=Z[0])&&void 0!==n&&null!==(r=n.options)&&void 0!==r&&r.length),U=[(o={},(0,St.Z)(o,x.value,"__EMPTY__"),(0,St.Z)(o,Ti,h),(0,St.Z)(o,"disabled",!0),o)],Y=(0,Et.Z)((0,Et.Z)({},e),{},{multiple:!V&&u,onSelect:W,onActive:$,onToggleOpen:f,checkedSet:D,halfCheckedSet:B,loadingKeys:N,isSelectable:j}),X=(V?[{options:U}]:Z).map((function(e,t){var n=F.slice(0,t),r=F[t];return c.createElement(Mi,(0,Qe.Z)({key:t},Y,{searchValue:d,prefixCls:T,options:e.options,prevValuePath:n,activeValue:r}))}));return c.createElement(Li,{open:v},c.createElement("div",{className:s()("".concat(T,"-menus"),(i={},(0,St.Z)(i,"".concat(T,"-menu-empty"),V),(0,St.Z)(i,"".concat(T,"-rtl"),m),i)),ref:g},X))})),Ai=Ni;var Di=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","autoClearSearchValue","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy"];function Bi(e){return e?function(e){return Array.isArray(e)&&Array.isArray(e[0])}(e)?e:(0===e.length?[]:[e]).map((function(e){return Array.isArray(e)?e:[e]})):[]}var ki=c.forwardRef((function(e,t){var n=e.id,r=e.prefixCls,o=void 0===r?"rc-cascader":r,i=e.fieldNames,a=e.defaultValue,l=e.value,s=e.changeOnSelect,u=e.onChange,d=e.displayRender,f=e.checkable,h=e.autoClearSearchValue,p=void 0===h||h,v=e.searchValue,g=e.onSearch,m=e.showSearch,y=e.expandTrigger,b=e.options,C=e.dropdownPrefixCls,w=e.loadData,x=e.popupVisible,S=e.open,E=e.popupClassName,I=e.dropdownClassName,O=e.dropdownMenuColumnStyle,L=e.popupPlacement,_=e.placement,T=e.onDropdownVisibleChange,M=e.onPopupVisibleChange,R=e.expandIcon,N=void 0===R?">":R,A=e.loadingIcon,D=e.children,B=e.dropdownMatchSelectWidth,P=void 0!==B&&B,z=e.showCheckedStrategy,F=void 0===z?hi:z,H=(0,Ot.Z)(e,Di),$=Po(n),j=!!f,W=(0,_t.Z)(a,{value:l,postState:Bi}),G=(0,It.Z)(W,2),Z=G[0],V=G[1],U=c.useMemo((function(){return function(e){var t=e||{},n=t.label,r=t.value||"value";return{label:n||"label",value:r,key:r,children:t.children||"children"}}(i)}),[JSON.stringify(i)]),Y=c.useMemo((function(){return b||[]}),[b]),X=Oi(Y,U),q=c.useCallback((function(e){var t=X();return e.map((function(e){return t[e].nodes.map((function(e){return e[U.value]}))}))}),[X,U]),K=(0,_t.Z)("",{value:v,postState:function(e){return e||""}}),Q=(0,It.Z)(K,2),J=Q[0],ee=Q[1],te=function(e){return c.useMemo((function(){if(!e)return[!1,{}];var t={matchInputWidth:!0,limit:50};return e&&"object"===(0,Lt.Z)(e)&&(t=(0,Et.Z)((0,Et.Z)({},t),e)),t.limit<=0&&delete t.limit,[!0,t]}),[e])}(m),ne=(0,It.Z)(te,2),re=ne[0],oe=ne[1],ie=function(e,t,n,r,o,i){var a=o.filter,l=void 0===a?ci:a,s=o.render,u=void 0===s?di:s,d=o.limit,f=void 0===d?50:d,h=o.sort;return c.useMemo((function(){var o=[];return e?(function t(a,s){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.forEach((function(a){if(!(!h&&!1!==f&&f>0&&o.length>=f)){var d,p=[].concat((0,k.Z)(s),[a]),v=a[n.children],g=c||a.disabled;v&&0!==v.length&&!i||l(e,p,{label:n.label})&&o.push((0,Et.Z)((0,Et.Z)({},a),{},(d={disabled:g},(0,St.Z)(d,n.label,u(e,p,r,n)),(0,St.Z)(d,ui,p),(0,St.Z)(d,n.children,void 0),d))),v&&t(a[n.children],p,g)}}))}(t,[]),h&&o.sort((function(t,r){return h(t[ui],r[ui],e,n)})),!1!==f&&f>0?o.slice(0,f):o):[]}),[e,t,n,r,u,i,l,h,f])}(J,Y,U,C||o,oe,s),ae=function(e,t){return c.useCallback((function(n){var r=[],o=[];return n.forEach((function(n){wi(n,e,t).every((function(e){return e.option}))?o.push(n):r.push(n)})),[o,r]}),[e,t])}(Y,U),le=c.useMemo((function(){var e=ae(Z),t=(0,It.Z)(e,2),n=t[0],r=t[1];if(!j||!Z.length)return[n,[],r];var o=ai(gi(n),!0,X()),i=o.checkedKeys,a=o.halfCheckedKeys;return[q(i),q(a),r]}),[j,Z,X,q,ae]),se=(0,It.Z)(le,3),ue=se[0],ce=se[1],de=se[2],fe=function(e,t,n,r,o){return c.useMemo((function(){var i=o||function(e){var t=r?e.slice(-1):e;return t.every((function(e){return["string","number"].includes((0,Lt.Z)(e))}))?t.join(" / "):t.reduce((function(e,t,n){var r=c.isValidElement(t)?c.cloneElement(t,{key:n}):t;return 0===n?[r]:[].concat((0,k.Z)(e),[" / ",r])}),[])};return e.map((function(e){var r,o,a=wi(e,t,n),l=i(a.map((function(e){var t,r=e.option,o=e.value;return null!==(t=null==r?void 0:r[n.label])&&void 0!==t?t:o})),a.map((function(e){return e.option}))),s=vi(e);return{label:l,value:s,key:s,valueCells:e,disabled:null===(r=a[a.length-1])||void 0===r||null===(o=r.option)||void 0===o?void 0:o.disabled}}))}),[e,t,n,o,r])}(c.useMemo((function(){var e=Ci(gi(ue),X,F);return[].concat((0,k.Z)(de),(0,k.Z)(q(e)))}),[ue,X,q,de,F]),Y,U,j,d),he=(0,li.Z)((function(e){if(V(e),u){var t=Bi(e),n=t.map((function(e){return wi(e,Y,U).map((function(e){return e.option}))})),r=j?t:t[0],o=j?n:n[0];u(r,o)}})),pe=(0,li.Z)((function(e){if(j&&!p||ee(""),j){var t=vi(e),n=gi(ue),r=gi(ce),o=n.includes(t),i=de.some((function(e){return vi(e)===t})),a=ue,l=de;if(i&&!o)l=de.filter((function(e){return vi(e)!==t}));else{var s,u=o?n.filter((function(e){return e!==t})):[].concat((0,k.Z)(n),[t]),c=X();if(o)s=ai(u,{checked:!1,halfCheckedKeys:r},c).checkedKeys;else s=ai(u,!0,c).checkedKeys;var d=Ci(s,X,F);a=q(d)}he([].concat((0,k.Z)(l),(0,k.Z)(a)))}else he(e)})),ve=void 0!==S?S:x,ge=I||E,me=_||L;var ye=c.useMemo((function(){return{options:Y,fieldNames:U,values:ue,halfValues:ce,changeOnSelect:s,onSelect:pe,checkable:f,searchOptions:ie,dropdownPrefixCls:C,loadData:w,expandTrigger:y,expandIcon:N,loadingIcon:A,dropdownMenuColumnStyle:O}}),[Y,U,ue,ce,s,pe,f,ie,C,w,y,N,A,O]),be=!(J?ie:Y).length,Ce=J&&oe.matchInputWidth||be?{}:{minWidth:"auto"};return c.createElement(si.Provider,{value:ye},c.createElement(Ao,(0,Qe.Z)({},H,{ref:t,id:$,prefixCls:o,autoClearSearchValue:p,dropdownMatchSelectWidth:P,dropdownStyle:Ce,displayValues:fe,onDisplayValuesChange:function(e,t){if("clear"!==t.type){var n=t.values[0].valueCells;pe(n)}else he([])},mode:j?"multiple":void 0,searchValue:J,onSearch:function(e,t){ee(e),"blur"!==t.source&&g&&g(e)},showSearch:re,OptionList:Ai,emptyOptions:be,open:ve,dropdownClassName:ge,placement:me,onDropdownVisibleChange:function(e){null==T||T(e),null==M||M(e)},getRawInputElement:function(){return D}})))}));ki.SHOW_PARENT=hi,ki.SHOW_CHILD=pi;var Pi=ki;const zi=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},(0,m.Wf)(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},(0,m.Wf)(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},(0,m.Wf)(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},(0,m.oN)(e))},[`${t}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:`${e.lineWidthBold}px solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`\n        ${n}:not(${n}-disabled),\n        ${t}:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${t}-checked:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function Fi(e,t){const n=(0,b.TS)(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[zi(n)]}var Hi=(0,y.Z)("Checkbox",((e,t)=>{let{prefixCls:n}=t;return[Fi(n,e)]}));const $i=e=>{const{prefixCls:t,componentCls:n,antCls:r}=e,o=`${n}-menu-item`,i=`\n    &${o}-expand ${o}-expand-icon,\n    ${o}-loading-icon\n  `;return[{[n]:{width:e.controlWidth}},{[`${n}-dropdown`]:[Fi(`${t}-checkbox`,e),{[`&${r}-select-dropdown`]:{padding:0}},{[n]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${n}-menu-empty`]:{[`${n}-menu`]:{width:"100%",height:"auto",[o]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.menuPadding,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},"&-item":Object.assign(Object.assign({},m.vS),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:e.optionPadding,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[i]:{color:e.colorTextDisabled}},[`&-active:not(${o}-disabled)`]:{"&, &:hover":{fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg}},"&-content":{flex:"auto"},[i]:{marginInlineStart:e.paddingXXS,color:e.colorTextDescription,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]},{[`${n}-dropdown-rtl`]:{direction:"rtl"}},(0,Er.c)(e)]};var ji=(0,y.Z)("Cascader",(e=>[$i(e)]),(e=>{const t=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return{controlWidth:184,controlItemWidth:111,dropdownHeight:180,optionSelectedBg:e.controlItemBgActive,optionSelectedFontWeight:e.fontWeightStrong,optionPadding:`${t}px ${e.paddingSM}px`,menuPadding:e.paddingXXS}})),Wi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const{SHOW_CHILD:Gi,SHOW_PARENT:Zi}=Pi;const Vi=(e,t,n,r)=>{const o=[],i=e.toLowerCase();return t.forEach(((e,t)=>{0!==t&&o.push(" / ");let a=e[r.label];const l=typeof a;"string"!==l&&"number"!==l||(a=function(e,t,n){const r=e.toLowerCase().split(t).reduce(((e,n,r)=>0===r?[n]:[].concat((0,k.Z)(e),[t,n])),[]),o=[];let i=0;return r.forEach(((t,r)=>{const a=i+t.length;let l=e.slice(i,a);i=a,r%2==1&&(l=c.createElement("span",{className:`${n}-menu-item-keyword`,key:`separator-${r}`},l)),o.push(l)})),o}(String(a),i,n)),o.push(a)})),o},Ui=c.forwardRef(((e,t)=>{const{prefixCls:n,size:r,disabled:o,className:i,rootClassName:a,multiple:l,bordered:h=!0,transitionName:p,choiceTransitionName:v="",popupClassName:g,dropdownClassName:m,expandIcon:y,placement:b,showSearch:C,allowClear:w=!0,notFoundContent:x,direction:S,getPopupContainer:E,status:I,showArrow:O,builtinPlacements:L,style:_}=e,T=Wi(e,["prefixCls","size","disabled","className","rootClassName","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow","builtinPlacements","style"]),M=(0,u.Z)(T,["suffixIcon"]),{getPopupContainer:R,getPrefixCls:N,renderEmpty:A,direction:D,popupOverflow:B,cascader:k}=c.useContext(d.E_),P=S||D,H="rtl"===P,{status:$,hasFeedback:j,isFormItemInput:W,feedbackIcon:G}=c.useContext(F.aM),Z=(0,cr.F)($,I);const V=x||(null==A?void 0:A("Cascader"))||c.createElement(xr,{componentName:"Cascader"}),U=N(),Y=N("select",n),X=N("cascader",n),[q,K]=Fr(Y),[Q]=ji(X),{compactSize:J,compactItemClassnames:ee}=(0,Sr.ri)(Y,S),te=s()(g||m,`${X}-dropdown`,{[`${X}-dropdown-rtl`]:"rtl"===P},a,K),ne=c.useMemo((()=>{if(!C)return C;let e={render:Vi};return"object"==typeof C&&(e=Object.assign(Object.assign({},e),C)),e}),[C]),re=(0,f.Z)((e=>{var t;return null!==(t=null!=r?r:J)&&void 0!==t?t:e})),oe=c.useContext(ie.Z),ae=null!=o?o:oe;let le=y;y||(le=H?c.createElement(to.Z,null):c.createElement(no.Z,null));const se=c.createElement("span",{className:`${Y}-menu-item-loading-icon`},c.createElement(dt.Z,{spin:!0})),ue=c.useMemo((()=>!!l&&c.createElement("span",{className:`${X}-checkbox-inner`})),[l]),ce=$r(e.suffixIcon,O),{suffixIcon:de,removeIcon:fe,clearIcon:he}=Yr(Object.assign(Object.assign({},e),{hasFeedback:j,feedbackIcon:G,showSuffixIcon:ce,multiple:l,prefixCls:Y,componentName:"Cascader"})),pe=c.useMemo((()=>void 0!==b?b:H?"bottomRight":"bottomLeft"),[b,H]),ve=Hr(L,B),ge=!0===w?{clearIcon:he}:w;return Q(q(c.createElement(Pi,Object.assign({prefixCls:Y,className:s()(!n&&X,{[`${Y}-lg`]:"large"===re,[`${Y}-sm`]:"small"===re,[`${Y}-rtl`]:H,[`${Y}-borderless`]:!h,[`${Y}-in-form-item`]:W},(0,cr.Z)(Y,Z,j),ee,null==k?void 0:k.className,i,a,K),disabled:ae,style:Object.assign(Object.assign({},null==k?void 0:k.style),_)},M,{builtinPlacements:ve,direction:P,placement:pe,notFoundContent:V,allowClear:ge,showSearch:ne,expandIcon:le,suffixIcon:de,removeIcon:fe,loadingIcon:se,checkable:ue,dropdownClassName:te,dropdownPrefixCls:n||X,choiceTransitionName:(0,z.m)(U,"",v),transitionName:(0,z.m)(U,"slide-up",p),getPopupContainer:E||R,ref:t}))))}));const Yi=(0,ur.Z)(Ui);Ui.SHOW_PARENT=Zi,Ui.SHOW_CHILD=Gi,Ui._InternalPanelDoNotUseOrYouWillBeFired=Yi;var Xi=Ui;const qi=c.createContext(null),Ki=qi.Provider;var Qi=qi;const Ji=c.createContext(null),ea=Ji.Provider;var ta=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],na=(0,c.forwardRef)((function(e,t){var n,r=e.prefixCls,o=void 0===r?"rc-checkbox":r,i=e.className,a=e.style,l=e.checked,u=e.disabled,d=e.defaultChecked,f=void 0!==d&&d,h=e.type,p=void 0===h?"checkbox":h,v=e.title,g=e.onChange,m=(0,Ot.Z)(e,ta),y=(0,c.useRef)(null),b=(0,_t.Z)(f,{value:l}),C=(0,It.Z)(b,2),w=C[0],x=C[1];(0,c.useImperativeHandle)(t,(function(){return{focus:function(){var e;null===(e=y.current)||void 0===e||e.focus()},blur:function(){var e;null===(e=y.current)||void 0===e||e.blur()},input:y.current}}));var S=s()(o,i,(n={},(0,St.Z)(n,"".concat(o,"-checked"),w),(0,St.Z)(n,"".concat(o,"-disabled"),u),n));return c.createElement("span",{className:S,title:v,style:a},c.createElement("input",(0,Qe.Z)({},m,{className:"".concat(o,"-input"),ref:y,onChange:function(t){u||("checked"in e||x(t.target.checked),null==g||g({target:(0,Et.Z)((0,Et.Z)({},e),{},{type:p,checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t.nativeEvent}))},disabled:u,checked:!!w,type:p})),c.createElement("span",{className:"".concat(o,"-inner")}))})),ra=na,oa=n(45353),ia=n(17415);const aa=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-group`;return{[r]:Object.assign(Object.assign({},(0,m.Wf)(e)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},la=e=>{const{componentCls:t,wrapperMarginInlineEnd:n,colorPrimary:r,radioSize:o,motionDurationSlow:i,motionDurationMid:a,motionEaseInOutCirc:l,colorBgContainer:s,colorBorder:u,lineWidth:c,dotSize:d,colorBgContainerDisabled:f,colorTextDisabled:h,paddingXS:p,dotColorDisabled:v,lineType:g,radioDotDisabledSize:y,wireframe:b,colorWhite:C}=e,w=`${t}-inner`;return{[`${t}-wrapper`]:Object.assign(Object.assign({},(0,m.Wf)(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer",[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${c}px ${g} ${r}`,borderRadius:"50%",visibility:"hidden",content:'""'},[t]:Object.assign(Object.assign({},(0,m.Wf)(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,\n        &:hover ${w}`]:{borderColor:r},[`${t}-input:focus-visible + ${w}`]:Object.assign({},(0,m.oN)(e)),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:o,height:o,marginBlockStart:o/-2,marginInlineStart:o/-2,backgroundColor:b?r:C,borderBlockStart:0,borderInlineStart:0,borderRadius:o,transform:"scale(0)",opacity:0,transition:`all ${i} ${l}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:o,height:o,backgroundColor:s,borderColor:u,borderStyle:"solid",borderWidth:c,borderRadius:"50%",transition:`all ${a}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[w]:{borderColor:r,backgroundColor:b?s:r,"&::after":{transform:`scale(${d/o})`,opacity:1,transition:`all ${i} ${l}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[w]:{backgroundColor:f,borderColor:u,cursor:"not-allowed","&::after":{backgroundColor:v}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:h,cursor:"not-allowed"},[`&${t}-checked`]:{[w]:{"&::after":{transform:`scale(${y/o})`}}}},[`span${t} + *`]:{paddingInlineStart:p,paddingInlineEnd:p}})}},sa=e=>{const{buttonColor:t,controlHeight:n,componentCls:r,lineWidth:o,lineType:i,colorBorder:a,motionDurationSlow:l,motionDurationMid:s,buttonPaddingInline:u,fontSize:c,buttonBg:d,fontSizeLG:f,controlHeightLG:h,controlHeightSM:p,paddingXS:v,borderRadius:g,borderRadiusSM:y,borderRadiusLG:b,buttonCheckedBg:C,buttonSolidCheckedColor:w,colorTextDisabled:x,colorBgContainerDisabled:S,buttonCheckedBgDisabled:E,buttonCheckedColorDisabled:I,colorPrimary:O,colorPrimaryHover:L,colorPrimaryActive:_,buttonSolidCheckedBg:T,buttonSolidCheckedHoverBg:M,buttonSolidCheckedActiveBg:R}=e;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:u,paddingBlock:0,color:t,fontSize:c,lineHeight:n-2*o+"px",background:d,border:`${o}px ${i} ${a}`,borderBlockStartWidth:o+.02,borderInlineStartWidth:0,borderInlineEndWidth:o,cursor:"pointer",transition:[`color ${s}`,`background ${s}`,`box-shadow ${s}`].join(","),a:{color:t},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:-o,insetInlineStart:-o,display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:o,paddingInline:0,backgroundColor:a,transition:`background-color ${l}`,content:'""'}},"&:first-child":{borderInlineStart:`${o}px ${i} ${a}`,borderStartStartRadius:g,borderEndStartRadius:g},"&:last-child":{borderStartEndRadius:g,borderEndEndRadius:g},"&:first-child:last-child":{borderRadius:g},[`${r}-group-large &`]:{height:h,fontSize:f,lineHeight:h-2*o+"px","&:first-child":{borderStartStartRadius:b,borderEndStartRadius:b},"&:last-child":{borderStartEndRadius:b,borderEndEndRadius:b}},[`${r}-group-small &`]:{height:p,paddingInline:v-o,paddingBlock:0,lineHeight:p-2*o+"px","&:first-child":{borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y}},"&:hover":{position:"relative",color:O},"&:has(:focus-visible)":Object.assign({},(0,m.oN)(e)),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:O,background:C,borderColor:O,"&::before":{backgroundColor:O},"&:first-child":{borderColor:O},"&:hover":{color:L,borderColor:L,"&::before":{backgroundColor:L}},"&:active":{color:_,borderColor:_,"&::before":{backgroundColor:_}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:w,background:T,borderColor:T,"&:hover":{color:w,background:M,borderColor:M},"&:active":{color:w,background:R,borderColor:R}},"&-disabled":{color:x,backgroundColor:S,borderColor:a,cursor:"not-allowed","&:first-child, &:hover":{color:x,backgroundColor:S,borderColor:a}},[`&-disabled${r}-button-wrapper-checked`]:{color:I,backgroundColor:E,borderColor:a,boxShadow:"none"}}}},ua=e=>e-8;var ca=(0,y.Z)("Radio",(e=>{const{controlOutline:t,controlOutlineWidth:n,radioSize:r}=e,o=`0 0 0 ${n}px ${t}`,i=o,a=ua(r),l=(0,b.TS)(e,{radioDotDisabledSize:a,radioFocusShadow:o,radioButtonFocusShadow:i});return[aa(l),la(l),sa(l)]}),(e=>{const{wireframe:t,padding:n,marginXS:r,lineWidth:o,fontSizeLG:i,colorText:a,colorBgContainer:l,colorTextDisabled:s,controlItemBgActiveDisabled:u,colorTextLightSolid:c,colorPrimary:d,colorPrimaryHover:f,colorPrimaryActive:h}=e,p=i;return{radioSize:p,dotSize:t?ua(p):p-2*(4+o),dotColorDisabled:s,buttonSolidCheckedColor:c,buttonSolidCheckedBg:d,buttonSolidCheckedHoverBg:f,buttonSolidCheckedActiveBg:h,buttonBg:l,buttonCheckedBg:l,buttonColor:a,buttonCheckedBgDisabled:u,buttonCheckedColorDisabled:s,buttonPaddingInline:n-o,wrapperMarginInlineEnd:r}})),da=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const fa=(e,t)=>{var n,r;const o=c.useContext(Qi),i=c.useContext(Ji),{getPrefixCls:a,direction:l,radio:u}=c.useContext(d.E_),f=c.useRef(null),h=(0,Ie.sQ)(t,f),{isFormItemInput:p}=c.useContext(F.aM);const v=t=>{var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null==o?void 0:o.onChange)||void 0===r||r.call(o,t)},{prefixCls:g,className:m,rootClassName:y,children:b,style:C}=e,w=da(e,["prefixCls","className","rootClassName","children","style"]),x=a("radio",g),S="button"===((null==o?void 0:o.optionType)||i),E=S?`${x}-button`:x,[I,O]=ca(x),L=Object.assign({},w),_=c.useContext(ie.Z);o&&(L.name=o.name,L.onChange=v,L.checked=e.value===o.value,L.disabled=null!==(n=L.disabled)&&void 0!==n?n:o.disabled),L.disabled=null!==(r=L.disabled)&&void 0!==r?r:_;const T=s()(`${E}-wrapper`,{[`${E}-wrapper-checked`]:L.checked,[`${E}-wrapper-disabled`]:L.disabled,[`${E}-wrapper-rtl`]:"rtl"===l,[`${E}-wrapper-in-form-item`]:p},null==u?void 0:u.className,m,y,O);return I(c.createElement(oa.Z,{component:"Radio",disabled:L.disabled},c.createElement("label",{className:T,style:Object.assign(Object.assign({},null==u?void 0:u.style),C),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},c.createElement(ra,Object.assign({},L,{className:s()(L.className,!S&&ia.A),type:"radio",prefixCls:E,ref:h})),void 0!==b?c.createElement("span",null,b):null)))};var ha=c.forwardRef(fa);const pa=c.forwardRef(((e,t)=>{const{getPrefixCls:n,direction:r}=c.useContext(d.E_),[o,i]=(0,_t.Z)(e.defaultValue,{value:e.value}),{prefixCls:a,className:l,rootClassName:u,options:h,buttonStyle:p="outline",disabled:v,children:g,size:m,style:y,id:b,onMouseEnter:C,onMouseLeave:w,onFocus:x,onBlur:S}=e,E=n("radio",a),I=`${E}-group`,[O,L]=ca(E);let _=g;h&&h.length>0&&(_=h.map((e=>"string"==typeof e||"number"==typeof e?c.createElement(ha,{key:e.toString(),prefixCls:E,disabled:v,value:e,checked:o===e},e):c.createElement(ha,{key:`radio-group-value-options-${e.value}`,prefixCls:E,disabled:e.disabled||v,value:e.value,checked:o===e.value,title:e.title,style:e.style},e.label))));const T=(0,f.Z)(m),M=s()(I,`${I}-${p}`,{[`${I}-${T}`]:T,[`${I}-rtl`]:"rtl"===r},l,u,L);return O(c.createElement("div",Object.assign({},(0,Bt.Z)(e,{aria:!0,data:!0}),{className:M,style:y,onMouseEnter:C,onMouseLeave:w,onFocus:x,onBlur:S,id:b,ref:t}),c.createElement(Ki,{value:{onChange:t=>{const n=o,r=t.target.value;"value"in e||i(r);const{onChange:a}=e;a&&r!==n&&a(t)},value:o,disabled:e.disabled,name:e.name,optionType:e.optionType}},_)))}));var va=c.memo(pa),ga=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const ma=(e,t)=>{const{getPrefixCls:n}=c.useContext(d.E_),{prefixCls:r}=e,o=ga(e,["prefixCls"]),i=n("radio",r);return c.createElement(ea,{value:"button"},c.createElement(ha,Object.assign({prefixCls:i},o,{type:"radio",ref:t})))};var ya=c.forwardRef(ma);const ba=ha;ba.Button=ya,ba.Group=va,ba.__ANT_RADIO=!0;var Ca=ba,wa=n(15867),xa=n(85096);var Sa=c.createContext(null),Ea=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Ia=(e,t)=>{var n;const{prefixCls:r,className:o,rootClassName:i,children:a,indeterminate:l=!1,style:u,onMouseEnter:f,onMouseLeave:h,skipGroup:p=!1,disabled:v}=e,g=Ea(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:m,direction:y,checkbox:b}=c.useContext(d.E_),C=c.useContext(Sa),{isFormItemInput:w}=c.useContext(F.aM),x=c.useContext(ie.Z),S=null!==(n=(null==C?void 0:C.disabled)||v)&&void 0!==n?n:x,E=c.useRef(g.value);c.useEffect((()=>{null==C||C.registerValue(g.value)}),[]),c.useEffect((()=>{if(!p)return g.value!==E.current&&(null==C||C.cancelValue(E.current),null==C||C.registerValue(g.value),E.current=g.value),()=>null==C?void 0:C.cancelValue(g.value)}),[g.value]);const I=m("checkbox",r),[O,L]=Hi(I),_=Object.assign({},g);C&&!p&&(_.onChange=function(){g.onChange&&g.onChange.apply(g,arguments),C.toggleOption&&C.toggleOption({label:a,value:g.value})},_.name=C.name,_.checked=C.value.includes(g.value));const T=s()(`${I}-wrapper`,{[`${I}-rtl`]:"rtl"===y,[`${I}-wrapper-checked`]:_.checked,[`${I}-wrapper-disabled`]:S,[`${I}-wrapper-in-form-item`]:w},null==b?void 0:b.className,o,i,L),M=s()({[`${I}-indeterminate`]:l},ia.A,L),R=l?"mixed":void 0;return O(c.createElement(oa.Z,{component:"Checkbox",disabled:S},c.createElement("label",{className:T,style:Object.assign(Object.assign({},null==b?void 0:b.style),u),onMouseEnter:f,onMouseLeave:h},c.createElement(ra,Object.assign({"aria-checked":R},_,{prefixCls:I,className:M,disabled:S,ref:t})),void 0!==a&&c.createElement("span",null,a))))};var Oa=c.forwardRef(Ia),La=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const _a=(e,t)=>{const{defaultValue:n,children:r,options:o=[],prefixCls:i,className:a,rootClassName:l,style:f,onChange:h}=e,p=La(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:v,direction:g}=c.useContext(d.E_),[m,y]=c.useState(p.value||n||[]),[b,C]=c.useState([]);c.useEffect((()=>{"value"in p&&y(p.value||[])}),[p.value]);const w=c.useMemo((()=>o.map((e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e))),[o]),x=v("checkbox",i),S=`${x}-group`,[E,I]=Hi(x),O=(0,u.Z)(p,["value","disabled"]),L=o.length?w.map((e=>c.createElement(Oa,{prefixCls:x,key:e.value.toString(),disabled:"disabled"in e?e.disabled:p.disabled,value:e.value,checked:m.includes(e.value),onChange:e.onChange,className:`${S}-item`,style:e.style,title:e.title},e.label))):r,_={toggleOption:e=>{const t=m.indexOf(e.value),n=(0,k.Z)(m);-1===t?n.push(e.value):n.splice(t,1),"value"in p||y(n),null==h||h(n.filter((e=>b.includes(e))).sort(((e,t)=>w.findIndex((t=>t.value===e))-w.findIndex((e=>e.value===t)))))},value:m,disabled:p.disabled,name:p.name,registerValue:e=>{C((t=>[].concat((0,k.Z)(t),[e])))},cancelValue:e=>{C((t=>t.filter((t=>t!==e))))}},T=s()(S,{[`${S}-rtl`]:"rtl"===g},a,l,I);return E(c.createElement("div",Object.assign({className:T,style:f},O,{ref:t}),c.createElement(Sa.Provider,{value:_},L)))},Ta=c.forwardRef(_a);var Ma=c.memo(Ta);const Ra=Oa;Ra.Group=Ma,Ra.__ANT_CHECKBOX=!0;var Na=Ra,Aa=n(74627),Da=n(78957),Ba={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},ka=function(e,t){return c.createElement(et.Z,(0,Qe.Z)({},e,{ref:t,icon:Ba}))};var Pa=c.forwardRef(ka),za={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},Fa=function(e,t){return c.createElement(et.Z,(0,Qe.Z)({},e,{ref:t,icon:za}))};var Ha=c.forwardRef(Fa),$a=n(32531),ja=n(73568),Wa={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},Ga=n(81626),Za=function(e){(0,$a.Z)(n,e);var t=(0,ja.Z)(n);function n(){var e;(0,Pn.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={goInputText:""},e.getValidValue=function(){var t=e.state.goInputText;return!t||Number.isNaN(t)?void 0:Number(t)},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,r=n.goButton,o=n.quickGo,i=n.rootPrefixCls,a=e.state.goInputText;r||""===a||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(i,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(i,"-item"))>=0)||o(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==Wa.ENTER&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return(0,zn.Z)(n,[{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(Number.isNaN(Number(e))?0:Number(e))-(Number.isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,r=t.locale,o=t.rootPrefixCls,i=t.changeSize,a=t.quickGo,l=t.goButton,s=t.selectComponentClass,u=t.buildOptionText,d=t.selectPrefixCls,f=t.disabled,h=this.state.goInputText,p="".concat(o,"-options"),v=s,g=null,m=null,y=null;if(!i&&!a)return null;var b=this.getPageSizeOptions();if(i&&v){var C=b.map((function(t,n){return c.createElement(v.Option,{key:n,value:t.toString()},(u||e.buildOptionText)(t))}));g=c.createElement(v,{disabled:f,prefixCls:d,showSearch:!1,className:"".concat(p,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(n||b[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":r.page_size,defaultOpen:!1},C)}return a&&(l&&(y="boolean"==typeof l?c.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:f,className:"".concat(p,"-quick-jumper-button")},r.jump_to_confirm):c.createElement("span",{onClick:this.go,onKeyUp:this.go},l)),m=c.createElement("div",{className:"".concat(p,"-quick-jumper")},r.jump_to,c.createElement("input",{disabled:f,type:"text",value:h,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":r.page}),r.page,y)),c.createElement("li",{className:"".concat(p)},g,m)}}]),n}(c.Component);Za.defaultProps={pageSizeOptions:["10","20","50","100"]};var Va=Za,Ua=function(e){var t,n=e.rootPrefixCls,r=e.page,o=e.active,i=e.className,a=e.showTitle,l=e.onClick,u=e.onKeyPress,d=e.itemRender,f="".concat(n,"-item"),h=s()(f,"".concat(f,"-").concat(r),(t={},(0,St.Z)(t,"".concat(f,"-active"),o),(0,St.Z)(t,"".concat(f,"-disabled"),!r),(0,St.Z)(t,e.className,i),t)),p=d(r,"page",c.createElement("a",{rel:"nofollow"},r));return p?c.createElement("li",{title:a?r.toString():null,className:h,onClick:function(){l(r)},onKeyPress:function(e){u(e,l,r)},tabIndex:0},p):null};function Ya(){}function Xa(e){var t=Number(e);return"number"==typeof t&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function qa(e,t,n){var r=void 0===e?t.pageSize:e;return Math.floor((n.total-1)/r)+1}var Ka=function(e){(0,$a.Z)(n,e);var t=(0,ja.Z)(n);function n(e){var r;(0,Pn.Z)(this,n),(r=t.call(this,e)).paginationNode=c.createRef(),r.getJumpPrevPage=function(){return Math.max(1,r.state.current-(r.props.showLessItems?3:5))},r.getJumpNextPage=function(){return Math.min(qa(void 0,r.state,r.props),r.state.current+(r.props.showLessItems?3:5))},r.getItemIcon=function(e,t){var n=r.props.prefixCls,o=e||c.createElement("button",{type:"button","aria-label":t,className:"".concat(n,"-item-link")});return"function"==typeof e&&(o=c.createElement(e,(0,Et.Z)({},r.props))),o},r.isValid=function(e){var t=r.props.total;return Xa(e)&&e!==r.state.current&&Xa(t)&&t>0},r.shouldDisplayQuickJumper=function(){var e=r.props,t=e.showQuickJumper;return!(e.total<=r.state.pageSize)&&t},r.handleKeyDown=function(e){e.keyCode!==Wa.ARROW_UP&&e.keyCode!==Wa.ARROW_DOWN||e.preventDefault()},r.handleKeyUp=function(e){var t=r.getValidValue(e);t!==r.state.currentInputValue&&r.setState({currentInputValue:t}),e.keyCode===Wa.ENTER?r.handleChange(t):e.keyCode===Wa.ARROW_UP?r.handleChange(t-1):e.keyCode===Wa.ARROW_DOWN&&r.handleChange(t+1)},r.handleBlur=function(e){var t=r.getValidValue(e);r.handleChange(t)},r.changePageSize=function(e){var t=r.state.current,n=qa(e,r.state,r.props);t=t>n?n:t,0===n&&(t=r.state.current),"number"==typeof e&&("pageSize"in r.props||r.setState({pageSize:e}),"current"in r.props||r.setState({current:t,currentInputValue:t})),r.props.onShowSizeChange(t,e),"onChange"in r.props&&r.props.onChange&&r.props.onChange(t,e)},r.handleChange=function(e){var t=r.props,n=t.disabled,o=t.onChange,i=r.state,a=i.pageSize,l=i.current,s=i.currentInputValue;if(r.isValid(e)&&!n){var u=qa(void 0,r.state,r.props),c=e;return e>u?c=u:e<1&&(c=1),"current"in r.props||r.setState({current:c}),c!==s&&r.setState({currentInputValue:c}),o(c,a),c}return l},r.prev=function(){r.hasPrev()&&r.handleChange(r.state.current-1)},r.next=function(){r.hasNext()&&r.handleChange(r.state.current+1)},r.jumpPrev=function(){r.handleChange(r.getJumpPrevPage())},r.jumpNext=function(){r.handleChange(r.getJumpNextPage())},r.hasPrev=function(){return r.state.current>1},r.hasNext=function(){return r.state.current<qa(void 0,r.state,r.props)},r.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];t.apply(void 0,r)}},r.runIfEnterPrev=function(e){r.runIfEnter(e,r.prev)},r.runIfEnterNext=function(e){r.runIfEnter(e,r.next)},r.runIfEnterJumpPrev=function(e){r.runIfEnter(e,r.jumpPrev)},r.runIfEnterJumpNext=function(e){r.runIfEnter(e,r.jumpNext)},r.handleGoTO=function(e){e.keyCode!==Wa.ENTER&&"click"!==e.type||r.handleChange(r.state.currentInputValue)},r.renderPrev=function(e){var t=r.props,n=t.prevIcon,o=(0,t.itemRender)(e,"prev",r.getItemIcon(n,"prev page")),i=!r.hasPrev();return(0,c.isValidElement)(o)?(0,c.cloneElement)(o,{disabled:i}):o},r.renderNext=function(e){var t=r.props,n=t.nextIcon,o=(0,t.itemRender)(e,"next",r.getItemIcon(n,"next page")),i=!r.hasNext();return(0,c.isValidElement)(o)?(0,c.cloneElement)(o,{disabled:i}):o};var o=e.onChange!==Ya;"current"in e&&!o&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var i=e.defaultCurrent;"current"in e&&(i=e.current);var a=e.defaultPageSize;return"pageSize"in e&&(a=e.pageSize),i=Math.min(i,qa(a,void 0,e)),r.state={current:i,currentInputValue:i,pageSize:a},r}return(0,zn.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode.current){var r,o=this.paginationNode.current.querySelector(".".concat(n,"-item-").concat(t.current));if(o&&document.activeElement===o)null==o||null===(r=o.blur)||void 0===r||r.call(o)}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=qa(void 0,this.state,this.props),r=this.state.currentInputValue;return""===t?t:Number.isNaN(Number(t))?r:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,r=e.totalBoundaryShowSizeChanger;return void 0!==t?t:n>r}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.style,o=e.disabled,i=e.hideOnSinglePage,a=e.total,l=e.locale,u=e.showQuickJumper,d=e.showLessItems,f=e.showTitle,h=e.showTotal,p=e.simple,v=e.itemRender,g=e.showPrevNextJumpers,m=e.jumpPrevIcon,y=e.jumpNextIcon,b=e.selectComponentClass,C=e.selectPrefixCls,w=e.pageSizeOptions,x=this.state,S=x.current,E=x.pageSize,I=x.currentInputValue;if(!0===i&&a<=E)return null;var O=qa(void 0,this.state,this.props),L=[],_=null,T=null,M=null,R=null,N=null,A=u&&u.goButton,D=d?1:2,B=S-1>0?S-1:0,k=S+1<O?S+1:O,P=(0,Bt.Z)(this.props,{aria:!0,data:!0}),z=h&&c.createElement("li",{className:"".concat(t,"-total-text")},h(a,[0===a?0:(S-1)*E+1,S*E>a?a:S*E]));if(p){A&&(N="boolean"==typeof A?c.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},l.jump_to_confirm):c.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},A),N=c.createElement("li",{title:f?"".concat(l.jump_to).concat(S,"/").concat(O):null,className:"".concat(t,"-simple-pager")},N));var F=this.renderPrev(B);return c.createElement("ul",(0,Qe.Z)({className:s()(t,"".concat(t,"-simple"),(0,St.Z)({},"".concat(t,"-disabled"),o),n),style:r,ref:this.paginationNode},P),z,F?c.createElement("li",{title:f?l.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:s()("".concat(t,"-prev"),(0,St.Z)({},"".concat(t,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},F):null,c.createElement("li",{title:f?"".concat(S,"/").concat(O):null,className:"".concat(t,"-simple-pager")},c.createElement("input",{type:"text",value:I,disabled:o,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),c.createElement("span",{className:"".concat(t,"-slash")},"/"),O),c.createElement("li",{title:f?l.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:s()("".concat(t,"-next"),(0,St.Z)({},"".concat(t,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(k)),N)}if(O<=3+2*D){var H={locale:l,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:f,itemRender:v};O||L.push(c.createElement(Ua,(0,Qe.Z)({},H,{key:"noPager",page:1,className:"".concat(t,"-item-disabled")})));for(var $=1;$<=O;$+=1){var j=S===$;L.push(c.createElement(Ua,(0,Qe.Z)({},H,{key:$,page:$,active:j})))}}else{var W=d?l.prev_3:l.prev_5,G=d?l.next_3:l.next_5,Z=v(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(m,"prev page")),V=v(this.getJumpNextPage(),"jump-next",this.getItemIcon(y,"next page"));g&&(_=Z?c.createElement("li",{title:f?W:null,key:"prev",onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:s()("".concat(t,"-jump-prev"),(0,St.Z)({},"".concat(t,"-jump-prev-custom-icon"),!!m))},Z):null,T=V?c.createElement("li",{title:f?G:null,key:"next",tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:s()("".concat(t,"-jump-next"),(0,St.Z)({},"".concat(t,"-jump-next-custom-icon"),!!y))},V):null),R=c.createElement(Ua,{locale:l,last:!0,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:O,page:O,active:!1,showTitle:f,itemRender:v}),M=c.createElement(Ua,{locale:l,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:f,itemRender:v});var U=Math.max(1,S-D),Y=Math.min(S+D,O);S-1<=D&&(Y=1+2*D),O-S<=D&&(U=O-2*D);for(var X=U;X<=Y;X+=1){var q=S===X;L.push(c.createElement(Ua,{locale:l,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:X,page:X,active:q,showTitle:f,itemRender:v}))}S-1>=2*D&&3!==S&&(L[0]=(0,c.cloneElement)(L[0],{className:"".concat(t,"-item-after-jump-prev")}),L.unshift(_)),O-S>=2*D&&S!==O-2&&(L[L.length-1]=(0,c.cloneElement)(L[L.length-1],{className:"".concat(t,"-item-before-jump-next")}),L.push(T)),1!==U&&L.unshift(M),Y!==O&&L.push(R)}var K=!this.hasPrev()||!O,Q=!this.hasNext()||!O,J=this.renderPrev(B),ee=this.renderNext(k);return c.createElement("ul",(0,Qe.Z)({className:s()(t,n,(0,St.Z)({},"".concat(t,"-disabled"),o)),style:r,ref:this.paginationNode},P),z,J?c.createElement("li",{title:f?l.prev_page:null,onClick:this.prev,tabIndex:K?null:0,onKeyPress:this.runIfEnterPrev,className:s()("".concat(t,"-prev"),(0,St.Z)({},"".concat(t,"-disabled"),K)),"aria-disabled":K},J):null,L,ee?c.createElement("li",{title:f?l.next_page:null,onClick:this.next,tabIndex:Q?null:0,onKeyPress:this.runIfEnterNext,className:s()("".concat(t,"-next"),(0,St.Z)({},"".concat(t,"-disabled"),Q)),"aria-disabled":Q},ee):null,c.createElement(Va,{disabled:o,locale:l,rootPrefixCls:t,selectComponentClass:b,selectPrefixCls:C,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:S,pageSize:E,pageSizeOptions:w,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:A}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var r=t.current,o=qa(e.pageSize,t,e);r=r>o?o:r,"current"in e||(n.current=r,n.currentInputValue=r),n.pageSize=e.pageSize}return n}}]),n}(c.Component);Ka.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Ya,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Ya,locale:Ga.Z,style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var Qa=Ka,Ja=n(62906),el=n(68821);const tl=e=>c.createElement(eo,Object.assign({},e,{showSearch:!0,size:"small"})),nl=e=>c.createElement(eo,Object.assign({},e,{showSearch:!0,size:"middle"}));tl.Option=eo.Option,nl.Option=eo.Option;var rl=n(47673);const ol=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}},[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{[`&${t}-disabled ${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},il=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:`${e.itemSizeSM}px`},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:e.itemSizeSM-2+"px"},[`&${t}-mini:not(${t}-disabled) ${t}-item:not(${t}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:`${e.itemSizeSM}px`},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`\n    &${t}-mini ${t}-prev ${t}-item-link,\n    &${t}-mini ${t}-next ${t}-item-link\n    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:`${e.itemSizeSM}px`}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:`${e.itemSizeSM}px`},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:`${e.itemSizeSM}px`,input:Object.assign(Object.assign({},(0,rl.x0)(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},al=e=>{const{componentCls:t}=e;return{[`\n    &${t}-simple ${t}-prev,\n    &${t}-simple ${t}-next\n    `]:{height:e.itemSizeSM,lineHeight:`${e.itemSizeSM}px`,verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:`${e.itemSizeSM}px`}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:e.marginXS,padding:`0 ${e.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${e.inputOutlineOffset}px 0 ${e.controlOutlineWidth}px ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},ll=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`\n    ${t}-prev,\n    ${t}-jump-prev,\n    ${t}-jump-next\n    `]:{marginInlineEnd:e.marginXS},[`\n    ${t}-prev,\n    ${t}-next,\n    ${t}-jump-prev,\n    ${t}-jump-next\n    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:`${e.itemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:`${e.controlHeight}px`,verticalAlign:"top",input:Object.assign(Object.assign({},(0,rl.ik)(e)),{width:1.25*e.controlHeightLG,height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},sl=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:e.itemSize-2+"px",textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${e.paginationItemPaddingInline}px`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},ul=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,m.Wf)(e)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:e.itemSize-2+"px",verticalAlign:"middle"}}),sl(e)),ll(e)),al(e)),il(e)),ol(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},cl=e=>{const{componentCls:t}=e;return{[`${t}${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}},dl=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},(0,m.Qy)(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},(0,m.oN)(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Object.assign({},(0,m.oN)(e))}}}};var fl=(0,y.Z)("Pagination",(e=>{const t=(0,b.TS)(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.marginXXS/2,paginationMiniQuickJumperInputWidth:1.1*e.controlHeightLG,paginationItemPaddingInline:1.5*e.marginXXS,paginationEllipsisLetterSpacing:e.marginXXS/2,paginationSlashMarginInlineStart:e.marginXXS,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},(0,rl.e5)(e),(0,rl.TM)(e));return[ul(t),dl(t),e.wireframe&&cl(t)]}),(e=>({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0}))),hl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var pl=e=>{const{prefixCls:t,selectPrefixCls:n,className:r,rootClassName:o,style:i,size:a,locale:l,selectComponentClass:u,responsive:h,showSizeChanger:p}=e,v=hl(e,["prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:g}=(0,el.Z)(h),{getPrefixCls:m,direction:y,pagination:b={}}=c.useContext(d.E_),C=m("pagination",t),[w,x]=fl(C),S=null!=p?p:b.showSizeChanger,E=c.useMemo((()=>{const e=c.createElement("span",{className:`${C}-item-ellipsis`},"•••");return{prevIcon:c.createElement("button",{className:`${C}-item-link`,type:"button",tabIndex:-1},"rtl"===y?c.createElement(no.Z,null):c.createElement(to.Z,null)),nextIcon:c.createElement("button",{className:`${C}-item-link`,type:"button",tabIndex:-1},"rtl"===y?c.createElement(to.Z,null):c.createElement(no.Z,null)),jumpPrevIcon:c.createElement("a",{className:`${C}-item-link`},c.createElement("div",{className:`${C}-item-container`},"rtl"===y?c.createElement(Ha,{className:`${C}-item-link-icon`}):c.createElement(Pa,{className:`${C}-item-link-icon`}),e)),jumpNextIcon:c.createElement("a",{className:`${C}-item-link`},c.createElement("div",{className:`${C}-item-container`},"rtl"===y?c.createElement(Pa,{className:`${C}-item-link-icon`}):c.createElement(Ha,{className:`${C}-item-link-icon`}),e))}}),[y,C]),[I]=(0,ot.Z)("Pagination",Ja.Z),O=Object.assign(Object.assign({},I),l),L=(0,f.Z)(a),_="small"===L||!(!g||L||!h),T=m("select",n),M=s()({[`${C}-mini`]:_,[`${C}-rtl`]:"rtl"===y},null==b?void 0:b.className,r,o,x),R=Object.assign(Object.assign({},null==b?void 0:b.style),i);return w(c.createElement(Qa,Object.assign({},E,v,{style:R,prefixCls:C,selectPrefixCls:T,className:M,selectComponentClass:u||(_?tl:nl),locale:O,showSizeChanger:S})))},vl=pl,gl=n(75081),ml=n(94740),yl=n(45626),bl=n(48689),Cl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},wl=n(91146),xl=function(e,t){return c.createElement(wl.Z,(0,Et.Z)((0,Et.Z)({},e),{},{ref:t,icon:Cl}))};xl.displayName="ReloadOutlined";var Sl=c.forwardRef(xl),El=n(37029);e=n.hmd(e);var Il=Object.defineProperty,Ol=Object.defineProperties,Ll=Object.getOwnPropertyDescriptors,_l=Object.getOwnPropertySymbols,Tl=Object.prototype.hasOwnProperty,Ml=Object.prototype.propertyIsEnumerable,Rl=(e,t,n)=>t in e?Il(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nl=(e,t)=>{for(var n in t||(t={}))Tl.call(t,n)&&Rl(e,n,t[n]);if(_l)for(var n of _l(t))Ml.call(t,n)&&Rl(e,n,t[n]);return e},Al=(e,t)=>Ol(e,Ll(t)),Dl=(e,t)=>{var n={};for(var r in e)Tl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&_l)for(var r of _l(e))t.indexOf(r)<0&&Ml.call(e,r)&&(n[r]=e[r]);return n};const Bl={zh_CN:{"选择分析信息":"选择分析信息","切换指标":"切换指标","确定":"确定","取消":"取消","重置":"重置","请输入关键字搜索":"请输入关键字搜索","搜索":"搜索","恢复":"恢复","已选 {} 项":"已选 {} 项","所选项":"所选项","选择下钻维度":"选择下钻维度","恢复默认":"恢复默认","搜索字段":"搜索字段","行列切换":"行列切换","行头":"行头","列头":"列头","值":"值","展开子项":"展开子项","首字母":"首字母","手动排序":"手动排序","其他字段":"其他字段","高级排序":"高级排序","设置顺序":"设置顺序","可选字段":"可选字段","按以下规则进行排序（优先级由低到高）":"按以下规则进行排序（优先级由低到高）","按":"按","说明":"说明","复制原始数据":"复制原始数据","复制格式化数据":"复制格式化数据","下载原始数据":"下载原始数据","下载格式化数据":"下载格式化数据","操作成功":"操作成功","操作失败":"操作失败","时间":"时间","指标":"指标","目标值":"目标值"},en_US:{"选择分析信息":"Select Analysis Information","切换指标":"Switch indicator","确定":"Ok","取消":"Cancel","重置":"Reset","请输入关键字搜索":"Please enter a keyword search","搜索":"Search","恢复":"Recover","已选 {} 项":"selected {} item","所选项":"selected items","选择下钻维度":"Select drill down dimension","恢复默认":"Restore default","搜索字段":"Search field","行列切换":"Switch Dimensions","行头":"Rows","列头":"Cols","值":"Values","展开子项":"Expand Children","首字母":"Alphabetical order","手动排序":"Custom order","其他字段":"Other field","高级排序":"Advanced order","设置顺序":"SetManual","可选字段":"Fields","按以下规则进行排序（优先级由低到高）":"Order according to the following rules (from low to high priority)","按":"By","说明":"Description","复制原始数据":"Copy raw data","复制格式化数据":"Copy formatted data","下载原始数据":"Download raw data","下载格式化数据":"Download formatted data","操作成功":"Operation successful","操作失败":"Operation failed","时间":"Date","指标":"Measure","目标值":"Target Value"}},kl={tooltip:{showTooltip:!0,autoAdjustBoundary:"body",operation:{hiddenColumns:!0,trend:!1,sort:!0}},showDefaultHeaderActionIcon:!0},Pl=()=>[{name:(0,r.agQ)("升序"),value:"ASC"},{name:(0,r.agQ)("降序"),value:"DESC"}],zl=()=>[{label:(0,r.agQ)("首字母"),value:"sortMethod"},{label:(0,r.agQ)("手动排序"),value:"sortBy"},{label:(0,r.agQ)("其他字段"),value:"sortByMeasure",children:[]}],Fl="antv-s2-advanced-sort",Hl="s2-drill-down",$l="s2-strategy-sheet-tooltip",jl=e=>e?`${$l}-${e}`:$l;var Wl="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Gl="object"==typeof self&&self&&self.Object===Object&&self,Zl=Wl||Gl||Function("return this")(),Vl=Zl.Symbol,Ul=Object.prototype,Yl=Ul.hasOwnProperty,Xl=Ul.toString,ql=Vl?Vl.toStringTag:void 0;var Kl=Object.prototype.toString;var Ql=Vl?Vl.toStringTag:void 0;function Jl(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ql&&Ql in Object(e)?function(e){var t=Yl.call(e,ql),n=e[ql];try{e[ql]=void 0;var r=!0}catch(e){}var o=Xl.call(e);return r&&(t?e[ql]=n:delete e[ql]),o}(e):function(e){return Kl.call(e)}(e)}function es(e){return null!=e&&"object"==typeof e}function ts(e){return"symbol"==typeof e||es(e)&&"[object Symbol]"==Jl(e)}function ns(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var rs=Array.isArray,os=Vl?Vl.prototype:void 0,is=os?os.toString:void 0;function as(e){if("string"==typeof e)return e;if(rs(e))return ns(e,as)+"";if(ts(e))return is?is.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var ls=/\s/;var ss=/^\s+/;function us(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&ls.test(e.charAt(t)););return t}(e)+1).replace(ss,""):e}function cs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var ds=/^[-+]0x[0-9a-f]+$/i,fs=/^0b[01]+$/i,hs=/^0o[0-7]+$/i,ps=parseInt;function vs(e){if("number"==typeof e)return e;if(ts(e))return NaN;if(cs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=cs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=us(e);var n=fs.test(e);return n||hs.test(e)?ps(e.slice(2),n?2:8):ds.test(e)?NaN:+e}var gs=1/0;function ms(e){var t=function(e){return e?(e=vs(e))===gs||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),n=t%1;return t==t?n?t-n:t:0}function ys(e){return e}function bs(e){if(!cs(e))return!1;var t=Jl(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Cs,ws=Zl["__core-js_shared__"],xs=(Cs=/[^.]+$/.exec(ws&&ws.keys&&ws.keys.IE_PROTO||""))?"Symbol(src)_1."+Cs:"";var Ss=Function.prototype.toString;function Es(e){if(null!=e){try{return Ss.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Is=/^\[object .+?Constructor\]$/,Os=Function.prototype,Ls=Object.prototype,_s=Os.toString,Ts=Ls.hasOwnProperty,Ms=RegExp("^"+_s.call(Ts).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rs(e){return!(!cs(e)||(t=e,xs&&xs in t))&&(bs(e)?Ms:Is).test(Es(e));var t}function Ns(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Rs(n)?n:void 0}var As=Ns(Zl,"WeakMap"),Ds=Object.create,Bs=function(){function e(){}return function(t){if(!cs(t))return{};if(Ds)return Ds(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function ks(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ps(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var zs=Date.now;var Fs,Hs,$s,js=function(){try{var e=Ns(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ws=js,Gs=Ws?function(e,t){return Ws(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:ys,Zs=(Fs=Gs,Hs=0,$s=0,function(){var e=zs(),t=16-(e-$s);if($s=e,t>0){if(++Hs>=800)return arguments[0]}else Hs=0;return Fs.apply(void 0,arguments)}),Vs=Zs;function Us(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ys(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Xs(e){return e!=e}function qs(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Ys(e,Xs,n)}function Ks(e,t){return!!(null==e?0:e.length)&&qs(e,t,0)>-1}var Qs=/^(?:0|[1-9]\d*)$/;function Js(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Qs.test(e))&&e>-1&&e%1==0&&e<t}function eu(e,t,n){"__proto__"==t&&Ws?Ws(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function tu(e,t){return e===t||e!=e&&t!=t}var nu=Object.prototype.hasOwnProperty;function ru(e,t,n){var r=e[t];nu.call(e,t)&&tu(r,n)&&(void 0!==n||t in e)||eu(e,t,n)}function ou(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=r?r(n[l],e[l],l,n,e):void 0;void 0===s&&(s=e[l]),o?eu(n,l,s):ru(n,l,s)}return n}var iu=Math.max;function au(e,t,n){return t=iu(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=iu(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),ks(e,this,l)}}function lu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function su(e){return null!=e&&lu(e.length)&&!bs(e)}var uu=Object.prototype;function cu(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||uu)}function du(e){return es(e)&&"[object Arguments]"==Jl(e)}var fu=Object.prototype,hu=fu.hasOwnProperty,pu=fu.propertyIsEnumerable,vu=du(function(){return arguments}())?du:function(e){return es(e)&&hu.call(e,"callee")&&!pu.call(e,"callee")},gu=vu;var mu="object"==typeof exports&&exports&&!exports.nodeType&&exports,yu=mu&&e&&!e.nodeType&&e,bu=yu&&yu.exports===mu?Zl.Buffer:void 0,Cu=(bu?bu.isBuffer:void 0)||function(){return!1},wu={};function xu(e){return function(t){return e(t)}}wu["[object Float32Array]"]=wu["[object Float64Array]"]=wu["[object Int8Array]"]=wu["[object Int16Array]"]=wu["[object Int32Array]"]=wu["[object Uint8Array]"]=wu["[object Uint8ClampedArray]"]=wu["[object Uint16Array]"]=wu["[object Uint32Array]"]=!0,wu["[object Arguments]"]=wu["[object Array]"]=wu["[object ArrayBuffer]"]=wu["[object Boolean]"]=wu["[object DataView]"]=wu["[object Date]"]=wu["[object Error]"]=wu["[object Function]"]=wu["[object Map]"]=wu["[object Number]"]=wu["[object Object]"]=wu["[object RegExp]"]=wu["[object Set]"]=wu["[object String]"]=wu["[object WeakMap]"]=!1;var Su="object"==typeof exports&&exports&&!exports.nodeType&&exports,Eu=Su&&e&&!e.nodeType&&e,Iu=Eu&&Eu.exports===Su&&Wl.process,Ou=function(){try{var e=Eu&&Eu.require&&Eu.require("util").types;return e||Iu&&Iu.binding&&Iu.binding("util")}catch(e){}}(),Lu=Ou&&Ou.isTypedArray,_u=Lu?xu(Lu):function(e){return es(e)&&lu(e.length)&&!!wu[Jl(e)]},Tu=Object.prototype.hasOwnProperty;function Mu(e,t){var n=rs(e),r=!n&&gu(e),o=!n&&!r&&Cu(e),i=!n&&!r&&!o&&_u(e),a=n||r||o||i,l=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=l.length;for(var u in e)!t&&!Tu.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Js(u,s))||l.push(u);return l}function Ru(e,t){return function(n){return e(t(n))}}var Nu=Ru(Object.keys,Object),Au=Object.prototype.hasOwnProperty;function Du(e){if(!cu(e))return Nu(e);var t=[];for(var n in Object(e))Au.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Bu(e){return su(e)?Mu(e):Du(e)}var ku=Object.prototype.hasOwnProperty;function Pu(e){if(!cs(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=cu(e),n=[];for(var r in e)("constructor"!=r||!t&&ku.call(e,r))&&n.push(r);return n}function zu(e){return su(e)?Mu(e,!0):Pu(e)}var Fu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hu=/^\w*$/;function $u(e,t){if(rs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ts(e))||(Hu.test(e)||!Fu.test(e)||null!=t&&e in Object(t))}var ju=Ns(Object,"create");var Wu=Object.prototype.hasOwnProperty;var Gu=Object.prototype.hasOwnProperty;function Zu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vu(e,t){for(var n=e.length;n--;)if(tu(e[n][0],t))return n;return-1}Zu.prototype.clear=function(){this.__data__=ju?ju(null):{},this.size=0},Zu.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Zu.prototype.get=function(e){var t=this.__data__;if(ju){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Wu.call(t,e)?t[e]:void 0},Zu.prototype.has=function(e){var t=this.__data__;return ju?void 0!==t[e]:Gu.call(t,e)},Zu.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ju&&void 0===t?"__lodash_hash_undefined__":t,this};var Uu=Array.prototype.splice;function Yu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Yu.prototype.clear=function(){this.__data__=[],this.size=0},Yu.prototype.delete=function(e){var t=this.__data__,n=Vu(t,e);return!(n<0)&&(n==t.length-1?t.pop():Uu.call(t,n,1),--this.size,!0)},Yu.prototype.get=function(e){var t=this.__data__,n=Vu(t,e);return n<0?void 0:t[n][1]},Yu.prototype.has=function(e){return Vu(this.__data__,e)>-1},Yu.prototype.set=function(e,t){var n=this.__data__,r=Vu(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Xu=Ns(Zl,"Map");function qu(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ku(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ku.prototype.clear=function(){this.size=0,this.__data__={hash:new Zu,map:new(Xu||Yu),string:new Zu}},Ku.prototype.delete=function(e){var t=qu(this,e).delete(e);return this.size-=t?1:0,t},Ku.prototype.get=function(e){return qu(this,e).get(e)},Ku.prototype.has=function(e){return qu(this,e).has(e)},Ku.prototype.set=function(e,t){var n=qu(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Qu(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Qu.Cache||Ku),n}Qu.Cache=Ku;var Ju=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ec=/\\(\\)?/g,tc=function(e){var t=Qu(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ju,(function(e,n,r,o){t.push(r?o.replace(ec,"$1"):n||e)})),t})),nc=tc;function rc(e){return null==e?"":as(e)}function oc(e,t){return rs(e)?e:$u(e,t)?[e]:nc(rc(e))}function ic(e){if("string"==typeof e||ts(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function ac(e,t){for(var n=0,r=(t=oc(t,e)).length;null!=e&&n<r;)e=e[ic(t[n++])];return n&&n==r?e:void 0}function lc(e,t,n){var r=null==e?void 0:ac(e,t);return void 0===r?n:r}function sc(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var uc=Vl?Vl.isConcatSpreadable:void 0;function cc(e){return rs(e)||gu(e)||!!(uc&&e&&e[uc])}function dc(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=cc),o||(o=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?dc(l,t-1,n,r,o):sc(o,l):r||(o[o.length]=l)}return o}function fc(e){return(null==e?0:e.length)?dc(e,1):[]}var hc=Ru(Object.getPrototypeOf,Object),pc=Function.prototype,vc=Object.prototype,gc=pc.toString,mc=vc.hasOwnProperty,yc=gc.call(Object);var bc=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Cc(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function wc(e){var t=this.__data__=new Yu(e);this.size=t.size}wc.prototype.clear=function(){this.__data__=new Yu,this.size=0},wc.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},wc.prototype.get=function(e){return this.__data__.get(e)},wc.prototype.has=function(e){return this.__data__.has(e)},wc.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yu){var r=n.__data__;if(!Xu||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ku(r)}return n.set(e,t),this.size=n.size,this};var xc="object"==typeof exports&&exports&&!exports.nodeType&&exports,Sc=xc&&e&&!e.nodeType&&e,Ec=Sc&&Sc.exports===xc?Zl.Buffer:void 0,Ic=Ec?Ec.allocUnsafe:void 0;function Oc(e,t){if(t)return e.slice();var n=e.length,r=Ic?Ic(n):new e.constructor(n);return e.copy(r),r}function Lc(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function _c(){return[]}var Tc=Object.prototype.propertyIsEnumerable,Mc=Object.getOwnPropertySymbols,Rc=Mc?function(e){return null==e?[]:(e=Object(e),Lc(Mc(e),(function(t){return Tc.call(e,t)})))}:_c;var Nc=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)sc(t,Rc(e)),e=hc(e);return t}:_c;function Ac(e,t,n){var r=t(e);return rs(e)?r:sc(r,n(e))}function Dc(e){return Ac(e,Bu,Rc)}function Bc(e){return Ac(e,zu,Nc)}var kc=Ns(Zl,"DataView"),Pc=Ns(Zl,"Promise"),zc=Ns(Zl,"Set"),Fc="[object Map]",Hc="[object Promise]",$c="[object Set]",jc="[object WeakMap]",Wc="[object DataView]",Gc=Es(kc),Zc=Es(Xu),Vc=Es(Pc),Uc=Es(zc),Yc=Es(As),Xc=Jl;(kc&&Xc(new kc(new ArrayBuffer(1)))!=Wc||Xu&&Xc(new Xu)!=Fc||Pc&&Xc(Pc.resolve())!=Hc||zc&&Xc(new zc)!=$c||As&&Xc(new As)!=jc)&&(Xc=function(e){var t=Jl(e),n="[object Object]"==t?e.constructor:void 0,r=n?Es(n):"";if(r)switch(r){case Gc:return Wc;case Zc:return Fc;case Vc:return Hc;case Uc:return $c;case Yc:return jc}return t});var qc=Xc,Kc=Object.prototype.hasOwnProperty;var Qc=Zl.Uint8Array;function Jc(e){var t=new e.constructor(e.byteLength);return new Qc(t).set(new Qc(e)),t}var ed=/\w*$/;var td=Vl?Vl.prototype:void 0,nd=td?td.valueOf:void 0;function rd(e,t){var n=t?Jc(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function od(e,t,n){var r,o,i,a=e.constructor;switch(t){case"[object ArrayBuffer]":return Jc(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return function(e,t){var n=t?Jc(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return rd(e,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return(i=new(o=e).constructor(o.source,ed.exec(o))).lastIndex=o.lastIndex,i;case"[object Symbol]":return r=e,nd?Object(nd.call(r)):{}}}function id(e){return"function"!=typeof e.constructor||cu(e)?{}:Bs(hc(e))}var ad=Ou&&Ou.isMap,ld=ad?xu(ad):function(e){return es(e)&&"[object Map]"==qc(e)};var sd=Ou&&Ou.isSet,ud=sd?xu(sd):function(e){return es(e)&&"[object Set]"==qc(e)},cd="[object Arguments]",dd="[object Function]",fd="[object Object]",hd={};function pd(e,t,n,r,o,i){var a,l=1&t,s=2&t,u=4&t;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!cs(e))return e;var c=rs(e);if(c){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Kc.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Ps(e,a)}else{var d=qc(e),f=d==dd||"[object GeneratorFunction]"==d;if(Cu(e))return Oc(e,l);if(d==fd||d==cd||f&&!o){if(a=s||f?{}:id(e),!l)return s?function(e,t){return ou(e,Nc(e),t)}(e,function(e,t){return e&&ou(t,zu(t),e)}(a,e)):function(e,t){return ou(e,Rc(e),t)}(e,function(e,t){return e&&ou(t,Bu(t),e)}(a,e))}else{if(!hd[d])return o?e:{};a=od(e,d,l)}}i||(i=new wc);var h=i.get(e);if(h)return h;i.set(e,a),ud(e)?e.forEach((function(r){a.add(pd(r,t,n,r,e,i))})):ld(e)&&e.forEach((function(r,o){a.set(o,pd(r,t,n,o,e,i))}));var p=c?void 0:(u?s?Bc:Dc:s?zu:Bu)(e);return Us(p||e,(function(r,o){p&&(r=e[o=r]),ru(a,o,pd(r,t,n,o,e,i))})),a}hd[cd]=hd["[object Array]"]=hd["[object ArrayBuffer]"]=hd["[object DataView]"]=hd["[object Boolean]"]=hd["[object Date]"]=hd["[object Float32Array]"]=hd["[object Float64Array]"]=hd["[object Int8Array]"]=hd["[object Int16Array]"]=hd["[object Int32Array]"]=hd["[object Map]"]=hd["[object Number]"]=hd[fd]=hd["[object RegExp]"]=hd["[object Set]"]=hd["[object String]"]=hd["[object Symbol]"]=hd["[object Uint8Array]"]=hd["[object Uint8ClampedArray]"]=hd["[object Uint16Array]"]=hd["[object Uint32Array]"]=!0,hd["[object Error]"]=hd[dd]=hd["[object WeakMap]"]=!1;function vd(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ku;++t<n;)this.add(e[t])}function gd(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function md(e,t){return e.has(t)}vd.prototype.add=vd.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},vd.prototype.has=function(e){return this.__data__.has(e)};function yd(e,t,n,r,o,i){var a=1&n,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=2&n?new vd:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var p=e[d],v=t[d];if(r)var g=a?r(v,p,d,t,e,i):r(p,v,d,e,t,i);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!gd(t,(function(e,t){if(!md(h,t)&&(p===e||o(p,e,n,r,i)))return h.push(t)}))){f=!1;break}}else if(p!==v&&!o(p,v,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function bd(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Cd(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var wd=Vl?Vl.prototype:void 0,xd=wd?wd.valueOf:void 0;var Sd=Object.prototype.hasOwnProperty;var Ed="[object Arguments]",Id="[object Array]",Od="[object Object]",Ld=Object.prototype.hasOwnProperty;function _d(e,t,n,r,o,i){var a=rs(e),l=rs(t),s=a?Id:qc(e),u=l?Id:qc(t),c=(s=s==Ed?Od:s)==Od,d=(u=u==Ed?Od:u)==Od,f=s==u;if(f&&Cu(e)){if(!Cu(t))return!1;a=!0,c=!1}if(f&&!c)return i||(i=new wc),a||_u(e)?yd(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Qc(e),new Qc(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return tu(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=bd;case"[object Set]":var s=1&r;if(l||(l=Cd),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=yd(l(e),l(t),r,o,i,a);return a.delete(e),c;case"[object Symbol]":if(xd)return xd.call(e)==xd.call(t)}return!1}(e,t,s,n,r,o,i);if(!(1&n)){var h=c&&Ld.call(e,"__wrapped__"),p=d&&Ld.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,g=p?t.value():t;return i||(i=new wc),o(v,g,n,r,i)}}return!!f&&(i||(i=new wc),function(e,t,n,r,o,i){var a=1&n,l=Dc(e),s=l.length;if(s!=Dc(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:Sd.call(t,c)))return!1}var d=i.get(e),f=i.get(t);if(d&&f)return d==t&&f==e;var h=!0;i.set(e,t),i.set(t,e);for(var p=a;++u<s;){var v=e[c=l[u]],g=t[c];if(r)var m=a?r(g,v,c,t,e,i):r(v,g,c,e,t,i);if(!(void 0===m?v===g||o(v,g,n,r,i):m)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,n,r,o,i))}function Td(e,t,n,r,o){return e===t||(null==e||null==t||!es(e)&&!es(t)?e!=e&&t!=t:_d(e,t,n,r,Td,o))}function Md(e){return e==e&&!cs(e)}function Rd(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function Nd(e){var t=function(e){for(var t=Bu(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Md(o)]}return t}(e);return 1==t.length&&t[0][2]?Rd(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var s=(l=n[o])[0],u=e[s],c=l[1];if(a&&l[2]){if(void 0===u&&!(s in e))return!1}else{var d=new wc;if(r)var f=r(u,c,s,e,t,d);if(!(void 0===f?Td(c,u,3,r,d):f))return!1}}return!0}(n,e,t)}}function Ad(e,t){return null!=e&&t in Object(e)}function Dd(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=oc(t,e)).length,i=!1;++r<o;){var a=ic(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&lu(o)&&Js(a,o)&&(rs(e)||gu(e))}(e,t,Ad)}function Bd(e){return function(t){return null==t?void 0:t[e]}}function kd(e){return $u(e)?Bd(ic(e)):function(e){return function(t){return ac(t,e)}}(e)}function Pd(e){return"function"==typeof e?e:null==e?ys:"object"==typeof e?rs(e)?(t=e[0],n=e[1],$u(t)&&Md(n)?Rd(ic(t),n):function(e){var r=lc(e,t);return void 0===r&&r===n?Dd(e,t):Td(n,r,3)}):Nd(e):kd(e);var t,n}var zd,Fd=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var l=i[zd?a:++r];if(!1===t(o[l],l,o))break}return e};function Hd(e,t){return e&&Fd(e,t,Bu)}var $d=function(e,t){return function(n,r){if(null==n)return n;if(!su(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}(Hd),jd=$d,Wd=function(){return Zl.Date.now()},Gd=Math.max,Zd=Math.min;function Vd(e,t,n){var r,o,i,a,l,s,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function p(e){return u=e,l=setTimeout(g,t),c?h(e):a}function v(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-u>=i}function g(){var e=Wd();if(v(e))return m(e);l=setTimeout(g,function(e){var n=t-(e-s);return d?Zd(n,i-(e-u)):n}(e))}function m(e){return l=void 0,f&&r?h(e):(r=o=void 0,a)}function y(){var e=Wd(),n=v(e);if(r=arguments,o=this,s=e,n){if(void 0===l)return p(s);if(d)return clearTimeout(l),l=setTimeout(g,t),h(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=vs(t)||0,cs(n)&&(c=!!n.leading,i=(d="maxWait"in n)?Gd(vs(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=s=o=l=void 0},y.flush=function(){return void 0===l?a:m(Wd())},y}function Ud(e,t,n){(void 0!==n&&!tu(e[t],n)||void 0===n&&!(t in e))&&eu(e,t,n)}function Yd(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function Xd(e,t,n,r,o,i,a){var l=Yd(e,n),s=Yd(t,n),u=a.get(s);if(u)Ud(e,n,u);else{var c,d=i?i(l,s,n+"",e,t,a):void 0,f=void 0===d;if(f){var h=rs(s),p=!h&&Cu(s),v=!h&&!p&&_u(s);d=s,h||p||v?rs(l)?d=l:es(c=l)&&su(c)?d=Ps(l):p?(f=!1,d=Oc(s,!0)):v?(f=!1,d=rd(s,!0)):d=[]:function(e){if(!es(e)||"[object Object]"!=Jl(e))return!1;var t=hc(e);if(null===t)return!0;var n=mc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&gc.call(n)==yc}(s)||gu(s)?(d=l,gu(l)?d=function(e){return ou(e,zu(e))}(l):cs(l)&&!bs(l)||(d=id(s))):f=!1}f&&(a.set(s,d),o(d,s,r,i,a),a.delete(s)),Ud(e,n,d)}}function qd(e,t,n,r,o){e!==t&&Fd(t,(function(i,a){if(o||(o=new wc),cs(i))Xd(e,t,a,n,qd,r,o);else{var l=r?r(Yd(e,a),i,a+"",e,t,o):void 0;void 0===l&&(l=i),Ud(e,a,l)}}),zu)}function Kd(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Qd(e){return"function"==typeof e?e:ys}function Jd(e,t){return(rs(e)?Us:jd)(e,Qd(t))}function ef(e,t){var n=[];return jd(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function tf(e,t){return(rs(e)?Lc:ef)(e,Pd(t))}var nf=Math.max;var rf,of=(rf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ms(n);return o<0&&(o=nf(r+o,0)),Ys(e,Pd(t),o)},function(e,t,n){var r=Object(e);if(!su(e)){var o=Pd(t);e=Bu(e),t=function(e){return o(r[e],e,r)}}var i=rf(e,t,n);return i>-1?r[o?e[i]:i]:void 0});function af(e){return e&&e.length?e[0]:void 0}function lf(e,t){var n=-1,r=su(e)?Array(e.length):[];return jd(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function sf(e,t){return(rs(e)?ns:lf)(e,Pd(t))}function uf(e){return"string"==typeof e||!rs(e)&&es(e)&&"[object String]"==Jl(e)}function cf(e){return null==e?[]:function(e,t){return ns(t,(function(t){return e[t]}))}(e,Bu(e))}var df=Math.max;var ff=Object.prototype.hasOwnProperty;function hf(e){if(null==e)return!0;if(su(e)&&(rs(e)||"string"==typeof e||"function"==typeof e.splice||Cu(e)||_u(e)||gu(e)))return!e.length;var t=qc(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(cu(e))return!Du(e).length;for(var n in e)if(ff.call(e,n))return!1;return!0}function pf(e,t){return Td(e,t)}function vf(e){return null==e}var gf,mf=(gf=function(e,t,n){qd(e,t,n)},function(e,t){return Vs(au(e,t,ys),e+"")}((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=gf.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!cs(n))return!1;var r=typeof t;return!!("number"==r?su(n)&&Js(t,n.length):"string"==r&&t in n)&&tu(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&gf(e,a,n,o)}return e}))),yf=mf;function bf(e,t,n,r){if(!cs(e))return e;for(var o=-1,i=(t=oc(t,e)).length,a=i-1,l=e;null!=l&&++o<i;){var s=ic(t[o]),u=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(o!=a){var c=l[s];void 0===(u=r?r(c,s,l):void 0)&&(u=cs(c)?c:Js(t[o+1])?[]:{})}ru(l,s,u),l=l[s]}return e}var Cf=Bd("length"),wf="\\ud800-\\udfff",xf="["+wf+"]",Sf="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ef="\\ud83c[\\udffb-\\udfff]",If="[^"+wf+"]",Of="(?:\\ud83c[\\udde6-\\uddff]){2}",Lf="[\\ud800-\\udbff][\\udc00-\\udfff]",_f="(?:"+Sf+"|"+Ef+")"+"?",Tf="[\\ufe0e\\ufe0f]?",Mf=Tf+_f+("(?:\\u200d(?:"+[If,Of,Lf].join("|")+")"+Tf+_f+")*"),Rf="(?:"+[If+Sf+"?",Sf,Of,Lf,xf].join("|")+")",Nf=RegExp(Ef+"(?="+Ef+")|"+Rf+Mf,"g");function Af(e){return function(e){return bc.test(e)}(e)?function(e){for(var t=Nf.lastIndex=0;Nf.test(e);)++t;return t}(e):Cf(e)}function Df(e,t){return function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],l=ac(e,a);n(l,a)&&bf(i,oc(a,e),l)}return i}(e,t,(function(t,n){return Dd(e,n)}))}var Bf=function(e){return Vs(au(e,void 0,fc),e+"")}((function(e,t){return null==e?{}:Df(e,t)})),kf=Bf;function Pf(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function zf(e){if(null==e)return 0;if(su(e))return uf(e)?Af(e):e.length;var t=qc(e);return"[object Map]"==t||"[object Set]"==t?e.size:Du(e).length}var Ff=zc&&1/Cd(new zc([,-0]))[1]==1/0?function(e){return new zc(e)}:function(){};function Hf(e){return e&&e.length?function(e,t,n){var r=-1,o=Ks,i=e.length,a=!0,l=[],s=l;if(n)a=!1,o=Kd;else if(i>=200){var u=t?null:Ff(e);if(u)return Cd(u);a=!1,o=md,s=new vd}else s=t?[]:l;e:for(;++r<i;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var f=s.length;f--;)if(s[f]===d)continue e;t&&s.push(d),l.push(c)}else o(s,d,n)||(s!==l&&s.push(d),l.push(c))}return l}(e):[]}const $f=(e,t)=>{var n,r,o,i;return!0===(i=t)||!1===i||es(i)&&"[object Boolean]"==Jl(i)?{container:e,adaptiveWidth:!0,adaptiveHeight:!1}:{container:(null==(n=null==t?void 0:t.getContainer)?void 0:n.call(t))||e,adaptiveWidth:null==(r=null==t?void 0:t.width)||r,adaptiveHeight:null==(o=null==t?void 0:t.height)||o}},jf=e=>{let t=!0;const{s2:n,adaptive:r,container:o,wrapper:i}=e,{container:a,adaptiveWidth:l,adaptiveHeight:s}=$f(i,r);if(!(a&&o&&r&&n))return;const u=(e,t)=>{null==n||n.changeSheetSize(e,t),null==n||n.render(!1)},c=Vd(u,200),d=new ResizeObserver((([e]=[])=>{e&&(()=>{const{clientWidth:e,clientHeight:r}=o,i=l?Math.floor(null!=e?e:n.options.width):n.options.width,a=s?Math.floor(null!=r?r:n.options.height):n.options.height;if(l||s)t?(u(i,a),t=!1):c(i,a)})()}));return d.observe(a,{box:"border-box"}),()=>{d.unobserve(a)}},Wf=(e,t)=>{const n=e.store.get("drillDownDataCache",[]),r=n.find((e=>e.rowId===t.id));return{drillDownDataCache:n,drillDownCurrentCache:r}},Gf=e=>{var t;const n=e.spreadsheet,{fields:r}=n.dataCfg,o=(null==(t=r.rows)?void 0:t.length)-1,i=!!hf(r.values)||n.isValueInCols();return o<=e.level&&n.isHierarchyTreeType()&&i&&!e.isGrandTotals},Zf=(e,t,n)=>{var o;const i=(null==(o=null==e?void 0:e.headerActionIcons)?void 0:o.length)?[...e.headerActionIcons]:[];if(!hf(t)){const e={belongsCell:"rowCell",iconNames:["DrillDownIcon"],defaultHide:!0,displayCondition:t.displayCondition||Gf,action:e=>{const{iconName:t,meta:o,event:i}=e;"DrillDownIcon"===t&&(o.spreadsheet.store.set("drillDownNode",o),(e=>{const{meta:t,event:n,callback:o}=e,{spreadsheet:i}=t;i.store.set("drillDownNode",t);const{drillDownDataCache:a,drillDownCurrentCache:l}=Wf(i,t),s=(null==l?void 0:l.drillField)?[null==l?void 0:l.drillField]:[],u=[];a.forEach((e=>{t.id.includes(e.rowId)&&t.id!==e.rowId&&u.push(e.drillField)})),n&&i.emit(r.ch4.GLOBAL_ACTION_ICON_CLICK,n),o({sheetInstance:i,cacheDrillFields:s,disabledFields:u,event:n})})({meta:o,event:i,callback:n}))}};i.push(e)}return Al(Nl({},e),{headerActionIcons:i})},Vf=e=>{const{fetchData:t,spreadsheet:n,drillFields:r,drillItemsNum:o=-1}=e;n.store.set("drillItemsNum",o);const i=n.store.get("drillDownNode"),{drillDownDataCache:a,drillDownCurrentCache:l}=Wf(n,i);let s=pd(a,4);l&&(s=tf(a,(e=>e.rowId!==i.id))),t&&t(i,r).then((e=>{const{drillData:t,drillField:r}=e;if(n.dataSet.transformDrillDownData(r,t,i),!hf(t)){const e=i.level+1,o={rowId:i.id,drillLevel:e,drillData:t,drillField:r};s.push(o),n.store.set("drillDownDataCache",s)}n.interaction.reset(),n.render(!1)}))};(0,r.AfN)(Bl);var Uf,Yf=(Uf=c.useEffect,function(e,t){var n=(0,c.useRef)(!1);Uf((function(){return function(){n.current=!1}}),[]),Uf((function(){if(n.current)return e();n.current=!0}),t)});var Xf,qf=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Kf=function(){var e=qf((0,c.useState)({}),2)[1];return(0,c.useCallback)((function(){return e({})}),[])},Qf={exports:{}};Xf=Qf,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)n.push(o);else if(Array.isArray(o)){if(o.length){var a=t.apply(null,o);a&&n.push(a)}}else if("object"===i)if(o.toString===Object.prototype.toString)for(var l in o)e.call(o,l)&&o[l]&&n.push(l);else n.push(o.toString())}}return n.join(" ")}Xf.exports?(t.default=t,Xf.exports=t):window.classNames=t}();var Jf=Qf.exports;const eh=e=>{const{style:t={},width:n,height:o,className:i,name:a}=e,l=Nl({},t);return n&&(l.width=`${n}px`),o&&(l.height=`${o}px`),c.createElement("span",{style:l,className:Jf(`${r.vhY}-html-icon`,i),dangerouslySetInnerHTML:{__html:(0,r.q7_)(a)}})},th=e=>{const{style:t={},className:n,content:o}=e,i={style:t,className:Jf(`${r.vhY}-react-element`,n)};if(c.isValidElement(o))return c.createElement("span",Nl({},i),c.createElement(c.Fragment,null,o));const a="string"!=typeof o?null==o?void 0:o.innerHTML:o;return c.createElement("span",Al(Nl({},i),{dangerouslySetInnerHTML:{__html:a}}))},nh=e=>{const t=e,{icon:n}=t,o=Dl(t,["icon"]);if(!n)return null;if((0,r.q7_)(n)){const e=n;return c.createElement(eh,Nl({name:e},o))}return c.createElement(th,Nl({content:n},o))},rh=e=>{const{list:t=[]}=e;return c.createElement("div",{className:`${r.NO_}-detail-list`},t.map(((e,t)=>{const{name:n,value:o,icon:i}=e;return c.createElement("div",{key:`${o}-${t}`,className:`${r.NO_}-detail-item`},c.createElement("span",{className:`${r.NO_}-detail-item-key`},n),c.createElement("span",{className:`${r.NO_}-detail-item-val ${r.NO_}-highlight`},i?c.createElement(nh,{icon:i,width:8,height:7}):null,o))})))},oh=e=>{var t,n;const{rows:o=[],cols:i=[]}=e;return c.createElement("div",{className:`${r.NO_}-head-info-list`},null==(t=i.map((e=>e.value)))?void 0:t.join("/"),i.length>0&&o.length>0&&"，",null==(n=o.map((e=>e.value)))?void 0:n.join("/"))},ih=e=>{const{infos:t=""}=e;return c.createElement("div",{className:`${r.NO_}-infos`},t)},ah=e=>{const{name:t,icon:n,text:o,render:i}=e;return c.createElement("div",{className:`${r.NO_}-interpretation`},c.createElement("div",{className:`${r.NO_}-interpretation-head`},c.createElement(nh,{icon:n,className:`${r.NO_}-interpretation-icon`}),t&&c.createElement("span",{className:`${r.NO_}-interpretation-name`},t)),o&&c.createElement("div",null,o),c.createElement(th,{content:i}))};const lh=c.memo((e=>{const{menus:t,onlyMenu:n,onClick:a,cell:l,defaultSelectedKeys:s}=e,u=e=>c.createElement("span",{onClick:()=>{var t;return null==(t=e.onClick)?void 0:t.call(e,l)}},c.createElement(nh,{icon:e.icon,className:`${r.NO_}-operator-icon`}),c.createElement("span",{className:`${r.NO_}-operator-text`},e.text)),d=e=>{const{key:t,text:n,children:i,onClick:a}=e;return hf(i)?c.createElement(o.Z.Item,{title:n,key:t},u(e)):c.createElement(o.Z.SubMenu,{title:u(e),key:t,popupClassName:`${r.NO_}-operator-submenu-popup`,onTitleClick:()=>null==a?void 0:a(l)},sf(i,(e=>d(e))))};return hf(t)?null:c.createElement("div",{className:`${r.NO_}-operator`},n?c.createElement(o.Z,{className:`${r.NO_}-operator-menus`,onClick:a,defaultSelectedKeys:s},sf(t,(e=>d(e)))):sf(t,(e=>{const{key:t,children:n}=e,l=hf(n)?c.createElement(c.Fragment,null):c.createElement(o.Z,{className:`${r.NO_}-operator-menus`,onClick:a,key:t,defaultSelectedKeys:s},sf(n,(e=>d(e))));return c.createElement(i.Z,{key:t,overlay:l},u(e))})))})),sh=e=>{const{tips:t="",name:n=""}=e;return c.createElement(c.Fragment,null,n&&c.createElement("div",{className:`${r.NO_}-name`},n),t&&c.createElement("div",{className:`${r.NO_}-tips`},t))},uh=c.memo((e=>{const{summaries:t=[]}=e;return c.createElement("div",{className:`${r.NO_}-summary`},(()=>{const e=(o=e=>zf(null==e?void 0:e.selectedData),(n=t)&&n.length?function(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}(n,Pd(o)):0);var n,o;return c.createElement("div",{className:`${r.NO_}-summary-item`},c.createElement("span",{className:`${r.NO_}-selected`},e," ",(0,r.agQ)("项")),(0,r.agQ)("已选择"))})(),null==t?void 0:t.map((e=>{const{name:t="",value:n}=e||{};if(t||n)return c.createElement("div",{key:`${t}-${n}`,className:`${r.NO_}-summary-item`},t?c.createElement("span",{className:`${r.NO_}-summary-key`},t," （",(0,r.agQ)("总和"),")"):c.createElement("span",{className:`${r.NO_}-summary-key`}," "),c.createElement("span",{className:Jf(`${r.NO_}-summary-val`,`${r.NO_}-bold`)},n))})))})),ch=({description:e})=>c.createElement(c.Fragment,null,e&&c.createElement("div",{className:`${r.NO_}-description`},(0,r.agQ)("说明"),"：",e));const dh=e=>{const{data:t,options:n,content:o,cell:i}=e,a=(e,t)=>e&&c.createElement(lh,Al(Nl({},e),{onlyMenu:t,cell:i}));return(()=>{const{operator:e,onlyMenu:i}=(0,r.IZo)(n),{summaries:l,headInfo:s,details:u,interpretation:d,infos:f,tips:h,name:p,description:v}=t||{},g={name:p,tips:h};if(i)return a(e,!0);const m=c.createElement(c.Fragment,null,(e=>{const{name:t,tips:n}=e||{};return c.createElement(sh,{name:t,tips:n})})(g),(e=>!hf(e)&&c.createElement(uh,{summaries:e}))(l),(e=>e&&c.createElement(ah,Nl({},e)))(d),(e=>{const{cols:t,rows:n}=e||{};return(!hf(t)||!hf(n))&&c.createElement(oh,{cols:t,rows:n})})(s),(e=>!hf(e)&&c.createElement(rh,{list:e}))(u),(e=>e&&c.createElement(ih,{infos:e}))(f),(e=>c.createElement(ch,{description:e}))(v));return c.createElement(c.Fragment,null,a(e),null!=o?o:m)})()};class fh extends r.N6r{constructor(e){super(e)}renderContent(){var e,t,n;const{content:r}=this.spreadsheet.options.tooltip,o=this.options,i=this.spreadsheet.getCell(null==(e=o.event)?void 0:e.target),a=null!=(t=o.content)?t:r,l=Al(Nl({},o),{cell:i,content:a});(null==(n=o.options)?void 0:n.forceRender)&&this.unmountComponentAtNode(),_n.render(c.createElement(dh,Al(Nl({},l),{content:a})),this.container)}destroy(){super.destroy(),this.unmountComponentAtNode()}unmountComponentAtNode(){this.container&&_n.unmountComponentAtNode(this.container)}}const hh={tooltip:{renderTooltip:e=>new fh(e)}},ph=(...e)=>((...e)=>(0,r._Ge)(r.WNh,kl,...e))(hh,...e),vh=(e,t,n)=>{c.useEffect((()=>{const o=e=>{null==t||t((0,r.c8d)(e))};return null==n||n.on(e,o),()=>{null==n||n.off(e,o)}}),[n,t,e])},gh=(e,t,n,r=!1)=>{c.useEffect((()=>{const o=e=>{null==t||t(e)};return null==n||n.on(e,o),()=>{r&&(null==n||n.emit(e)),null==n||n.off(e,o)}}),[n,t,e])};function mh(e){const t=Kf(),n=c.useRef(),o=c.useRef(),i=c.useRef(),{spreadsheet:a,dataCfg:l,options:s,themeCfg:u,sheetType:d,onSheetUpdate:f=ys}=e,h=c.useRef([l,s,u]),{loading:p,setLoading:v}=((e,t)=>{const[n,o]=c.useState(t);return c.useEffect((()=>{null==e||e.on(r.ch4.LAYOUT_BEFORE_RENDER,(()=>{o(!0)})),null==e||e.on(r.ch4.LAYOUT_AFTER_RENDER,(()=>{o(!1)}))}),[e]),{loading:null!=t?t:n,setLoading:o}})(n.current,e.loading),g=((e,t)=>{const{options:{pagination:n},showPagination:o}=t,[i,a]=c.useState({total:0,current:(null==n?void 0:n.current)||1,pageSize:(null==n?void 0:n.pageSize)||10});return Yf((()=>{e&&!hf(n)&&(e.updatePagination({current:i.current,pageSize:i.pageSize}),e.render(!1))}),[i.current,i.pageSize,e]),Yf((()=>{var t,r;a({total:null!=(r=null==(t=null==e?void 0:e.facet)?void 0:t.viewCellHeights.getTotalLength())?r:0,current:(null==n?void 0:n.current)||1,pageSize:(null==n?void 0:n.pageSize)||10})}),[n,e]),Yf((()=>{if(!e||hf(n))return;const t=e=>{a((t=>Al(Nl({},t),{total:e.total})))};return e.on(r.ch4.LAYOUT_PAGINATION,t),()=>{e.off(r.ch4.LAYOUT_PAGINATION,t)}}),[n,e]),{showPagination:Boolean(o),pagination:Nl(Nl({},n),i),onShowSizeChange:(e,t)=>{var r;const i=null!=(r=lc(o,"onShowSizeChange"))?r:null==n?void 0:n.onShowSizeChange;null==i||i(e,t)},onChange:(e,t)=>{var r;a(Al(Nl({},i),{current:e,pageSize:t}));const l=null!=(r=lc(o,"onChange"))?r:null==n?void 0:n.onChange;null==l||l(e,t)}}})(n.current,e);!function(e,t){vh(r.ch4.ROW_CELL_HOVER,e.onRowCellHover,t),vh(r.ch4.ROW_CELL_CLICK,e.onRowCellClick,t),vh(r.ch4.ROW_CELL_DOUBLE_CLICK,e.onRowCellDoubleClick,t),vh(r.ch4.ROW_CELL_CONTEXT_MENU,e.onRowCellContextMenu,t),vh(r.ch4.ROW_CELL_MOUSE_DOWN,e.onRowCellMouseDown,t),vh(r.ch4.ROW_CELL_MOUSE_UP,e.onRowCellMouseUp,t),vh(r.ch4.ROW_CELL_MOUSE_MOVE,e.onRowCellMouseMove,t),gh(r.ch4.ROW_CELL_COLLAPSE_TREE_ROWS,e.onRowCellCollapseTreeRows,t),gh(r.ch4.ROW_CELL_SCROLL,e.onRowCellScroll,t),vh(r.ch4.COL_CELL_HOVER,e.onColCellHover,t),vh(r.ch4.COL_CELL_CLICK,e.onColCellClick,t),vh(r.ch4.COL_CELL_DOUBLE_CLICK,e.onColCellDoubleClick,t),vh(r.ch4.COL_CELL_CONTEXT_MENU,e.onColCellContextMenu,t),vh(r.ch4.COL_CELL_MOUSE_DOWN,e.onColCellMouseDown,t),vh(r.ch4.COL_CELL_MOUSE_UP,e.onColCellMouseUp,t),vh(r.ch4.COL_CELL_MOUSE_MOVE,e.onColCellMouseMove,t),vh(r.ch4.DATA_CELL_HOVER,e.onDataCellHover,t),vh(r.ch4.DATA_CELL_CLICK,e.onDataCellClick,t),vh(r.ch4.DATA_CELL_DOUBLE_CLICK,e.onDataCellDoubleClick,t),vh(r.ch4.DATA_CELL_CONTEXT_MENU,e.onDataCellContextMenu,t),vh(r.ch4.DATA_CELL_MOUSE_DOWN,e.onDataCellMouseDown,t),vh(r.ch4.DATA_CELL_MOUSE_UP,e.onDataCellMouseUp,t),vh(r.ch4.DATA_CELL_MOUSE_MOVE,e.onDataCellMouseMove,t),gh(r.ch4.DATA_CELL_TREND_ICON_CLICK,e.onDataCellTrendIconClick,t),gh(r.ch4.DATA_CELL_BRUSH_SELECTION,e.onDataCellBrushSelection,t),gh(r.ch4.DATA_CELL_SELECT_MOVE,e.onDataCellSelectMove,t),vh(r.ch4.CORNER_CELL_HOVER,e.onCornerCellHover,t),vh(r.ch4.CORNER_CELL_CLICK,e.onCornerCellClick,t),vh(r.ch4.CORNER_CELL_DOUBLE_CLICK,e.onCornerCellDoubleClick,t),vh(r.ch4.CORNER_CELL_CONTEXT_MENU,e.onCornerCellContextMenu,t),vh(r.ch4.CORNER_CELL_MOUSE_DOWN,e.onCornerCellMouseDown,t),vh(r.ch4.CORNER_CELL_MOUSE_UP,e.onCornerCellMouseUp,t),vh(r.ch4.CORNER_CELL_MOUSE_MOVE,e.onCornerCellMouseMove,t),vh(r.ch4.MERGED_CELLS_HOVER,e.onMergedCellsHover,t),vh(r.ch4.MERGED_CELLS_CLICK,e.onMergedCellsClick,t),vh(r.ch4.MERGED_CELLS_DOUBLE_CLICK,e.onMergedCellsDoubleClick,t),vh(r.ch4.MERGED_CELLS_CONTEXT_MENU,e.onMergedCellsContextMenu,t),vh(r.ch4.MERGED_CELLS_MOUSE_DOWN,e.onMergedCellsMouseDown,t),vh(r.ch4.MERGED_CELLS_MOUSE_UP,e.onMergedCellsMouseUp,t),vh(r.ch4.MERGED_CELLS_MOUSE_MOVE,e.onMergedCellsMouseMove,t),gh(r.ch4.RANGE_SORT,e.onRangeSort,t),gh(r.ch4.RANGE_SORTED,e.onRangeSorted,t),gh(r.ch4.RANGE_FILTER,e.onRangeFilter,t),gh(r.ch4.RANGE_FILTERED,e.onRangeFiltered,t),gh(r.ch4.LAYOUT_AFTER_HEADER_LAYOUT,e.onLayoutAfterHeaderLayout,t),gh(r.ch4.LAYOUT_PAGINATION,e.onLayoutPagination,t),gh(r.ch4.LAYOUT_CELL_SCROLL,e.onLayoutCellScroll,t),gh(r.ch4.LAYOUT_AFTER_COLLAPSE_ROWS,e.onLayoutAfterCollapseRows,t),gh(r.ch4.LAYOUT_TREE_ROWS_COLLAPSE_ALL,e.onCollapseRowsAll,t),gh(r.ch4.LAYOUT_COLS_EXPANDED,e.onLayoutColsExpanded,t),gh(r.ch4.LAYOUT_COLS_HIDDEN,e.onLayoutColsHidden,t),gh(r.ch4.LAYOUT_BEFORE_RENDER,e.onBeforeRender,t),gh(r.ch4.LAYOUT_AFTER_RENDER,e.onAfterRender,t),gh(r.ch4.LAYOUT_DESTROY,e.onDestroy,t,!0),gh(r.ch4.LAYOUT_RESIZE,e.onLayoutResize,t),gh(r.ch4.LAYOUT_RESIZE_SERIES_WIDTH,e.onLayoutResizeSeriesWidth,t),gh(r.ch4.LAYOUT_RESIZE_ROW_WIDTH,e.onLayoutResizeRowWidth,t),gh(r.ch4.LAYOUT_RESIZE_ROW_HEIGHT,e.onLayoutResizeRowHeight,t),gh(r.ch4.LAYOUT_RESIZE_COL_WIDTH,e.onLayoutResizeColWidth,t),gh(r.ch4.LAYOUT_RESIZE_COL_HEIGHT,e.onLayoutResizeColHeight,t),gh(r.ch4.LAYOUT_RESIZE_TREE_WIDTH,e.onLayoutResizeTreeWidth,t),gh(r.ch4.LAYOUT_RESIZE_MOUSE_DOWN,e.onLayoutResizeMouseDown,t),gh(r.ch4.LAYOUT_RESIZE_MOUSE_UP,e.onLayoutResizeMouseUp,t),gh(r.ch4.LAYOUT_RESIZE_MOUSE_MOVE,e.onLayoutResizeMouseMove,t),gh(r.ch4.GLOBAL_KEYBOARD_DOWN,e.onKeyBoardDown,t),gh(r.ch4.GLOBAL_KEYBOARD_UP,e.onKeyBoardUp,t),gh(r.ch4.GLOBAL_COPIED,e.onCopied,t),gh(r.ch4.GLOBAL_ACTION_ICON_HOVER,e.onActionIconHover,t),gh(r.ch4.GLOBAL_ACTION_ICON_CLICK,e.onActionIconClick,t),gh(r.ch4.GLOBAL_CONTEXT_MENU,e.onContextMenu,t),gh(r.ch4.GLOBAL_HOVER,e.onMouseHover,t),gh(r.ch4.GLOBAL_CLICK,e.onClick,t),gh(r.ch4.GLOBAL_DOUBLE_CLICK,e.onDoubleClick,t),gh(r.ch4.GLOBAL_SELECTED,e.onSelected,t),gh(r.ch4.GLOBAL_MOUSE_UP,e.onMouseUp,t),gh(r.ch4.GLOBAL_RESET,e.onReset,t),gh(r.ch4.GLOBAL_LINK_FIELD_JUMP,e.onLinkFieldJump,t),gh(r.ch4.GLOBAL_SCROLL,e.onScroll,t),gh(r.ch4.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,e.onLayoutAfterRealDataCellRender,t),gh(r.ch4.ROW_CELL_BRUSH_SELECTION,e.onRowCellBrushSelection,t),gh(r.ch4.COL_CELL_BRUSH_SELECTION,e.onColCellBrushSelection,t)}(e,n.current);const m=c.useCallback((e=>{const t=ph(s);return a?a(e,l,t):"table"===d?new r.HZt(e,l,t):new r.TA7(e,l,t)}),[d,s,l,a]),y=c.useCallback((()=>{var r;v(!0),n.current=m(o.current),n.current.setThemeCfg(e.themeCfg),n.current.render(),v(!1),t(),e.getSpreadSheet&&(console.warn("[SheetComponent] `getSpreadSheet` is deprecated. Please use `onMounted` instead."),e.getSpreadSheet(n.current)),null==(r=e.onMounted)||r.call(e,n.current)}),[e,m,v,t]);return c.useEffect((()=>(y(),()=>{var e,t;null==(t=(e=n.current).destroy)||t.call(e)})),[]),Yf((()=>{var e,t,r,o,i,a,c,d,p,v,g;const[m,y,b]=h.current;h.current=[l,s,u];let C=!1,w=!1;Object.is(m,l)||((null==(t=null==(e=null==m?void 0:m.fields)?void 0:e.columns)?void 0:t.length)!==(null==(o=null==(r=null==l?void 0:l.fields)?void 0:r.columns)?void 0:o.length)&&(null==(i=n.current)||i.clearColumnLeafNodes()),C=!0,null==(a=n.current)||a.setDataCfg(l)),Object.is(y,s)||(Object.is(null==y?void 0:y.hierarchyType,null==s?void 0:s.hierarchyType)||(w=!0,C=!0,null==(c=n.current)||c.setDataCfg(l)),null==(d=n.current)||d.setOptions(s),null==(p=n.current)||p.changeSheetSize(s.width,s.height)),Object.is(b,u)||null==(v=n.current)||v.setThemeCfg(u);const x=f({reloadData:C,reBuildDataSet:w});null==(g=n.current)||g.render(x.reloadData,{reBuildDataSet:x.reBuildDataSet})}),[l,s,u,f]),(e=>{const{s2:t,adaptive:n,container:r,wrapper:o}=e;c.useLayoutEffect((()=>jf({s2:t,adaptive:n,wrapper:o,container:r})),[t,o,r,n])})({s2:n.current,container:o.current,wrapper:i.current,adaptive:e.adaptive}),{s2Ref:n,containerRef:o,wrapperRef:i,loading:p,setLoading:v,pagination:g}}const yh=c.createContext(null);function bh(){return c.useContext(yh)}const Ch=e=>c.createElement("svg",Nl({className:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:12.6,height:12.6},e),c.createElement("path",{d:"M950.016 898.016l-206.016-204.992Q832 586.016 832 448.032q0-159.008-112.512-271.488T448 64.032 176.512 176.544 64 448.032t112.512 271.488T448 832.032q138.016 0 244.992-88l206.016 206.016q10.016 10.016 24.992 10.016t26.016-10.016q10.016-11.008 10.016-26.016t-10.016-26.016zM568.992 736Q512 760 448 760T327.008 736q-56-24-99.488-67.488t-66.496-99.488q-24.992-56.992-24.992-120.992t24.992-120.992q23.008-56 66.496-99.488t99.488-67.488Q384 136.064 448 136.064t120.992 24q56 24 99.488 67.488t67.488 99.488q24 56.992 24 120.992t-24 120.992q-24 56-67.488 99.488T568.992 736z",fill:"currentColor"})),wh=e=>c.createElement("svg",Nl({viewBox:"0 0 1024 1024",width:16,height:16,className:"antv-s2-icon"},e),c.createElement("defs",null,c.createElement("style",{type:"text/css"})),c.createElement("path",{d:"M441.6 249.6c0 38.4 32 70.4 70.4 70.4s70.4-32 70.4-70.4c0-38.4-32-70.4-70.4-70.4s-70.4 25.6-70.4 70.4z m0 262.4c0 38.4 32 70.4 70.4 70.4s70.4-32 70.4-70.4c0-38.4-32-70.4-70.4-70.4s-70.4 32-70.4 70.4z m0 262.4c0 38.4 32 70.4 70.4 70.4s70.4-32 70.4-70.4c0-38.4-32-70.4-70.4-70.4s-70.4 32-70.4 70.4z",fill:"currentColor","p-id":22217})),xh=e=>c.createElement("svg",Nl({className:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:12.6,height:12.6},e),c.createElement("path",{d:"M511.804 222.338c-57.117 0-105.737 20.061-145.86 60.184-40.122 40.123-60.184 88.569-60.184 145.337 0 56.769 20.062 105.214 60.185 145.337 40.122 40.123 88.742 60.185 145.859 60.185 57.116 0 105.736-20.062 145.859-60.185 40.123-40.123 60.184-88.568 60.184-145.337 0-56.768-20.061-105.214-60.184-145.337-40.123-40.123-88.743-60.184-145.86-60.184z m0 338.619c-36.729 0-68.007-12.925-93.835-38.774-25.827-25.85-38.752-57.127-38.773-93.834-0.022-36.707 12.902-68.16 38.773-94.357 25.872-26.197 57.15-39.285 93.835-39.263 36.685 0.022 67.963 13.11 93.834 39.263 25.871 26.154 38.796 57.606 38.774 94.357-0.022 36.75-12.946 68.028-38.774 93.834-25.828 25.806-57.106 38.73-93.834 38.774z m366.165-295.766c-21.084-42.168-50.327-79.223-87.73-111.165-37.404-31.941-79.898-57.105-127.484-75.491C614.472 60.845 564.155 52 511.804 52c-52.352 0-103.006 8.845-151.963 26.535-46.911 18.364-89.069 43.528-126.472 75.491-37.403 31.964-66.647 69.019-87.731 111.165C123.879 308.71 113 353.923 113 400.835c0 65.95 15.982 132.924 47.945 200.92 26.524 56.441 63.58 112.198 111.165 167.27 62.556 73.435 134.632 138.71 216.227 195.827 6.81 4.765 14.459 7.148 22.945 7.148 8.485 0 16.47-2.383 23.956-7.148 81.595-57.79 153.67-123.067 216.227-195.828 47.608-55.767 84.663-111.524 111.165-167.27 31.963-67.995 47.945-134.969 47.945-200.919 0-46.912-10.88-92.126-32.638-135.644h0.032z m-40.797 136.656c0 55.07-13.6 111.513-40.798 169.326-23.129 49.631-56.452 99.948-99.97 150.95-52.351 61.208-113.885 117.65-184.6 169.326-70.716-51.676-132.25-108.118-184.6-169.326-42.844-51.002-76.167-101.319-99.971-150.95-27.198-57.791-40.797-114.57-40.797-170.338 0-36.032 8.159-70.716 24.478-104.05 16.994-32.638 40.45-61.882 70.368-87.73 30.592-26.525 65.276-47.26 104.05-62.209 40.797-14.97 82.954-22.455 126.472-22.455 43.517 0 85.675 7.485 126.472 22.455 38.752 14.97 73.436 35.706 104.05 62.208 30.593 25.85 54.048 55.093 70.367 87.731 16.32 34.009 24.479 69.03 24.479 105.062z",fill:"currentColor"})),Sh=e=>c.createElement("svg",Nl({className:"antv-s2-icon",width:"16px",height:"16px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),c.createElement("path",{d:"M18.0047888,16.4055 C18.1082888,16.4055 18.1922888,16.4895 18.1922888,16.593 L18.1922888,17.9055 C18.1922888,18.0090534 18.1083422,18.093 18.0047888,18.093 L9.37978883,18.093 C9.27623544,18.093 9.19228883,18.0090534 9.19228883,17.9055 L9.19228883,16.593 C9.19228883,16.4895 9.27628883,16.4055 9.37978883,16.4055 L18.0047888,16.4055 Z M4.41328883,1.6665 L4.46428883,1.7115 L7.08928883,5.0385 C7.17478883,5.1435 7.12078883,5.2935 7.00528883,5.3325 L6.94228883,5.343 L5.16028883,5.343 L5.16028883,14.25 L6.94228883,14.25 C7.09978883,14.25 7.18828883,14.433 7.08928883,14.5545 L4.46428883,17.88 C4.42872537,17.9249155 4.37457895,17.9511073 4.31728883,17.9511073 C4.25999871,17.9511073 4.20585229,17.9249155 4.17028883,17.88 L1.54528883,14.5545 C1.50119832,14.4981177 1.49305316,14.4215528 1.52429494,14.3571564 C1.55553672,14.2927601 1.62071465,14.2517677 1.69228883,14.2515 L3.47428883,14.2515 L3.47428883,5.343 L1.69228883,5.343 C1.63110128,5.34394015 1.57330492,5.31496201 1.53745415,5.26536844 C1.50160338,5.21577487 1.49220972,5.15180683 1.51228883,5.094 L1.54528883,5.0385 L4.17028883,1.713 C4.22854609,1.63918993 4.33246412,1.61994585 4.41328883,1.668 L4.41328883,1.6665 Z M15.7547888,11.4375 C15.8582888,11.4375 15.9422888,11.5215 15.9422888,11.625 L15.9422888,12.9375 C15.9422888,13.0410534 15.8583422,13.125 15.7547888,13.125 L9.37978883,13.125 C9.33006074,13.125 9.28236938,13.1052456 9.24720631,13.0700825 C9.21204324,13.0349195 9.19228883,12.9872281 9.19228883,12.9375 L9.19228883,11.625 C9.19228883,11.5215 9.27628883,11.4375 9.37978883,11.4375 L15.7547888,11.4375 Z M21.7547888,6.468 C21.8582888,6.468 21.9422888,6.5535 21.9422888,6.6555 L21.9422888,7.968 C21.9422888,8.07155339 21.8583422,8.1555 21.7547888,8.1555 L9.37978883,8.1555 C9.33006074,8.1555 9.28236938,8.13574559 9.24720631,8.10058252 C9.21204324,8.06541945 9.19228883,8.01772809 9.19228883,7.968 L9.19228883,6.6555 C9.19228883,6.5535 9.27628883,6.468 9.37978883,6.468 L21.7547888,6.468 Z M13.5047888,1.5 C13.6082888,1.5 13.6922888,1.584 13.6922888,1.6875 L13.6922888,3 C13.6922888,3.10355339 13.6083422,3.1875 13.5047888,3.1875 L9.37978883,3.1875 C9.33006074,3.1875 9.28236938,3.16774559 9.24720631,3.13258252 C9.21204324,3.09741945 9.19228883,3.04972809 9.19228883,3 L9.19228883,1.6875 C9.19228883,1.584 9.27628883,1.5 9.37978883,1.5 L13.5047888,1.5 Z",fill:"currentColor"})),Eh=e=>c.createElement("svg",Nl({width:"12px",height:"12px",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",className:"antv-s2-icon"},e),c.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(-153.000000, -608.000000)",fill:"currentColor"},c.createElement("g",{transform:"translate(127.000000, 549.000000)"},c.createElement("g",{transform:"translate(24.000000, 57.000000)"},c.createElement("g",{transform:"translate(2.000000, 2.000000)"},c.createElement("path",{d:"M0.771428571,3.77142857 L3.77142857,3.77142857 L3.77142857,5.65714286 L0.771428571,5.65714286 L0.771428571,3.77142857 Z M0.771428571,6.34285714 L3.77142857,6.34285714 L3.77142857,8.57142857 L0.771428571,8.57142857 L0.771428571,6.34285714 Z M0.771428571,9 L3.77142857,9 L3.77142857,11.2285714 L0.771428571,11.2285714 L0.771428571,9 Z"}),c.createElement("path",{d:"M0.771428571,9 L0.771428571,11.2285714 L11.2285714,11.2285714 L11.2285714,3.77142857 L0.771428571,3.77142857 L0.771428571,5.65714286 L3.77142857,5.65714286 L3.77142857,3.77142857 L4.54285714,3.77142857 L4.54285714,11.3142857 L3.77142857,11.3142857 L3.77142857,9.08571429 L0.771428571,9.08571429 L0.771428571,9 Z M0.771428571,8.22857143 L3.77142857,8.22857143 L3.77142857,6.34285714 L0.771428571,6.34285714 L0.771428571,8.22857143 L0.771428571,8.22857143 Z M11.2285714,3 L11.2285714,0.771428571 L0.771428571,0.771428571 L0.771428571,3 L11.2285714,3 Z M12,0 L12,12 L0,12 L0,0 L12,0 Z"}))))))),Ih=e=>c.createElement("svg",Nl({width:"12px",height:"12px",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",className:"antv-s2-icon"},e),c.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(-153.000000, -814.000000)",fill:"currentColor",fillRule:"nonzero"},c.createElement("g",{transform:"translate(127.000000, 549.000000)"},c.createElement("g",{transform:"translate(24.000000, 55.000000)"},c.createElement("g",{transform:"translate(0.000000, 208.000000)"},c.createElement("g",{transform:"translate(2.000000, 2.000000)"},c.createElement("path",{d:"M4.45714286,11.2285714 L11.2285714,11.2285714 L11.2285714,3.77142857 L4.45714286,3.77142857 L4.45714286,11.2285714 Z M3.77142857,11.2285714 L3.77142857,3.77142857 L0.771428571,3.77142857 L0.771428571,11.3142857 L3.77142857,11.3142857 L3.77142857,11.2285714 Z M11.2285714,3 L11.2285714,0.771428571 L0.771428571,0.771428571 L0.771428571,3 L11.2285714,3 Z M12,0 L12,12 L0,12 L0,0 L12,0 Z"}),c.createElement("polygon",{points:"0.771428571 0.771428571 11.2285714 0.771428571 11.2285714 3 0.771428571 3"})))))))),Oh=e=>c.createElement("svg",Nl({width:"12px",height:"12px",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",className:"antv-s2-icon"},e),c.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(-365.000000, -624.000000)",fill:"currentColor"},c.createElement("g",{transform:"translate(127.000000, 549.000000)"},c.createElement("g",{transform:"translate(236.000000, 71.000000)"},c.createElement("g",{transform:"translate(0.000000, 2.000000)"},c.createElement("g",{transform:"translate(2.000000, 2.000000)"},c.createElement("polygon",{points:"4.22857143 3.77142857 11.2285714 3.77142857 11.2285714 11.7714286 4.22857143 11.7714286"}),c.createElement("path",{d:"M4.45714286,11.2285714 L11.2285714,11.2285714 L11.2285714,3.77142857 L4.45714286,3.77142857 L4.45714286,11.2285714 Z M3.77142857,11.2285714 L3.77142857,3.77142857 L0.771428571,3.77142857 L0.771428571,11.3142857 L3.77142857,11.3142857 L3.77142857,11.2285714 Z M11.2285714,3 L11.2285714,0.771428571 L0.771428571,0.771428571 L0.771428571,3 L11.2285714,3 Z M12,0 L12,12 L0,12 L0,0 L12,0 Z"})))))))),Lh=e=>c.createElement("svg",Nl({className:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:12.6,height:12.6},e),c.createElement("path",{d:"M950.016 898.016l-206.016-204.992Q832 586.016 832 448.032q0-159.008-112.512-271.488T448 64.032 176.512 176.544 64 448.032t112.512 271.488T448 832.032q138.016 0 244.992-88l206.016 206.016q10.016 10.016 24.992 10.016t26.016-10.016q10.016-11.008 10.016-26.016t-10.016-26.016zM568.992 736Q512 760 448 760T327.008 736q-56-24-99.488-67.488t-66.496-99.488q-24.992-56.992-24.992-120.992t24.992-120.992q23.008-56 66.496-99.488t99.488-67.488Q384 136.064 448 136.064t120.992 24q56 24 99.488 67.488t67.488 99.488q24 56.992 24 120.992t-24 120.992q-24 56-67.488 99.488T568.992 736z",fill:"currentColor"})),_h=e=>c.createElement("svg",Nl({className:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:12.6,height:12.6},e),c.createElement("path",{d:"M86.016 805.888H0L143.872 275.968h79.36l144.896 529.92H276.992l-29.696-109.056H115.2s-29.696 109.056-29.184 109.056zM225.28 613.376L181.248 455.68 138.24 613.376h87.04zM519.168 430.08c24.576-16.384 47.616-25.088 69.12-25.088 30.72 0 58.368 14.848 81.92 44.032 24.064 29.184 35.328 72.192 35.328 128.512 0 44.032-7.168 83.456-22.528 118.272-14.848 34.816-35.328 62.976-60.416 83.456-26.112 20.992-57.856 31.232-95.232 31.232-15.36-0.512-31.232-1.536-46.592-3.584-4.096-0.512-8.704-1.024-12.8-1.536h-66.56V256h81.92v206.336c11.264-12.8 23.04-23.552 35.84-32.256z m-35.328 157.184v135.168c13.824 3.072 26.112 4.608 37.376 4.608 27.648 0 50.176-11.776 69.12-36.352 19.456-25.088 28.672-59.392 28.672-104.96 0-32.256-5.12-55.296-14.848-70.144-9.216-13.824-18.432-19.968-28.672-19.968-12.288 0-27.136 7.68-44.544 24.064-16.896 16.896-32.768 39.424-47.104 67.584zM1013.76 794.624c-36.864 14.336-71.68 20.992-104.96 20.992-32.768 0.512-64.512-9.216-91.648-27.136-27.136-18.432-48.64-44.032-62.464-73.728-14.848-30.72-22.528-65.536-22.528-104.448 0-58.88 16.896-108.032 51.2-146.944 33.792-38.912 75.264-58.88 123.392-58.88 34.304 0 70.144 7.168 108.032 21.504l10.24 4.096v95.232l-20.992-10.752c-34.816-17.92-65.536-26.624-92.16-26.624-16.896 0-32.768 4.608-47.104 13.824-13.824 8.704-25.088 23.04-32.768 42.496-8.192 19.968-12.288 41.472-12.288 63.488 0 28.672 7.68 55.808 24.064 82.432 14.848 24.576 37.888 36.352 71.168 36.352 10.752 0 21.504-1.024 31.744-2.56 9.728-1.536 29.696-8.192 58.88-18.944l19.456-7.68v92.672l-11.264 4.608z",fill:"currentColor"})),Th=e=>c.createElement("svg",Nl({className:"antv-s2-icon",width:"16px",height:"16px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),c.createElement("g",{transform:"translate(8.056364, 8.000227) rotate(-270.000000) translate(-8.056364, -8.000227) translate(3.057045, 3.070227)",fill:"currentColor"},c.createElement("path",{d:"M0.482272727,3.55181818 C0.472878788,3.55181818 0.468181818,3.54939394 0.468181818,3.54454545 C0.468181818,3.53969697 0.465757576,3.53727273 0.460909091,3.53727273 L0.396818182,3.53727273 L0.382727273,3.52318182 L0.34,3.52318182 L0.325909091,3.50909091 L0.311818182,3.50909091 L0.297727273,3.495 L0.269090909,3.495 L0.269090909,3.48090909 L0.255,3.48090909 L0.240909091,3.46681818 L0.226818182,3.46681818 L0.226818182,3.45272727 L0.212727273,3.45272727 L0.184090909,3.42409091 L0.17,3.42409091 C0.160606061,3.405 0.151060606,3.39075758 0.141363636,3.38136364 C0.131969697,3.38136364 0.127272727,3.37893939 0.127272727,3.37409091 L0.127272727,3.36681818 L0.113181818,3.35272727 L0.113181818,3.33863636 L0.0990909091,3.33863636 L0.0990909091,3.32454545 L0.085,3.31045455 L0.085,3.30318182 L0.0777272727,3.29590909 L0.0704545455,3.29590909 L0.0704545455,3.28181818 L0.0563636364,3.26772727 L0.0563636364,3.24636364 L0.0490909091,3.23909091 L0.0418181818,3.23909091 L0.0418181818,3.225 C0.0418181818,3.21560606 0.0393939394,3.21090909 0.0345454545,3.21090909 C0.0296969697,3.21090909 0.0272727273,3.20848485 0.0272727273,3.20363636 L0.0272727273,3.15409091 L0.0131818182,3.14 L0.0131818182,2.94090909 L0.0272727273,2.92681818 L0.0272727273,2.88409091 C0.0366666667,2.87469697 0.0413636364,2.86757576 0.0413636364,2.86272727 L0.0413636364,2.84136364 L0.0554545455,2.82727273 L0.0554545455,2.81318182 L0.0695454545,2.79909091 L0.0695454545,2.79181818 L0.0768181818,2.77772727 L0.0840909091,2.77045455 L0.0840909091,2.76318182 L0.0913636364,2.75590909 L0.0986363636,2.74863636 L0.0986363636,2.74136364 L0.112727273,2.72727273 C0.112727273,2.71787879 0.117424242,2.71318182 0.126818182,2.71318182 L0.126818182,2.69909091 L0.140909091,2.69909091 L2.68363636,0.156363636 C2.77848485,0.0521212121 2.89681818,0 3.03863636,0 C3.18045455,0 3.29878788,0.0521212121 3.39363636,0.156363636 C3.49787879,0.260606061 3.55,0.381363636 3.55,0.518636364 C3.55,0.655909091 3.49787879,0.776666667 3.39363636,0.880909091 L1.74590909,2.52863636 L9.48727273,2.52863636 C9.62939394,2.52863636 9.75015152,2.57833333 9.84954545,2.67772727 C9.94893939,2.77712121 9.99863636,2.89787879 9.99863636,3.04 C9.99863636,3.18212121 9.94893939,3.30287879 9.84954545,3.40227273 C9.75015152,3.50166667 9.62939394,3.55136364 9.48727273,3.55136364 L0.481363636,3.55136364 L0.482272727,3.55181818 Z M9.51636364,6.30727273 C9.52575758,6.30727273 9.53045455,6.30969697 9.53045455,6.31454545 C9.53045455,6.31939394 9.53287879,6.32181818 9.53772727,6.32181818 L9.60181818,6.32181818 L9.61590909,6.33590909 L9.65863636,6.33590909 L9.65863636,6.35 L9.68727273,6.35 L9.70136364,6.36409091 L9.73,6.36409091 L9.73,6.37818182 L9.74409091,6.37818182 L9.75818182,6.39227273 L9.77227273,6.39227273 L9.77227273,6.40636364 L9.78636364,6.40636364 L9.815,6.435 L9.82909091,6.435 C9.83848485,6.45409091 9.8480303,6.46833333 9.85772727,6.47772727 C9.86712121,6.47772727 9.87181818,6.48015152 9.87181818,6.485 L9.87181818,6.49227273 L9.88590909,6.50636364 L9.88590909,6.52045455 L9.9,6.52045455 L9.9,6.53454545 L9.90727273,6.53454545 L9.91454545,6.54181818 L9.91454545,6.55590909 L9.92181818,6.56318182 L9.92909091,6.57045455 L9.92909091,6.57772727 L9.94318182,6.59181818 L9.94318182,6.61318182 L9.95045455,6.62045455 L9.95772727,6.62045455 L9.95772727,6.64909091 L9.965,6.65636364 L9.97227273,6.67045455 L9.97227273,6.70590909 L9.98636364,6.72 L9.98636364,6.91909091 L9.97227273,6.93318182 L9.97227273,6.97590909 L9.95818182,6.99 L9.95818182,7.01863636 L9.94409091,7.03272727 L9.94409091,7.04681818 L9.93,7.06090909 L9.93,7.06818182 L9.92272727,7.08227273 L9.91545455,7.08954545 L9.91545455,7.09681818 L9.90818182,7.10409091 L9.90090909,7.11136364 L9.90090909,7.11863636 L9.88681818,7.13272727 C9.88681818,7.14212121 9.88439394,7.14681818 9.87954545,7.14681818 L9.87227273,7.14681818 L9.87227273,7.16090909 L9.85818182,7.16090909 L9.85090909,7.16818182 L9.84363636,7.18954545 L7.32954545,9.70363636 C7.22530303,9.80787879 7.10212121,9.86 6.96,9.86 C6.81787879,9.86 6.69954545,9.80787879 6.605,9.70363636 C6.50075758,9.60878788 6.44863636,9.49045455 6.44863636,9.34863636 C6.44863636,9.20681818 6.50075758,9.08363636 6.605,8.97909091 L8.25272727,7.33136364 L0.511363636,7.33136364 C0.378636364,7.33136364 0.26030303,7.28166667 0.156363636,7.18227273 C0.0524242424,7.08287879 0.000303030303,6.96212121 4.54747351e-13,6.82 C4.54747351e-13,6.67787879 0.0521212121,6.55712121 0.156363636,6.45772727 C0.260606061,6.35833333 0.378939394,6.30863636 0.511363636,6.30863636 L9.51727273,6.30863636 L9.51636364,6.30727273 Z"}))),Mh=c.memo((e=>{const t=e,{className:n,icon:l,syncCopy:s=!1,copyOriginalText:u=(0,r.agQ)("复制原始数据"),copyFormatText:d=(0,r.agQ)("复制格式化数据"),downloadOriginalText:f=(0,r.agQ)("下载原始数据"),downloadFormatText:h=(0,r.agQ)("下载格式化数据"),successText:p=(0,r.agQ)("操作成功"),errorText:v=(0,r.agQ)("操作失败"),sheet:g,fileName:m,open:y,dropdown:b}=t,C=Dl(t,["className","icon","syncCopy","copyOriginalText","copyFormatText","downloadOriginalText","downloadFormatText","successText","errorText","sheet","fileName","open","dropdown"]),w=`${r.vhY}-export`,x=e=>{const t=(0,r.F1h)(g,"\t",e);(0,r.vQq)(t,s).then((()=>{a.ZP.success(p)})).catch((e=>{console.log("copy failed: ",e),a.ZP.error(v)}))},S=e=>{const t=(0,r.F1h)(g,",",e);try{(0,r.LRf)(t,m),a.ZP.success(p)}catch(e){a.ZP.error(v)}},E=c.createElement(o.Z,null,c.createElement(o.Z.Item,{key:"copyOriginal",onClick:()=>x(!1)},u),c.createElement(o.Z.Item,{key:"copyFormat",onClick:()=>x(!0)},d),c.createElement(o.Z.Item,{key:"downloadOriginal",onClick:()=>S(!1)},f),c.createElement(o.Z.Item,{key:"downloadFormat",onClick:()=>S(!0)},h));return c.createElement(i.Z,Nl(Nl({overlay:E,trigger:["click"],className:Jf(w,n)},C),b),c.createElement("a",{className:"ant-dropdown-link",key:"export",onClick:e=>e.preventDefault()},l||c.createElement(wh,null)))}));Mh.displayName="Export",Mh.defaultProps={syncCopy:!1,fileName:"sheet"};const Rh=e=>{const{splitOrders:t=[],setSplitOrders:n}=e,r=e=>c.createElement(c.Fragment,null,c.createElement("span",{className:"split-text"},e),c.createElement("span",{className:`${Fl}-split-icon`,onClick:()=>{(e=>{const r=t.concat();r.splice(r.indexOf(e),1),r.unshift(e),n(r)})(e)}},c.createElement(eh,{name:"groupAsc"})),c.createElement("span",{className:`${Fl}-split-icon`,onClick:()=>{(e=>{const r=t.concat();let o=r.indexOf(e);r.splice(r.indexOf(e),1),r.splice(o+=1,0,e),n(r)})(e)}},c.createElement(eh,{name:"groupDesc"})),c.createElement("span",{className:`${Fl}-split-icon`,onClick:()=>{(e=>{const r=t.concat();let o=r.indexOf(e);o>0&&(r.splice(r.indexOf(e),1),r.splice(o-=1,0,e),n(r))})(e)}},c.createElement(eh,{name:"globalAsc"})));return c.createElement(D,{className:`${Fl}-card-content`},t.map((e=>c.createElement("li",{key:e,className:`${Fl}-split-value`,title:e},r(e)))))};const{Sider:Nh,Content:Ah}=B.default,Dh=({sheet:e,className:t,icon:n,text:o,ruleText:i,dimensions:a,ruleOptions:l,sortParams:s,onSortOpen:u,onSortConfirm:d})=>{const[f,h]=(0,c.useState)(!1),[p,v]=(0,c.useState)(!1),[g,m]=(0,c.useState)([]),[y,b]=(0,c.useState)([]),[C,w]=(0,c.useState)([]),[x,S]=(0,c.useState)([]),[E,I]=(0,c.useState)([]),[O,L]=(0,c.useState)(),[_]=xt.useForm(),T=c.useMemo(zl,[]),M=c.useMemo(Pl,[]),R=()=>{h(!f)},N=()=>{v(!p)};return(0,c.useEffect)((()=>{if(f){const t=sf(s,(t=>{const{sortFieldId:n,sortMethod:r,sortBy:o,sortByMeasure:i}=t;let a;return a=o?["sortBy"]:i?["sortByMeasure",i]:["sortMethod"],{field:n,name:e.dataSet.getFieldName(n),rule:a,sortMethod:r,sortBy:o,sortByMeasure:i}})),n=(()=>{if(a)return a;const{fields:t={}}=e.dataCfg||{},{rows:n=[],columns:r=[]}=t;return sf([...n,...r],(t=>{const n="string"==typeof t?t:t.key;return{field:t,name:e.dataSet.getFieldName(n),list:e.dataSet.getDimensionValues(n)}}))})(),r=tf(n,(e=>!of(s,(t=>t.sortFieldId===e.field)))),o=l||sf(T,(t=>{if("sortByMeasure"===t.value){const{values:n}=e.dataCfg.fields||{};t.children=sf(n,(t=>({label:e.dataSet.getFieldName(t),value:t})))}return t}));m(t),w(n),S(r),b(o)}}),[f]),c.createElement("div",{className:Jf(Fl,t)},c.createElement(wa.ZP,{onClick:()=>{u&&u(),R()},icon:n||c.createElement(Sh,null),size:"small",className:`${Fl}-btn`},o||(0,r.agQ)("高级排序")),c.createElement(xa.Z,{title:o||(0,r.agQ)("高级排序"),visible:f,onOk:()=>{const t=_.getFieldsValue(),{values:n=[]}=e.dataCfg.fields,o=[],i=[];Jd(Bu(t),(e=>{const{sortMethod:a,rule:l=[],sortBy:s}=t[e],u={sortFieldId:e};"sortByMeasure"===l[0]||l[1]?(!function(e,t,n,r){e=su(e)?e:cf(e),n=n&&!r?ms(n):0;var o=e.length;return n<0&&(n=df(o+n,0)),uf(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&qs(e,t,n)>-1}(n,l[1])?u.sortByMeasure=r.Teh:u.sortByMeasure=l[1],u.sortMethod=a,u.query={$$extra$$:l[1]}):"sortBy"===l[0]?u.sortBy=s:u.sortMethod=a,o.push(Nl({field:e},t[e])),i.push(u)})),d&&d(o,i),R()},onCancel:R,okText:(0,r.agQ)("确定"),cancelText:(0,r.agQ)("取消"),destroyOnClose:!0,className:`${Fl}-modal`},c.createElement(B.default,null,c.createElement(Nh,{width:120,className:`${Fl}-sider-layout`},c.createElement("div",{className:`${Fl}-title`},(0,r.agQ)("可选字段")),c.createElement("div",null,sf(x,(e=>c.createElement("div",{className:`${Fl}-dimension-item`,key:e.field,onClick:()=>{var t;t=e,of(g,(e=>e.field===t.field))||(L(t),m([...g,t])),S(tf(x,(e=>e.field!==t.field)))}},e.name))))),c.createElement(Ah,{className:`${Fl}-content-layout`},c.createElement("div",{className:`${Fl}-title`},i||(0,r.agQ)("按以下规则进行排序（优先级由低到高）")),c.createElement(xt,{form:_,name:"form",className:`${Fl}-custom-form`},sf(g,(e=>{const{field:t,name:n,rule:o,sortMethod:i,sortBy:a}=e||{};return c.createElement(xt.Item,{name:t,key:t},c.createElement(xt.Item,{name:[t,"name"],initialValue:n,noStyle:!0},c.createElement(eo,{className:`${Fl}-select`,size:"small"})),c.createElement("span",{className:`${Fl}-field-prefix`},(0,r.agQ)("按")),c.createElement(xt.Item,{name:[t,"rule"],initialValue:o||["sortMethod"],noStyle:!0},c.createElement(Xi,{options:y,expandTrigger:"hover",size:"small",allowClear:!1})),c.createElement(xt.Item,{shouldUpdate:!0,noStyle:!0},(({getFieldValue:n})=>{return pf(n([t,"rule"]),["sortBy"])?c.createElement(c.Fragment,null,c.createElement("a",{className:`${Fl}-rule-end`,onClick:()=>{var t,n,r;t=e,n=a,N(),L(t),I(Hf(n||(null==(r=of(C,(e=>e.field===t.field)))?void 0:r.list)||[]))}},(0,r.agQ)("设置顺序")),c.createElement(xt.Item,{noStyle:!0,name:[t,"sortBy"],initialValue:a})):c.createElement(xt.Item,{shouldUpdate:!0,noStyle:!0,name:[t,"sortMethod"],initialValue:(o=i,rc(o).toUpperCase()||"ASC")},c.createElement(Ca.Group,{className:`${Fl}-rule-end`},sf(M,(e=>c.createElement(Ca,{value:e.value,key:e.value},e.name)))));var o})),c.createElement(bl.Z,{className:`${Fl}-rule-end-delete`,onClick:()=>{var t;t=e,m(tf(g,(e=>e.field!==t.field))),S([...x,t])}}))})))))),c.createElement(xa.Z,{title:(0,r.agQ)("手动排序"),visible:p,onOk:()=>{N();const e=_.getFieldsValue([null==O?void 0:O.field]);e.sortBy=E,_.setFieldsValue({[null==O?void 0:O.field]:e});const t=sf(g,(e=>e.field===(null==O?void 0:O.field)?Al(Nl({},e),{rule:"sortBy",sortBy:E,sortMethod:"",sortByMeasure:""}):e));m(t)},onCancel:()=>{N()},okText:(0,r.agQ)("确定"),cancelText:(0,r.agQ)("取消"),destroyOnClose:!0,className:`${Fl}-custom-modal`},c.createElement(Rh,{splitOrders:E,setSplitOrders:I})))};var Bh=(e=>(e.Rows="rows",e.Cols="columns",e.Values="values",e))(Bh||{}),kh=(e=>(e.Dimensions="dimensions",e.Measures="measures",e.Rows="rows",e.Cols="cols",e))(kh||{});const Ph=["rows","columns","values"],zh=e=>e instanceof r.HZt?"table":"pivot",Fh=(e,{fields:t={},meta:n=[]}={},o=[])=>Ph.reduce(((i,a)=>{const l=t[a];if(hf(l))return i;const s=sf(l,(e=>{const t="string"==typeof e?e:e.key,r=of(n,["field",t]);return{id:t,displayName:null==r?void 0:r.name,checked:!o.includes(t)}}));return i[a]=Nl({items:s},((e,t)=>({selectable:e instanceof r.TA7&&t===Bh.Values||e instanceof r.HZt&&t===Bh.Cols,expandable:e instanceof r.TA7&&t===Bh.Values}))(e,a)),i}),{}),Hh=e=>function(e,t,n){var r=rs(e)?Cc:Pf,o=arguments.length<3;return r(e,Pd(t),n,o,jd)}(e,((e,t,n)=>(e.fields[n]=sf(t.items,"id"),e.hiddenFields.push(...sf(t.hideItems,"id")),e)),{fields:{},hiddenFields:[]});function $h(e,t){return($h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jh(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$h(e,t)}function Wh(){return Wh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wh.apply(this,arguments)}function Gh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zh(Object(n),!0).forEach((function(t){Gh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uh(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Yh="function"==typeof Symbol&&Symbol.observable||"@@observable",Xh=function(){return Math.random().toString(36).substring(7).split("").join(".")},qh={INIT:"@@redux/INIT"+Xh(),REPLACE:"@@redux/REPLACE"+Xh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Xh()}};function Kh(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Qh(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Uh(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Uh(1));return n(Qh)(e,t)}if("function"!=typeof e)throw new Error(Uh(2));var o=e,i=t,a=[],l=a,s=!1;function u(){l===a&&(l=a.slice())}function c(){if(s)throw new Error(Uh(3));return i}function d(e){if("function"!=typeof e)throw new Error(Uh(4));if(s)throw new Error(Uh(5));var t=!0;return u(),l.push(e),function(){if(t){if(s)throw new Error(Uh(6));t=!1,u();var n=l.indexOf(e);l.splice(n,1),a=null}}}function f(e){if(!Kh(e))throw new Error(Uh(7));if(void 0===e.type)throw new Error(Uh(8));if(s)throw new Error(Uh(9));try{s=!0,i=o(i,e)}finally{s=!1}for(var t=a=l,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!=typeof e)throw new Error(Uh(10));o=e,f({type:qh.REPLACE})}function p(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Uh(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Yh]=function(){return this},e}return f({type:qh.INIT}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:h})[Yh]=p,r}function Jh(e,t){return function(){return t(e.apply(this,arguments))}}function ep(e,t){if("function"==typeof e)return Jh(e,t);if("object"!=typeof e||null===e)throw new Error(Uh(16));var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=Jh(o,t))}return n}function tp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var np=c.createContext(null);var rp=function(e){e()};function op(){var e=rp,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var ip={notify:function(){},get:function(){return[]}};function ap(e,t){var n,r=ip;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=op())}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ip)},getListeners:function(){return r}};return a}var lp="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?c.useLayoutEffect:c.useEffect;function sp(e){var t=e.store,n=e.context,r=e.children,o=(0,c.useMemo)((function(){var e=ap(t);return{store:t,subscription:e}}),[t]),i=(0,c.useMemo)((function(){return t.getState()}),[t]);lp((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var a=n||np;return c.createElement(a.Provider,{value:o},r)}function up(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var cp={exports:{}},dp={},fp="function"==typeof Symbol&&Symbol.for,hp=fp?Symbol.for("react.element"):60103,pp=fp?Symbol.for("react.portal"):60106,vp=fp?Symbol.for("react.fragment"):60107,gp=fp?Symbol.for("react.strict_mode"):60108,mp=fp?Symbol.for("react.profiler"):60114,yp=fp?Symbol.for("react.provider"):60109,bp=fp?Symbol.for("react.context"):60110,Cp=fp?Symbol.for("react.async_mode"):60111,wp=fp?Symbol.for("react.concurrent_mode"):60111,xp=fp?Symbol.for("react.forward_ref"):60112,Sp=fp?Symbol.for("react.suspense"):60113,Ep=fp?Symbol.for("react.suspense_list"):60120,Ip=fp?Symbol.for("react.memo"):60115,Op=fp?Symbol.for("react.lazy"):60116,Lp=fp?Symbol.for("react.block"):60121,_p=fp?Symbol.for("react.fundamental"):60117,Tp=fp?Symbol.for("react.responder"):60118,Mp=fp?Symbol.for("react.scope"):60119;function Rp(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case hp:switch(e=e.type){case Cp:case wp:case vp:case mp:case gp:case Sp:return e;default:switch(e=e&&e.$$typeof){case bp:case xp:case Op:case Ip:case yp:return e;default:return t}}case pp:return t}}}function Np(e){return Rp(e)===wp}dp.AsyncMode=Cp,dp.ConcurrentMode=wp,dp.ContextConsumer=bp,dp.ContextProvider=yp,dp.Element=hp,dp.ForwardRef=xp,dp.Fragment=vp,dp.Lazy=Op,dp.Memo=Ip,dp.Portal=pp,dp.Profiler=mp,dp.StrictMode=gp,dp.Suspense=Sp,dp.isAsyncMode=function(e){return Np(e)||Rp(e)===Cp},dp.isConcurrentMode=Np,dp.isContextConsumer=function(e){return Rp(e)===bp},dp.isContextProvider=function(e){return Rp(e)===yp},dp.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===hp},dp.isForwardRef=function(e){return Rp(e)===xp},dp.isFragment=function(e){return Rp(e)===vp},dp.isLazy=function(e){return Rp(e)===Op},dp.isMemo=function(e){return Rp(e)===Ip},dp.isPortal=function(e){return Rp(e)===pp},dp.isProfiler=function(e){return Rp(e)===mp},dp.isStrictMode=function(e){return Rp(e)===gp},dp.isSuspense=function(e){return Rp(e)===Sp},dp.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===vp||e===wp||e===mp||e===gp||e===Sp||e===Ep||"object"==typeof e&&null!==e&&(e.$$typeof===Op||e.$$typeof===Ip||e.$$typeof===yp||e.$$typeof===bp||e.$$typeof===xp||e.$$typeof===_p||e.$$typeof===Tp||e.$$typeof===Mp||e.$$typeof===Lp)},dp.typeOf=Rp,cp.exports=dp;var Ap=cp.exports,Dp={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Bp={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},kp={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Pp={};function zp(e){return Ap.isMemo(e)?kp:Pp[e.$$typeof]||Dp}Pp[Ap.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Pp[Ap.Memo]=kp;var Fp=Object.defineProperty,Hp=Object.getOwnPropertyNames,$p=Object.getOwnPropertySymbols,jp=Object.getOwnPropertyDescriptor,Wp=Object.getPrototypeOf,Gp=Object.prototype;var Zp=function e(t,n,r){if("string"!=typeof n){if(Gp){var o=Wp(n);o&&o!==Gp&&e(t,o,r)}var i=Hp(n);$p&&(i=i.concat($p(n)));for(var a=zp(t),l=zp(n),s=0;s<i.length;++s){var u=i[s];if(!(Bp[u]||r&&r[u]||l&&l[u]||a&&a[u])){var c=jp(n,u);try{Fp(t,u,c)}catch(e){}}}}return t},Vp={exports:{}},Up={},Yp=60103,Xp=60106,qp=60107,Kp=60108,Qp=60114,Jp=60109,ev=60110,tv=60112,nv=60113,rv=60120,ov=60115,iv=60116,av=60121,lv=60122,sv=60117,uv=60129,cv=60131;if("function"==typeof Symbol&&Symbol.for){var dv=Symbol.for;Yp=dv("react.element"),Xp=dv("react.portal"),qp=dv("react.fragment"),Kp=dv("react.strict_mode"),Qp=dv("react.profiler"),Jp=dv("react.provider"),ev=dv("react.context"),tv=dv("react.forward_ref"),nv=dv("react.suspense"),rv=dv("react.suspense_list"),ov=dv("react.memo"),iv=dv("react.lazy"),av=dv("react.block"),lv=dv("react.server.block"),sv=dv("react.fundamental"),uv=dv("react.debug_trace_mode"),cv=dv("react.legacy_hidden")}function fv(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Yp:switch(e=e.type){case qp:case Qp:case Kp:case nv:case rv:return e;default:switch(e=e&&e.$$typeof){case ev:case tv:case iv:case ov:case Jp:return e;default:return t}}case Xp:return t}}}var hv=Jp,pv=Yp,vv=tv,gv=qp,mv=iv,yv=ov,bv=Xp,Cv=Qp,wv=Kp,xv=nv;Up.ContextConsumer=ev,Up.ContextProvider=hv,Up.Element=pv,Up.ForwardRef=vv,Up.Fragment=gv,Up.Lazy=mv,Up.Memo=yv,Up.Portal=bv,Up.Profiler=Cv,Up.StrictMode=wv,Up.Suspense=xv,Up.isAsyncMode=function(){return!1},Up.isConcurrentMode=function(){return!1},Up.isContextConsumer=function(e){return fv(e)===ev},Up.isContextProvider=function(e){return fv(e)===Jp},Up.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Yp},Up.isForwardRef=function(e){return fv(e)===tv},Up.isFragment=function(e){return fv(e)===qp},Up.isLazy=function(e){return fv(e)===iv},Up.isMemo=function(e){return fv(e)===ov},Up.isPortal=function(e){return fv(e)===Xp},Up.isProfiler=function(e){return fv(e)===Qp},Up.isStrictMode=function(e){return fv(e)===Kp},Up.isSuspense=function(e){return fv(e)===nv},Up.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===qp||e===Qp||e===uv||e===Kp||e===nv||e===rv||e===cv||"object"==typeof e&&null!==e&&(e.$$typeof===iv||e.$$typeof===ov||e.$$typeof===Jp||e.$$typeof===ev||e.$$typeof===tv||e.$$typeof===sv||e.$$typeof===av||e[0]===lv)},Up.typeOf=fv,Vp.exports=Up;var Sv=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Ev=["reactReduxForwardedRef"],Iv=[],Ov=[null,null];function Lv(e,t){var n=e[1];return[t.payload,n+1]}function _v(e,t,n){lp((function(){return e.apply(void 0,t)}),n)}function Tv(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function Mv(e,t,n,r,o,i,a,l,s,u){if(e){var c=!1,d=null,f=function(){if(!c){var e,n,f=t.getState();try{e=r(f,o.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?a.current||s():(i.current=e,l.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Rv=function(){return[null,0]};function Nv(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,a=void 0===i?"connectAdvanced":i,l=n.renderCountProp,s=void 0===l?void 0:l,u=n.shouldHandleStateChanges,d=void 0===u||u,f=n.storeKey,h=void 0===f?"store":f;n.withRef;var p=n.forwardRef,v=void 0!==p&&p,g=n.context,m=void 0===g?np:g,y=up(n,Sv),b=m;return function(t){var n=t.displayName||t.name||"Component",r=o(n),i=Wh({},y,{getDisplayName:o,methodName:a,renderCountProp:s,shouldHandleStateChanges:d,storeKey:h,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=y.pure;var u=l?c.useMemo:function(e){return e()};function f(n){var r=(0,c.useMemo)((function(){var e=n.reactReduxForwardedRef,t=up(n,Ev);return[n.context,e,t]}),[n]),o=r[0],a=r[1],l=r[2],s=(0,c.useMemo)((function(){return o&&o.Consumer&&Vp.exports.isContextConsumer(c.createElement(o.Consumer,null))?o:b}),[o,b]),f=(0,c.useContext)(s),h=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(f)&&Boolean(f.store);var p=h?n.store:f.store,v=(0,c.useMemo)((function(){return function(t){return e(t.dispatch,i)}(p)}),[p]),g=(0,c.useMemo)((function(){if(!d)return Ov;var e=ap(p,h?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,h,f]),m=g[0],y=g[1],C=(0,c.useMemo)((function(){return h?f:Wh({},f,{subscription:m})}),[h,f,m]),w=(0,c.useReducer)(Lv,Iv,Rv),x=w[0][0],S=w[1];if(x&&x.error)throw x.error;var E=(0,c.useRef)(),I=(0,c.useRef)(l),O=(0,c.useRef)(),L=(0,c.useRef)(!1),_=u((function(){return O.current&&l===I.current?O.current:v(p.getState(),l)}),[p,x,l]);_v(Tv,[I,E,L,l,_,O,y]),_v(Mv,[d,p,m,v,I,E,L,O,y,S],[p,m,v]);var T=(0,c.useMemo)((function(){return c.createElement(t,Wh({},_,{ref:a}))}),[a,t,_]);return(0,c.useMemo)((function(){return d?c.createElement(s.Provider,{value:C},T):T}),[s,T,C])}var p=l?c.memo(f):f;if(p.WrappedComponent=t,p.displayName=f.displayName=r,v){var g=c.forwardRef((function(e,t){return c.createElement(p,Wh({},e,{reactReduxForwardedRef:t}))}));return g.displayName=r,g.WrappedComponent=t,Zp(g,t)}return Zp(p,t)}}function Av(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Dv(e,t){if(Av(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Av(e[n[o]],t[n[o]]))return!1;return!0}function Bv(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function kv(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Pv(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=kv(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=kv(o),o=r(t,n)),o},r}}var zv=[function(e){return"function"==typeof e?Pv(e):void 0},function(e){return e?void 0:Bv((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?Bv((function(t){return function(e,t){var n={},r=function(r){var o=e[r];"function"==typeof o&&(n[r]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)r(o);return n}(e,t)})):void 0}];var Fv=[function(e){return"function"==typeof e?Pv(e):void 0},function(e){return e?void 0:Bv((function(){return{}}))}];function Hv(e,t,n){return Wh({},n,e,t)}var $v=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,l){var s=e(t,n,l);return a?o&&i(s,r)||(r=s):(a=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return Hv}}],jv=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Wv(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function Gv(e,t,n,r,o){var i,a,l,s,u,c=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,h=!1;function p(o,h){var p,v,g=!d(h,a),m=!c(o,i);return i=o,a=h,g&&m?(l=e(i,a),t.dependsOnOwnProps&&(s=t(r,a)),u=n(l,s,a)):g?(e.dependsOnOwnProps&&(l=e(i,a)),t.dependsOnOwnProps&&(s=t(r,a)),u=n(l,s,a)):m?(p=e(i,a),v=!f(p,l),l=p,v&&(u=n(l,s,a)),u):u}return function(o,c){return h?p(o,c):(l=e(i=o,a=c),s=t(r,a),u=n(l,s,a),h=!0,u)}}function Zv(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=up(t,jv),a=n(e,i),l=r(e,i),s=o(e,i);return(i.pure?Gv:Wv)(a,l,s,e,i)}var Vv=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Uv(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Yv(e,t){return e===t}function Xv(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Nv:n,o=t.mapStateToPropsFactories,i=void 0===o?Fv:o,a=t.mapDispatchToPropsFactories,l=void 0===a?zv:a,s=t.mergePropsFactories,u=void 0===s?$v:s,c=t.selectorFactory,d=void 0===c?Zv:c;return function(e,t,n,o){void 0===o&&(o={});var a=o,s=a.pure,c=void 0===s||s,f=a.areStatesEqual,h=void 0===f?Yv:f,p=a.areOwnPropsEqual,v=void 0===p?Dv:p,g=a.areStatePropsEqual,m=void 0===g?Dv:g,y=a.areMergedPropsEqual,b=void 0===y?Dv:y,C=up(a,Vv),w=Uv(e,i,"mapStateToProps"),x=Uv(t,l,"mapDispatchToProps"),S=Uv(n,u,"mergeProps");return r(d,Wh({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:x,initMergeProps:S,pure:c,areStatesEqual:h,areOwnPropsEqual:v,areStatePropsEqual:m,areMergedPropsEqual:b},C))}}var qv,Kv=Xv();function Qv(e,t){var n=(0,c.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,c.useRef)(!0),o=(0,c.useRef)(n),i=r.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs)),a=i?o.current:{inputs:t,result:e()};return(0,c.useEffect)((function(){r.current=!1,o.current=a}),[a]),a.result}qv=_n.unstable_batchedUpdates,rp=qv;var Jv=Qv,eg=function(e,t){return Qv((function(){return e}),t)},tg="Invariant failed";var ng=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},rg=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},og=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},ig={top:0,right:0,bottom:0,left:0},ag=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?ig:n,o=e.border,i=void 0===o?ig:o,a=e.padding,l=void 0===a?ig:a,s=ng(rg(t,r)),u=ng(og(t,i)),c=ng(og(u,l));return{marginBox:s,borderBox:ng(t),paddingBox:u,contentBox:c,margin:r,border:i,padding:l}},lg=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){if(!e)throw new Error(tg)}(!1),n},sg=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,l=e.padding,s=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return ag({borderBox:s,border:i,margin:a,padding:l})},ug=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),sg(e,t)},cg=function(e,t){var n={top:lg(t.marginTop),right:lg(t.marginRight),bottom:lg(t.marginBottom),left:lg(t.marginLeft)},r={top:lg(t.paddingTop),right:lg(t.paddingRight),bottom:lg(t.paddingBottom),left:lg(t.paddingLeft)},o={top:lg(t.borderTopWidth),right:lg(t.borderRightWidth),bottom:lg(t.borderBottomWidth),left:lg(t.borderLeftWidth)};return ag({borderBox:e,margin:n,padding:r,border:o})},dg=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return cg(t,n)},fg=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function hg(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||fg(r)&&fg(o)))return!1;var r,o;return!0}function pg(e,t){var n;void 0===t&&(t=hg);var r,o=[],i=!1;return function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}}var vg=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function gg(e,t){}function mg(){}function yg(e,t,n){var r=t.map((function(t){var r,o,i=(r=n,o=t.options,Wh({},r,{},o));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){r.forEach((function(e){e()}))}}gg.bind(null,"warn"),gg.bind(null,"error");function bg(e){this.message=e}function Cg(e,t){if(!e)throw new bg("Invariant failed")}bg.prototype.toString=function(){return this.message};var wg=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=mg,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof bg&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}jh(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=yg(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof bg))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(c.Component),xg=function(e){return e+1},Sg=function(e,t){var n=e.droppableId===t.droppableId,r=xg(e.index),o=xg(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},Eg=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Ig=function(e){return"\n  The item has returned to its starting position\n  of "+xg(e.index)+"\n"},Og="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Lg=function(e){return"\n  You have lifted an item in position "+xg(e.source.index)+"\n"},_g=function(e){var t=e.destination;if(t)return Sg(e.source,t);var n=e.combine;return n?Eg(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Tg=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Ig(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Sg(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Eg(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Ig(e.source)+"\n  "},Mg={x:0,y:0},Rg=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Ng=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Ag=function(e,t){return e.x===t.x&&e.y===t.y},Dg=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Bg=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},kg=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Pg=function(e,t){return Math.min.apply(Math,t.map((function(t){return kg(e,t)})))},zg=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Fg=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Hg=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},$g=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=ng({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):ng(e)},jg=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,o=e.frame,i=function(e,t){return t?Fg(e,t.scroll.diff.displacement):e}(t.marginBox,o),a=function(e,t,n){var r;return n&&n.increasedBy?Wh({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:$g(a,o)}},Wg=function(e,t){e.frame||Cg(!1);var n=e.frame,r=Ng(t,n.scroll.initial),o=Dg(r),i=Wh({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}});return Wh({},e,{frame:i,subject:jg({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function Gg(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Zg(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Vg(e,t){if(e.find)return e.find(t);var n=Zg(e,t);return-1!==n?e[n]:void 0}function Ug(e){return Array.prototype.slice.call(e)}var Yg=pg((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Xg=pg((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),qg=pg((function(e){return Gg(e)})),Kg=pg((function(e){return Gg(e)})),Qg=pg((function(e,t){return Kg(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))}));function Jg(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function em(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var tm=pg((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),nm=function(e,t){return e.descriptor.droppableId===t.descriptor.id},rm={point:Mg,value:0},om={invisible:{},visible:{},all:[]},im={displaced:om,displacedBy:rm,at:null},am=function(e,t){return function(n){return e<=n&&n<=t}},lm=function(e){var t=am(e.top,e.bottom),n=am(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;var a=r.top<e.top&&r.bottom>e.bottom,l=r.left<e.left&&r.right>e.right;return!(!a||!l)||(a&&i||l&&o)}},sm=function(e){var t=am(e.top,e.bottom),n=am(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},um={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},cm={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},dm=function(e){var t=e.target,n=e.destination,r=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Mg;return Fg(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,i)&&function(e,t,n){return n(t)(e)}(a,r,i)},fm=function(e){return dm(Wh({},e,{isVisibleThroughFrameFn:sm}))};function hm(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var l=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return ng(rg(n,r))}(t,r),s=t.descriptor.id;if(e.all.push(s),!dm(Wh({},{target:l,destination:n,viewport:o,withDroppableDisplacement:!0},{isVisibleThroughFrameFn:lm})))return e.invisible[t.descriptor.id]=!0,e;var u=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,o=t.visible;if(r[e])return!1;var i=o[e];return!i||i.shouldAnimate}(s,a,i),c={draggableId:s,shouldAnimate:u};return e.visible[s]=c,e}),{all:[],visible:{},invisible:{}})}function pm(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:om,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function vm(e){var t=e.draggable,n=e.insideDestination,r=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,l=e.index,s=e.forceShouldAnimate,u=nm(t,r);if(null==l)return pm({insideDestination:n,inHomeList:u,displacedBy:i,destination:r});var c=Vg(n,(function(e){return e.descriptor.index===l}));if(!c)return pm({insideDestination:n,inHomeList:u,displacedBy:i,destination:r});var d=tm(t,n),f=n.indexOf(c);return{displaced:hm({afterDragging:d.slice(f),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:s}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function gm(e,t){return Boolean(t.effected[e])}var mm=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,l=e.previousImpact,s=e.viewport,u=e.afterCritical,c=l.at;if(c||Cg(!1),"REORDER"===c.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,o=e.location;if(!r.length)return null;var i=o.index,a=t?i+1:i-1,l=r[0].descriptor.index,s=r[r.length-1].descriptor.index;return a<l||a>(n?s:s+1)?null:a}({isMovingForward:t,isInHomeList:n,location:c.destination,insideDestination:a});return null==d?null:vm({draggable:r,insideDestination:a,destination:i,viewport:s,last:l.displaced,displacedBy:l.displacedBy,index:d})}var f=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,o=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var a=o.draggableId,l=r[a].descriptor.index;return gm(a,i)?t?l:l-1:t?l+1:l}({isMovingForward:t,destination:i,displaced:l.displaced,draggables:o,combine:c.combine,afterCritical:u});return null==f?null:vm({draggable:r,insideDestination:a,destination:i,viewport:s,last:l.displaced,displacedBy:l.displacedBy,index:f})},ym=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,o=em(n);o||Cg(!1);var i=o.draggableId,a=r[i].page.borderBox.center,l=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return gm(r,n)?i?Mg:Dg(o.point):i?o.point:Mg}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return Rg(a,l)},bm=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Cm=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},wm=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Bg(t.line,n.marginBox[t.end]+bm(t,r),Cm(t,n.marginBox,r))},xm=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Bg(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Cm(t,n.marginBox,r))},Sm=function(e){var t=e.impact,n=e.draggable,r=e.draggables,o=e.droppable,i=e.afterCritical,a=Qg(o.descriptor.id,r),l=n.page,s=o.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return Bg(t.line,n.contentBox[t.start]+bm(t,r),Cm(t,n.contentBox,r))}({axis:s,moveInto:o.page,isMoving:l});var u=t.displaced,c=t.displacedBy,d=u.all[0];if(d){var f=r[d];if(gm(d,i))return xm({axis:s,moveRelativeTo:f.page,isMoving:l});var h=sg(f.page,c.point);return xm({axis:s,moveRelativeTo:h,isMoving:l})}var p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return l.borderBox.center;if(gm(p.descriptor.id,i)){var v=sg(p.page,Dg(i.displacedBy.point));return wm({axis:s,moveRelativeTo:v,isMoving:l})}return wm({axis:s,moveRelativeTo:p.page,isMoving:l})},Em=function(e,t){var n=e.frame;return n?Rg(t,n.scroll.diff.displacement):t},Im=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.afterCritical,a=n.page.borderBox.center,l=t.at;return r&&l?"REORDER"===l.type?Sm({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):ym({impact:t,draggables:o,afterCritical:i}):a}(e),n=e.droppable;return n?Em(n,t):t},Om=function(e,t){var n=Ng(t,e.scroll.initial),r=Dg(n);return{frame:ng({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Lm(e,t){return e.map((function(e){return t[e]}))}var _m=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return Rg(e.scroll.diff.displacement,t)}(e.viewport,t),o=Ng(r,n.page.borderBox.center);return Rg(n.client.borderBox.center,o)},Tm=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=void 0!==a&&a,s=Ng(r,t.page.borderBox.center),u={target:Fg(t.page.borderBox,s),destination:n,withDroppableDisplacement:i,viewport:o};return l?function(e){return dm(Wh({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=am(e.top,e.bottom),r=am(e.left,e.right);return function(e){return t===um?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(u):fm(u)},Mm=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,s=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var c=Qg(r.descriptor.id,o),d=nm(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!Jg(i))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return Wh({},i,{at:t})}var l=i.displaced.all,s=l.length?l[0]:null;if(t)return s?a(s):null;var u=tm(n,o);if(!s)return u.length?a(u[u.length-1].descriptor.id):null;var c=Zg(u,(function(e){return e.descriptor.id===s}));-1===c&&Cg(!1);var d=c-1;return d<0?null:a(u[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:c,previousImpact:i})||mm({isMovingForward:t,isInHomeList:d,draggable:n,draggables:o,destination:r,insideDestination:c,previousImpact:i,viewport:a,afterCritical:u});if(!f)return null;var h=Im({impact:f,draggable:n,droppable:r,draggables:o,afterCritical:u});if(Tm({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:_m({pageBorderBoxCenter:h,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null};var p=Ng(h,l),v=function(e){var t=e.impact,n=e.viewport,r=e.destination,o=e.draggables,i=e.maxScrollChange,a=Om(n,Rg(n.scroll.current,i)),l=r.frame?Wg(r,Rg(r.frame.scroll.current,i)):r,s=t.displaced,u=hm({afterDragging:Lm(s.all,o),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:s,forceShouldAnimate:!1}),c=hm({afterDragging:Lm(s.all,o),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:s,forceShouldAnimate:!1}),d={},f={},h=[s,u,c];return s.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,h);t?f[e]=t:d[e]=!0})),Wh({},t,{displaced:{all:s.all,invisible:d,visible:f}})}({impact:f,viewport:a,destination:r,draggables:o,maxScrollChange:p});return{clientSelection:s,impact:v,scrollJumpRequest:p}},Rm=function(e){var t=e.subject.active;return t||Cg(!1),t},Nm=function(e,t){var n=e.page.borderBox.center;return gm(e.descriptor.id,t)?Ng(n,t.displacedBy.point):n},Am=function(e,t){var n=e.page.borderBox;return gm(e.descriptor.id,t)?Fg(n,Dg(t.displacedBy.point)):n},Dm=pg((function(e,t){var n=t[e.line];return{value:n,point:Bg(e.line,n)}})),Bm=function(e,t){return Wh({},e,{scroll:Wh({},e.scroll,{max:t})})},km=function(e,t,n){var r=e.frame;nm(t,e)&&Cg(!1),e.subject.withPlaceholder&&Cg(!1);var o=Dm(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return Bg(r.line,t[r.line]);var o=e.subject.page.contentBox[r.size],i=Qg(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-o;return i<=0?null:Bg(r.line,i)}(e,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return Wh({},e,{subject:jg({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var l=i?Rg(r.scroll.max,i):r.scroll.max,s=Bm(r,l);return Wh({},e,{subject:jg({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:s}),frame:s})},Pm=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,l=e.viewport,s=e.afterCritical,u=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,o=e.droppables,i=e.viewport,a=r.subject.active;if(!a)return null;var l=r.axis,s=am(a[l.start],a[l.end]),u=qg(o).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return lm(i.frame)(Rm(e))})).filter((function(e){var n=Rm(e);return t?a[l.crossAxisEnd]<n[l.crossAxisEnd]:n[l.crossAxisStart]<a[l.crossAxisStart]})).filter((function(e){var t=Rm(e),n=am(t[l.start],t[l.end]);return s(t[l.start])||s(t[l.end])||n(a[l.start])||n(a[l.end])})).sort((function(e,n){var r=Rm(e)[l.crossAxisStart],o=Rm(n)[l.crossAxisStart];return t?r-o:o-r})).filter((function(e,t,n){return Rm(e)[l.crossAxisStart]===Rm(n[0])[l.crossAxisStart]}));if(!u.length)return null;if(1===u.length)return u[0];var c=u.filter((function(e){return am(Rm(e)[l.start],Rm(e)[l.end])(n[l.line])}));return 1===c.length?c[0]:c.length>1?c.sort((function(e,t){return Rm(e)[l.start]-Rm(t)[l.start]}))[0]:u.sort((function(e,t){var r=Pg(n,Hg(Rm(e))),o=Pg(n,Hg(Rm(t)));return r!==o?r-o:Rm(e)[l.start]-Rm(t)[l.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:l});if(!u)return null;var c=Qg(u.descriptor.id,i),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,o=e.insideDestination,i=e.afterCritical;return o.filter((function(e){return fm({target:Am(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var o=kg(t,Em(r,Nm(e,i))),a=kg(t,Em(r,Nm(n,i)));return o<a?-1:a<o?1:e.descriptor.index-n.descriptor.index}))[0]||null}({pageBorderBoxCenter:n,viewport:l,destination:u,insideDestination:c,afterCritical:s}),f=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,l=e.viewport,s=e.afterCritical;if(!n){if(r.length)return null;var u={displaced:om,displacedBy:rm,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},c=Im({impact:u,draggable:o,droppable:a,draggables:i,afterCritical:s}),d=nm(o,a)?a:km(a,o,i);return Tm({draggable:o,destination:d,newPageBorderBoxCenter:c,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}var f,h=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),p=(f=n.descriptor.index,n.descriptor.id===o.descriptor.id||h?f:f+1),v=Dm(a.axis,o.displaceBy);return vm({draggable:o,insideDestination:r,destination:a,viewport:l,displacedBy:v,last:om,index:p})}({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:i,moveRelativeTo:d,insideDestination:c,viewport:l,afterCritical:s});if(!f)return null;var h=Im({impact:f,draggable:r,droppable:u,draggables:i,afterCritical:s});return{clientSelection:_m({pageBorderBoxCenter:h,draggable:r,viewport:l}),impact:f,scrollJumpRequest:null}},zm=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Fm=function(e){var t=e.state,n=e.type,r=function(e,t){var n=zm(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,l=a.axis.direction,s="vertical"===l&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===l&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(s&&!o)return null;var u="MOVE_DOWN"===n||"MOVE_RIGHT"===n,c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,f=t.dimensions,h=f.draggables,p=f.droppables;return s?Mm({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:a,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Pm({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:a,draggables:h,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Hm(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function $m(e){var t=am(e.top,e.bottom),n=am(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function jm(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,o=qg(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,o=e.subject.active;if(!o)return!1;if(r=o,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if($m(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],l=t[i.crossAxisStart],s=t[i.crossAxisEnd],u=am(o[i.crossAxisStart],o[i.crossAxisEnd]),c=u(l),d=u(s);return!c&&!d||(c?l<a:s>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,o=n.page.borderBox.center,i=r.map((function(e){var n=e.axis,r=Bg(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:kg(o,r)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}var Wm=function(e,t){return ng(Fg(e,t))};function Gm(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var Zm=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,l=e.afterCritical,s=Wm(n.page.borderBox,t),u=jm({pageBorderBox:s,draggable:n,droppables:o});if(!u)return im;var c,d,f=o[u],h=Qg(f.descriptor.id,r),p=(c=s,(d=f.frame)?Wm(c,d.scroll.diff.value):c);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var l=o.axis,s=Dm(o.axis,t.displaceBy),u=s.value,c=n[l.start],d=n[l.end],f=Vg(tm(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,o=n[l.size]/4,i=gm(t,a),s=Gm({displaced:r.displaced,id:t});return i?s?d>n[l.start]+o&&d<n[l.end]-o:c>n[l.start]-u+o&&c<n[l.end]-u-o:s?d>n[l.start]+u+o&&d<n[l.end]+u-o:c>n[l.start]+o&&c<n[l.end]-o}));return f?{displacedBy:s,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:f,insideDestination:h,afterCritical:l})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,l=e.afterCritical,s=r.axis,u=Dm(r.axis,n.displaceBy),c=u.value,d=t[s.start],f=t[s.end],h=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:Vg(tm(n,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[s.line],r=gm(t,l),o=Gm({displaced:i,id:t});return r?o?f<=n:d<n-c:o?f<=n+c:d<n})),inHomeList:nm(n,r)});return vm({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:u,index:h})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:f,insideDestination:h,last:i.displaced,viewport:a,afterCritical:l})},Vm=function(e,t){var n;return Wh({},e,((n={})[t.descriptor.id]=t,n))},Um=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,o=zm(t),i=zm(n);if(!o)return r;if(o===i)return r;var a=r[o];if(!a.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||Cg(!1);var n=e.frame;if(!n)return Wh({},e,{subject:jg({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Cg(!1);var o=Bm(n,r);return Wh({},e,{subject:jg({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null}),frame:o})}(a);return Vm(r,l)},Ym=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,l=o||t.viewport,s=r||t.dimensions,u=n||t.current.client.selection,c=Ng(u,t.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:Rg(t.initial.client.borderBoxCenter,c)},f={selection:Rg(d.selection,l.scroll.current),borderBoxCenter:Rg(d.borderBoxCenter,l.scroll.current),offset:Rg(d.offset,l.scroll.diff.value)},h={client:d,page:f};if("COLLECTING"===t.phase)return Wh({phase:"COLLECTING"},t,{dimensions:s,viewport:l,current:h});var p=s.draggables[t.critical.draggable.id],v=i||Zm({pageOffset:f.offset,draggable:p,draggables:s.draggables,droppables:s.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,o=e.previousImpact,i=e.impact,a=Um({previousImpact:o,impact:i,droppables:r}),l=zm(i);if(!l)return a;var s=r[l];if(nm(t,s))return a;if(s.subject.withPlaceholder)return a;var u=km(s,t,n);return Vm(a,u)}({draggable:p,impact:v,previousImpact:t.impact,draggables:s.draggables,droppables:s.droppables});return Wh({},t,{current:h,dimensions:{draggables:s.draggables,droppables:g},impact:v,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var Xm=function(e){var t=e.impact,n=e.viewport,r=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced,l=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r);return Wh({},t,{displaced:hm({afterDragging:l,destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:a})})},qm=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,l=Im({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return _m({pageBorderBoxCenter:l,draggable:n,viewport:i})},Km=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Cg(!1);var o=t.impact,i=r||t.viewport,a=n||t.dimensions,l=a.draggables,s=a.droppables,u=l[t.critical.draggable.id],c=zm(o);c||Cg(!1);var d=s[c],f=Xm({impact:o,viewport:i,destination:d,draggables:l}),h=qm({impact:f,draggable:u,droppable:d,draggables:l,viewport:i,afterCritical:t.afterCritical});return Ym({impact:f,clientSelection:h,state:t,dimensions:a,viewport:i})},Qm=function(e){var t=e.draggable,n=e.home,r=e.draggables,o=e.viewport,i=Dm(n.axis,t.displaceBy),a=Qg(n.descriptor.id,r),l=a.indexOf(t);-1===l&&Cg(!1);var s,u=a.slice(l+1),c=u.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:c};return{impact:{displaced:hm({afterDragging:u,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(s=t.descriptor,{index:s.index,droppableId:s.droppableId})}},afterCritical:d}},Jm=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,o=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||Cg(!1),t}(n[t]).scroll.diff.value,a=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,o=sg(t.client,n),i=ug(o,r);return Wh({},t,{placeholder:Wh({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:Rg(o,i),initialWindowScroll:r.scroll.initial});return a}))},ey=function(e){return"SNAP"===e.movementMode},ty=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Vm(e.droppables,t)}}(e.dimensions,t);return!ey(e)||n?Ym({state:e,dimensions:r}):Km({state:e,dimensions:r})};function ny(e){return e.isDragging&&"SNAP"===e.movementMode?Wh({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var ry={phase:"IDLE",completed:null,shouldFlush:!1},oy=function(e,t){if(void 0===e&&(e=ry),"FLUSH"===t.type)return Wh({},ry,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Cg(!1);var n=t.payload,r=n.critical,o=n.clientSelection,i=n.viewport,a=n.dimensions,l=n.movementMode,s=a.draggables[r.draggable.id],u=a.droppables[r.droppable.id],c={selection:o,borderBoxCenter:s.client.borderBox.center,offset:Mg},d={client:c,page:{selection:Rg(c.selection,i.scroll.initial),borderBoxCenter:Rg(c.selection,i.scroll.initial),offset:Rg(c.selection,i.scroll.diff.value)}},f=qg(a.droppables).every((function(e){return!e.isFixedOnPage})),h=Qm({draggable:s,home:u,draggables:a.draggables,viewport:i}),p=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:a,initial:d,current:d,isWindowScrollAllowed:f,impact:p,afterCritical:h.afterCritical,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Cg(!1),Wh({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Cg(!1),function(e){var t=e.state,n=e.published,r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return Wg(n,e.scroll)})),o=Wh({},t.dimensions.droppables,{},Yg(r)),i=Xg(Jm({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),a=Wh({},t.dimensions.draggables,{},i);n.removals.forEach((function(e){delete a[e]}));var l={droppables:o,draggables:a},s=zm(t.impact),u=s?l.droppables[s]:null,c=l.draggables[t.critical.draggable.id],d=l.droppables[t.critical.droppable.id],f=Qm({draggable:c,home:d,draggables:a,viewport:t.viewport}),h=f.impact,p=f.afterCritical,v=u&&u.isCombineEnabled?t.impact:h,g=Zm({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:v,viewport:t.viewport,afterCritical:p}),m=Wh({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:h,dimensions:l,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?m:Wh({phase:"DROP_PENDING"},m,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Hm(e)||Cg(!1);var v=t.payload.client;return Ag(v,e.current.client.selection)?e:Ym({state:e,clientSelection:v,impact:ey(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return ny(e);if("COLLECTING"===e.phase)return ny(e);Hm(e)||Cg(!1);var g=t.payload,m=g.id,y=g.newScroll,b=e.dimensions.droppables[m];if(!b)return e;var C=Wg(b,y);return ty(e,C,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Hm(e)||Cg(!1);var w=t.payload,x=w.id,S=w.isEnabled,E=e.dimensions.droppables[x];E||Cg(!1),E.isEnabled===S&&Cg(!1);var I=Wh({},E,{isEnabled:S});return ty(e,I,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Hm(e)||Cg(!1);var O=t.payload,L=O.id,_=O.isCombineEnabled,T=e.dimensions.droppables[L];T||Cg(!1),T.isCombineEnabled===_&&Cg(!1);var M=Wh({},T,{isCombineEnabled:_});return ty(e,M,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Hm(e)||Cg(!1),e.isWindowScrollAllowed||Cg(!1);var R=t.payload.newScroll;if(Ag(e.viewport.scroll.current,R))return ny(e);var N=Om(e.viewport,R);return ey(e)?Km({state:e,viewport:N}):Ym({state:e,viewport:N})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Hm(e))return e;var A=t.payload.maxScroll;if(Ag(A,e.viewport.scroll.max))return e;var D=Wh({},e.viewport,{scroll:Wh({},e.viewport.scroll,{max:A})});return Wh({phase:"DRAGGING"},e,{viewport:D})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Cg(!1);var B=Fm({state:e,type:t.type});return B?Ym({state:e,impact:B.impact,clientSelection:B.clientSelection,scrollJumpRequest:B.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var k=t.payload.reason;return"COLLECTING"!==e.phase&&Cg(!1),Wh({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:k})}if("DROP_ANIMATE"===t.type){var P=t.payload,z=P.completed,F=P.dropDuration,H=P.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Cg(!1),{phase:"DROP_ANIMATING",completed:z,dropDuration:F,newHomeClientOffset:H,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},iy=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},ay=function(){return{type:"COLLECTION_STARTING",payload:null}},ly=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},sy=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},uy=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},cy=function(e){return{type:"MOVE",payload:e}},dy=function(){return{type:"MOVE_UP",payload:null}},fy=function(){return{type:"MOVE_DOWN",payload:null}},hy=function(){return{type:"MOVE_RIGHT",payload:null}},py=function(){return{type:"MOVE_LEFT",payload:null}},vy=function(e){return{type:"DROP_COMPLETE",payload:e}},gy=function(e){return{type:"DROP",payload:e}},my=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},yy="cubic-bezier(.2,1,.1,1)",by={drop:0,combining:.7},Cy={drop:.75},wy=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",xy={fluid:"opacity "+wy,snap:"transform "+wy+", opacity "+wy,drop:function(e){var t=e+"s "+yy;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+wy,placeholder:"height "+wy+", width "+wy+", margin "+wy},Sy=function(e){return Ag(e,Mg)?null:"translate("+e.x+"px, "+e.y+"px)"},Ey=Sy,Iy=function(e,t){var n=Sy(e);return n?t?n+" scale("+Cy.drop+")":n:null},Oy=.33,Ly=.55,_y=Ly-Oy,Ty=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var o=t(),i=r.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&Cg(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&Cg(!1);var a=o.critical,l=o.dimensions,s=l.draggables[o.critical.draggable.id],u=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:Wh({},r,{displaced:om}),didDropInsideDroppable:!0}:{impact:Xm({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),c=u.impact,d=u.didDropInsideDroppable,f=d?Jg(c):null,h=d?em(c):null,p={index:a.draggable.index,droppableId:a.droppable.id},v={draggableId:s.descriptor.id,type:s.descriptor.type,source:p,reason:i,mode:o.movementMode,destination:f,combine:h},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,o=e.viewport,i=e.afterCritical,a=r.draggables,l=r.droppables,s=zm(t),u=s?l[s]:null,c=l[n.descriptor.droppableId],d=qm({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:u||c,viewport:o});return Ng(d,n.client.borderBox.center)}({impact:c,draggable:s,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),m={critical:o.critical,afterCritical:o.afterCritical,result:v,impact:c};if(!Ag(o.current.client.offset,g)||Boolean(v.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,o=kg(t,n);if(o<=0)return Oy;if(o>=1500)return Ly;var i=Oy+_y*(o/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))}({current:o.current.client.offset,destination:g,reason:i});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:y,completed:m}))}else n(vy({completed:m}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},My=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Ry(e){var t=e.onWindowScroll;var n,r=vg((function(){t(My())})),o=(n=r,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||n()}}),i=mg;function a(){return i!==mg}return{start:function(){a()&&Cg(!1),i=yg(window,[o])},stop:function(){a()||Cg(!1),r.cancel(),i(),i=mg},isActive:a}}var Ny=function(e){var t=Ry({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Ay=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=Zg(e,(function(e){return e.timerId===t}));-1===n&&Cg(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Dy=function(e,t){t()},By=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},ky=function(e,t,n,r){if(e){var o=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),o=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=function(){return t},o}(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}else n(r(t))},Py=function(e,t){var n=function(e,t){var n=Ay(),r=null,o=function(n){r||Cg(!1),r=null,Dy(0,(function(){return ky(e().onDragEnd,n,t,Tg)}))};return{beforeCapture:function(t,n){r&&Cg(!1),Dy(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&Cg(!1),Dy(0,(function(){var r=e().onBeforeDragStart;r&&r(By(t,n))}))},start:function(o,i){r&&Cg(!1);var a=By(o,i);r={mode:i,lastCritical:o,lastLocation:a.source,lastCombine:null},n.add((function(){Dy(0,(function(){return ky(e().onDragStart,a,t,Lg)}))}))},update:function(o,i){var a=Jg(i),l=em(i);r||Cg(!1);var s=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(o,r.lastCritical);s&&(r.lastCritical=o);var u,c,d=(c=a,!(null==(u=r.lastLocation)&&null==c||null!=u&&null!=c&&u.droppableId===c.droppableId&&u.index===c.index));d&&(r.lastLocation=a);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,l);if(f&&(r.lastCombine=l),s||d||f){var h=Wh({},By(o,r.mode),{combine:l,destination:a});n.add((function(){Dy(0,(function(){return ky(e().onDragUpdate,h,t,_g)}))}))}},flush:function(){r||Cg(!1),n.flush()},drop:o,abort:function(){if(r){var e=Wh({},By(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var o=r.payload.critical;return n.beforeStart(o,r.payload.movementMode),t(r),void n.start(o,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},zy=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Cg(!1),e.dispatch(vy({completed:r.completed}))}else t(n)}}},Fy=function(e){var t=null,n=null;return function(r){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=yg(window,[i])}))}}}},Hy=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(gy({reason:r.reason})))}}}},$y=tp,jy=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,l=e.autoScroller;return Qh(oy,$y(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Uh(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=tp.apply(void 0,i)(n.dispatch),Vh(Vh({},n),{},{dispatch:r})}}}((t=o,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,l=i.clientSelection,s=i.movementMode,u=n();"DROP_ANIMATING"===u.phase&&r(vy({completed:u.completed})),"IDLE"!==n().phase&&Cg(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:s}});var c={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},d=e.startPublishing(c),f=d.critical,h=d.dimensions,p=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:f,dimensions:h,clientSelection:l,movementMode:s,viewport:p}})}else t(o)}}}}(n),Ty,zy,Fy,Hy,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var o=t.getState();return"DRAGGING"!==o.phase&&Cg(!1),void e.start(o)}n(r),e.scroll(t.getState())}}}}(l),Ny,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Py(i,a))))};var Wy=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,o=e.width,i=Ng({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Gy=function(){var e=document.documentElement;return e||Cg(!1),e},Zy=function(){var e=Gy();return Wy({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Vy=function(e){var t,n,r,o,i,a,l,s=e.critical,u=e.scrollOptions,c=e.registry,d=(t=My(),n=Zy(),r=t.y,o=t.x,i=Gy(),a=i.clientWidth,l=i.clientHeight,{frame:ng({top:r,left:o,right:o+a,bottom:r+l}),scroll:{initial:t,current:t,max:n,diff:{value:Mg,displacement:Mg}}}),f=d.scroll.current,h=s.droppable,p=c.droppable.getAllByType(h.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(f,u)})),v=c.draggable.getAllByType(s.draggable.type).map((function(e){return e.getDimension(f)}));return{dimensions:{draggables:Xg(v),droppables:Yg(p)},critical:s,viewport:d}};function Uy(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var Yy,Xy,qy=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},o=null,i=function(){o||(n.collectionStarting(),o=requestAnimationFrame((function(){o=null;var e=r,i=e.additions,a=e.removals,l=e.modified,s=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(Mg)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),u=Object.keys(l).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),c={additions:s,removals:Object.keys(a),modified:u};r={additions:{},removals:{},modified:{}},n.publish(c)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){n||Cg(!1);var o=n.critical.draggable;"ADDITION"===t.type&&Uy(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Uy(e,o,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:function(r,o){e.droppable.exists(r)||Cg(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:function(r,o){n&&(e.droppable.exists(r)||Cg(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,o){n&&(e.droppable.exists(r)||Cg(!1),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:function(t){n&&Cg(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},l=e.subscribe(o);return n={critical:a,unsubscribe:l},Vy({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}}},Ky=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},Qy=function(e){window.scrollBy(e.x,e.y)},Jy=pg((function(e){return qg(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),eb=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var o=r[n];return o.frame?o:null}var i=function(e,t){return Vg(Jy(t),(function(t){return t.frame||Cg(!1),$m(t.frame.pageMarginBox)(e)}))}(t,r);return i},tb=.25,nb=.05,rb=28,ob=function(e){return Math.pow(e,2)},ib={stopDampeningAt:1200,accelerateAt:360},ab=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,o=n-t;return 0===o?0:(r-t)/o},lb=ib.accelerateAt,sb=ib.stopDampeningAt,ub=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return rb;if(e===t.startScrollingFrom)return 1;var n=ab({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=rb*ob(1-n);return Math.ceil(r)}(t,n);return 0===i?0:o?Math.max(function(e,t){var n=t,r=sb,o=Date.now()-n;if(o>=sb)return e;if(o<lb)return 1;var i=ab({startOfRange:lb,endOfRange:r,current:o}),a=e*ob(i);return Math.ceil(a)}(i,r),1):i},cb=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*tb,maxScrollValueAt:e[t.size]*nb}}(t,o);return n[o.end]<n[o.start]?ub({distanceToEdge:n[o.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i}):-1*ub({distanceToEdge:n[o.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i})},db=zg((function(e){return 0===e?0:e})),fb=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},l=cb({container:n,distanceToEdges:a,dragStartTime:t,axis:um,shouldUseTimeDampening:i}),s=cb({container:n,distanceToEdges:a,dragStartTime:t,axis:cm,shouldUseTimeDampening:i}),u=db({x:s,y:l});if(Ag(u,Mg))return null;var c=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r}({container:n,subject:r,proposedScroll:u});return c?Ag(c,Mg)?null:c:null},hb=zg((function(e){return 0===e?0:e>0?1:-1})),pb=(Yy=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,o=Rg(t,r),i={x:Yy(o.x,n.x),y:Yy(o.y,n.y)};return Ag(i,Mg)?null:i}),vb=function(e){var t=e.max,n=e.current,r=e.change,o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=hb(r),a=pb({max:o,current:n,change:i});return!a||(0!==i.x&&0===a.x||0!==i.y&&0===a.y)},gb=function(e,t){return vb({current:e.scroll.current,max:e.scroll.max,change:t})},mb=function(e,t){var n=e.frame;return!!n&&vb({current:n.scroll.current,max:n.scroll.max,change:t})},yb=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var s=function(e){var t=e.viewport,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=fb({dragStartTime:o,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return a&&gb(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:l,center:a,shouldUseTimeDampening:r});if(s)return void o(s)}var u=eb({center:a,destination:zm(t.impact),droppables:t.dimensions.droppables});if(u){var c=function(e){var t=e.droppable,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var l=fb({dragStartTime:o,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return l&&mb(t,l)?l:null}({dragStartTime:n,droppable:u,subject:l,center:a,shouldUseTimeDampening:r});c&&i(u.descriptor.id,c)}},bb=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,o=function(e,t){if(!mb(e,t))return t;var r=function(e,t){var n=e.frame;return n&&mb(e,t)?pb({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var o=Ng(t,r);return n(e.descriptor.id,o),Ng(t,o)},i=function(e,t,n){if(!e)return n;if(!gb(t,n))return n;var o=function(e,t){if(!gb(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return pb({current:r,max:n,change:t})}(t,n);if(!o)return r(n),null;var i=Ng(n,o);return r(i),Ng(n,i)};return function(e){var n=e.scrollJumpRequest;if(n){var r=zm(e.impact);r||Cg(!1);var a=o(e.dimensions.droppables[r],n);if(a){var l=e.viewport,s=i(e.isWindowScrollAllowed,l,a);s&&function(e,n){var r=Rg(e.current.client.selection,n);t({client:r})}(e,s)}}}},Cb=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,o=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=vg(t),o=vg(n),i=null,a=function(e){i||Cg(!1);var t=i,n=t.shouldUseTimeDampening,a=t.dragStartTime;yb({state:e,scrollWindow:r,scrollDroppable:o,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){i&&Cg(!1);var t=Date.now(),n=!1,r=function(){n=!0};yb({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},n&&a(e)},stop:function(){i&&(r.cancel(),o.cancel(),i=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),i=bb({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}},wb="data-rbd",xb={base:Xy=wb+"-drag-handle",draggableId:Xy+"-draggable-id",contextId:Xy+"-context-id"},Sb=function(){var e=wb+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Eb=function(){var e=wb+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Ib={contextId:wb+"-scroll-container-context-id"},Ob=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Lb="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?c.useLayoutEffect:c.useEffect,_b=function(){var e=document.querySelector("head");return e||Cg(!1),e},Tb=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Mb(e,t){var n=Jv((function(){return function(e){var t,n,r=function(e){return function(t){return"["+t+'="'+e+'"]'}}(e),o=(t="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:r(xb.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:t,dragging:"pointer-events: none;",dropAnimating:t}}),i=[(n="\n      transition: "+xy.outOfTheWay+";\n    ",{selector:r(Sb.contextId),styles:{dragging:n,dropAnimating:n,userCancel:n}}),o,{selector:r(Eb.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Ob(i,"always"),resting:Ob(i,"resting"),dragging:Ob(i,"dragging"),dropAnimating:Ob(i,"dropAnimating"),userCancel:Ob(i,"userCancel")}}(e)}),[e]),r=(0,c.useRef)(null),o=(0,c.useRef)(null),i=eg(pg((function(e){var t=o.current;t||Cg(!1),t.textContent=e})),[]),a=eg((function(e){var t=r.current;t||Cg(!1),t.textContent=e}),[]);Lb((function(){(r.current||o.current)&&Cg(!1);var l=Tb(t),s=Tb(t);return r.current=l,o.current=s,l.setAttribute(wb+"-always",e),s.setAttribute(wb+"-dynamic",e),_b().appendChild(l),_b().appendChild(s),a(n.always),i(n.resting),function(){var e=function(e){var t=e.current;t||Cg(!1),_b().removeChild(t),e.current=null};e(r),e(o)}}),[t,a,i,n.always,n.resting,e]);var l=eg((function(){return i(n.dragging)}),[i,n.dragging]),s=eg((function(e){i("DROP"!==e?n.userCancel:n.dropAnimating)}),[i,n.dropAnimating,n.userCancel]),u=eg((function(){o.current&&i(n.resting)}),[i,n.resting]);return Jv((function(){return{dragging:l,dropping:s,resting:u}}),[l,s,u])}var Rb=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Nb(e){return e instanceof Rb(e).HTMLElement}function Ab(e){var t=(0,c.useRef)({}),n=(0,c.useRef)(null),r=(0,c.useRef)(null),o=(0,c.useRef)(!1),i=eg((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),a=eg((function(t){var n=function(e,t){var n="["+xb.contextId+'="'+e+'"]',r=Ug(document.querySelectorAll(n));if(!r.length)return null;var o=Vg(r,(function(e){return e.getAttribute(xb.draggableId)===t}));return o&&Nb(o)?o:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=eg((function(e,t){n.current===e&&(n.current=t)}),[]),s=eg((function(){r.current||o.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&a(e)})))}),[a]),u=eg((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(xb.draggableId)===e&&(n.current=e)}),[]);return Lb((function(){return o.current=!0,function(){o.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),Jv((function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:s,tryShiftRecord:l}}),[i,u,s,l])}function Db(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Cg(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return Gg(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||Cg(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return Gg(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Bb=c.createContext(null),kb=function(){var e=document.body;return e||Cg(!1),e},Pb={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var zb=0,Fb={separator:"::"};function Hb(e,t){return void 0===t&&(t=Fb),Jv((function(){return""+e+t.separator+zb++}),[t.separator,e])}var $b=c.createContext(null);function jb(e){var t=(0,c.useRef)(e);return(0,c.useEffect)((function(){t.current=e})),t}var Wb,Gb=((Wb={})[13]=!0,Wb[9]=!0,Wb),Zb=function(e){Gb[e.keyCode]&&e.preventDefault()},Vb=function(){var e="visibilitychange";return"undefined"==typeof document?e:Vg([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var Ub,Yb={type:"IDLE"};function Xb(e){var t=e.cancel,n=e.completed,r=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var a={x:n,y:i},l=r();if("DRAGGING"===l.type)return e.preventDefault(),void l.actions.move(a);"PENDING"!==l.type&&Cg(!1);var s=l.point;if(u=s,c=a,Math.abs(c.x-u.x)>=5||Math.abs(c.y-u.y)>=5){var u,c;e.preventDefault();var d=l.actions.fluidLift(a);o({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Zb(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Cg(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Vb,fn:t}]}function qb(){}var Kb=((Ub={})[34]=!0,Ub[33]=!0,Ub[36]=!0,Ub[35]=!0,Ub);function Qb(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Kb[r.keyCode]?r.preventDefault():Zb(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Vb,fn:n}]}var Jb={type:"IDLE"};var eC={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function tC(e,t){if(null==t)return!1;if(Boolean(eC[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&tC(e,t.parentElement)}function nC(e,t){var n=t.target;return!!Nb(n)&&tC(e,n)}var rC=function(e){return ng(e.getBoundingClientRect()).center};var oC=function(){var e="matches";return"undefined"==typeof document?e:Vg([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function iC(e,t){return null==e?null:e[oC](t)?e:iC(e.parentElement,t)}function aC(e,t){return e.closest?e.closest(t):iC(e,t)}function lC(e,t){var n,r=t.target;if(!((n=r)instanceof Rb(n).Element))return null;var o=function(e){return"["+xb.contextId+'="'+e+'"]'}(e),i=aC(r,o);return i&&Nb(i)?i:null}function sC(e){e.preventDefault()}function uC(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function cC(e){var t=e.lockAPI,n=e.store,r=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(o);return!!i&&(!!i.options.isEnabled&&!!Ky(n.getState(),o))}function dC(e){var t=e.lockAPI,n=e.contextId,r=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent;if(!cC({lockAPI:t,store:r,registry:o,draggableId:i}))return null;var s=o.draggable.getById(i),u=function(e,t){var n="["+Sb.contextId+'="'+e+'"]',r=Vg(Ug(document.querySelectorAll(n)),(function(e){return e.getAttribute(Sb.id)===t}));return r&&Nb(r)?r:null}(n,s.descriptor.id);if(!u)return null;if(l&&!s.options.canDragInteractiveElements&&nC(u,l))return null;var c=t.claim(a||mg),d="PRE_DRAG";function f(){return s.options.shouldRespectForcePress}function h(){return t.isActive(c)}var p=function(e,t){uC({expected:e,phase:d,isLockActive:h,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function v(e){function n(){t.release(),d="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=yg(window,[{eventName:"click",fn:sC,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(gy({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&Cg(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",Wh({isActive:function(){return uC({expected:"DRAGGING",phase:d,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}return{isActive:function(){return uC({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(e){var t=vg((function(e){p((function(){return cy({client:e})}))}));return Wh({},v({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(dy)},moveRight:function(){return p(hy)},moveDown:function(){return p(fy)},moveLeft:function(){return p(py)}};return v({liftActionArgs:{id:i,clientSelection:rC(u),movementMode:"SNAP"},cleanup:mg,actions:e})},abort:function(){uC({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!0})&&t.release()}}}var fC=[function(e){var t=(0,c.useRef)(Yb),n=(0,c.useRef)(mg),r=Jv((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,a,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),u(o,i)}}}}}}),[e]),o=Jv((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),i=eg((function(){n.current=yg(window,[o,r],{passive:!1,capture:!0})}),[o,r]),a=eg((function(){"IDLE"!==t.current.type&&(t.current=Yb,n.current(),i())}),[i]),l=eg((function(){var e=t.current;a(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[a]),s=eg((function(){var e=Xb({cancel:l,completed:a,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=yg(window,e,{capture:!0,passive:!1})}),[l,a]),u=eg((function(e,n){"IDLE"!==t.current.type&&Cg(!1),t.current={type:"PENDING",point:n,actions:e},s()}),[s]);Lb((function(){return i(),function(){n.current()}}),[i])},function(e){var t=(0,c.useRef)(qb),n=Jv((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var o=e.findClosestDraggableId(n);if(o){var i=e.tryGetLock(o,s,{sourceEvent:n});if(i){n.preventDefault();var a=!0,l=i.snapLift();t.current(),t.current=yg(window,Qb(l,s),{capture:!0,passive:!1})}}}function s(){a||Cg(!1),a=!1,t.current(),r()}}}}),[e]),r=eg((function(){t.current=yg(window,[n],{passive:!1,capture:!0})}),[n]);Lb((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,c.useRef)(Jb),n=(0,c.useRef)(mg),r=eg((function(){return t.current}),[]),o=eg((function(e){t.current=e}),[]),i=Jv((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,l,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};n.current(),f(o,a)}}}}}}),[e]),a=eg((function(){n.current=yg(window,[i],{capture:!0,passive:!1})}),[i]),l=eg((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(Jb),n.current(),a())}),[a,o]),s=eg((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=eg((function(){var e={capture:!0,passive:!1},t={cancel:s,completed:l,getPhase:r},o=yg(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Cg(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Vb,fn:t}]}(t),e),i=yg(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Vb,fn:t}]}(t),e);n.current=function(){o(),i()}}),[s,r,l]),d=eg((function(){var e=r();"PENDING"!==e.type&&Cg(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),f=eg((function(e,t){"IDLE"!==r().type&&Cg(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);Lb((function(){return a(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(Jb))}}),[r,a,o]),Lb((function(){return yg(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function hC(e){var t=e.contextId,n=e.store,r=e.registry,o=e.customSensors,i=e.enableDefaultSensors,a=[].concat(i?fC:[],o||[]),l=(0,c.useState)((function(){return function(){var e=null;function t(){e||Cg(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Cg(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],s=eg((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);Lb((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();s(e,t),e=t}))}),[l,n,s]),Lb((function(){return l.tryAbandon}),[l.tryAbandon]);for(var u=eg((function(e){return cC({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),d=eg((function(e,o,i){return dC({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:o,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,l,r,n]),f=eg((function(e){return function(e,t){var n=lC(e,t);return n?n.getAttribute(xb.draggableId):null}(t,e)}),[t]),h=eg((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),p=eg((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),v=eg(l.isClaimed,[l]),g=Jv((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:v}}),[u,d,f,h,p,v]),m=0;m<a.length;m++)a[m](g)}function pC(e){return e.current||Cg(!1),e.current}function vC(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,o=e.nonce,i=e.dragHandleUsageInstructions,a=(0,c.useRef)(null),l=jb(e),s=eg((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)}),[l]),u=function(e){var t=Jv((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,c.useRef)(null);return(0,c.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Wh(e.style,Pb),kb().appendChild(e),function(){setTimeout((function(){var t=kb();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),eg((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),d=function(e){var t=e.contextId,n=e.text,r=Hb("hidden-text",{separator:"-"}),o=Jv((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,c.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",kb().appendChild(e),function(){var t=kb();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:i}),f=Mb(t,o),h=eg((function(e){pC(a).dispatch(e)}),[]),p=Jv((function(){return ep({publishWhileDragging:iy,updateDroppableScroll:ly,updateDroppableIsEnabled:sy,updateDroppableIsCombineEnabled:uy,collectionStarting:ay},h)}),[h]),v=function(){var e=Jv(Db,[]);return(0,c.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),g=Jv((function(){return qy(v,p)}),[v,p]),m=Jv((function(){return Cb(Wh({scrollWindow:Qy,scrollDroppable:g.scrollDroppable},ep({move:cy},h)))}),[g.scrollDroppable,h]),y=Ab(t),b=Jv((function(){return jy({announce:u,autoScroller:m,dimensionMarshal:g,focusMarshal:y,getResponders:s,styleMarshal:f})}),[u,m,g,y,s,f]);a.current=b;var C=eg((function(){var e=pC(a);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),w=eg((function(){var e=pC(a).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(Jv((function(){return{isDragging:w,tryAbort:C}}),[w,C]));var x=eg((function(e){return Ky(pC(a).getState(),e)}),[]),S=eg((function(){return Hm(pC(a).getState())}),[]),E=Jv((function(){return{marshal:g,focus:y,contextId:t,canLift:x,isMovementAllowed:S,dragHandleUsageInstructionsId:d,registry:v}}),[t,g,d,y,x,S,v]);return hC({contextId:t,store:b,registry:v,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,c.useEffect)((function(){return C}),[C]),c.createElement($b.Provider,{value:E},c.createElement(sp,{context:Bb,store:b},e.children))}var gC=0;function mC(e){var t=Jv((function(){return""+gC++}),[]),n=e.dragHandleUsageInstructions||Og;return c.createElement(wg,null,(function(r){return c.createElement(vC,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var yC=function(e){return function(t){return e===t}},bC=yC("scroll"),CC=yC("auto"),wC=function(e,t){return t(e.overflowX)||t(e.overflowY)},xC=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return wC(n,bC)||wC(n,CC)}(t)?t:e(t.parentElement)},SC=function(e){return{x:e.scrollLeft,y:e.scrollTop}},EC=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},IC=function(e){return{closestScrollable:xC(e),isFixedOnPage:EC(e)}},OC=function(e){var t=e.ref,n=e.descriptor,r=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,l=e.isCombineEnabled,s=e.shouldClipSubject,u=r.closestScrollable,c=function(e,t){var n=dg(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=o+t.scrollWidth,l=rg({top:r,right:a,bottom:i,left:o},n.border);return ag({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})}(t,u),d=ug(c,o),f=function(){if(!u)return null;var e=dg(u),t={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:e,page:ug(e,o),scroll:SC(u),scrollSize:t,shouldClipSubject:s}}(),h=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,l=e.page,s=e.closest,u=function(){if(!s)return null;var e=s.scrollSize,t=s.client,n=Wy({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:n,diff:{value:Mg,displacement:Mg}}}}(),c="vertical"===i?um:cm;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:c,isEnabled:n,client:a,page:l,frame:u,subject:jg({page:l,withPlaceholder:null,axis:c,frame:u})}}({descriptor:n,isEnabled:!a,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:i,client:c,page:d,closest:f});return h},LC={passive:!1},_C={passive:!0},TC=function(e){return e.shouldPublishImmediately?LC:_C};function MC(e){var t=(0,c.useContext)(e);return t||Cg(!1),t}var RC=function(e){return e&&e.env.closestScrollable||null};function NC(){}var AC={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},DC=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,o=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?AC:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?xy.placeholder:null}};var BC=c.memo((function(e){var t=(0,c.useRef)(null),n=eg((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,o=e.onTransitionEnd,i=e.onClose,a=e.contextId,l=(0,c.useState)("open"===e.animate),s=l[0],u=l[1];(0,c.useEffect)((function(){return s?"open"!==r?(n(),u(!1),NC):t.current?NC:(t.current=setTimeout((function(){t.current=null,u(!1)})),n):NC}),[r,s,n]);var d=eg((function(e){"height"===e.propertyName&&(o(),"close"===r&&i())}),[r,i,o]),f=DC({isAnimatingOpenOnMount:s,animate:e.animate,placeholder:e.placeholder});return c.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":a,onTransitionEnd:d,ref:e.innerRef})})),kC=c.createContext(null),PC=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return jh(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(c.PureComponent),zC=5e3,FC=4500,HC=function(e,t){return t?xy.drop(t.duration):e?xy.snap:xy.fluid},$C=function(e,t){return e?t?by.drop:by.combining:null};function jC(e){return"DRAGGING"===e.type?(r=(n=e).dimension.client,o=n.offset,i=n.combineWith,a=n.dropping,l=Boolean(i),s=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(n),u=Boolean(a),c=u?Iy(o,l):Ey(o),{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:HC(s,a),transform:c,opacity:$C(l,u),zIndex:u?FC:zC,pointerEvents:"none"}):{transform:Ey((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,n,r,o,i,a,l,s,u,c}function WC(e){var t=Hb("draggable"),n=e.descriptor,r=e.registry,o=e.getDraggableRef,i=e.canDragInteractiveElements,a=e.shouldRespectForcePress,l=e.isEnabled,s=Jv((function(){return{canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}}),[i,l,a]),u=eg((function(e){var t=o();return t||Cg(!1),function(e,t,n){void 0===n&&(n=Mg);var r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=cg(o,r),a=ug(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)}),[n,o]),d=Jv((function(){return{uniqueId:t,descriptor:n,options:s,getDimension:u}}),[n,u,s,t]),f=(0,c.useRef)(d),h=(0,c.useRef)(!0);Lb((function(){return r.draggable.register(f.current),function(){return r.draggable.unregister(f.current)}}),[r.draggable]),Lb((function(){if(h.current)h.current=!1;else{var e=f.current;f.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}function GC(e){e.preventDefault()}var ZC=function(e,t){return e===t},VC=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function UC(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var YC={mapped:{type:"SECONDARY",offset:Mg,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:UC(null)}};var XC=Kv((function(){var e,t,n,r=(e=pg((function(e,t){return{x:e,y:t}})),t=pg((function(e,t,n,r,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=pg((function(e,n,r,o,i,a,l){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:l,snapshot:t(n,o,i,a,null)}}})),function(r,o){if(r.isDragging){if(r.critical.draggable.id!==o.draggableId)return null;var i=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],l=zm(r.impact),s=(c=r.impact).at&&"COMBINE"===c.at.type?c.at.combine.draggableId:null,u=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,a,o.isClone,l,s,u)}var c;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==o.draggableId)return null;var f=o.isClone,h=r.dimensions.draggables[o.draggableId],p=d.result,v=p.mode,g=VC(p),m=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:yy,moveTo:r.newHomeClientOffset,opacity:m?by.drop:null,scale:m?Cy.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:h,dropping:y,draggingOver:g,combineWith:m,mode:v,forceShouldAnimate:null,snapshot:t(v,f,g,m,y)}}}return null}),o=function(){var e=pg((function(e,t){return{x:e,y:t}})),t=pg(UC),n=pg((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(Mg,e,!0):null},o=function(t,o,i,a){var l=i.displaced.visible[t],s=Boolean(a.inVirtualList&&a.effected[t]),u=em(i),c=u&&u.draggableId===t?o:null;if(!l){if(!s)return r(c);if(i.displaced.invisible[t])return null;var d=Dg(a.displacedBy.point),f=e(d.x,d.y);return n(f,c,!0)}if(s)return r(c);var h=i.displacedBy.point,p=e(h.x,h.y);return n(p,c,l.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||o(e,t)||YC}}),{dropAnimationFinished:my},null,{context:Bb,pure:!0,areStatePropsEqual:ZC})((function(e){var t=(0,c.useRef)(null),n=eg((function(e){t.current=e}),[]),r=eg((function(){return t.current}),[]),o=MC($b),i=o.contextId,a=o.dragHandleUsageInstructionsId,l=o.registry,s=MC(kC),u=s.type,d=s.droppableId,f=Jv((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),h=e.children,p=e.draggableId,v=e.isEnabled,g=e.shouldRespectForcePress,m=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,C=e.dropAnimationFinished;y||WC(Jv((function(){return{descriptor:f,registry:l,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:g,isEnabled:v}}),[f,l,r,m,g,v]));var w=Jv((function(){return v?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:GC}:null}),[i,a,p,v]),x=eg((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&C()}),[C,b]),S=Jv((function(){var e=jC(b),t="DRAGGING"===b.type&&b.dropping?x:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:w}}),[i,w,p,b,x,n]),E=Jv((function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}}),[f.droppableId,f.id,f.index,f.type]);return h(S,b.snapshot,E)}));function qC(e){return MC(kC).isUsingCloneFor!==e.draggableId||e.isClone?c.createElement(XC,e):null}function KC(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return c.createElement(qC,Wh({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var QC=function(e,t){return e===t.droppable.type},JC=function(e,t){return t.draggables[e.draggable.id]};var ew={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Cg(!1),document.body}},tw=Kv((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Wh({},e,{shouldAnimatePlaceholder:!1}),n=pg((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=pg((function(r,o,i,a,l,s){var u=l.descriptor.id;if(l.descriptor.droppableId===r){var c=s?{render:s,dragging:n(l.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:c}}if(!o)return t;if(!a)return e;var f={isDraggingOver:i,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}}));return function(n,o){var i=o.droppableId,a=o.type,l=!o.isDropDisabled,s=o.renderClone;if(n.isDragging){var u=n.critical;if(!QC(a,u))return t;var c=JC(u,n.dimensions),d=zm(n.impact)===i;return r(i,l,d,d,c,s)}if("DROP_ANIMATING"===n.phase){var f=n.completed;if(!QC(a,f.critical))return t;var h=JC(f.critical,n.dimensions);return r(i,l,VC(f.result)===i,zm(f.impact)===i,h,s)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!QC(a,p.critical))return t;var v=zm(p.impact)===i,g=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),m=p.critical.droppable.id===i;return v?g?e:t:m?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Bb,pure:!0,areStatePropsEqual:ZC})((function(e){var t=(0,c.useContext)($b);t||Cg(!1);var n=t.contextId,r=t.isMovementAllowed,o=(0,c.useRef)(null),i=(0,c.useRef)(null),a=e.children,l=e.droppableId,s=e.type,u=e.mode,d=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,p=e.isCombineEnabled,v=e.snapshot,g=e.useClone,m=e.updateViewportMaxScroll,y=e.getContainerForClone,b=eg((function(){return o.current}),[]),C=eg((function(e){o.current=e}),[]);eg((function(){return i.current}),[]);var w=eg((function(e){i.current=e}),[]),x=eg((function(){r()&&m({maxScroll:Zy()})}),[r,m]);!function(e){var t=(0,c.useRef)(null),n=MC($b),r=Hb("droppable"),o=n.registry,i=n.marshal,a=jb(e),l=Jv((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),s=(0,c.useRef)(l),u=Jv((function(){return pg((function(e,n){t.current||Cg(!1);var r={x:e,y:n};i.updateDroppableScroll(l.id,r)}))}),[l.id,i]),d=eg((function(){var e=t.current;return e&&e.env.closestScrollable?SC(e.env.closestScrollable):Mg}),[]),f=eg((function(){var e=d();u(e.x,e.y)}),[d,u]),h=Jv((function(){return vg(f)}),[f]),p=eg((function(){var e=t.current,n=RC(e);e&&n||Cg(!1),e.scrollOptions.shouldPublishImmediately?f():h()}),[h,f]),v=eg((function(e,r){t.current&&Cg(!1);var o=a.current,i=o.getDroppableRef();i||Cg(!1);var s=IC(i),u={ref:i,descriptor:l,env:s,scrollOptions:r};t.current=u;var c=OC({ref:i,descriptor:l,env:s,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=s.closestScrollable;return d&&(d.setAttribute(Ib.contextId,n.contextId),d.addEventListener("scroll",p,TC(u.scrollOptions))),c}),[n.contextId,l,p,a]),g=eg((function(){var e=t.current,n=RC(e);return e&&n||Cg(!1),SC(n)}),[]),m=eg((function(){var e=t.current;e||Cg(!1);var n=RC(e);t.current=null,n&&(h.cancel(),n.removeAttribute(Ib.contextId),n.removeEventListener("scroll",p,TC(e.scrollOptions)))}),[p,h]),y=eg((function(e){var n=t.current;n||Cg(!1);var r=RC(n);r||Cg(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=Jv((function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:g,dragStopped:m,scroll:y}}),[m,v,g,y]),C=Jv((function(){return{uniqueId:r,descriptor:l,callbacks:b}}),[b,l,r]);Lb((function(){return s.current=C.descriptor,o.droppable.register(C),function(){t.current&&m(),o.droppable.unregister(C)}}),[b,l,m,C,i,o.droppable]),Lb((function(){t.current&&i.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)}),[e.isDropDisabled,i]),Lb((function(){t.current&&i.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,i])}({droppableId:l,type:s,mode:u,direction:d,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:f,getDroppableRef:b});var S=c.createElement(PC,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return c.createElement(BC,{placeholder:r,onClose:t,innerRef:w,animate:o,contextId:n,onTransitionEnd:x})})),E=Jv((function(){return{innerRef:C,placeholder:S,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}}),[n,l,S,C]),I=g?g.dragging.draggableId:null,O=Jv((function(){return{droppableId:l,type:s,isUsingCloneFor:I}}),[l,I,s]);return c.createElement(kC.Provider,{value:O},a(E,v),function(){if(!g)return null;var e=g.dragging,t=g.render,n=c.createElement(qC,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return _n.createPortal(n,y())}())}));tw.defaultProps=ew;const nw=(...e)=>(0,r.d5G)("switcher",...e),rw=e=>nw("content","table"===e?"one-dimension":"three-dimensions"),ow=(e,t)=>"table"===e||t===Bh.Values,iw=e=>{return t=e,r={},n=Pd(n="items"),Hd(t,(function(e,t,o){eu(r,t,n(e,t,o))})),r;var t,n,r},aw="item",lw=({dragHandleProps:e,fieldType:t,id:n,displayName:r,selectable:o,checked:i,parentId:a,className:l,disabled:s,onVisibleItemChange:u})=>{const d=(0,c.useRef)(),[f,h]=(0,c.useState)(!1);(0,c.useEffect)((()=>{h(d.current.offsetWidth<d.current.scrollWidth)}),[]);const p=null!=r?r:n;return c.createElement("div",Al(Nl({},e),{className:Jf(nw(aw),l,{unchecked:!i})}),o&&c.createElement(Na,{disabled:s,checked:i,onChange:e=>null==u?void 0:u(t,e.target.checked,n,a)}),f?c.createElement(it.Z,{title:p,placement:"bottomRight",overlayClassName:nw("tooltip")},c.createElement("div",{className:nw(aw,"text"),ref:d},p)):c.createElement("div",{className:nw(aw,"text"),ref:d},p))};lw.defaultProps={checked:!0,disabled:!1};const sw=({fieldType:e,item:{id:t,displayName:n,checked:r=!0,children:o=[]},expandable:i,expandChildren:a,isDragDisabled:l,selectable:s,index:u,draggingItemId:d,onVisibleItemChange:f})=>c.createElement(KC,{draggableId:t,index:u,isDragDisabled:l},((u,h)=>c.createElement("div",Al(Nl({},u.draggableProps),{ref:u.innerRef,className:Jf(nw(s?"checkable-list":"normal-list"),{dragging:h.isDragging,"disable-dragging":l})}),c.createElement(lw,{dragHandleProps:u.dragHandleProps,fieldType:e,id:t,displayName:n,checked:r,onVisibleItemChange:f,selectable:s,className:Jf(s?"checkable-item":"normal-item",{"item-collapse":!a})}),i&&a&&!hf(o)&&d!==t&&c.createElement("div",{className:Jf("child-items",{"item-hidden":!a})},o.map((n=>c.createElement(lw,{key:n.id,id:n.id,fieldType:e,displayName:n.displayName,disabled:!r,checked:n.checked,parentId:t,selectable:s,onVisibleItemChange:f,className:"checkable-item"})))))));const uw="dimension",cw=c.memo((e=>{const t=e,{fieldType:n,crossRows:o=!1,selectable:i=!1,expandable:a=!1,expandText:l=(0,r.agQ)("展开子项"),allowEmpty:s=!0,items:u=[],droppableType:d,text:f,icon:h}=t,p=Dl(t,["fieldType","crossRows","selectable","expandable","expandText","allowEmpty","items","droppableType","text","icon"]),[v,g]=c.useState(!0),m=!s&&1===u.length;return c.createElement("div",{className:Jf(nw(uw),{"long-dimension":o})},c.createElement("div",{className:nw(uw,"header")},c.createElement("div",{className:"title"},c.createElement(h,null)," ",c.createElement("span",null,f)),a&&c.createElement("div",{className:"expand-option"},c.createElement(Na,{checked:v,onChange:e=>{g(e.target.checked)}}),c.createElement("span",{className:"description"},l))),c.createElement(tw,{droppableId:n,type:d},((e,t)=>c.createElement("div",Al(Nl({ref:e.innerRef},e.droppableProps),{className:Jf(nw(uw,"items"),{[nw(uw,"items-highlight")]:t.isDraggingOver,[nw(uw,"long-items")]:o})}),u.map(((e,t)=>c.createElement(sw,Nl({key:e.id,index:t,fieldType:n,item:e,expandable:a,expandChildren:v,selectable:i,isDragDisabled:m},p)))),e.placeholder))))}));cw.displayName="Dimension";const dw="content",fw=c.memo((e=>{const t=e,{innerContentClassName:n,contentTitleText:o=(0,r.agQ)("行列切换"),resetText:i=(0,r.agQ)("恢复默认"),allowExchangeHeader:a=!0,onToggleVisible:l,onSubmit:s,sheetType:u}=t,d=Dl(t,["innerContentClassName","contentTitleText","resetText","allowExchangeHeader","onToggleVisible","onSubmit","sheetType"]),f=((e=!0)=>({[Bh.Rows]:{text:(0,r.agQ)("行头"),icon:Eh,droppableType:e?kh.Dimensions:kh.Rows},[Bh.Cols]:{text:(0,r.agQ)("列头"),icon:Ih,droppableType:e?kh.Dimensions:kh.Cols},[Bh.Values]:{text:(0,r.agQ)("值"),icon:Oh,droppableType:kh.Measures}}))(a),h=iw(d),[p,v]=c.useState(h),[g,m]=c.useState(null),y=(e,t,n,r)=>{const o=((e=[],t,n,r)=>{const o=Nl({},e.find((e=>e.id===(null!=r?r:n))));return r?o.children=sf(o.children,(e=>Al(Nl({},e),{checked:e.id===n?t:e.checked}))):(o.checked=t,o.children=sf(o.children,(e=>Al(Nl({},e),{checked:t})))),e.map((e=>e.id===o.id?o:e))})(p[e],t,n,r);v(Al(Nl({},p),{[e]:o}))},b=pf(h,p),C=Ph.filter((e=>"table"!==u||e===Bh.Cols));return c.createElement(mC,{onBeforeCapture:e=>{m(e.draggableId)},onDragEnd:({destination:e,source:t})=>{if(m(null),!e)return;if(e.droppableId===t.droppableId&&e.index===t.index)return;const n=((e=[],t=[],n,r)=>{if(r.droppableId===n.droppableId){const e=[...t],[o]=e.splice(n.index,1);return e.splice(r.index,0,o),{[r.droppableId]:e}}const o=[...e],i=[...t],[a]=o.splice(n.index,1);return i.splice(r.index,0,a),{[n.droppableId]:o,[r.droppableId]:i}})(p[t.droppableId],p[e.droppableId],t,e);v(Nl(Nl({},p),n))}},c.createElement("div",{className:Jf(n,nw(dw))},c.createElement("header",{className:nw(dw,"header")},o),c.createElement("main",{className:Jf(nw(dw,"main"),rw(u))},C.map((e=>c.createElement(cw,Nl(Al(Nl({},d[e]),{key:e,fieldType:e,items:p[e],crossRows:ow(u,e),draggingItemId:g,onVisibleItemChange:y}),f[e]))))),c.createElement("footer",{className:nw(dw,"footer")},c.createElement(wa.ZP,{type:"text",icon:c.createElement(Sl,null),className:nw(dw,"footer","reset-button"),disabled:b,onClick:()=>{v(h)}},i),c.createElement("div",{className:nw(dw,"footer","actions")},c.createElement(wa.ZP,{className:"action-button",onClick:l},(0,r.agQ)("取消")),c.createElement(wa.ZP,{className:"action-button",type:"primary",disabled:b,onClick:()=>{l(),null==s||s((e=>{const t=e=>{const t=e=>fc(sf(e,(e=>{var n=e,{children:r}=n,o=Dl(n,["children"]);return[Nl({},o),...t(r)]}))),n=t(e);return{items:n,hideItems:tf(n,(e=>!1===e.checked))}};return{[Bh.Rows]:t(e[Bh.Rows]),[Bh.Cols]:t(e[Bh.Cols]),[Bh.Values]:t(e[Bh.Values])}})(p))}},(0,r.agQ)("确定"))))))}));fw.displayName="SwitcherContent",fw.defaultProps={sheetType:"pivot"};const hw=e=>{var t=e,{title:n,popover:o,disabled:i}=t,a=Dl(t,["title","popover","disabled"]);const[l,s]=(0,c.useState)(!1),u=()=>{s((e=>!e))};return c.createElement(Aa.Z,Nl({visible:!i&&l,content:c.createElement(fw,Al(Nl({},a),{onToggleVisible:u})),onVisibleChange:u,trigger:"click",placement:"bottomLeft",destroyTooltipOnHide:!0},o),(0,c.isValidElement)(n)?n:c.createElement(wa.ZP,{className:nw("entry-button"),size:"small",disabled:i,icon:c.createElement(Th,null)},n||(0,r.agQ)("行列切换")))},pw=e=>{var t,n=e,{sheet:o,dataCfg:i,options:a}=n,l=Dl(n,["sheet","dataCfg","options"]);const[s,u]=c.useState((()=>{var e;return Fh(o,i,null==(e=null==a?void 0:a.interaction)?void 0:e.hiddenColumnFields)}));Yf((()=>{var e;u(Fh(o,i,null==(e=null==a?void 0:a.interaction)?void 0:e.hiddenColumnFields))}),[o,i,null==(t=null==a?void 0:a.interaction)?void 0:t.hiddenColumnFields]);return c.createElement(hw,Nl(Nl({sheetType:zh(o),onSubmit:e=>{var t;const{fields:n,hiddenColumnFields:i}=((e,t)=>{const n=e instanceof r.HZt,o=Ph.reduce(((e,r)=>{var o,i,a,l;const s=null!=(i=null==(o=t[r])?void 0:o.items)?i:[],u=null!=(l=null==(a=t[r])?void 0:a.hideItems)?l:[];return e[r]=tf(s,(e=>!u.find((t=>!n&&t.id===e.id)))).map((e=>e.id)),e}),{}),i=n?t[Bh.Cols].hideItems.map((e=>e.id)):void 0;return{fields:o,hiddenColumnFields:i}})(o,e);o.setDataCfg({fields:Nl(Nl({},o.dataCfg.fields),n)}),i&&o.setOptions({interaction:{hiddenColumnFields:i}}),o.render(),u(((e,t,n=[],r=[])=>{const{fields:o,hiddenFields:i}=Hh(t);return Fh(e,{fields:o,meta:n},i.concat(r))})(o,e,null==(t=o.dataCfg)?void 0:t.meta,i))}},l),s))};const vw=c.memo((e=>{var t=e,{className:n,style:r,title:o,width:i,description:a,exportCfg:l,advancedSortCfg:s,switcherCfg:u,sheet:d,extra:f,dataCfg:h,options:p}=t,v=Dl(t,["className","style","title","width","description","exportCfg","advancedSortCfg","switcherCfg","sheet","extra","dataCfg","options"]);const g="s2-header";return c.createElement("div",Nl({className:Jf(g,n),style:r},v),c.createElement("div",{className:`${g}-heading`},c.createElement("div",{className:`${g}-heading-left`},c.createElement("div",{className:`${g}-heading-title`},o)),c.createElement("div",{className:`${g}-heading-extra`},c.createElement(Da.Z,{align:"center"},f,u.open&&c.createElement(pw,Nl({sheet:d,dataCfg:h,options:p},u)),s.open&&c.createElement(Dh,Nl({sheet:d},s)),l.open&&c.createElement(Mh,Nl({sheet:d},l))))),c.createElement("div",{className:`${g}-content`},a))}));vw.displayName="Header",vw.defaultProps={exportCfg:{open:!1},advancedSortCfg:{open:!1},switcherCfg:{open:!1}};const gw=`${r.vhY}-pagination`,mw=({pagination:e,onShowSizeChange:t,onChange:n})=>{if(hf(e))return null;const{total:o,pageSize:i}=e,a=o/i>5;return c.createElement("div",{className:gw},c.createElement(vl,Al(Nl({size:"small",defaultCurrent:1,showSizeChanger:!0,showQuickJumper:a},e),{onShowSizeChange:t,onChange:n})),c.createElement("span",{className:`${gw}-count`,title:`${(0,r.agQ)("共计")}${o}${(0,r.agQ)("条")}`},(0,r.agQ)("共计"),o||" - ",(0,r.agQ)("条")))};mw.displayName="S2Pagination";const yw=c.forwardRef(((e,t)=>{const{dataCfg:n,options:o,header:i}=e,{s2Ref:a,loading:l,containerRef:s,pagination:u,wrapperRef:d}=mh(e),[f,h]=c.useState(a.current);return c.useEffect((()=>{t&&(t.current=a.current)}),[t,a]),c.useEffect((()=>h(a.current)),[h,a]),c.createElement(c.StrictMode,null,c.createElement(yh.Provider,{value:f},c.createElement(gl.Z,{spinning:l,wrapperClassName:`${r.vhY}-spin`},c.createElement("div",{ref:d,className:`${r.vhY}-wrapper`},i&&c.createElement(vw,Al(Nl({},i),{sheet:a.current,style:{width:o.width},dataCfg:(0,r.Unm)(n),options:ph(o)})),c.createElement("div",{ref:s,className:`${r.vhY}-container`}),u.showPagination&&c.createElement(mw,{pagination:u.pagination,onChange:u.onChange,onShowSizeChange:u.onShowSizeChange}),e.children))))}));yw.displayName="BaseSheet",yw.defaultProps={options:{},adaptive:!1,showPagination:!1};const bw=c.memo((e=>{const t=c.useRef();return c.createElement(yw,Al(Nl({},e),{ref:t}))}));bw.displayName="TableSheet";class Cw extends r.f4X{drawTextShape(){cs(this.getMeta().fieldValue)?(0,r.qPk)(this):super.drawTextShape()}}const ww=e=>new Cw(e,e.spreadsheet),xw={dataCell:{text:{fontSize:12,fontFamily:r.utx,fill:"rgba(0, 0, 0, 0.85)",fontWeight:"normal",textBaseline:"middle",textAlign:"left"},minorText:{fontSize:11,fontFamily:r.utx,fill:"rgba(0, 0, 0, 0.45)",fontWeight:"normal",textBaseline:"middle",textAlign:"left"},derivedMeasureText:{mainUp:"#F46649",mainDown:"#2AA491",minorUp:"#f9ae9e",minorDown:"#a9dad2"},bolderText:{fontSize:12,fontFamily:r.utx,fill:"rgba(0, 0, 0, 1)",fontWeight:(0,r.EDF)()?"bold":520,textBaseline:"middle",textAlign:"left"}}},Sw=c.memo((e=>{const t=e,{options:n,themeCfg:o}=t,i=Dl(t,["options","themeCfg"]),a=c.useRef(),l=c.useMemo((()=>(0,r._Ge)(n,{dataCell:ww,showDefaultHeaderActionIcon:!1,style:{colCfg:{hideMeasureColumn:!0}}})),[n]),s=c.useMemo((()=>(0,r._Ge)({},o,{theme:xw})),[o]);return c.createElement(yw,Nl({options:l,themeCfg:s,ref:a},i))}));Sw.displayName="GridAnalysisSheet";class Ew extends r.X0t{constructor(e,t,n){super(e,t,n)}drawTextShape(){const e=this.getMeta(),t=(0,r.D6R)(null==e?void 0:e.value);if(!rs(t))return super.drawTextShape();const{formattedValue:n}=this.getFormattedFieldValue(),o=n!==(null==e?void 0:e.value)?[[n]]:[t];(0,r.qPk)(this,{values:o},!1)}}class Iw extends r.f4X{drawTextShape(){cs(this.getMeta().fieldValue)?(0,r.qPk)(this):super.drawTextShape()}}class Ow extends r.O9R{processDataCfg(e){e.fields.valueInCols=!1;const t=e,{data:n,meta:o}=t,i=Dl(t,["data","meta"]),a=[];Jd(n,(e=>{let t=!1;var n,o;o=(n,o)=>{cs(n)&&(a.push(Al(Nl({},e),{[r.CoU]:o,[r.__x]:n})),t=!0)},null==(n=e)||Fd(n,Qd(o),zu),t||a.push(e)}));const l=this.processMeta(o,(0,r.agQ)("数值"));return Al(Nl({data:Hf(a),meta:l},i),{fields:Al(Nl({},e.fields),{rows:[r.CoU]})})}}const Lw=({cell:e,label:t})=>{const n=e.getMeta();if(n.isLeaf&&0!==n.level)return null;const r=n.spreadsheet.dataSet.getFieldName(n.field),o=bs(t)?t(e,r):t,i=null!=o?o:r;return c.createElement("div",{className:Jf(jl(),jl("col"))},c.createElement("span",{className:jl("name")},i),c.createElement("span",{className:jl("value")},n.value))},_w=({cell:e,label:t,showOriginalValue:n,renderDerivedValue:o})=>{var i;const a=e.getMeta(),l=null==a?void 0:a.fieldValue,s=(e=>{var t;const n=of(e.spreadsheet.getRowNodes(),{rowIndex:e.rowIndex});return e.spreadsheet.dataSet.getFieldDescription(null==n?void 0:n.field)||(null==(t=null==n?void 0:n.extra)?void 0:t.description)})(a),u=(e=>{const t=of(e.spreadsheet.getRowNodes(),{rowIndex:e.rowIndex});return e.spreadsheet.dataSet.getFieldName((null==t?void 0:t.valueFiled)||(null==t?void 0:t.value))})(a),d=bs(t)?t(e,u):t,f=null!=d?d:u,h=(e=>of(e.spreadsheet.getColumnNodes(),{colIndex:e.colIndex,isLeaf:!0}))(a),[,...p]=c.useMemo((()=>{try{return JSON.parse(null==h?void 0:h.value)}catch{return[]}}),[null==h?void 0:h.value]),{placeholder:v,style:g}=a.spreadsheet.options,m=null==(i=g.cellCfg)?void 0:i.valuesCfg,[y,...b]=af(null==l?void 0:l.values)||[l],[C,...w]=af(lc(l,null==m?void 0:m.originalValueField))||[y],x=(0,r.o3g)(a,v),S=(null==m?void 0:m.showOriginalValue)||n;return c.createElement("div",{className:Jf(jl(),jl("data"))},c.createElement("div",{className:jl("header")},c.createElement("span",{className:"header-label"},f),c.createElement("span",null,null!=y?y:x)),S&&c.createElement("div",{className:jl("original-value")},vf(C)?x:C),!hf(b)&&c.createElement(c.Fragment,null,c.createElement("div",{className:jl("divider")}),c.createElement("ul",{className:jl("derived-values")},b.map(((t,n)=>{var i;const a=(0,r.qR_)(t),l=!a&&(0,r.Pyr)(t),s=!a&&!l,u=w[n];return c.createElement("li",{className:"derived-value-item",key:n},c.createElement("span",{className:"derived-value-label"},p[n]),c.createElement("span",{className:Jf("derived-value-group",{"derived-value-trend-up":l,"derived-value-trend-down":s})},!a&&c.createElement("span",{className:"derived-value-trend-icon"}),null!=(i=null==o?void 0:o(t,u,e))?i:c.createElement("span",{className:"derived-value-content"},null!=t?t:x)))})))),s&&c.createElement("div",{className:jl("description")},(0,r.agQ)("说明"),": ",s))};_w.defaultProps={showOriginalValue:!1};const Tw=({cell:e,label:t})=>{const{field:n,spreadsheet:o,value:i,extra:a}=e.getMeta(),l=bs(t)?t(e,i):t,s=null!=l?l:i,u=o.dataSet.getFieldDescription(n)||(null==a?void 0:a.description);return c.createElement("div",{className:Jf(jl(),jl("row"))},c.createElement("div",{className:jl("value")},s),u&&c.createElement("div",{className:jl("description")},(0,r.agQ)("说明"),": ",u))},Mw=c.memo((e=>{const t=e,{options:n,themeCfg:o,dataCfg:i}=t,a=Dl(t,["options","themeCfg","dataCfg"]),l=c.useRef(),s=c.useMemo((()=>{var e,t,r;if(hf(i))return{};let o=!1,a="tree";hf(null==(e=null==i?void 0:i.fields)?void 0:e.rows)&&!hf(null==(t=null==i?void 0:i.fields)?void 0:t.customTreeItems)&&(a="customTree"),1===zf(null==(r=null==i?void 0:i.fields)?void 0:r.values)&&"customTree"!==n.hierarchyType&&(o=!0);const l=e=>(t,r)=>{var o,i,a,l;const s=null!=(l=null==(i=null==(o=n.tooltip)?void 0:o[e])?void 0:i.content)?l:null==(a=n.tooltip)?void 0:a.content;return bs(s)?null==s?void 0:s(t,r):s};return{dataCell:e=>new Iw(e,e.spreadsheet),colCell:(e,t,n)=>new Ew(e,t,n),dataSet:e=>new Ow(e),showDefaultHeaderActionIcon:!1,hierarchyType:a,style:{colCfg:{hideMeasureColumn:o}},interaction:{autoResetSheetStyle:!0,brushSelection:!1,selectedCellMove:!1,multiSelection:!1,rangeSelection:!1},tooltip:{operation:{hiddenColumns:!0},row:{content:(e,t)=>{var n;return null!=(n=l("row")(e,t))?n:c.createElement(Tw,{cell:e})}},col:{content:(e,t)=>{var n;return null!=(n=l("row")(e,t))?n:c.createElement(Lw,{cell:e})}},data:{content:(e,t)=>{const n=e.getMeta().fieldValue,r=l("data")(e,t);return vf(r)?rs(null==n?void 0:n.values)?c.createElement(_w,{cell:e}):c.createElement(c.Fragment,null):r}}}}}),[i,n.hierarchyType,n.tooltip]),u=c.useMemo((()=>{var e;const t={fields:{valueInCols:zf(null==(e=null==i?void 0:i.fields)?void 0:e.values)<=1}};return(0,r._Ge)(i,t)}),[i]),d=c.useMemo((()=>(0,r._Ge)(n,s)),[n,s]);return c.createElement(yw,Nl({options:d,themeCfg:o,dataCfg:u,ref:l},a))}));Mw.displayName="StrategySheet";const Rw=e=>{var t=e,{className:n,titleText:i=(0,r.agQ)("选择下钻维度"),clearButtonText:a=(0,r.agQ)("恢复默认"),searchText:l=(0,r.agQ)("搜索字段"),extra:s,drillFields:u,dataSet:d,disabledFields:f,getDrillFields:h,setDrillFields:p}=t,v=Dl(t,["className","titleText","clearButtonText","searchText","extra","drillFields","dataSet","disabledFields","getDrillFields","setDrillFields"]);const g={text:c.createElement(_h,null),location:c.createElement(xh,null),date:c.createElement(Ch,null)},m=()=>d.map((e=>(e.disabled=!(!f||!f.includes(e.value)),e))),[y,b]=(0,c.useState)(m()),C=e=>{const{value:t}=e.target;if(t){const e=new RegExp(t,"gi"),n=d.filter((t=>e.test(t.name)));b([...n])}else b([...d])};return(0,c.useEffect)((()=>{b(m())}),[f]),c.createElement(ml.ZP,null,c.createElement("div",Nl({className:Jf(Hl,n)},v),c.createElement("header",{className:`${Hl}-header`},c.createElement("div",null,i),c.createElement(wa.ZP,{type:"link",disabled:hf(u),onClick:e=>{e.stopPropagation(),h&&h([]),p&&p([])}},a)),c.createElement(yl.Z,{className:`${Hl}-search`,placeholder:l,onChange:C,onPressEnter:C,prefix:c.createElement(Lh,null),allowClear:!0}),hf(y)&&c.createElement(wr,{imageStyle:{height:"64px"},className:`${Hl}-empty`}),s,c.createElement(o.Z,{className:`${Hl}-menu`,selectedKeys:u,onSelect:e=>{const t=null==e?void 0:e.selectedKeys;h&&h([...t]),p&&p([...t])}},y.map((e=>c.createElement(o.Z.Item,{key:e.value,disabled:e.disabled,className:`${Hl}-menu-item`,icon:e.icon?e.icon:g[e.type]},e.name))))))},Nw=["drillConfig","displayCondition","drillItemsNum"];function Aw({onCopyFinished:e}){const t=bh(),[n,o]=(0,c.useState)(),[i,a]=(0,c.useState)({right:0,bottom:0}),[l,s]=(0,c.useState)(),u=(e,n)=>{const r=kf(n.getMeta(),["x","y","width","height","fieldValue"]),o=t.facet.getScrollOffset(),i=e.x,a=e.y,l=(null==o?void 0:o.scrollY)-(t.getColumnNodes()[0]||{height:0}).height,s=r.x-o.scrollX+r.width+4,u=r.x-o.scrollX,c=r.y-l+r.height+4,d=r.y-l;return s>=i&&u<i&&c>=a&&d<a},d=e=>{const n=t.getCanvasElement().getBoundingClientRect();return t.interaction.getPanelGroupAllDataCells().find((t=>u({y:e.y-n.y,x:e.x-n.x},t)))},f=(e,n)=>{const r=e.getMeta(),o=null==n?void 0:n.getMeta(),i=Math.min(r.colIndex,o.colIndex),a=Math.max(r.colIndex,o.colIndex),l=Math.max(r.rowIndex,o.rowIndex),s=Math.min(r.rowIndex,o.rowIndex);return t.interaction.getPanelGroupAllDataCells().filter((e=>{const t=e.getMeta();return t.rowIndex<=l&&t.rowIndex>=s&&t.colIndex<=a&&t.colIndex>=i}))},h={x:0,y:0},p=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return cs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Vd(e,t,{leading:r,maxWait:t,trailing:o})}((e=>{if(!n)return;let o=d(e),i=e.x-l.x,s=e.y-l.y;(e=>{const n=t.getCanvasElement().getBoundingClientRect(),{frozenRow:r}=t.facet.frozenGroupInfo,o=n.x,i=n.x+n.width,a=n.y+r.height,l=n.y+n.height;return e.x<=i&&e.x>=o&&e.y<=l&&e.y>=a})(e)?(h.x=e.x,h.y=e.y):(o=d(h),i=h.x-l.x,s=h.y-l.y),a({right:i,bottom:s});const u=f(n,o);t.interaction.changeState({cells:u.map((e=>e.getMeta())),stateName:r._61.PREPARE_SELECT,force:!0})}),10),v=i=>{let l=d(i);if(!n)return;l||(l=d(h));const s=t.dataSet.originData,u=f(n,l),{fieldValue:c}=n.getMeta(),g=u.map((e=>{const{rowIndex:t,valueField:n}=e.getMeta();return s[t]&&void 0!==typeof s[t][n]&&(s[t][n]=c),e}));t.interaction.changeState({cells:g.map((e=>e.getMeta())),stateName:r._61.PREPARE_SELECT,force:!0}),t.render(!0),a({right:0,bottom:0}),t.off(r.ch4.GLOBAL_MOUSE_MOVE,p),t.off(r.ch4.GLOBAL_MOUSE_UP,v),o(void 0),null==e||e()};(0,c.useEffect)((()=>{n&&(t.on(r.ch4.GLOBAL_MOUSE_MOVE,p),t.on(r.ch4.GLOBAL_MOUSE_UP,v))}),[n]);const g=e=>{if("spreadsheet-drag-copy-point"!==lc(e,"target.id"))return;const n=e.target.getBoundingClientRect(),{top:r,left:i}=lc(e,"target.style",{}),a=t.interaction.getPanelGroupAllDataCells().find((e=>u({y:parseFloat(r),x:parseFloat(i)},e)));s({x:n.x,y:n.y}),o(a)};return(0,c.useEffect)((()=>{const e=document.getElementById("spreadsheet-drag-copy-point");return e&&t&&e.addEventListener("mousedown",g),()=>{e.removeEventListener("mousedown",g)}}),[t]),c.createElement("div",{className:`${r.vhY}-drag-copy-mask`,style:{right:i.right>0?i.right:0,bottom:i.bottom>0?i.bottom:0,left:i.right<=0?i.right:0,top:i.bottom<=0?i.bottom:0,width:Math.abs(i.right),height:Math.abs(i.bottom)}})}const Dw=(0,c.memo)((e=>{const t=bh(),[n,o]=(0,c.useState)({scrollX:-999,scrollY:-999,width:8,overflow:!0}),[i,a]=(0,c.useState)({left:-999,top:-999}),[l,s]=(0,c.useState)(),u=()=>{if(t){const e=t.facet.getScrollOffset(),{frozenCol:r,frozenRow:i}=t.facet.frozenGroupInfo,a=t.getCanvasElement().getBoundingClientRect(),s=null==l?void 0:l.getMeta();if(!pf(e,n))if(s){const{verticalBorderWidth:t,horizontalBorderWidth:n}=l.getStyle().cell,u=s.width+s.x,c=s.height+s.y,d=u-e.scrollX-a.width+2*(t+n);let f=!0;f=r.width>=u-e.scrollX-2*n||i.height>=c-e.scrollY-2*t||a.width<=u-e.scrollX-2*n||a.height<=c-e.scrollY+i.height,o(Al(Nl({},e),{overflow:f,width:8-(d>0?d:0)}))}else o({scrollX:-999,scrollY:-999,overflow:!0})}};(0,c.useEffect)((()=>(u(),t&&(t.off(r.ch4.GLOBAL_SCROLL,u),t.on(r.ch4.GLOBAL_SCROLL,u)),()=>{null==t||t.off(r.ch4.GLOBAL_SCROLL,u)})),[l]),(0,c.useEffect)((()=>{l&&s(void 0)}),[null==t?void 0:t.dataSet.sortParams,null==t?void 0:t.dataSet.filterParams]),(0,c.useEffect)((()=>{if((null==t?void 0:t.container.cfg.container)&&t&&l){const e=kf(l.getMeta(),["x","y","width","height","fieldValue"]);e.x-=null==n?void 0:n.scrollX,e.y-=(null==n?void 0:n.scrollY)-(t.getColumnNodes()[0]||{height:0}).height,a({left:e.x+e.width-4,top:e.y+e.height-4})}}),[n,l]);const d=(0,c.useCallback)((()=>{s(void 0)}),[]);return gh(r.ch4.COL_CELL_CLICK,d,t),gh(r.ch4.ROW_CELL_CLICK,d,t),gh(r.ch4.CORNER_CELL_CLICK,d,t),gh(r.ch4.DATA_CELL_BRUSH_SELECTION,d,t),gh(r.ch4.DATA_CELL_CLICK,(e=>{const n=e.target.cfg.parent,r=t.interaction.isSelectedCell(n);s(r?n:void 0)}),t),c.createElement("div",{id:"spreadsheet-drag-copy-point",className:`${r.vhY}-drag-copy-point`,style:{display:n.overflow?"none":"block",left:i.left,top:i.top,width:n.width}},c.createElement(Aw,{onCopyFinished:d}))}));function Bw(e,t,n,r,o){if(r){const e=document.querySelector(`#${r}`);if(e){if(_n.unmountComponentAtNode(e)&&e.parentNode)return void e.parentNode.removeChild(e)}}const i=document.createElement("div");let a,l;function s(...e){_n.unmountComponentAtNode(i)&&i.parentNode&&(i.parentNode.removeChild(i),o&&o())}function u(...e){s.call(null,...e),l()}r&&(i.id=r),document.body.appendChild(i);const d=new Promise(((e,t)=>{a=e,l=t})).then((e=>(u(),e)));return setTimeout((()=>{_n.render(c.createElement(yh.Provider,{value:n},c.createElement(e,{onCancel:u,resolver:a,params:t})),i)})),d}function kw(e){const{params:t,resolver:n}=e,r=bh(),{event:o,onChange:i,onDataCellEditEnd:a,CustomComponent:l}=t,s=o.target.cfg.parent,{left:u,top:d,width:f,height:h}=(0,c.useMemo)((()=>{const e=(null==r?void 0:r.container.cfg.container).getBoundingClientRect();return{left:window.scrollX+e.left,top:window.scrollY+e.top,width:e.width,height:e.height}}),[null==r?void 0:r.container.cfg.container]),{x:p,y:v,width:g,height:m}=(0,c.useMemo)((()=>{const e=r.facet.getScrollOffset(),t=kf(s.getMeta(),["x","y","width","height"]);return t.x-=e.scrollX||0,t.y-=(e.scrollY||0)-(r.getColumnNodes()[0]||{height:0}).height,t}),[s,r]),[y,b]=(0,c.useState)(s.getMeta().fieldValue),C=(0,c.useRef)(null),w=(0,c.useRef)(null);(0,c.useEffect)((()=>{setTimeout((()=>{w.current&&w.current.click(),C.current&&C.current.focus()}))}),[]);const x=()=>{const{rowIndex:e,valueField:t}=s.getMeta();r.dataSet.originData[e][t]=y,r.render(!0),null==a||a(yf(s.getMeta(),{fieldValue:y,data:{[t]:y}})),i&&i(r.dataSet.originData),n(!0)},S=c.useMemo((()=>({left:p,top:v,width:g,height:m,zIndex:1e3})),[]);return c.createElement("div",{ref:w,style:{zIndex:500,position:"absolute",overflow:"hidden",left:u,top:d,width:f,height:h}},l?c.createElement(l,{cell:s,spreadsheet:r,value:y,style:S,onChange:e=>{b(e)},onSave:x}):c.createElement(yl.Z.TextArea,{required:!0,style:S,className:"s2-edit-cell",value:y,ref:C,onChange:e=>{b(e.target.value)},onBlur:x,onKeyDown:e=>{13===e.keyCode&&(e.preventDefault(),x())}}))}const Pw=(0,c.memo)((({onChange:e,onDataCellEditEnd:t,CustomComponent:n})=>{const o=bh(),i=(0,c.useCallback)((r=>{Bw(kw,{event:r,onChange:e,onDataCellEditEnd:t,CustomComponent:n},o)}),[o]);return gh(r.ch4.DATA_CELL_DOUBLE_CLICK,i,o),null})),zw=c.memo((e=>{const t=(0,c.useCallback)((()=>{}),[]);return c.createElement(yw,Al(Nl({},e),{sheetType:"table"}),c.createElement(Pw,{onChange:t,onDataCellEditEnd:e.onDataCellEditEnd}),c.createElement(Dw,null))}));zw.displayName="EditableSheet";const Fw=c.memo((e=>{const t=e,{options:n}=t,o=Dl(t,["options"]),{dataCfg:i,partDrillDown:a}=o,l=c.useRef(),[s,u]=c.useState([]),d=(f=({sheetInstance:e,cacheDrillFields:t,disabledFields:n,event:o})=>{const i=c.createElement(Rw,Al(Nl({},null==a?void 0:a.drillConfig),{setDrillFields:u,drillFields:t,disabledFields:n}));if(o){const{showTooltip:t}=(0,r.Hu7)(e,o);if(!t)return;e.showTooltip({position:{x:o.clientX,y:o.clientY},content:i})}},(h=(0,c.useRef)(f)).current=f,h);var f,h;const p=c.useMemo((()=>Zf(n,a,(e=>d.current(e)))),[n,a,d]),v=e=>{var t;null==(t=l.current)||t.clearDrillDownData(e)};c.useEffect((()=>{var e,t,n;null==(e=l.current)||e.hideTooltip(),hf(s)?v(null==(n=null==(t=l.current)?void 0:t.store.get("drillDownNode"))?void 0:n.id):Vf({rows:i.fields.rows,drillFields:s,fetchData:null==a?void 0:a.fetchData,drillItemsNum:null==a?void 0:a.drillItemsNum,spreadsheet:l.current})}),[s]),c.useEffect((()=>{var e;cs(null==a?void 0:a.clearDrillDown)&&v(null==(e=null==a?void 0:a.clearDrillDown)?void 0:e.rowId)}),[null==a?void 0:a.clearDrillDown]);const g=(e=>{const t=c.useRef(e),n=Nw.map((t=>null==e?void 0:e[t]));return c.useCallback((n=>{const r=t.current,o=!!Nw.find((t=>!Object.is(null==e?void 0:e[t],null==r?void 0:r[t])));return t.current=e,{reloadData:o||n.reloadData,reBuildDataSet:n.reBuildDataSet}}),n)})(a);return c.createElement(yw,Al(Nl({},o),{options:p,onSheetUpdate:g,ref:l}))}));Fw.displayName="PivotSheet";const Hw=c.forwardRef(((e,t)=>{const{sheetType:n}=e,o=c.useMemo((()=>Al(Nl({},e),{onMounted:n=>{var r;t&&(t.current=n),null==(r=e.onMounted)||r.call(e,n)}})),[e,t]),i=c.useMemo((()=>{switch(n){case"table":return c.createElement(bw,Nl({},o));case"gridAnalysis":return c.createElement(Sw,Nl({},o));case"strategy":return c.createElement(Mw,Nl({},o));case"editable":return c.createElement(zw,Nl({},o));default:return c.createElement(Fw,Nl({},o))}}),[n,o]),a="zh_CN"===(0,r.VQD)()?El.Z:rt.Z;return c.createElement(c.StrictMode,null,c.createElement(ml.ZP,{locale:a},i))})),$w=c.memo(Hw);$w.displayName="SheetComponent"},14334:function(e,t,n){n.d(t,{AfN:function(){return cC},CoU:function(){return mi},D6R:function(){return Ww},EDF:function(){return bC},F1h:function(){return bx},HZt:function(){return oL},Hu7:function(){return XI},IZo:function(){return PI},LRf:function(){return fx},N6r:function(){return eL},NO_:function(){return fC},O9R:function(){return tO},Pyr:function(){return kw},TA7:function(){return nL},Teh:function(){return bi},Unm:function(){return YS},VQD:function(){return uC},WNh:function(){return ya},X0t:function(){return vS},_61:function(){return Ji},_Ge:function(){return VS},__x:function(){return gi},agQ:function(){return dC},c8d:function(){return Cx},ch4:function(){return hi},d5G:function(){return KI},f4X:function(){return Tx},o3g:function(){return Hw},q7_:function(){return XC},qPk:function(){return $w},qR_:function(){return Pw},utx:function(){return iC},vQq:function(){return dx},vhY:function(){return Vi}}),e=n.hmd(e);var r=n(34155),o=Object.freeze({__proto__:null,get Base(){return _o},get Circle(){return Mo},get Ellipse(){return Ao},get Image(){return ko},get Line(){return Fo},get Marker(){return jo},get Path(){return Qo},get Polygon(){return ti},get Polyline(){return ri},get Rect(){return ii},get Text(){return li}}),i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)};var s=function(e){return null!==e&&"function"!=typeof e&&isFinite(e.length)},u={}.toString,c=function(e,t){return u.call(e)==="[object "+t+"]"},d=function(e){return c(e,"Function")},f=function(e){return null==e},h=function(e){return Array.isArray?Array.isArray(e):c(e,"Array")},p=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t};function v(e,t){if(e)if(h(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);else if(p(e))for(var o in e)if(e.hasOwnProperty(o)&&!1===t(e[o],o))break}var g=function(e){return"object"==typeof e&&null!==e},m=function(e){if(h(e))return e.reduce((function(e,t){return Math.max(e,t)}),e[0])},y=function(e){if(h(e))return e.reduce((function(e,t){return Math.min(e,t)}),e[0])},b=function(e){return c(e,"String")},C=function(e){return c(e,"Number")};var w=function(e,t){return(e%t+t)%t},x=Math.PI/180,S=function(e){return x*e},E=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return v(e,(function(n,r){d(e)&&"prototype"===r||t.push(n)})),t},I=function(e){var t=function(e){return f(e)?"":e.toString()}(e);return t.charAt(0).toUpperCase()+t.substring(1)};function O(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}function L(e,t,n,r){return t&&O(e,t),n&&O(e,n),r&&O(e,r),e}var _,T=function(e,t){if(e===t)return!0;if(!e||!t)return!1;if(b(e)||b(t))return!1;if(s(e)||s(t)){if(e.length!==t.length)return!1;for(var n=!0,r=0;r<e.length&&(n=T(e[r],t[r]));r++);return n}if(g(e)||g(t)){var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(n=!0,r=0;r<o.length&&(n=T(e[o[r]],t[o[r]]));r++);return n}return!1},M={},R=function(e){return M[e=e||"g"]?M[e]+=1:M[e]=1,e+M[e]},N=function(){};!function(e,t){if(!d(e))throw new TypeError("Expected a function");var n=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var l=e.apply(this,r);return a.set(i,l),l};n.cache=new Map}((function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,o=t.fontWeight,i=t.fontStyle,a=t.fontVariant;return _||(_=document.createElement("canvas").getContext("2d")),_.font=[i,a,o,n+"px",r].join(" "),_.measureText(b(e)?e:"").width}),(function(e,t){return void 0===t&&(t={}),function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)r[o]=i[a];return r}([e],E(t)).join("")}));var A="\t\n\v\f\r   ᠎             　\u2028\u2029",D=new RegExp("([a-z])["+A+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+A+"]*,?["+A+"]*)+)","ig"),B=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+A+"]*,?["+A+"]*","ig"),k=function(e){if(!e)return null;if(h(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(D,(function(r,o,i){var a=[],l=o.toLowerCase();if(i.replace(B,(function(e,t){t&&a.push(+t)})),"m"===l&&a.length>2&&(n.push([o].concat(a.splice(0,2))),l="l",o="m"===o?"l":"L"),"o"===l&&1===a.length&&n.push([o,a[0]]),"r"===l)n.push([o].concat(a));else for(;a.length>=t[l]&&(n.push([o].concat(a.splice(0,t[l]))),t[l]););return e})),n},P=function(e,t){for(var n=[],r=0,o=e.length;o-2*!t>r;r+=2){var i=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?o-4===r?i[3]={x:+e[0],y:+e[1]}:o-2===r&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[o-2],y:+e[o-1]}:o-4===r?i[3]=i[2]:r||(i[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n},z=function(e,t,n,r,o){var i=[];if(null===o&&null===r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!==o){var a=Math.PI/180,l=e+n*Math.cos(-r*a),s=e+n*Math.cos(-o*a);i=[["M",l,t+n*Math.sin(-r*a)],["A",n,n,0,+(o-r>180),0,s,t+n*Math.sin(-o*a)]]}else i=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return i},F=function(e){if(!(e=k(e))||!e.length)return[["M",0,0]];var t,n,r=[],o=0,i=0,a=0,l=0,s=0;"M"===e[0][0]&&(a=o=+e[0][1],l=i=+e[0][2],s++,r[0]=["M",o,i]);for(var u=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),c=void 0,d=void 0,f=s,h=e.length;f<h;f++){if(r.push(c=[]),(t=(d=e[f])[0])!==t.toUpperCase())switch(c[0]=t.toUpperCase(),c[0]){case"A":c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=+d[6]+o,c[7]=+d[7]+i;break;case"V":c[1]=+d[1]+i;break;case"H":c[1]=+d[1]+o;break;case"R":for(var p=2,v=(n=[o,i].concat(d.slice(1))).length;p<v;p++)n[p]=+n[p]+o,n[++p]=+n[p]+i;r.pop(),r=r.concat(P(n,u));break;case"O":r.pop(),(n=z(o,i,d[1],d[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(z(o,i,d[1],d[2],d[3])),c=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+d[1]+o,l=+d[2]+i;break;default:for(p=1,v=d.length;p<v;p++)c[p]=+d[p]+(p%2?o:i)}else if("R"===t)n=[o,i].concat(d.slice(1)),r.pop(),r=r.concat(P(n,u)),c=["R"].concat(d.slice(-2));else if("O"===t)r.pop(),(n=z(o,i,d[1],d[2])).push(n[0]),r=r.concat(n);else if("U"===t)r.pop(),r=r.concat(z(o,i,d[1],d[2],d[3])),c=["U"].concat(r[r.length-1].slice(-2));else for(var g=0,m=d.length;g<m;g++)c[g]=d[g];if("O"!==(t=t.toUpperCase()))switch(c[0]){case"Z":o=+a,i=+l;break;case"H":o=c[1];break;case"V":i=c[1];break;case"M":a=c[c.length-2],l=c[c.length-1];break;default:o=c[c.length-2],i=c[c.length-1]}}return r},H=function(e,t,n,r){return[e,t,n,r,n,r]},$=function(e,t,n,r,o,i){var a=1/3,l=2/3;return[a*e+l*n,a*t+l*r,a*o+l*n,a*i+l*r,o,i]},j=function(e,t,n,r,o,i,a,l,s,u){n===r&&(n+=1);var c,d,f,h,p,v=120*Math.PI/180,g=Math.PI/180*(+o||0),m=[],y=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}};if(u)d=u[0],f=u[1],h=u[2],p=u[3];else{e=(c=y(e,t,-g)).x,t=c.y,l=(c=y(l,s,-g)).x,s=c.y,e===l&&t===s&&(l+=1,s+=1);var b=(e-l)/2,C=(t-s)/2,w=b*b/(n*n)+C*C/(r*r);w>1&&(n*=w=Math.sqrt(w),r*=w);var x=n*n,S=r*r,E=(i===a?-1:1)*Math.sqrt(Math.abs((x*S-x*C*C-S*b*b)/(x*C*C+S*b*b)));h=E*n*C/r+(e+l)/2,p=E*-r*b/n+(t+s)/2,d=Math.asin(((t-p)/r).toFixed(9)),f=Math.asin(((s-p)/r).toFixed(9)),d=e<h?Math.PI-d:d,f=l<h?Math.PI-f:f,d<0&&(d=2*Math.PI+d),f<0&&(f=2*Math.PI+f),a&&d>f&&(d-=2*Math.PI),!a&&f>d&&(f-=2*Math.PI)}var I=f-d;if(Math.abs(I)>v){var O=f,L=l,_=s;f=d+v*(a&&f>d?1:-1),l=h+n*Math.cos(f),s=p+r*Math.sin(f),m=j(l,s,n,r,o,0,a,L,_,[f,O,h,p])}I=f-d;var T=Math.cos(d),M=Math.sin(d),R=Math.cos(f),N=Math.sin(f),A=Math.tan(I/4),D=4/3*n*A,B=4/3*r*A,k=[e,t],P=[e+D*M,t-B*T],z=[l+D*N,s-B*R],F=[l,s];if(P[0]=2*k[0]-P[0],P[1]=2*k[1]-P[1],u)return[P,z,F].concat(m);for(var H=[],$=0,W=(m=[P,z,F].concat(m).join().split(",")).length;$<W;$++)H[$]=$%2?y(m[$-1],m[$],g).y:y(m[$],m[$+1],g).x;return H},W=function(e,t){var n,r=F(e),o=t&&F(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=[],s=[],u="",c="",d=function(e,t,n){var r,o;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(j.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*t.x-t.bx,o=2*t.y-t.by):(r=t.x,o=t.y),e=["C",r,o].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat($(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat($(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(H(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(H(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(H(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(H(t.x,t.y,t.X,t.Y))}return e},f=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)l[t]="A",o&&(s[t]="A"),e.splice(t++,0,["C"].concat(i.splice(0,6)));e.splice(t,1),n=Math.max(r.length,o&&o.length||0)}},h=function(e,t,i,a,l){e&&t&&"M"===e[l][0]&&"M"!==t[l][0]&&(t.splice(l,0,["M",a.x,a.y]),i.bx=0,i.by=0,i.x=e[l][1],i.y=e[l][2],n=Math.max(r.length,o&&o.length||0))};n=Math.max(r.length,o&&o.length||0);for(var p=0;p<n;p++){r[p]&&(u=r[p][0]),"C"!==u&&(l[p]=u,p&&(c=l[p-1])),r[p]=d(r[p],i,c),"A"!==l[p]&&"C"===u&&(l[p]="C"),f(r,p),o&&(o[p]&&(u=o[p][0]),"C"!==u&&(s[p]=u,p&&(c=s[p-1])),o[p]=d(o[p],a,c),"A"!==s[p]&&"C"===u&&(s[p]="C"),f(o,p)),h(r,o,i,a,p),h(o,r,a,i,p);var v=r[p],g=o&&o[p],m=v.length,y=o&&g.length;i.x=v[m-2],i.y=v[m-1],i.bx=parseFloat(v[m-4])||i.x,i.by=parseFloat(v[m-3])||i.y,a.bx=o&&(parseFloat(g[y-4])||a.x),a.by=o&&(parseFloat(g[y-3])||a.y),a.x=o&&g[y-2],a.y=o&&g[y-1]}return o?[r,o]:r},G=/,?([a-z]),?/gi,Z=function(e){return e.join(",").replace(G,"$1")},V=function(e,t,n,r,o){return e*(e*(-3*t+9*n-9*r+3*o)+6*t-12*n+6*r)-3*t+3*n},U=function(e,t,n,r,o,i,a,l,s){null===s&&(s=1);for(var u=(s=s>1?1:s<0?0:s)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,h=0;h<12;h++){var p=u*c[h]+u,v=V(p,e,n,o,a),g=V(p,t,r,i,l),m=v*v+g*g;f+=d[h]*Math.sqrt(m)}return u*f},Y=function(e,t,n,r,o,i,a,l){for(var s,u,c,d,f=[],h=[[],[]],p=0;p<2;++p)if(0===p?(u=6*e-12*n+6*o,s=-3*e+9*n-9*o+3*a,c=3*n-3*e):(u=6*t-12*r+6*i,s=-3*t+9*r-9*i+3*l,c=3*r-3*t),Math.abs(s)<1e-12){if(Math.abs(u)<1e-12)continue;(d=-c/u)>0&&d<1&&f.push(d)}else{var v=u*u-4*c*s,g=Math.sqrt(v);if(!(v<0)){var m=(-u+g)/(2*s);m>0&&m<1&&f.push(m);var y=(-u-g)/(2*s);y>0&&y<1&&f.push(y)}}for(var b,C=f.length,w=C;C--;)b=1-(d=f[C]),h[0][C]=b*b*b*e+3*b*b*d*n+3*b*d*d*o+d*d*d*a,h[1][C]=b*b*b*t+3*b*b*d*r+3*b*d*d*i+d*d*d*l;return h[0][w]=e,h[1][w]=t,h[0][w+1]=a,h[1][w+1]=l,h[0].length=h[1].length=w+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},X=function(e,t,n,r,o,i,a,l){if(!(Math.max(e,n)<Math.min(o,a)||Math.min(e,n)>Math.max(o,a)||Math.max(t,r)<Math.min(i,l)||Math.min(t,r)>Math.max(i,l))){var s=(e-n)*(i-l)-(t-r)*(o-a);if(s){var u=((e*r-t*n)*(o-a)-(e-n)*(o*l-i*a))/s,c=((e*r-t*n)*(i-l)-(t-r)*(o*l-i*a))/s,d=+u.toFixed(2),f=+c.toFixed(2);if(!(d<+Math.min(e,n).toFixed(2)||d>+Math.max(e,n).toFixed(2)||d<+Math.min(o,a).toFixed(2)||d>+Math.max(o,a).toFixed(2)||f<+Math.min(t,r).toFixed(2)||f>+Math.max(t,r).toFixed(2)||f<+Math.min(i,l).toFixed(2)||f>+Math.max(i,l).toFixed(2)))return{x:u,y:c}}}},q=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},K=function(e,t,n,r,o){if(o)return[["M",+e+ +o,t],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,r-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-r],["a",o,o,0,0,1,o,-o],["z"]];var i=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return i.parsePathArray=Z,i},Q=function(e,t,n,r){return null===e&&(e=t=n=r=0),null===t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:K(e,t,n,r),vb:[e,t,n,r].join(" ")}},J=function(e,t,n,r,o,i,a,l){h(e)||(e=[e,t,n,r,o,i,a,l]);var s=Y.apply(null,e);return Q(s.min.x,s.min.y,s.max.x-s.min.x,s.max.y-s.min.y)},ee=function(e,t,n,r,o,i,a,l,s){var u=1-s,c=Math.pow(u,3),d=Math.pow(u,2),f=s*s,h=f*s,p=e+2*s*(n-e)+f*(o-2*n+e),v=t+2*s*(r-t)+f*(i-2*r+t),g=n+2*s*(o-n)+f*(a-2*o+n),m=r+2*s*(i-r)+f*(l-2*i+r);return{x:c*e+3*d*s*n+3*u*s*s*o+h*a,y:c*t+3*d*s*r+3*u*s*s*i+h*l,m:{x:p,y:v},n:{x:g,y:m},start:{x:u*e+s*n,y:u*t+s*r},end:{x:u*o+s*a,y:u*i+s*l},alpha:90-180*Math.atan2(p-g,v-m)/Math.PI}},te=function(e,t,n){if(!function(e,t){return e=Q(e),t=Q(t),q(t,e.x,e.y)||q(t,e.x2,e.y)||q(t,e.x,e.y2)||q(t,e.x2,e.y2)||q(e,t.x,t.y)||q(e,t.x2,t.y)||q(e,t.x,t.y2)||q(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(J(e),J(t)))return n?0:[];for(var r=~~(U.apply(0,e)/8),o=~~(U.apply(0,t)/8),i=[],a=[],l={},s=n?0:[],u=0;u<r+1;u++){var c=ee.apply(0,e.concat(u/r));i.push({x:c.x,y:c.y,t:u/r})}for(u=0;u<o+1;u++){c=ee.apply(0,t.concat(u/o));a.push({x:c.x,y:c.y,t:u/o})}for(u=0;u<r;u++)for(var d=0;d<o;d++){var f=i[u],h=i[u+1],p=a[d],v=a[d+1],g=Math.abs(h.x-f.x)<.001?"y":"x",m=Math.abs(v.x-p.x)<.001?"y":"x",y=X(f.x,f.y,h.x,h.y,p.x,p.y,v.x,v.y);if(y){if(l[y.x.toFixed(4)]===y.y.toFixed(4))continue;l[y.x.toFixed(4)]=y.y.toFixed(4);var b=f.t+Math.abs((y[g]-f[g])/(h[g]-f[g]))*(h.t-f.t),C=p.t+Math.abs((y[m]-p[m])/(v[m]-p[m]))*(v.t-p.t);b>=0&&b<=1&&C>=0&&C<=1&&(n?s+=1:s.push({x:y.x,y:y.y,t1:b,t2:C}))}}return s};function ne(e,t){var n=[],r=[];return e.length&&function e(t,o){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var i=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),i[a]=[(1-o)*t[a][0]+o*t[a+1][0],(1-o)*t[a][1]+o*t[a+1][1]];e(i,o)}}(e,t),{left:n,right:r.reverse()}}var re=function(e,t,n){if(1===n)return[[].concat(e)];var r=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])r=r.concat(function(e,t,n){var r=[[e[1],e[2]]];n=n||2;var o=[];"A"===t[0]?(r.push(t[6]),r.push(t[7])):"C"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]]),r.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]])):r.push([t[1],t[2]]);for(var i=r,a=1/n,l=0;l<n-1;l++){var s=ne(i,a/(1-a*l));o.push(s.left),i=s.right}return o.push(i),o.map((function(e){var t=[];return 4===e.length&&(t.push("C"),t=t.concat(e[2])),e.length>=3&&(3===e.length&&t.push("Q"),t=t.concat(e[1])),2===e.length&&t.push("L"),t.concat(e[e.length-1])}))}(e,t,n));else{var o=[].concat(e);"M"===o[0]&&(o[0]="L");for(var i=0;i<=n-1;i++)r.push(o)}return r},oe=function(e,t){if(e.length!==t.length)return!1;var n=!0;return v(e,(function(e,r){if(e!==t[r])return n=!1,!1})),n};function ie(e,t,n){var r=null,o=n;return t<o&&(o=t,r="add"),e<o&&(o=e,r="del"),{type:r,min:o}}var ae=function(e,t){var n=function(e,t){var n,r,o=e.length,i=t.length,a=0;if(0===o||0===i)return null;for(var l=[],s=0;s<=o;s++)l[s]=[],l[s][0]={min:s};for(var u=0;u<=i;u++)l[0][u]={min:u};for(s=1;s<=o;s++)for(n=e[s-1],u=1;u<=i;u++){r=t[u-1],a=oe(n,r)?0:1;var c=l[s-1][u].min+1,d=l[s][u-1].min+1,f=l[s-1][u-1].min+a;l[s][u]=ie(c,d,f)}return l}(e,t),r=e.length,o=t.length,i=[],a=1,l=1;if(n[r][o].min!==r){for(var s=1;s<=r;s++){var u=n[s][s].min;l=s;for(var c=a;c<=o;c++)n[s][c].min<u&&(u=n[s][c].min,l=c);a=l,n[s][a].type&&i.push({index:s-1,type:n[s][a].type})}for(s=i.length-1;s>=0;s--)a=i[s].index,"add"===i[s].type?e.splice(a,0,[].concat(e[a])):e.splice(a,1)}var d=o-(r=e.length);if(r<o)for(s=0;s<d;s++)"z"===e[r-1][0]||"Z"===e[r-1][0]?e.splice(r-2,0,e[r-2]):e.push(e[r-1]),r+=1;return e};function le(e,t,n){for(var r,o=[].concat(e),i=1/(n+1),a=se(t)[0],l=1;l<=n;l++)i*=l,0===(r=Math.floor(e.length*i))?o.unshift([a[0]*i+e[r][0]*(1-i),a[1]*i+e[r][1]*(1-i)]):o.splice(r,0,[a[0]*i+e[r][0]*(1-i),a[1]*i+e[r][1]*(1-i)]);return o}function se(e){var t=[];switch(e[0]){case"M":case"L":case"T":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"H":case"V":t.push([e[1],e[1]])}return t}var ue=function(e,t){if(e.length<=1)return e;for(var n,r=0;r<t.length;r++)if(e[r][0]!==t[r][0])switch(n=se(e[r]),t[r][0]){case"M":e[r]=["M"].concat(n[0]);break;case"L":e[r]=["L"].concat(n[0]);break;case"A":e[r]=[].concat(t[r]),e[r][6]=n[0][0],e[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=le(n,e[r-1],1)}e[r]=["Q"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"T":e[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){e[r]=t[r];break}n=le(n,e[r-1],2)}e[r]=["C"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"S":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=le(n,e[r-1],1)}e[r]=["S"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;default:e[r]=t[r]}return e},ce=Object.freeze({__proto__:null,catmullRomToBezier:P,fillPath:function(e,t){if(1===e.length)return e;var n=e.length-1,r=t.length-1,o=n/r,i=[];if(1===e.length&&"M"===e[0][0]){for(var a=0;a<r-n;a++)e.push(e[0]);return e}for(a=0;a<r;a++){var l=Math.floor(o*a);i[l]=(i[l]||0)+1}var s=i.reduce((function(t,r,o){return o===n?t.concat(e[n]):t.concat(re(e[o],e[o+1],r))}),[]);return s.unshift(e[0]),"Z"!==t[r]&&"z"!==t[r]||s.push("Z"),s},fillPathByDiff:ae,formatPath:ue,intersection:function(e,t){return function(e,t,n){var r,o,i,a,l,s,u,c,d,f;e=W(e),t=W(t);for(var h=n?0:[],p=0,v=e.length;p<v;p++){var g=e[p];if("M"===g[0])r=l=g[1],o=s=g[2];else{"C"===g[0]?(d=[r,o].concat(g.slice(1)),r=d[6],o=d[7]):(d=[r,o,r,o,l,s,l,s],r=l,o=s);for(var m=0,y=t.length;m<y;m++){var b=t[m];if("M"===b[0])i=u=b[1],a=c=b[2];else{"C"===b[0]?(f=[i,a].concat(b.slice(1)),i=f[6],a=f[7]):(f=[i,a,i,a,u,c,u,c],i=u,a=c);var C=te(d,f,n);if(n)h+=C;else{for(var w=0,x=C.length;w<x;w++)C[w].segment1=p,C[w].segment2=m,C[w].bez1=d,C[w].bez2=f;h=h.concat(C)}}}}}return h}(e,t)},parsePathArray:Z,parsePathString:k,pathToAbsolute:F,pathToCurve:W,rectPath:K}),de=function(){function e(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){return"[Event (type="+this.type+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}(),fe=function(e,t){return fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},fe(e,t)};function he(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}fe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var pe=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[e]||[],i=this._events["*"]||[],a=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],l=a.callback;a.once&&(r.splice(i,1),0===r.length&&delete t._events[e],o--,i--),l.apply(t,n)}};a(o),a(i)},e.prototype.off=function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,o=0;o<r;o++)n[o].callback===t&&(n.splice(o,1),r--,o--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},e.prototype.getEvents=function(){return this._events},e}();function ve(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var ge="undefined"!=typeof window&&void 0!==window.document;function me(e,t){if(e.isCanvas())return!0;for(var n=t.getParent(),r=!1;n;){if(n===e){r=!0;break}n=n.getParent()}return r}function ye(e){return e.cfg.visible&&e.cfg.capture}var be=function(e){function t(t){var n=e.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=L(r,t),n}return he(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.get=function(e){return this.cfg[e]},t.prototype.set=function(e,t){this.cfg[e]=t},t.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},t}(pe),Ce=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},we=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},xe=function(e){this.version=e,this.type="node",this.name="node",this.os=r.platform},Se=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},Ee=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Ie=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Oe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Le=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],_e=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Te(e){var t=function(e){return""!==e&&Le.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]}),!1)}(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new Ee;var o=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);o?o.length<3&&(o=Ce(Ce([],o,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-o.length),!0)):o=[];var i=o.join("."),a=function(e){for(var t=0,n=_e.length;t<n;t++){var r=_e[t],o=r[0];if(r[1].exec(e))return o}return null}(e),l=Oe.exec(e);return l&&l[1]?new Se(n,i,a,l[1]):new we(n,i,a)}var Me,Re="undefined"!=typeof Float32Array?Float32Array:Array;function Ne(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],l=t[4],s=t[5],u=t[6],c=t[7],d=t[8],f=n[0],h=n[1],p=n[2],v=n[3],g=n[4],m=n[5],y=n[6],b=n[7],C=n[8];return e[0]=f*r+h*a+p*u,e[1]=f*o+h*l+p*c,e[2]=f*i+h*s+p*d,e[3]=v*r+g*a+m*u,e[4]=v*o+g*l+m*c,e[5]=v*i+g*s+m*d,e[6]=y*r+b*a+C*u,e[7]=y*o+b*l+C*c,e[8]=y*i+b*s+C*d,e}function Ae(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e}function De(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return function(e,t){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1}(r,n),Ne(e,r,t)}function Be(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return function(e,t){var n=Math.sin(t),r=Math.cos(t);e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1}(r,n),Ne(e,r,t)}function ke(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return function(e,t){e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1}(r,n),Ne(e,r,t)}function Pe(e,t,n){return Ne(e,n,t)}function ze(e,t){for(var n=e?[].concat(e):[1,0,0,0,1,0,0,0,1],r=0,o=t.length;r<o;r++){var i=t[r];switch(i[0]){case"t":De(n,n,[i[1],i[2]]);break;case"s":ke(n,n,[i[1],i[2]]);break;case"r":Be(n,n,i[1]);break;case"m":Pe(n,n,i[1])}}return n}function Fe(e,t){var n=[],r=e[0],o=e[1],i=e[2],a=e[3],l=e[4],s=e[5],u=e[6],c=e[7],d=e[8],f=t[0],h=t[1],p=t[2],v=t[3],g=t[4],m=t[5],y=t[6],b=t[7],C=t[8];return n[0]=f*r+h*a+p*u,n[1]=f*o+h*l+p*c,n[2]=f*i+h*s+p*d,n[3]=v*r+g*a+m*u,n[4]=v*o+g*l+m*c,n[5]=v*i+g*s+m*d,n[6]=y*r+b*a+C*u,n[7]=y*o+b*l+C*c,n[8]=y*i+b*s+C*d,n}function He(e,t){var n=[],r=t[0],o=t[1];return n[0]=e[0]*r+e[3]*o+e[6],n[1]=e[1]*r+e[4]*o+e[7],n}function $e(e){var t=[],n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],l=e[5],s=e[6],u=e[7],c=e[8],d=c*a-l*u,f=-c*i+l*s,h=u*i-a*s,p=n*d+r*f+o*h;return p?(p=1/p,t[0]=d*p,t[1]=(-c*r+o*u)*p,t[2]=(l*r-o*a)*p,t[3]=f*p,t[4]=(c*n-o*s)*p,t[5]=(-l*n+o*i)*p,t[6]=h*p,t[7]=(-u*n+r*s)*p,t[8]=(a*n-r*i)*p,t):null}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),Me=new Re(3),Re!=Float32Array&&(Me[0]=0,Me[1]=0,Me[2]=0),function(){var e=function(){var e=new Re(2);return Re!=Float32Array&&(e[0]=0,e[1]=0),e}()}();var je=ze,We="matrix",Ge=["zIndex","capture","visible","type"],Ze=["repeat"];function Ve(e,t){var n={},r=t.attrs;for(var o in e)n[o]=r[o];return n}function Ue(e,t){var n={},r=t.attr();return v(e,(function(e,t){-1!==Ze.indexOf(t)||T(r[t],e)||(n[t]=e)})),n}function Ye(e,t){if(t.onFrame)return e;var n=t.startTime,r=t.delay,o=t.duration,i=Object.prototype.hasOwnProperty;return v(e,(function(e){n+r<e.startTime+e.delay+e.duration&&o>e.delay&&v(t.toAttrs,(function(t,n){i.call(e.toAttrs,n)&&(delete e.toAttrs[n],delete e.fromAttrs[n])}))})),e}var Xe=function(e){function t(t){var n=e.call(this,t)||this;n.attrs={};var r=n.getDefaultAttrs();return L(r,t.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return he(t,e),t.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},t.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},t.prototype.onCanvasChange=function(e){},t.prototype.initAttrs=function(e){},t.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},t.prototype.isGroup=function(){return!1},t.prototype.getParent=function(){return this.get("parent")},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.attr=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],o=t[1];if(!r)return this.attrs;if(p(r)){for(var i in r)this.setAttr(i,r[i]);return this.afterAttrsChange(r),this}return 2===t.length?(this.setAttr(r,o),this.afterAttrsChange(((e={})[r]=o,e)),this):this.attrs[r]},t.prototype.isClipped=function(e,t){var n=this.getClip();return n&&!n.isHit(e,t)},t.prototype.setAttr=function(e,t){var n=this.attrs[e];n!==t&&(this.attrs[e]=t,this.onAttrChange(e,t,n))},t.prototype.onAttrChange=function(e,t,n){"matrix"===e&&this.set("totalMatrix",null)},t.prototype.afterAttrsChange=function(e){if(this.cfg.isClipShape){var t=this.cfg.applyTo;t&&t.onCanvasChange("clip")}else this.onCanvasChange("attr")},t.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},t.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},t.prototype.setZIndex=function(e){this.set("zIndex",e);var t=this.getParent();return t&&t.sort(),this},t.prototype.toFront=function(){var e=this.getParent();if(e){var t=e.getChildren();this.get("el");var n=t.indexOf(this);t.splice(n,1),t.push(this),this.onCanvasChange("zIndex")}},t.prototype.toBack=function(){var e=this.getParent();if(e){var t=e.getChildren();this.get("el");var n=t.indexOf(this);t.splice(n,1),t.unshift(this),this.onCanvasChange("zIndex")}},t.prototype.remove=function(e){void 0===e&&(e=!0);var t=this.getParent();t?(ve(t.getChildren(),this),t.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),e&&this.destroy()},t.prototype.resetMatrix=function(){this.attr(We,this.getDefaultMatrix()),this.onCanvasChange("matrix")},t.prototype.getMatrix=function(){return this.attr(We)},t.prototype.setMatrix=function(e){this.attr(We,e),this.onCanvasChange("matrix")},t.prototype.getTotalMatrix=function(){var e=this.cfg.totalMatrix;if(!e){var t=this.attr("matrix"),n=this.cfg.parentMatrix;e=n&&t?Fe(n,t):t||n,this.set("totalMatrix",e)}return e},t.prototype.applyMatrix=function(e){var t=this.attr("matrix"),n=null;n=e&&t?Fe(e,t):t||e,this.set("totalMatrix",n),this.set("parentMatrix",e)},t.prototype.getDefaultMatrix=function(){return null},t.prototype.applyToMatrix=function(e){var t=this.attr("matrix");return t?He(t,e):e},t.prototype.invertFromMatrix=function(e){var t=this.attr("matrix");if(t){var n=$e(t);if(n)return He(n,e)}return e},t.prototype.setClip=function(e){var t=this.getCanvas(),n=null;if(e){var r=this.getShapeBase()[I(e.type)];r&&(n=new r({type:e.type,isClipShape:!0,applyTo:this,attrs:e.attrs,canvas:t}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},t.prototype.getClip=function(){var e=this.cfg.clipShape;return e||null},t.prototype.clone=function(){var e=this,t=this.attrs,n={};v(t,(function(e,r){h(t[r])?n[r]=function(e){for(var t=[],n=0;n<e.length;n++)h(e[n])?t.push([].concat(e[n])):t.push(e[n]);return t}(t[r]):n[r]=t[r]}));var r=new(0,this.constructor)({attrs:n});return v(Ge,(function(t){r.set(t,e.get(t))})),r},t.prototype.destroy=function(){this.destroyed||(this.attrs={},e.prototype.destroy.call(this))},t.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},t.prototype.animate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var o,i,a,l,s,u=e[0],c=e[1],f=e[2],h=void 0===f?"easeLinear":f,v=e[3],g=void 0===v?N:v,m=e[4],y=void 0===m?0:m;d(u)?(o=u,u={}):p(u)&&u.onFrame&&(o=u.onFrame,i=u.repeat),p(c)?(c=(s=c).duration,h=s.easing||"easeLinear",y=s.delay||0,i=s.repeat||i||!1,g=s.callback||N,a=s.pauseCallback||N,l=s.resumeCallback||N):(C(g)&&(y=g,g=null),d(h)?(g=h,h="easeLinear"):h=h||"easeLinear");var b=Ue(u,this),w={fromAttrs:Ve(b,this),toAttrs:b,duration:c,easing:h,repeat:i,callback:g,pauseCallback:a,resumeCallback:l,delay:y,startTime:n.getTime(),id:R(),onFrame:o,pathFormatted:!1};r.length>0?r=Ye(r,w):n.addAnimator(this),r.push(w),this.set("animations",r),this.set("_pause",{isPaused:!1})}},t.prototype.stopAnimate=function(e){var t=this;void 0===e&&(e=!0),v(this.get("animations"),(function(n){e&&(n.onFrame?t.attr(n.onFrame(1)):t.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},t.prototype.pauseAnimate=function(){var e=this.get("timeline"),t=this.get("animations"),n=e.getTime();return v(t,(function(e){e._paused=!0,e._pauseTime=n,e.pauseCallback&&e.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},t.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),n=this.get("_pause").pauseTime;return v(t,(function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},t.prototype.emitDelegation=function(e,t){var n,r=this,o=t.propagationPath;this.getEvents(),"mouseenter"===e?n=t.fromShape:"mouseleave"===e&&(n=t.toShape);for(var i=function(e){var i=o[e],l=i.get("name");if(l){if((i.isGroup()||i.isCanvas&&i.isCanvas())&&n&&me(i,n))return"break";h(l)?v(l,(function(e){r.emitDelegateEvent(i,e,t)})):a.emitDelegateEvent(i,l,t)}},a=this,l=0;l<o.length;l++){if("break"===i(l))break}},t.prototype.emitDelegateEvent=function(e,t,n){var r=this.getEvents(),o=t+":"+n.type;(r[o]||r["*"])&&(n.name=o,n.currentTarget=e,n.delegateTarget=this,n.delegateObject=e.get("delegateObject"),this.emit(o,n))},t.prototype.translate=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this.getMatrix(),r=je(n,[["t",e,t]]);return this.setMatrix(r),this},t.prototype.move=function(e,t){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(e-n,t-r),this},t.prototype.moveTo=function(e,t){return this.move(e,t)},t.prototype.scale=function(e,t){var n=this.getMatrix(),r=je(n,[["s",e,t||e]]);return this.setMatrix(r),this},t.prototype.rotate=function(e){var t=this.getMatrix(),n=je(t,[["r",e]]);return this.setMatrix(n),this},t.prototype.rotateAtStart=function(e){var t=this.attr(),n=t.x,r=t.y,o=this.getMatrix(),i=je(o,[["t",-n,-r],["r",e],["t",n,r]]);return this.setMatrix(i),this},t.prototype.rotateAtPoint=function(e,t,n){var r=this.getMatrix(),o=je(r,[["t",-e,-t],["r",n],["t",e,t]]);return this.setMatrix(o),this},t}(be),qe={},Ke="_INDEX";function Qe(e,t){if(e.set("canvas",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){Qe(e,t)}))}}function Je(e,t){if(e.set("timeline",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){Je(e,t)}))}}var et,tt,nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return he(t,e),t.prototype.isCanvas=function(){return!1},t.prototype.getBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,o=[],i=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?(v(a,(function(e){var t=e.getBBox();o.push(t.minX,t.maxX),i.push(t.minY,t.maxY)})),e=y(o),t=m(o),n=y(i),r=m(i)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getCanvasBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,o=[],i=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?(v(a,(function(e){var t=e.getCanvasBBox();o.push(t.minX,t.maxX),i.push(t.minY,t.maxY)})),e=y(o),t=m(o),n=y(i),r=m(i)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},t.prototype.onAttrChange=function(t,n,r){if(e.prototype.onAttrChange.call(this,t,n,r),"matrix"===t){var o=this.getTotalMatrix();this._applyChildrenMarix(o)}},t.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},t.prototype._applyChildrenMarix=function(e){v(this.getChildren(),(function(t){t.applyMatrix(e)}))},t.prototype.addShape=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];p(n)?r=n:r.type=n;var o=qe[r.type];o||(o=I(r.type),qe[r.type]=o);var i=this.getShapeBase(),a=new i[o](r);return this.add(a),a},t.prototype.addGroup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=e[0],o=e[1];if(d(r))n=new r(o||{parent:this});else{var i=r||{},a=this.getGroupBase();n=new a(i)}return this.add(n),n},t.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},t.prototype.getShape=function(e,t,n){if(!ye(this))return null;var r,o=this.getChildren();if(this.isCanvas())r=this._findShape(o,e,t,n);else{var i=[e,t,1];i=this.invertFromMatrix(i),this.isClipped(i[0],i[1])||(r=this._findShape(o,i[0],i[1],n))}return r},t.prototype._findShape=function(e,t,n,r){for(var o=null,i=e.length-1;i>=0;i--){var a=e[i];if(ye(a)&&(a.isGroup()?o=a.getShape(t,n,r):a.isHit(t,n)&&(o=a)),o)break}return o},t.prototype.add=function(e){var t=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),o=e.getParent();o&&function(e,t,n){void 0===n&&(n=!0),n?t.destroy():(t.set("parent",null),t.set("canvas",null)),ve(e.getChildren(),t)}(o,e,!1),e.set("parent",this),t&&Qe(e,t),r&&Je(e,r),n.push(e),e.onCanvasChange("add"),this._applyElementMatrix(e)},t.prototype._applyElementMatrix=function(e){var t=this.getTotalMatrix();t&&e.applyMatrix(t)},t.prototype.getChildren=function(){return this.get("children")},t.prototype.sort=function(){var e,t=this.getChildren();v(t,(function(e,t){return e[Ke]=t,e})),t.sort((e=function(e,t){return e.get("zIndex")-t.get("zIndex")},function(t,n){var r=e(t,n);return 0===r?t[Ke]-n[Ke]:r})),this.onCanvasChange("sort")},t.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var e=this.getChildren(),t=e.length-1;t>=0;t--)e[t].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},t.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},t.prototype.getFirst=function(){return this.getChildByIndex(0)},t.prototype.getLast=function(){var e=this.getChildren();return this.getChildByIndex(e.length-1)},t.prototype.getChildByIndex=function(e){return this.getChildren()[e]},t.prototype.getCount=function(){return this.getChildren().length},t.prototype.contain=function(e){return this.getChildren().indexOf(e)>-1},t.prototype.removeChild=function(e,t){void 0===t&&(t=!0),this.contain(e)&&e.remove(t)},t.prototype.findAll=function(e){var t=[];return v(this.getChildren(),(function(n){e(n)&&t.push(n),n.isGroup()&&(t=t.concat(n.findAll(e)))})),t},t.prototype.find=function(e){var t=null;return v(this.getChildren(),(function(n){if(e(n)?t=n:n.isGroup()&&(t=n.find(e)),t)return!1})),t},t.prototype.findById=function(e){return this.find((function(t){return t.get("id")===e}))},t.prototype.findByClassName=function(e){return this.find((function(t){return t.get("className")===e}))},t.prototype.findAllByName=function(e){return this.findAll((function(t){return t.get("name")===e}))},t}(Xe),rt=0,ot=0,it=0,at=0,lt=0,st=0,ut="object"==typeof performance&&performance.now?performance:Date,ct="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function dt(){return lt||(ct(ft),lt=ut.now()+st)}function ft(){lt=0}function ht(){this._call=this._time=this._next=null}function pt(e,t,n){var r=new ht;return r.restart(e,t,n),r}function vt(){lt=(at=ut.now())+st,rt=ot=0;try{!function(){dt(),++rt;for(var e,t=et;t;)(e=lt-t._time)>=0&&t._call.call(null,e),t=t._next;--rt}()}finally{rt=0,function(){var e,t,n=et,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:et=t);tt=e,mt(r)}(),lt=0}}function gt(){var e=ut.now(),t=e-at;t>1e3&&(st-=t,at=e)}function mt(e){rt||(ot&&(ot=clearTimeout(ot)),e-lt>24?(e<1/0&&(ot=setTimeout(vt,e-ut.now()-st)),it&&(it=clearInterval(it))):(it||(at=ut.now(),it=setInterval(gt,1e3)),rt=1,ct(vt)))}function yt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ct(){}ht.prototype=pt.prototype={constructor:ht,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?dt():+n)+(null==t?0:+t),this._next||tt===this||(tt?tt._next=this:et=this,tt=this),this._call=e,this._time=n,mt()},stop:function(){this._call&&(this._call=null,this._time=1/0,mt())}};var wt=.7,xt=1/wt,St="\\s*([+-]?\\d+)\\s*",Et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",It="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ot=/^#([0-9a-f]{3,8})$/,Lt=new RegExp("^rgb\\("+[St,St,St]+"\\)$"),_t=new RegExp("^rgb\\("+[It,It,It]+"\\)$"),Tt=new RegExp("^rgba\\("+[St,St,St,Et]+"\\)$"),Mt=new RegExp("^rgba\\("+[It,It,It,Et]+"\\)$"),Rt=new RegExp("^hsl\\("+[Et,It,It]+"\\)$"),Nt=new RegExp("^hsla\\("+[Et,It,It,Et]+"\\)$"),At={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Dt(){return this.rgb().formatHex()}function Bt(){return this.rgb().formatRgb()}function kt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ot.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Pt(t):3===n?new $t(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?zt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?zt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Lt.exec(e))?new $t(t[1],t[2],t[3],1):(t=_t.exec(e))?new $t(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Tt.exec(e))?zt(t[1],t[2],t[3],t[4]):(t=Mt.exec(e))?zt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Rt.exec(e))?Zt(t[1],t[2]/100,t[3]/100,1):(t=Nt.exec(e))?Zt(t[1],t[2]/100,t[3]/100,t[4]):At.hasOwnProperty(e)?Pt(At[e]):"transparent"===e?new $t(NaN,NaN,NaN,0):null}function Pt(e){return new $t(e>>16&255,e>>8&255,255&e,1)}function zt(e,t,n,r){return r<=0&&(e=t=n=NaN),new $t(e,t,n,r)}function Ft(e){return e instanceof Ct||(e=kt(e)),e?new $t((e=e.rgb()).r,e.g,e.b,e.opacity):new $t}function Ht(e,t,n,r){return 1===arguments.length?Ft(e):new $t(e,t,n,null==r?1:r)}function $t(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function jt(){return"#"+Gt(this.r)+Gt(this.g)+Gt(this.b)}function Wt(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Gt(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Zt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ut(e,t,n,r)}function Vt(e){if(e instanceof Ut)return new Ut(e.h,e.s,e.l,e.opacity);if(e instanceof Ct||(e=kt(e)),!e)return new Ut;if(e instanceof Ut)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new Ut(a,l,s,e.opacity)}function Ut(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Yt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Xt(e){return function(){return e}}function qt(e){return 1==(e=+e)?Kt:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Xt(isNaN(t)?n:t)}}function Kt(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Xt(isNaN(e)?t:e)}yt(Ct,kt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Dt,formatHex:Dt,formatHsl:function(){return Vt(this).formatHsl()},formatRgb:Bt,toString:Bt}),yt($t,Ht,bt(Ct,{brighter:function(e){return e=null==e?xt:Math.pow(xt,e),new $t(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?wt:Math.pow(wt,e),new $t(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jt,formatHex:jt,formatRgb:Wt,toString:Wt})),yt(Ut,(function(e,t,n,r){return 1===arguments.length?Vt(e):new Ut(e,t,n,null==r?1:r)}),bt(Ct,{brighter:function(e){return e=null==e?xt:Math.pow(xt,e),new Ut(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?wt:Math.pow(wt,e),new Ut(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new $t(Yt(e>=240?e-240:e+120,o,r),Yt(e,o,r),Yt(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Qt=function e(t){var n=qt(t);function r(e,t){var r=n((e=Ht(e)).r,(t=Ht(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Kt(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Jt(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function en(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tn(e,t){return(en(t)?Jt:nn)(e,t)}function nn(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=cn(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function rn(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function on(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function an(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=cn(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var ln=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sn=new RegExp(ln.source,"g");function un(e,t){var n,r,o,i=ln.lastIndex=sn.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=ln.exec(e))&&(r=sn.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:on(n,r)})),i=sn.lastIndex;return i<t.length&&(o=t.slice(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})}function cn(e,t){var n,r=typeof t;return null==t||"boolean"===r?Xt(t):("number"===r?on:"string"===r?(n=kt(t))?(t=n,Qt):un:t instanceof kt?Qt:t instanceof Date?rn:en(t)?Jt:Array.isArray(t)?nn:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?an:on)(e,t)}function dn(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function fn(e){return e*e*e}function hn(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var pn=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),vn=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),gn=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),mn=Math.PI,yn=mn/2;function bn(e){return(1-Math.cos(mn*e))/2}function Cn(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function wn(e){return((e*=2)<=1?Cn(1-e):2-Cn(e-1))/2}function xn(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Sn=4/11,En=7.5625;function In(e){return(e=+e)<Sn?En*e*e:e<.7272727272727273?En*(e-=.5454545454545454)*e+.75:e<.9090909090909091?En*(e-=.8181818181818182)*e+.9375:En*(e-=.9545454545454546)*e+.984375}var On=1.70158,Ln=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(On),_n=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(On),Tn=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(On),Mn=2*Math.PI,Rn=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Mn);function o(e){return t*Cn(- --e)*Math.sin((r-e)/n)}return o.amplitude=function(t){return e(t,n*Mn)},o.period=function(n){return e(t,n)},o}(1,.3),Nn=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Mn);function o(e){return 1-t*Cn(e=+e)*Math.sin((e+r)/n)}return o.amplitude=function(t){return e(t,n*Mn)},o.period=function(n){return e(t,n)},o}(1,.3),An=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Mn);function o(e){return((e=2*e-1)<0?t*Cn(-e)*Math.sin((r-e)/n):2-t*Cn(e)*Math.sin((r+e)/n))/2}return o.amplitude=function(t){return e(t,n*Mn)},o.period=function(n){return e(t,n)},o}(1,.3),Dn=Object.freeze({__proto__:null,easeLinear:function(e){return+e},easeQuad:dn,easeQuadIn:function(e){return e*e},easeQuadOut:function(e){return e*(2-e)},easeQuadInOut:dn,easeCubic:hn,easeCubicIn:fn,easeCubicOut:function(e){return--e*e*e+1},easeCubicInOut:hn,easePoly:gn,easePolyIn:pn,easePolyOut:vn,easePolyInOut:gn,easeSin:bn,easeSinIn:function(e){return 1==+e?1:1-Math.cos(e*yn)},easeSinOut:function(e){return Math.sin(e*yn)},easeSinInOut:bn,easeExp:wn,easeExpIn:function(e){return Cn(1-+e)},easeExpOut:function(e){return 1-Cn(e)},easeExpInOut:wn,easeCircle:xn,easeCircleIn:function(e){return 1-Math.sqrt(1-e*e)},easeCircleOut:function(e){return Math.sqrt(1- --e*e)},easeCircleInOut:xn,easeBounce:In,easeBounceIn:function(e){return 1-In(1-e)},easeBounceOut:In,easeBounceInOut:function(e){return((e*=2)<=1?1-In(1-e):In(e-1)+1)/2},easeBack:Tn,easeBackIn:Ln,easeBackOut:_n,easeBackInOut:Tn,easeElastic:Nn,easeElasticIn:Rn,easeElasticOut:Nn,easeElasticInOut:An}),Bn={};var kn=[1,0,0,0,1,0,0,0,1];function Pn(e,t,n){var r,o=t.startTime;if(n<o+t.delay||t._paused)return!1;var i,a=t.duration,l=t.easing,s=Bn[(i=l).toLowerCase()]||Dn[i];if(n=n-o-t.delay,t.repeat)r=s(r=n%a/a);else{if(!((r=n/a)<1))return t.onFrame?e.attr(t.onFrame(1)):e.attr(t.toAttrs),!0;r=s(r)}if(t.onFrame){var u=t.onFrame(r);e.attr(u)}else!function(e,t,n){var r={},o=t.fromAttrs,i=t.toAttrs;if(!e.destroyed){var a,l;for(var s in i)if(!T(o[s],i[s]))if("path"===s){var u=i[s],c=o[s];u.length>c.length?(u=k(i[s]),c=k(o[s]),c=ae(c,u),c=ue(c,u),t.fromAttrs.path=c,t.toAttrs.path=u):t.pathFormatted||(u=k(i[s]),c=k(o[s]),c=ue(c,u),t.fromAttrs.path=c,t.toAttrs.path=u,t.pathFormatted=!0),r[s]=[];for(var f=0;f<u.length;f++){for(var h=u[f],p=c[f],v=[],g=0;g<h.length;g++)C(h[g])&&p&&C(p[g])?(a=cn(p[g],h[g]),v.push(a(n))):v.push(h[g]);r[s].push(v)}}else if("matrix"===s){var m=tn(o[s]||kn,i[s]||kn)(n);r[s]=m}else["fill","stroke","fillStyle","strokeStyle"].includes(s)&&(l=i[s],/^[r,R,L,l]{1}[\s]*\(/.test(l))?r[s]=i[s]:d(i[s])||(a=cn(o[s],i[s]),r[s]=a(n));e.attr(r)}}(e,t,r);return!1}var zn=function(){function e(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return e.prototype.initTimer=function(){var e,t,n,r=this;this.timer=pt((function(o){if(r.current=o,r.animators.length>0){for(var i=r.animators.length-1;i>=0;i--)if((e=r.animators[i]).destroyed)r.removeAnimator(i);else{if(!e.isAnimatePaused())for(var a=(t=e.get("animations")).length-1;a>=0;a--)n=t[a],Pn(e,n,o)&&(t.splice(a,1),!1,n.callback&&n.callback());0===t.length&&r.removeAnimator(i)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},e.prototype.addAnimator=function(e){this.animators.push(e)},e.prototype.removeAnimator=function(e){this.animators.splice(e,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach((function(t){t.stopAnimate(e)})),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),Fn=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Hn(e,t,n){n.name=t,n.target=e,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}function $n(e,t,n){if(n.bubbles){var r=void 0,o=!1;if("mouseenter"===t?(r=n.fromShape,o=!0):"mouseleave"===t&&(o=!0,r=n.toShape),e.isCanvas()&&o)return;if(r&&me(e,r))return void(n.bubbles=!1);n.name=t,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}}var jn,Wn=function(){function e(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(e){var n=e.type;t._triggerEvent(n,e)},this._onDocumentMove=function(e){if(t.canvas.get("el")!==e.target&&(t.dragging||t.currentShape)){var n=t._getPointInfo(e);t.dragging&&t._emitEvent("drag",e,n,t.draggingShape)}},this._onDocumentMouseUp=function(e){if(t.canvas.get("el")!==e.target&&t.dragging){var n=t._getPointInfo(e);t.draggingShape&&t._emitEvent("drop",e,n,null),t._emitEvent("dragend",e,n,t.draggingShape),t._afterDrag(t.draggingShape,n,e)}},this.canvas=e.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");v(Fn,(function(n){t.addEventListener(n,e._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");v(Fn,(function(n){t.removeEventListener(n,e._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(e,t,n,r,o,i){var a=new de(e,t);return a.fromShape=o,a.toShape=i,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},e.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},e.prototype._getPointInfo=function(e){var t=this.canvas,n=t.getClientByEvent(e),r=t.getPointByEvent(e);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(e,t){var n=this._getPointInfo(t),r=this._getShape(n,t),o=this["_on"+e],i=!1;if(o)o.call(this,n,r,t);else{var a=this.currentShape;"mouseenter"===e||"dragenter"===e||"mouseover"===e?(this._emitEvent(e,t,n,null,null,r),r&&this._emitEvent(e,t,n,r,null,r),"mouseenter"===e&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):"mouseleave"===e||"dragleave"===e||"mouseout"===e?(i=!0,a&&this._emitEvent(e,t,n,a,a,null),this._emitEvent(e,t,n,null,a,null),"mouseleave"===e&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(e,t,n,r,null,null)}if(i||(this.currentShape=r),r&&!r.get("destroyed")){var l=this.canvas;l.get("el").style.cursor=r.attr("cursor")||l.get("cursor")}},e.prototype._onmousedown=function(e,t,n){0===n.button&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,e,t,null,null)},e.prototype._emitMouseoverEvents=function(e,t,n,r){var o=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",e,t,n,n,r),this._emitEvent("mouseleave",e,t,n,n,r),r&&!r.get("destroyed")||(o.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",e,t,r,n,r),this._emitEvent("mouseenter",e,t,r,n,r)))},e.prototype._emitDragoverEvents=function(e,t,n,r,o){r?(r!==n&&(n&&this._emitEvent("dragleave",e,t,n,n,r),this._emitEvent("dragenter",e,t,r,n,r)),o||this._emitEvent("dragover",e,t,r)):n&&this._emitEvent("dragleave",e,t,n,n,r),o&&this._emitEvent("dragover",e,t,r)},e.prototype._afterDrag=function(e,t,n){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(t,n);r!==e&&this._emitMouseoverEvents(n,t,e,r),this.currentShape=r},e.prototype._onmouseup=function(e,t,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,e,t),this._emitEvent("dragend",n,e,r),this._afterDrag(r,e,n)):(this._emitEvent("mouseup",n,e,t),t===this.mousedownShape&&this._emitEvent("click",n,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(e,t,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,e,r,t,!0)},e.prototype._onmousemove=function(e,t,n){var r=this.canvas,o=this.currentShape,i=this.draggingShape;if(this.dragging)i&&this._emitDragoverEvents(n,e,o,t,!1),this._emitEvent("drag",n,e,i);else{var a=this.mousedownPoint;if(a){var l=this.mousedownShape,s=n.timeStamp-this.mousedownTimeStamp,u=a.clientX-e.clientX,c=a.clientY-e.clientY;s>120||u*u+c*c>40?l&&l.get("draggable")?((i=this.mousedownShape).set("capture",!1),this.draggingShape=i,this.dragging=!0,this._emitEvent("dragstart",n,e,i),this.mousedownShape=null,this.mousedownPoint=null):!l&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,e,o,t),this._emitEvent("mousemove",n,e,t)):(this._emitMouseoverEvents(n,e,o,t),this._emitEvent("mousemove",n,e,t))}else this._emitMouseoverEvents(n,e,o,t),this._emitEvent("mousemove",n,e,t)}},e.prototype._emitEvent=function(e,t,n,r,o,i){var a=this._getEventObj(e,t,n,r,o,i);if(r){a.shape=r,Hn(r,e,a);for(var l=r.getParent();l;)l.emitDelegation(e,a),a.propagationStopped||$n(l,e,a),a.propagationPath.push(l),l=l.getParent()}else{Hn(this.canvas,e,a)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),Gn=jn?Te(jn):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new Ie:"undefined"!=typeof navigator?Te(navigator.userAgent):void 0!==r&&r.version?new xe(r.version.slice(1)):null,Zn=Gn&&"firefox"===Gn.name,Vn=function(e){function t(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return he(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},t.prototype.initContainer=function(){var e=this.get("container");b(e)&&(e=document.getElementById(e),this.set("container",e))},t.prototype.initDom=function(){var e=this.createDom();this.set("el",e),this.get("container").appendChild(e),this.setDOMSize(this.get("width"),this.get("height"))},t.prototype.initEvents=function(){var e=new Wn({canvas:this});e.init(),this.set("eventController",e)},t.prototype.initTimeline=function(){var e=new zn(this);this.set("timeline",e)},t.prototype.setDOMSize=function(e,t){var n=this.get("el");ge&&(n.style.width=e+"px",n.style.height=t+"px")},t.prototype.changeSize=function(e,t){this.setDOMSize(e,t),this.set("width",e),this.set("height",t),this.onCanvasChange("changeSize")},t.prototype.getRenderer=function(){return this.get("renderer")},t.prototype.getCursor=function(){return this.get("cursor")},t.prototype.setCursor=function(e){this.set("cursor",e);var t=this.get("el");ge&&t&&(t.style.cursor=e)},t.prototype.getPointByEvent=function(e){if(this.get("supportCSSTransform")){if(Zn&&!f(e.layerX)&&e.layerX!==e.offsetX)return{x:e.layerX,y:e.layerY};if(!f(e.offsetX))return{x:e.offsetX,y:e.offsetY}}var t=this.getClientByEvent(e),n=t.x,r=t.y;return this.getPointByClient(n,r)},t.prototype.getClientByEvent=function(e){var t=e;return e.touches&&(t="touchend"===e.type?e.changedTouches[0]:e.touches[0]),{x:t.clientX,y:t.clientY}},t.prototype.getPointByClient=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e-n.left,y:t-n.top}},t.prototype.getClientByPoint=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e+n.left,y:t+n.top}},t.prototype.draw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.parentNode.removeChild(e)},t.prototype.clearEvents=function(){this.get("eventController").destroy()},t.prototype.isCanvas=function(){return!0},t.prototype.getParent=function(){return null},t.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},t}(nt),Un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return he(t,e),t.prototype.isGroup=function(){return!0},t.prototype.isEntityGroup=function(){return!1},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var o=n[r];t.add(o.clone())}return t},t}(nt),Yn=function(e){function t(t){return e.call(this,t)||this}return he(t,e),t.prototype._isInBBox=function(e,t){var n=this.getBBox();return n.minX<=e&&n.maxX>=e&&n.minY<=t&&n.maxY>=t},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},t.prototype.getBBox=function(){var e=this.cfg.bbox;return e||(e=this.calculateBBox(),this.set("bbox",e)),e},t.prototype.getCanvasBBox=function(){var e=this.cfg.canvasBBox;return e||(e=this.calculateCanvasBBox(),this.set("canvasBBox",e)),e},t.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},t.prototype.calculateCanvasBBox=function(){var e=this.getBBox(),t=this.getTotalMatrix(),n=e.minX,r=e.minY,o=e.maxX,i=e.maxY;if(t){var a=He(t,[e.minX,e.minY]),l=He(t,[e.maxX,e.minY]),s=He(t,[e.minX,e.maxY]),u=He(t,[e.maxX,e.maxY]);n=Math.min(a[0],l[0],s[0],u[0]),o=Math.max(a[0],l[0],s[0],u[0]),r=Math.min(a[1],l[1],s[1],u[1]),i=Math.max(a[1],l[1],s[1],u[1])}var c=this.attrs;if(c.shadowColor){var d=c.shadowBlur,f=void 0===d?0:d,h=c.shadowOffsetX,p=void 0===h?0:h,v=c.shadowOffsetY,g=void 0===v?0:v,m=n-f+p,y=o+f+p,b=r-f+g,C=i+f+g;n=Math.min(n,m),o=Math.max(o,y),r=Math.min(r,b),i=Math.max(i,C)}return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:i,width:o-n,height:i-r}},t.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},t.prototype.isClipShape=function(){return this.get("isClipShape")},t.prototype.isInShape=function(e,t){return!1},t.prototype.isOnlyHitBox=function(){return!1},t.prototype.isHit=function(e,t){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),o=[e,t,1],i=(o=this.invertFromMatrix(o))[0],a=o[1],l=this._isInBBox(i,a);if(this.isOnlyHitBox())return l;if(l&&!this.isClipped(i,a)){if(this.isInShape(i,a))return!0;if(n&&n.isHit(i,a))return!0;if(r&&r.isHit(i,a))return!0}return!1},t}(Xe),Xn=new Map;function qn(e,t){Xn.set(e,t)}function Kn(e){var t=e.attr();return{x:t.x,y:t.y,width:t.width,height:t.height}}function Qn(e){var t=e.attr(),n=t.x,r=t.y,o=t.r;return{x:n-o,y:r-o,width:2*o,height:2*o}}function Jn(e){return Math.min.apply(null,e)}function er(e){return Math.max.apply(null,e)}function tr(e,t,n,r){var o=e-n,i=t-r;return Math.sqrt(o*o+i*i)}function nr(e,t){return Math.abs(e-t)<.001}function rr(e,t){var n=Jn(e),r=Jn(t);return{x:n,y:r,width:er(e)-n,height:er(t)-r}}function or(e){return(e+2*Math.PI)%(2*Math.PI)}var ir={box:function(e,t,n,r){return rr([e,n],[t,r])},length:function(e,t,n,r){return tr(e,t,n,r)},pointAt:function(e,t,n,r,o){return{x:(1-o)*e+o*n,y:(1-o)*t+o*r}},pointDistance:function(e,t,n,r,o,i){var a=(n-e)*(o-e)+(r-t)*(i-t);return a<0?tr(e,t,o,i):a>(n-e)*(n-e)+(r-t)*(r-t)?tr(n,r,o,i):this.pointToLine(e,t,n,r,o,i)},pointToLine:function(e,t,n,r,o,i){var a=[n-e,r-t];if(function(e,t){return e[0]===t[0]&&e[1]===t[1]}(a,[0,0]))return Math.sqrt((o-e)*(o-e)+(i-t)*(i-t));var l=[-a[1],a[0]];!function(e,t){var n=t[0],r=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o}(l,l);var s=[o-e,i-t];return Math.abs(function(e,t){return e[0]*t[0]+e[1]*t[1]}(s,l))},tangentAngle:function(e,t,n,r){return Math.atan2(r-t,n-e)}};function ar(e,t,n,r,o,i){var a,l=1/0,s=[n,r],u=20;i&&i>200&&(u=i/10);for(var c=1/u,d=c/10,f=0;f<=u;f++){var h=f*c,p=[o.apply(null,e.concat([h])),o.apply(null,t.concat([h]))];(y=tr(s[0],s[1],p[0],p[1]))<l&&(a=h,l=y)}if(0===a)return{x:e[0],y:t[0]};if(1===a){var v=e.length;return{x:e[v-1],y:t[v-1]}}l=1/0;for(f=0;f<32&&!(d<1e-4);f++){var g=a-d,m=a+d,y=(p=[o.apply(null,e.concat([g])),o.apply(null,t.concat([g]))],tr(s[0],s[1],p[0],p[1]));if(g>=0&&y<l)a=g,l=y;else{var b=[o.apply(null,e.concat([m])),o.apply(null,t.concat([m]))],C=tr(s[0],s[1],b[0],b[1]);m<=1&&C<l?(a=m,l=C):d*=.5}}return{x:o.apply(null,e.concat([a])),y:o.apply(null,t.concat([a]))}}function lr(e,t,n,r){var o=1-r;return o*o*e+2*r*o*t+r*r*n}function sr(e,t,n){var r=e+n-2*t;if(nr(r,0))return[.5];var o=(e-t)/r;return o<=1&&o>=0?[o]:[]}function ur(e,t,n,r){return 2*(1-r)*(t-e)+2*r*(n-t)}function cr(e,t,n,r,o,i,a){var l=lr(e,n,o,a),s=lr(t,r,i,a),u=ir.pointAt(e,t,n,r,a),c=ir.pointAt(n,r,o,i,a);return[[e,t,u.x,u.y,l,s],[l,s,c.x,c.y,o,i]]}function dr(e,t,n,r,o,i,a){if(0===a)return(tr(e,t,n,r)+tr(n,r,o,i)+tr(e,t,o,i))/2;var l=cr(e,t,n,r,o,i,.5),s=l[0],u=l[1];return s.push(a-1),u.push(a-1),dr.apply(null,s)+dr.apply(null,u)}var fr={box:function(e,t,n,r,o,i){var a=sr(e,n,o)[0],l=sr(t,r,i)[0],s=[e,o],u=[t,i];return void 0!==a&&s.push(lr(e,n,o,a)),void 0!==l&&u.push(lr(t,r,i,l)),rr(s,u)},length:function(e,t,n,r,o,i){return dr(e,t,n,r,o,i,3)},nearestPoint:function(e,t,n,r,o,i,a,l){return ar([e,n,o],[t,r,i],a,l,lr)},pointDistance:function(e,t,n,r,o,i,a,l){var s=this.nearestPoint(e,t,n,r,o,i,a,l);return tr(s.x,s.y,a,l)},interpolationAt:lr,pointAt:function(e,t,n,r,o,i,a){return{x:lr(e,n,o,a),y:lr(t,r,i,a)}},divide:function(e,t,n,r,o,i,a){return cr(e,t,n,r,o,i,a)},tangentAngle:function(e,t,n,r,o,i,a){var l=ur(e,n,o,a),s=ur(t,r,i,a);return or(Math.atan2(s,l))}};function hr(e,t,n,r,o){var i=1-o;return i*i*i*e+3*t*o*i*i+3*n*o*o*i+r*o*o*o}function pr(e,t,n,r,o){var i=1-o;return 3*(i*i*(t-e)+2*i*o*(n-t)+o*o*(r-n))}function vr(e,t,n,r){var o,i,a,l=-3*e+9*t-9*n+3*r,s=6*e-12*t+6*n,u=3*t-3*e,c=[];if(nr(l,0))nr(s,0)||(o=-u/s)>=0&&o<=1&&c.push(o);else{var d=s*s-4*l*u;nr(d,0)?c.push(-s/(2*l)):d>0&&(i=(-s-(a=Math.sqrt(d)))/(2*l),(o=(-s+a)/(2*l))>=0&&o<=1&&c.push(o),i>=0&&i<=1&&c.push(i))}return c}function gr(e,t,n,r,o,i,a,l,s){var u=hr(e,n,o,a,s),c=hr(t,r,i,l,s),d=ir.pointAt(e,t,n,r,s),f=ir.pointAt(n,r,o,i,s),h=ir.pointAt(o,i,a,l,s),p=ir.pointAt(d.x,d.y,f.x,f.y,s),v=ir.pointAt(f.x,f.y,h.x,h.y,s);return[[e,t,d.x,d.y,p.x,p.y,u,c],[u,c,v.x,v.y,h.x,h.y,a,l]]}function mr(e,t,n,r,o,i,a,l,s){if(0===s)return function(e,t){for(var n=0,r=e.length,o=0;o<r;o++)n+=tr(e[o],t[o],e[(o+1)%r],t[(o+1)%r]);return n/2}([e,n,o,a],[t,r,i,l]);var u=gr(e,t,n,r,o,i,a,l,.5),c=u[0],d=u[1];return c.push(s-1),d.push(s-1),mr.apply(null,c)+mr.apply(null,d)}var yr={extrema:vr,box:function(e,t,n,r,o,i,a,l){for(var s=[e,a],u=[t,l],c=vr(e,n,o,a),d=vr(t,r,i,l),f=0;f<c.length;f++)s.push(hr(e,n,o,a,c[f]));for(f=0;f<d.length;f++)u.push(hr(t,r,i,l,d[f]));return rr(s,u)},length:function(e,t,n,r,o,i,a,l){return mr(e,t,n,r,o,i,a,l,3)},nearestPoint:function(e,t,n,r,o,i,a,l,s,u,c){return ar([e,n,o,a],[t,r,i,l],s,u,hr,c)},pointDistance:function(e,t,n,r,o,i,a,l,s,u,c){var d=this.nearestPoint(e,t,n,r,o,i,a,l,s,u,c);return tr(d.x,d.y,s,u)},interpolationAt:hr,pointAt:function(e,t,n,r,o,i,a,l,s){return{x:hr(e,n,o,a,s),y:hr(t,r,i,l,s)}},divide:function(e,t,n,r,o,i,a,l,s){return gr(e,t,n,r,o,i,a,l,s)},tangentAngle:function(e,t,n,r,o,i,a,l,s){var u=pr(e,n,o,a,s),c=pr(t,r,i,l,s);return or(Math.atan2(c,u))}};function br(e,t,n,r,o,i){return n*Math.cos(o)*Math.cos(i)-r*Math.sin(o)*Math.sin(i)+e}function Cr(e,t,n,r,o,i){return n*Math.sin(o)*Math.cos(i)+r*Math.cos(o)*Math.sin(i)+t}var wr=function(e,t,n,r,o,i,a){for(var l=function(e,t,n){return Math.atan(-t/e*Math.tan(n))}(n,r,o),s=1/0,u=-1/0,c=[i,a],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var f=l+d;i<a?i<f&&f<a&&c.push(f):a<f&&f<i&&c.push(f)}for(d=0;d<c.length;d++){var h=br(e,0,n,r,o,c[d]);h<s&&(s=h),h>u&&(u=h)}var p=function(e,t,n){return Math.atan(t/(e*Math.tan(n)))}(n,r,o),v=1/0,g=-1/0,m=[i,a];for(d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var y=p+d;i<a?i<y&&y<a&&m.push(y):a<y&&y<i&&m.push(y)}for(d=0;d<m.length;d++){var b=Cr(0,t,n,r,o,m[d]);b<v&&(v=b),b>g&&(g=b)}return{x:s,y:v,width:u-s,height:g-v}};var xr=function(e){return function(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],o=e[n+1];t+=tr(r[0],r[1],o[0],o[1])}return t}(e)};function Sr(e,t){return e&&t?{minX:Math.min(e.minX,t.minX),minY:Math.min(e.minY,t.minY),maxX:Math.max(e.maxX,t.maxX),maxY:Math.max(e.maxY,t.maxY)}:e||t}function Er(e,t){var n=e.get("startArrowShape"),r=e.get("endArrowShape");return n&&(t=Sr(t,n.getCanvasBBox())),r&&(t=Sr(t,r.getCanvasBBox())),t}var Ir=null;function Or(){if(!Ir){var e=document.createElement("canvas");e.width=1,e.height=1,Ir=e.getContext("2d")}return Ir}function Lr(e,t,n){var r=1;if(b(e)&&(r=e.split("\n").length),r>1){var o=function(e,t){return t?t-e:.14*e}(t,n);return t*r+o*(r-1)}return t}function _r(e){var t=e.fontSize,n=e.fontFamily,r=e.fontWeight;return[e.fontStyle,e.fontVariant,r,t+"px",n].join(" ").trim()}var Tr=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Mr=/[^\s\,]+/gi;var Rr="\t\n\v\f\r   ᠎             　\u2028\u2029",Nr=new RegExp("([a-z])["+Rr+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Rr+"]*,?["+Rr+"]*)+)","ig"),Ar=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Rr+"]*,?["+Rr+"]*","ig");var Dr=/[a-z]/;function Br(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function kr(e){var t=function(e){if(!e)return null;if(h(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(Nr,(function(e,r,o){var i=[],a=r.toLowerCase();if(o.replace(Ar,(function(e,t){t&&i.push(+t)})),"m"===a&&i.length>2&&(n.push([r].concat(i.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===i.length&&n.push([r,i[0]]),"r"===a)n.push([r].concat(i));else for(;i.length>=t[a]&&(n.push([r].concat(i.splice(0,t[a]))),t[a]););return""})),n}(e);if(!t||!t.length)return[["M",0,0]];for(var n=!1,r=0;r<t.length;r++){var o=t[r][0];if(Dr.test(o)||["V","H","T","S"].indexOf(o)>=0){n=!0;break}}if(!n)return t;var i=[],a=0,l=0,s=0,u=0,c=0,d=t[0];"M"!==d[0]&&"m"!==d[0]||(s=a=+d[1],u=l=+d[2],c++,i[0]=["M",a,l]);r=c;for(var f=t.length;r<f;r++){var p=t[r],v=i[r-1],g=[],m=(o=p[0]).toUpperCase();if(o!==m)switch(g[0]=m,m){case"A":g[1]=p[1],g[2]=p[2],g[3]=p[3],g[4]=p[4],g[5]=p[5],g[6]=+p[6]+a,g[7]=+p[7]+l;break;case"V":g[1]=+p[1]+l;break;case"H":g[1]=+p[1]+a;break;case"M":s=+p[1]+a,u=+p[2]+l,g[1]=s,g[2]=u;break;default:for(var y=1,b=p.length;y<b;y++)g[y]=+p[y]+(y%2?a:l)}else g=t[r];switch(m){case"Z":a=+s,l=+u;break;case"H":g=["L",a=g[1],l];break;case"V":g=["L",a,l=g[1]];break;case"T":a=g[1],l=g[2];var C=Br([v[1],v[2]],[v[3],v[4]]);g=["Q",C[0],C[1],a,l];break;case"S":a=g[g.length-2],l=g[g.length-1];var w=v.length,x=Br([v[w-4],v[w-3]],[v[w-2],v[w-1]]);g=["C",x[0],x[1],g[1],g[2],a,l];break;case"M":s=g[g.length-2],u=g[g.length-1];break;default:a=g[g.length-2],l=g[g.length-1]}i.push(g)}return i}function Pr(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function zr(e,t){return Pr(e)*Pr(t)?(e[0]*t[0]+e[1]*t[1])/(Pr(e)*Pr(t)):1}function Fr(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(zr(e,t))}function Hr(e,t){return e[0]===t[0]&&e[1]===t[1]}function $r(e,t){var n=t[1],r=t[2],o=w(S(t[3]),2*Math.PI),i=t[4],a=t[5],l=e[0],s=e[1],u=t[6],c=t[7],d=Math.cos(o)*(l-u)/2+Math.sin(o)*(s-c)/2,f=-1*Math.sin(o)*(l-u)/2+Math.cos(o)*(s-c)/2,h=d*d/(n*n)+f*f/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(f*f)+r*r*(d*d),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;i===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*f/r:0,m=n?v*-r*d/n:0,y=(l+u)/2+Math.cos(o)*g-Math.sin(o)*m,b=(s+c)/2+Math.sin(o)*g+Math.cos(o)*m,C=[(d-g)/n,(f-m)/r],x=[(-1*d-g)/n,(-1*f-m)/r],E=Fr([1,0],C),I=Fr(C,x);return zr(C,x)<=-1&&(I=Math.PI),zr(C,x)>=1&&(I=0),0===a&&I>0&&(I-=2*Math.PI),1===a&&I<0&&(I+=2*Math.PI),{cx:y,cy:b,rx:Hr(e,[u,c])?0:n,ry:Hr(e,[u,c])?0:r,startAngle:E,endAngle:E+I,xRotation:o,arcFlag:i,sweepFlag:a}}function jr(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function Wr(e){e=function(e){var t=e||[];return h(t)?t:b(t)?(v(t=t.match(Tr),(function(e,n){if((e=e.match(Mr))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}v(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0}(e);for(var t=[],n=null,r=null,o=null,i=0,a=e.length,l=0;l<a;l++){var s=e[l];r=e[l+1];var u=s[0],c={command:u,prePoint:n,params:s,startTangent:null,endTangent:null};switch(u){case"M":o=[s[1],s[2]],i=l;break;case"A":var d=$r(n,s);c.arcParams=d}if("Z"===u)n=o,r=e[i+1];else{var f=s.length;n=[s[f-2],s[f-1]]}r&&"Z"===r[0]&&(r=e[i],t[i]&&(t[i].prePoint=n)),c.currentPoint=n,t[i]&&Hr(n,t[i].currentPoint)&&(t[i].prePoint=c.prePoint);var p=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=p;var g=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[g[0]-n[0],g[1]-n[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]];else if("Q"===u){var m=[s[1],s[2]];c.startTangent=[g[0]-m[0],g[1]-m[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]]}else if("T"===u){m=jr((w=t[l-1]).currentPoint,g);"Q"===w.command?(c.command="Q",c.startTangent=[g[0]-m[0],g[1]-m[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]]):(c.command="TL",c.startTangent=[g[0]-n[0],g[1]-n[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]])}else if("C"===u){var y=[s[1],s[2]],C=[s[3],s[4]];c.startTangent=[g[0]-y[0],g[1]-y[1]],c.endTangent=[n[0]-C[0],n[1]-C[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[y[0]-C[0],y[1]-C[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[C[0]-y[0],C[1]-y[1]])}else if("S"===u){var w;y=jr((w=t[l-1]).currentPoint,g),C=[s[1],s[2]];"C"===w.command?(c.command="C",c.startTangent=[g[0]-y[0],g[1]-y[1]],c.endTangent=[n[0]-C[0],n[1]-C[1]]):(c.command="SQ",c.startTangent=[g[0]-C[0],g[1]-C[1]],c.endTangent=[n[0]-C[0],n[1]-C[1]])}else if("A"===u){var x=.001,S=c.arcParams||{},E=S.cx,I=void 0===E?0:E,O=S.cy,L=void 0===O?0:O,_=S.rx,T=void 0===_?0:_,M=S.ry,R=void 0===M?0:M,N=S.sweepFlag,A=void 0===N?0:N,D=S.startAngle,B=void 0===D?0:D,k=S.endAngle,P=void 0===k?0:k;0===A&&(x*=-1);var z=T*Math.cos(B-x)+I,F=R*Math.sin(B-x)+L;c.startTangent=[z-o[0],F-o[1]];var H=T*Math.cos(B+P+x)+I,$=R*Math.sin(B+P-x)+L;c.endTangent=[g[0]-H,g[1]-$]}t.push(c)}return t}function Gr(e,t){var n,r,o,i=e.prePoint,a=e.currentPoint,l=e.nextPoint,s=Math.pow(a[0]-i[0],2)+Math.pow(a[1]-i[1],2),u=Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2),c=Math.pow(i[0]-l[0],2)+Math.pow(i[1]-l[1],2),d=Math.acos((s+u-c)/(2*Math.sqrt(s)*Math.sqrt(u)));if(!d||0===Math.sin(d)||(n=d,r=0,void 0===o&&(o=1e-5),Math.abs(n-r)<o))return{xExtra:0,yExtra:0};var f=Math.abs(Math.atan2(l[1]-a[1],l[0]-a[0])),h=Math.abs(Math.atan2(l[0]-a[0],l[1]-a[1]));return f=f>Math.PI/2?Math.PI-f:f,h=h>Math.PI/2?Math.PI-h:h,{xExtra:Math.cos(d/2-f)*(t/2*(1/Math.sin(d/2)))-t/2||0,yExtra:Math.cos(h-d/2)*(t/2*(1/Math.sin(d/2)))-t/2||0}}function Zr(e,t,n,r){var o=e-n,i=t-r;return Math.sqrt(o*o+i*i)}function Vr(e,t,n,r,o,i){return o>=e&&o<=e+n&&i>=t&&i<=t+r}function Ur(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)}function Yr(e,t){return e[0]===t[0]&&e[1]===t[1]}qn("rect",Kn),qn("image",Kn),qn("circle",Qn),qn("marker",Qn),qn("polyline",(function(e){for(var t=e.attr().points,n=[],r=[],o=0;o<t.length;o++){var i=t[o];n.push(i[0]),r.push(i[1])}var a=rr(n,r),l=a.x,s=a.y,u={minX:l,minY:s,maxX:l+a.width,maxY:s+a.height};return{x:(u=Er(e,u)).minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}})),qn("polygon",(function(e){for(var t=e.attr().points,n=[],r=[],o=0;o<t.length;o++){var i=t[o];n.push(i[0]),r.push(i[1])}return rr(n,r)})),qn("text",(function(e){var t=e.attr(),n=t.x,r=t.y,o=t.text,i=t.fontSize,a=t.lineHeight,l=t.font;l||(l=_r(t));var s,u=function(e,t){var n=Or(),r=0;return f(e)||""===e||(n.save(),n.font=t,b(e)&&e.includes("\n")?v(e.split("\n"),(function(e){var t=n.measureText(e).width;r<t&&(r=t)})):r=n.measureText(e).width,n.restore()),r}(o,l);if(u){var c=t.textAlign,d=t.textBaseline,h=Lr(o,i,a),p={x:n,y:r-h};c&&("end"===c||"right"===c?p.x-=u:"center"===c&&(p.x-=u/2)),d&&("top"===d?p.y+=h:"middle"===d&&(p.y+=h/2)),s={x:p.x,y:p.y,width:u,height:h}}else s={x:n,y:r,width:0,height:0};return s})),qn("path",(function(e){var t=e.attr(),n=t.path,r=t.stroke?t.lineWidth:0,o=function(e,t){for(var n=[],r=[],o=[],i=0;i<e.length;i++){var a=(v=e[i]).currentPoint,l=v.params,s=v.prePoint,u=void 0;switch(v.command){case"Q":u=fr.box(s[0],s[1],l[1],l[2],l[3],l[4]);break;case"C":u=yr.box(s[0],s[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var c=v.arcParams;u=wr(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:n.push(a[0]),r.push(a[1])}u&&(v.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height)),t&&("L"===v.command||"M"===v.command)&&v.prePoint&&v.nextPoint&&o.push(v)}n=n.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0})),r=r.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0}));var d=y(n),f=y(r),h=m(n),p=m(r);if(0===o.length)return{x:d,y:f,width:h-d,height:p-f};for(i=0;i<o.length;i++){var v;(a=(v=o[i]).currentPoint)[0]===d?d-=Gr(v,t).xExtra:a[0]===h&&(h+=Gr(v,t).xExtra),a[1]===f?f-=Gr(v,t).yExtra:a[1]===p&&(p+=Gr(v,t).yExtra)}return{x:d,y:f,width:h-d,height:p-f}}(e.get("segments")||Wr(n),r),i=o.x,a=o.y,l={minX:i,minY:a,maxX:i+o.width,maxY:a+o.height};return{x:(l=Er(e,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}})),qn("line",(function(e){var t=e.attr(),n=t.x1,r=t.y1,o=t.x2,i=t.y2,a={minX:Math.min(n,o),maxX:Math.max(n,o),minY:Math.min(r,i),maxY:Math.max(r,i)};return{x:(a=Er(e,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),qn("ellipse",(function(e){var t=e.attr(),n=t.x,r=t.y,o=t.rx,i=t.ry;return{x:n-o,y:r-i,width:2*o,height:2*i}}));var Xr=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,qr=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Kr=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Qr=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Jr(e,t){v(e.match(Qr),(function(e){var n=e.split(":");t.addColorStop(n[0],n[1])}))}function eo(e,t,n){var r=t.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if(b(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(e,t,n){var r,o,i=Xr.exec(n),a=parseFloat(i[1])%360*(Math.PI/180),l=i[2],s=t.getBBox();a>=0&&a<.5*Math.PI?(r={x:s.minX,y:s.minY},o={x:s.maxX,y:s.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:s.maxX,y:s.minY},o={x:s.minX,y:s.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:s.maxX,y:s.maxY},o={x:s.minX,y:s.minY}):(r={x:s.minX,y:s.maxY},o={x:s.maxX,y:s.minY});var u=Math.tan(a),c=u*u,d=(o.x-r.x+u*(o.y-r.y))/(c+1)+r.x,f=u*(o.x-r.x+u*(o.y-r.y))/(c+1)+r.y,h=e.createLinearGradient(r.x,r.y,d,f);return Jr(l,h),h}(e,t,n);if("r"===n[0])return function(e,t,n){var r=qr.exec(n),o=parseFloat(r[1]),i=parseFloat(r[2]),a=parseFloat(r[3]),l=r[4];if(0===a){var s=l.match(Qr);return s[s.length-1].split(":")[1]}var u=t.getBBox(),c=u.maxX-u.minX,d=u.maxY-u.minY,f=Math.sqrt(c*c+d*d)/2,h=e.createRadialGradient(u.minX+c*o,u.minY+d*i,0,u.minX+c/2,u.minY+d/2,a*f);return Jr(l,h),h}(e,t,n);if("p"===n[0])return function(e,t,n){if(t.get("patternSource")&&t.get("patternSource")===n)return t.get("pattern");var r,o,i=Kr.exec(n),a=i[1],l=i[2];function s(){r=e.createPattern(o,a),t.set("pattern",r),t.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;default:a="no-repeat"}return o=new Image,l.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=l,o.complete?s():(o.onload=s,o.src=o.src),r}(e,t,n)}return n}return n instanceof CanvasPattern?n:void 0}function to(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function no(e,t){return to(e)*to(t)?(e[0]*t[0]+e[1]*t[1])/(to(e)*to(t)):1}function ro(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(no(e,t))}function oo(e,t){var n=t[1],r=t[2],o=w(S(t[3]),2*Math.PI),i=t[4],a=t[5],l=e[0],s=e[1],u=t[6],c=t[7],d=Math.cos(o)*(l-u)/2+Math.sin(o)*(s-c)/2,f=-1*Math.sin(o)*(l-u)/2+Math.cos(o)*(s-c)/2,h=d*d/(n*n)+f*f/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(f*f)+r*r*(d*d),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;i===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*f/r:0,m=n?v*-r*d/n:0,y=(l+u)/2+Math.cos(o)*g-Math.sin(o)*m,b=(s+c)/2+Math.sin(o)*g+Math.cos(o)*m,C=[(d-g)/n,(f-m)/r],x=[(-1*d-g)/n,(-1*f-m)/r],E=ro([1,0],C),I=ro(C,x);return no(C,x)<=-1&&(I=Math.PI),no(C,x)>=1&&(I=0),0===a&&I>0&&(I-=2*Math.PI),1===a&&I<0&&(I+=2*Math.PI),{cx:y,cy:b,rx:Yr(e,[u,c])?0:n,ry:Yr(e,[u,c])?0:r,startAngle:E,endAngle:E+I,xRotation:o,arcFlag:i,sweepFlag:a}}var io=Math.sin,ao=Math.cos,lo=Math.atan2,so=Math.PI;function uo(e,t,n,r,o,i,a){var l=t.stroke,s=t.lineWidth,u=lo(r-i,n-o),c=new Qo({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*ao(so/6)+","+10*io(so/6)+" L0,0 L"+10*ao(so/6)+",-"+10*io(so/6),stroke:l,lineWidth:s}});c.translate(o,i),c.rotateAtPoint(o,i,u),e.set(a?"startArrowShape":"endArrowShape",c)}function co(e,t,n,r,o,i,a){var s=t.startArrow,u=t.endArrow,c=t.stroke,d=t.lineWidth,f=a?s:u,h=f.d,p=f.fill,v=f.stroke,g=f.lineWidth,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(f,["d","fill","stroke","lineWidth"]),y=lo(r-i,n-o);h&&(o-=ao(y)*h,i-=io(y)*h);var b=new Qo({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:l(l({},m),{stroke:v||c,lineWidth:g||d,fill:p})});b.translate(o,i),b.rotateAtPoint(o,i,y),e.set(a?"startArrowShape":"endArrowShape",b)}function fo(e,t,n,r,o){var i=lo(r-t,n-e);return{dx:ao(i)*o,dy:io(i)*o}}function ho(e,t,n,r,o,i){"object"==typeof t.startArrow?co(e,t,n,r,o,i,!0):t.startArrow?uo(e,t,n,r,o,i,!0):e.set("startArrowShape",null)}function po(e,t,n,r,o,i){"object"==typeof t.endArrow?co(e,t,n,r,o,i,!1):t.endArrow?uo(e,t,n,r,o,i,!1):e.set("startArrowShape",null)}var vo={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function go(e,t){var n=t.attr();for(var r in n){var o=n[r],i=vo[r]?vo[r]:r;"matrix"===i&&o?e.transform(o[0],o[1],o[3],o[4],o[6],o[7]):"lineDash"===i&&e.setLineDash?h(o)&&e.setLineDash(o):("strokeStyle"===i||"fillStyle"===i?o=eo(e,t,o):"globalAlpha"===i&&(o*=e.globalAlpha),e[i]=o)}}function mo(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];o.cfg.visible?o.draw(e,n):o.skipDraw()}}function yo(e,t,n){var r=e.get("refreshElements");v(r,(function(t){if(t!==e)for(var n=t.cfg.parent;n&&n!==e&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===e?wo(t):bo(t,n)}function bo(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&wo(r.cfg.children);else if(r.cfg.refresh)r.isGroup()&&bo(r.cfg.children,t);else{var o=xo(r,t);r.cfg.refresh=o,o&&r.isGroup()&&bo(r.cfg.children,t)}}}function Co(e){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&Co(n.cfg.children)}}function wo(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.refresh=!0,r.isGroup()&&wo(r.get("children"))}}function xo(e,t){var n=e.cfg.cacheCanvasBBox;return e.cfg.isInView&&n&&Ur(n,t)}function So(e,t,n,r){var o=n.path,i=n.startArrow,a=n.endArrow;if(o){var l=[0,0],s=[0,0],u={dx:0,dy:0};t.beginPath();for(var c=0;c<o.length;c++){var d=o[c],f=d[0];if(0===c&&i&&i.d)u=fo((h=e.getStartTangent())[0][0],h[0][1],h[1][0],h[1][1],i.d);else if(c===o.length-2&&"Z"===o[c+1][0]&&a&&a.d){if("Z"===o[c+1][0])u=fo((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}else if(c===o.length-1&&a&&a.d){var h;if("Z"!==o[0])u=fo((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}var p=u.dx,v=u.dy;switch(f){case"M":t.moveTo(d[1]-p,d[2]-v),s=[d[1],d[2]];break;case"L":t.lineTo(d[1]-p,d[2]-v);break;case"Q":t.quadraticCurveTo(d[1],d[2],d[3]-p,d[4]-v);break;case"C":t.bezierCurveTo(d[1],d[2],d[3],d[4],d[5]-p,d[6]-v);break;case"A":var g=void 0;r?(g=r[c])||(g=oo(l,d),r[c]=g):g=oo(l,d);var m=g.cx,y=g.cy,b=g.rx,C=g.ry,w=g.startAngle,x=g.endAngle,S=g.xRotation,E=g.sweepFlag;if(t.ellipse)t.ellipse(m,y,b,C,S,w,x,1-E);else{var I=b>C?b:C,O=b>C?1:b/C,L=b>C?C/b:1;t.translate(m,y),t.rotate(S),t.scale(O,L),t.arc(0,0,I,w,x,1-E),t.scale(1/O,1/L),t.rotate(-S),t.translate(-m,-y)}break;case"Z":t.closePath()}if("Z"===f)l=s;else{var _=d.length;l=[d[_-2],d[_-1]]}}}}function Eo(e,t){var n=e.get("canvas");n&&("remove"===t&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(n.refreshElement(e,t,n),n.get("autoDraw")&&n.draw())))}function Io(e){var t,n,r;if(e.destroyed)t=e._cacheCanvasBBox;else{var o=e.get("cacheCanvasBBox"),i=o&&!(!o.width||!o.height),a=e.getCanvasBBox(),l=a&&!(!a.width||!a.height);i&&l?(r=a,t=(n=o)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):i?t=o:l&&(t=a)}return t}var Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onCanvasChange=function(e){Eo(this,e)},t.prototype.getShapeBase=function(){return o},t.prototype.getGroupBase=function(){return t},t.prototype._applyClip=function(e,t){t&&(e.save(),go(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.cacheCanvasBBox=function(){var e=this.cfg.children,t=[],n=[];v(e,(function(e){var r=e.cfg.cacheCanvasBBox;r&&e.cfg.isInView&&(t.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(t.length){var o=y(t),i=m(t),a=y(n),l=m(n);r={minX:o,minY:a,x:o,y:a,maxX:i,maxY:l,width:i-o,height:l-a};var s=this.cfg.canvas;if(s){var u=s.getViewRange();this.set("isInView",Ur(r,u))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},t.prototype.draw=function(e,t){var n=this.cfg.children,r=!t||this.cfg.refresh;n.length&&r&&(e.save(),go(e,this),this._applyClip(e,this.getClip()),mo(e,n,t),e.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},t}(Un),Lo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.getShapeBase=function(){return o},t.prototype.getGroupBase=function(){return Oo},t.prototype.onCanvasChange=function(e){Eo(this,e)},t.prototype.calculateBBox=function(){var e=this.get("type"),t=this.getHitLineWidth(),n=function(e){return Xn.get(e)}(e),r=n(this),o=t/2,i=r.x-o,a=r.y-o,l=r.x+r.width+o,s=r.y+r.height+o;return{x:i,minX:i,y:a,minY:a,width:r.width+t,height:r.height+t,maxX:l,maxY:s}},t.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},t.prototype.isStroke=function(){return!!this.attrs.stroke},t.prototype._applyClip=function(e,t){t&&(e.save(),go(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.draw=function(e,t){var n=this.cfg.clipShape;if(t){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!Ur(t,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}e.save(),go(e,this),this._applyClip(e,n),this.drawPath(e),e.restore(),this._afterDraw()},t.prototype.getCanvasViewBox=function(){var e=this.cfg.canvas;return e?e.getViewRange():null},t.prototype.cacheCanvasBBox=function(){var e=this.getCanvasViewBox();if(e){var t=this.getCanvasBBox(),n=Ur(t,e);this.set("isInView",n),n?this.set("cacheCanvasBBox",t):this.set("cacheCanvasBBox",null)}},t.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},t.prototype.drawPath=function(e){this.createPath(e),this.strokeAndFill(e),this.afterDrawPath(e)},t.prototype.fill=function(e){e.fill()},t.prototype.stroke=function(e){e.stroke()},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,o=t.strokeOpacity,i=t.fillOpacity;this.isFill()&&(f(i)||1===i?this.fill(e):(e.globalAlpha=i,this.fill(e),e.globalAlpha=r)),this.isStroke()&&n>0&&(f(o)||1===o||(e.globalAlpha=o),this.stroke(e)),this.afterDrawPath(e)},t.prototype.createPath=function(e){},t.prototype.afterDrawPath=function(e){},t.prototype.isInShape=function(e,t){var n=this.isStroke(),r=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(e,t,n,r,o)},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){return!1},t.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var e=this.attrs;return e.lineWidth+e.lineAppendWidth},t}(Yn),_o=Lo,To=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{x:0,y:0,r:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.attr(),a=i.x,l=i.y,s=i.r,u=o/2,c=Zr(a,l,e,t);return r&&n?c<=s+u:r?c<=s:!!n&&(c>=s-u&&c<=s+u)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,o=t.r;e.beginPath(),e.arc(n,r,o,0,2*Math.PI,!1),e.closePath()},t}(_o),Mo=To;function Ro(e,t,n,r){return e/(n*n)+t/(r*r)}var No=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.attr(),a=o/2,l=i.x,s=i.y,u=i.rx,c=i.ry,d=(e-l)*(e-l),f=(t-s)*(t-s);return r&&n?Ro(d,f,u+a,c+a)<=1:r?Ro(d,f,u,c)<=1:!!n&&(Ro(d,f,u-a,c-a)>=1&&Ro(d,f,u+a,c+a)<=1)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,o=t.rx,i=t.ry;if(e.beginPath(),e.ellipse)e.ellipse(n,r,o,i,0,0,2*Math.PI,!1);else{var a=o>i?o:i,l=o>i?1:o/i,s=o>i?i/o:1;e.save(),e.translate(n,r),e.scale(l,s),e.arc(0,0,a,0,2*Math.PI),e.restore(),e.closePath()}},t}(_o),Ao=No;function Do(e){return e instanceof HTMLElement&&b(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase()}var Bo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{x:0,y:0,width:0,height:0})},t.prototype.initAttrs=function(e){this._setImage(e.img)},t.prototype.isStroke=function(){return!1},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var e=this.get("canvas");e?e.draw():this.createPath(this.get("context"))}},t.prototype._setImage=function(e){var t=this,n=this.attrs;if(b(e)){var r=new Image;r.onload=function(){if(t.destroyed)return!1;t.attr("img",r),t.set("loading",!1),t._afterLoading();var e=t.get("callback");e&&e.call(t)},r.crossOrigin="Anonymous",r.src=e,this.set("loading",!0)}else e instanceof Image?(n.width||(n.width=e.width),n.height||(n.height=e.height)):Do(e)&&(n.width||(n.width=Number(e.getAttribute("width"))),n.height||(n.height,Number(e.getAttribute("height"))))},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"img"===t&&this._setImage(n)},t.prototype.createPath=function(e){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",e);var t=this.attr(),n=t.x,r=t.y,o=t.width,i=t.height,a=t.sx,l=t.sy,s=t.swidth,u=t.sheight,c=t.img;(c instanceof Image||Do(c))&&(f(a)||f(l)||f(s)||f(u)?e.drawImage(c,n,r,o,i):e.drawImage(c,a,l,s,u,n,r,o,i))},t}(_o),ko=Bo;function Po(e,t,n,r,o,i,a){var l=Math.min(e,n),s=Math.max(e,n),u=Math.min(t,r),c=Math.max(t,r),d=o/2;return i>=l-d&&i<=s+d&&a>=u-d&&a<=c+d&&ir.pointToLine(e,t,n,r,i,a)<=o/2}var zo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow()},t.prototype.setArrow=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,o=e.y2,i=e.startArrow,a=e.endArrow;i&&ho(this,e,r,o,t,n),a&&po(this,e,t,n,r,o)},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){if(!n||!o)return!1;var i=this.attr();return Po(i.x1,i.y1,i.x2,i.y2,o,e,t)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x1,r=t.y1,o=t.x2,i=t.y2,a=t.startArrow,l=t.endArrow,s={dx:0,dy:0},u={dx:0,dy:0};a&&a.d&&(s=fo(n,r,o,i,t.startArrow.d)),l&&l.d&&(u=fo(n,r,o,i,t.endArrow.d)),e.beginPath(),e.moveTo(n+s.dx,r+s.dy),e.lineTo(o-u.dx,i-u.dy)},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,o=e.y2;return ir.length(t,n,r,o)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,o=t.x2,i=t.y2;return ir.pointAt(n,r,o,i,e)},t}(_o),Fo=zo,Ho={circle:function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]},"triangle-down":function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},$o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.initAttrs=function(e){this._resetParamsCache()},t.prototype._resetParamsCache=function(){this.set("paramsCache",{})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._getR=function(e){return f(e.r)?e.radius:e.r},t.prototype._getPath=function(){var e,n,r=this.attr(),o=r.x,i=r.y,a=r.symbol||"circle",l=this._getR(r);if(d(a))n=kr(n=(e=a)(o,i,l));else{if(!(e=t.Symbols[a]))return console.warn(a+" marker is not supported."),null;n=e(o,i,l)}return n},t.prototype.createPath=function(e){So(this,e,{path:this._getPath()},this.get("paramsCache"))},t.Symbols=Ho,t}(_o),jo=$o;function Wo(e,t,n){var r=Or();return e.createPath(r),r.isPointInPath(t,n)}function Go(e){return Math.abs(e)<1e-6?0:e<0?-1:1}function Zo(e,t,n){return(n[0]-e[0])*(t[1]-e[1])==(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function Vo(e,t,n){var r=!1,o=e.length;if(o<=2)return!1;for(var i=0;i<o;i++){var a=e[i],l=e[(i+1)%o];if(Zo(a,l,[t,n]))return!0;Go(a[1]-n)>0!=Go(l[1]-n)>0&&Go(t-(n-a[1])*(a[0]-l[0])/(a[1]-l[1])-a[0])<0&&(r=!r)}return r}function Uo(e,t,n,r,o,i,a,l){var s=(Math.atan2(l-t,a-e)+2*Math.PI)%(2*Math.PI);if(s<r||s>o)return!1;var u={x:e+n*Math.cos(s),y:t+n*Math.sin(s)};return Zr(u.x,u.y,a,l)<=i/2}var Yo=ze;var Xo=l({hasArc:function(e){for(var t=!1,n=e.length,r=0;r<n;r++){var o=e[r][0];if("C"===o||"A"===o||"Q"===o){t=!0;break}}return t},extractPolygons:function(e){for(var t=e.length,n=[],r=[],o=[],i=0;i<t;i++){var a=e[i],l=a[0];"M"===l?(o.length&&(r.push(o),o=[]),o.push([a[1],a[2]])):"Z"===l?o.length&&(n.push(o),o=[]):o.push([a[1],a[2]])}return o.length>0&&r.push(o),{polygons:n,polylines:r}},isPointInStroke:function(e,t,n,r,o){for(var i=!1,a=t/2,l=0;l<e.length;l++){var s=e[l],u=s.currentPoint,c=s.params,d=s.prePoint,f=s.box;if(!f||Vr(f.x-a,f.y-a,f.width+t,f.height+t,n,r)){switch(s.command){case"L":case"Z":i=Po(d[0],d[1],u[0],u[1],t,n,r);break;case"Q":i=fr.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],n,r)<=t/2;break;case"C":i=yr.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,o)<=t/2;break;case"A":var h=s.arcParams,p=h.cx,v=h.cy,g=h.rx,m=h.ry,y=h.startAngle,b=h.endAngle,C=h.xRotation,w=[n,r,1],x=g>m?g:m;Ae(w,w,Yo(null,[["t",-p,-v],["r",-C],["s",1/(g>m?1:g/m),1/(g>m?m/g:1)]])),i=Uo(0,0,x,y,b,t,w[0],w[1])}if(i)break}}return i}},ce);function qo(e,t,n){for(var r=!1,o=0;o<e.length;o++){if(r=Vo(e[o],t,n))break}return r}var Ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this._setPathArr(e.path),this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"path"===t&&this._setPathArr(n),this.setArrow()},t.prototype._setPathArr=function(e){this.attrs.path=kr(e);var t=Xo.hasArc(e);this.set("hasArc",t),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},t.prototype.getSegments=function(){var e=this.get("segements");return e||(e=Wr(this.attr("path")),this.set("segments",e)),e},t.prototype.setArrow=function(){var e,t=this.attr(),n=t.startArrow,r=t.endArrow;n&&ho(this,t,(e=this.getStartTangent())[0][0],e[0][1],e[1][0],e[1][1]);r&&po(this,t,(e=this.getEndTangent())[0][0],e[0][1],e[1][0],e[1][1])},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.getSegments(),a=this.get("hasArc"),l=!1;if(n){var s=this.getTotalLength();l=Xo.isPointInStroke(i,o,e,t,s)}if(!l&&r)if(a)l=Wo(this,e,t);else{var u=this.attr("path"),c=Xo.extractPolygons(u);l=qo(c.polygons,e,t)||qo(c.polylines,e,t)}return l},t.prototype.createPath=function(e){So(this,e,this.attr(),this.get("paramsCache"))},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.get("totalLength");return f(e)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):e},t.prototype.getPoint=function(e){var t,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var o=this.get("curve");if(!r||0===r.length)return o?{x:o[0][1],y:o[0][2]}:null;v(r,(function(r,o){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=o)}));var i=o[n];if(f(i)||f(n))return null;var a=i.length,l=o[n+1];return yr.pointAt(i[a-2],i[a-1],l[1],l[2],l[3],l[4],l[5],l[6],t)},t.prototype._calculateCurve=function(){var e=this.attr().path;this.set("curve",Xo.pathToCurve(e))},t.prototype._setTcache=function(){var e,t,n,r,o=0,i=0,a=[],l=this.get("curve");l&&(v(l,(function(e,t){n=l[t+1],r=e.length,n&&(o+=yr.length(e[r-2],e[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",o),0!==o?(v(l,(function(s,u){n=l[u+1],r=s.length,n&&((e=[])[0]=i/o,t=yr.length(s[r-2],s[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),i+=t||0,e[1]=i/o,a.push(e))})),this.set("tCache",a)):this.set("tCache",[]))},t.prototype.getStartTangent=function(){var e,t=this.getSegments();if(t.length>1){var n=t[0].currentPoint,r=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([r[0],r[1]]),e.push([n[0],n[1]]))}return e},t.prototype.getEndTangent=function(){var e,t=this.getSegments(),n=t.length;if(n>1){var r=t[n-2].currentPoint,o=t[n-1].currentPoint,i=t[n-1].endTangent;e=[],i?(e.push([o[0]-i[0],o[1]-i[1]]),e.push([o[0],o[1]])):(e.push([r[0],r[1]]),e.push([o[0],o[1]]))}return e},t}(_o),Qo=Ko;function Jo(e,t,n,r,o){var i=e.length;if(i<2)return!1;for(var a=0;a<i-1;a++){if(Po(e[a][0],e[a][1],e[a+1][0],e[a+1][1],t,n,r))return!0}if(o){var l=e[0],s=e[i-1];if(Po(l[0],l[1],s[0],s[1],t,n,r))return!0}return!1}var ei=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.attr().points,a=!1;return n&&(a=Jo(i,o,e,t,!0)),!a&&r&&(a=Vo(i,e,t)),a},t.prototype.createPath=function(e){var t=this.attr().points;if(!(t.length<2)){e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];0===n?e.moveTo(r[0],r[1]):e.lineTo(r[0],r[1])}e.closePath()}},t}(_o),ti=ei,ni=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.setArrow=function(){var e=this.attr(),t=this.attrs,n=t.points,r=t.startArrow,o=t.endArrow,i=n.length,a=n[0][0],l=n[0][1],s=n[i-1][0],u=n[i-1][1];r&&ho(this,e,n[1][0],n[1][1],a,l),o&&po(this,e,n[i-2][0],n[i-2][1],s,u)},t.prototype.isFill=function(){return!1},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){return!(!n||!o)&&Jo(this.attr().points,o,e,t,!1)},t.prototype.isStroke=function(){return!0},t.prototype.createPath=function(e){var t=this.attr(),n=t.points,r=t.startArrow,o=t.endArrow,i=n.length;if(!(n.length<2)){var a,l=n[0][0],s=n[0][1],u=n[i-1][0],c=n[i-1][1];if(r&&r.d)l+=(a=fo(l,s,n[1][0],n[1][1],r.d)).dx,s+=a.dy;if(o&&o.d)u-=(a=fo(n[i-2][0],n[i-2][1],u,c,o.d)).dx,c-=a.dy;e.beginPath(),e.moveTo(l,s);for(var d=0;d<i-1;d++){var f=n[d];e.lineTo(f[0],f[1])}e.lineTo(u,c)}},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return f(t)?(this.set("totalLength",xr(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,o=this.get("tCache");return o||(this._setTcache(),o=this.get("tCache")),v(o,(function(r,o){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=o)})),ir.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,o=0,i=[];v(e,(function(a,l){e[l+1]&&((n=[])[0]=o/t,r=ir.length(a[0],a[1],e[l+1][0],e[l+1][1]),o+=r,n[1]=o/t,i.push(n))})),this.set("tCache",i)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(_o),ri=ni;var oi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.attr(),a=i.x,l=i.y,s=i.width,u=i.height,c=i.radius;if(c){var d=!1;return n&&(d=function(e,t,n,r,o,i,a,l){return Po(e+o,t,e+n-o,t,i,a,l)||Po(e+n,t+o,e+n,t+r-o,i,a,l)||Po(e+n-o,t+r,e+o,t+r,i,a,l)||Po(e,t+r-o,e,t+o,i,a,l)||Uo(e+n-o,t+o,o,1.5*Math.PI,2*Math.PI,i,a,l)||Uo(e+n-o,t+r-o,o,0,.5*Math.PI,i,a,l)||Uo(e+o,t+r-o,o,.5*Math.PI,Math.PI,i,a,l)||Uo(e+o,t+o,o,Math.PI,1.5*Math.PI,i,a,l)}(a,l,s,u,c,o,e,t)),!d&&r&&(d=Wo(this,e,t)),d}var f=o/2;return r&&n?Vr(a-f,l-f,s+f,u+f,e,t):r?Vr(a,l,s,u,e,t):n?function(e,t,n,r,o,i,a){var l=o/2;return Vr(e-l,t-l,n,o,i,a)||Vr(e+n-l,t-l,o,r,i,a)||Vr(e+l,t+r-l,n,o,i,a)||Vr(e-l,t+l,o,r,i,a)}(a,l,s,u,o,e,t):void 0},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,o=t.width,i=t.height,a=t.radius;if(e.beginPath(),0===a)e.rect(n,r,o,i);else{var l=function(e){var t=0,n=0,r=0,o=0;return h(e)?1===e.length?t=n=r=o=e[0]:2===e.length?(t=r=e[0],n=o=e[1]):3===e.length?(t=e[0],n=o=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],o=e[3]):t=n=r=o=e,[t,n,r,o]}(a),s=l[0],u=l[1],c=l[2],d=l[3];e.moveTo(n+s,r),e.lineTo(n+o-u,r),0!==u&&e.arc(n+o-u,r+u,u,-Math.PI/2,0),e.lineTo(n+o,r+i-c),0!==c&&e.arc(n+o-c,r+i-c,c,0,Math.PI/2),e.lineTo(n+d,r+i),0!==d&&e.arc(n+d,r+i-d,d,Math.PI/2,Math.PI),e.lineTo(n,r+s),0!==s&&e.arc(n+s,r+s,s,Math.PI,1.5*Math.PI),e.closePath()}},t}(_o),ii=oi,ai=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.isOnlyHitBox=function(){return!0},t.prototype.initAttrs=function(e){this._assembleFont(),e.text&&this._setText(e.text)},t.prototype._assembleFont=function(){var e=this.attrs;e.font=_r(e)},t.prototype._setText=function(e){var t=null;b(e)&&-1!==e.indexOf("\n")&&(t=e.split("\n")),this.set("textArr",t)},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(n)},t.prototype._getSpaceingY=function(){var e=this.attrs,t=e.lineHeight,n=1*e.fontSize;return t?t-n:.14*n},t.prototype._drawTextArr=function(e,t,n){var r,o=this.attrs,i=o.textBaseline,a=o.x,l=o.y,s=1*o.fontSize,u=this._getSpaceingY(),c=Lr(o.text,o.fontSize,o.lineHeight);v(t,(function(t,o){r=l+o*(u+s)-c+s,"middle"===i&&(r+=c-s-(c-s)/2),"top"===i&&(r+=c-s),f(t)||(n?e.fillText(t,a,r):e.strokeText(t,a,r))}))},t.prototype._drawText=function(e,t){var n=this.attr(),r=n.x,o=n.y,i=this.get("textArr");if(i)this._drawTextArr(e,i,t);else{var a=n.text;f(a)||(t?e.fillText(a,r,o):e.strokeText(a,r,o))}},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,o=t.strokeOpacity,i=t.fillOpacity;this.isStroke()&&n>0&&(f(o)||1===o||(e.globalAlpha=r),this.stroke(e)),this.isFill()&&(f(i)||1===i?this.fill(e):(e.globalAlpha=i,this.fill(e),e.globalAlpha=r)),this.afterDrawPath(e)},t.prototype.fill=function(e){this._drawText(e,!0)},t.prototype.stroke=function(e){this._drawText(e,!1)},t}(_o),li=ai;function si(e,t,n){var r,o,i=e.getTotalMatrix();if(i){var a=(r=[t,n,1],(o=i)?He($e(o),r):r);return[a[0],a[1]]}return[t,n]}function ui(e,t,n){if(e.isCanvas&&e.isCanvas())return!0;if(!ye(e)||!1===e.cfg.isInView)return!1;if(e.cfg.clipShape){var r=si(e,t,n),o=r[0],i=r[1];if(e.isClipped(o,i))return!1}var a=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return t>=a.minX&&t<=a.maxX&&n>=a.minY&&n<=a.maxY}function ci(e,t,n){if(!ui(e,t,n))return null;for(var r=null,o=e.getChildren(),i=o.length-1;i>=0;i--){var a=o[i];if(a.isGroup())r=ci(a,t,n);else if(ui(a,t,n)){var l=a,s=si(a,t,n),u=s[0],c=s[1];l.isInShape(u,c)&&(r=a)}if(r)break}return r}var di,fi,hi,pi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},t.prototype.onCanvasChange=function(e){"attr"!==e&&"sort"!==e&&"changeSize"!==e||(this.set("refreshElements",[this]),this.draw())},t.prototype.getShapeBase=function(){return o},t.prototype.getGroupBase=function(){return Oo},t.prototype.getPixelRatio=function(){var e=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return e>=1?Math.ceil(e):1},t.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},t.prototype.createDom=function(){var e=document.createElement("canvas"),t=e.getContext("2d");return this.set("context",t),e},t.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var r=this.get("context"),o=this.get("el"),i=this.getPixelRatio();o.width=i*t,o.height=i*n,i>1&&r.scale(i,i)},t.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},t.prototype.getShape=function(t,n){return this.get("quickHit")?ci(this,t,n):e.prototype.getShape.call(this,t,n,null)},t.prototype._getRefreshRegion=function(){var e,t=this.get("refreshElements"),n=this.getViewRange();t.length&&t[0]===this?e=n:(e=function(e){if(!e.length)return null;var t=[],n=[],r=[],o=[];return v(e,(function(e){var i=Io(e);i&&(t.push(i.minX),n.push(i.minY),r.push(i.maxX),o.push(i.maxY))})),{minX:y(t),minY:y(n),maxX:m(r),maxY:m(o)}}(t),e&&(e.minX=Math.floor(e.minX),e.minY=Math.floor(e.minY),e.maxX=Math.ceil(e.maxX),e.maxY=Math.ceil(e.maxY),e.maxY+=1,this.get("clipView")&&(e=function(e,t){return e&&t&&Ur(e,t)?{minX:Math.max(e.minX,t.minX),minY:Math.max(e.minY,t.minY),maxX:Math.min(e.maxX,t.maxX),maxY:Math.min(e.maxY,t.maxY)}:null}(e,n))));return e},t.prototype.refreshElement=function(e){this.get("refreshElements").push(e)},t.prototype._clearFrame=function(){var e,t=this.get("drawFrame");t&&(e=t,(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e),this.set("drawFrame",null),this.set("refreshElements",[]))},t.prototype.draw=function(){var e=this.get("drawFrame");this.get("autoDraw")&&e||this._startDraw()},t.prototype._drawAll=function(){var e=this.get("context"),t=this.get("el"),n=this.getChildren();e.clearRect(0,0,t.width,t.height),go(e,this),mo(e,n),this.set("refreshElements",[])},t.prototype._drawRegion=function(){var e=this.get("context"),t=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(e.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.save(),e.beginPath(),e.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.clip(),go(e,this),yo(this,n,r),mo(e,n,r),e.restore()):t.length&&Co(t),v(t,(function(e){e.get("hasChanged")&&e.set("hasChanged",!1)})),this.set("refreshElements",[])},t.prototype._startDraw=function(){var e,t=this,n=this.get("drawFrame");n||(e=function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)},n=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e),this.set("drawFrame",n))},t.prototype.skipDraw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.width=0,e.height=0,e.parentNode.removeChild(e)},t}(Vn);!function(e){e.DATA_CELL_CLICK_EVENT="interaction:data-cell-click",e.MERGED_CELLS_CLICK_EVENT="interaction:merged-cells-click",e.CORNER_TEXT_CLICK_EVENT="interaction:corner-cell-text-click",e.ROW_COLUMN_CLICK_EVENT="interaction:row-column-click",e.ROW_TEXT_CLICK_EVENT="interaction:row-text-click",e.HOVER_EVENT="interaction:hover",e.TREND_ICON_CLICK="interaction:trend-icon-click"}(di||(di={})),function(e){e.MOUSE_DOWN="mousedown",e.MOUSE_MOVE="mousemove",e.MOUSE_OUT="mouseout",e.MOUSE_LEAVE="mouseleave",e.MOUSE_UP="mouseup",e.KEY_DOWN="keydown",e.KEY_UP="keyup",e.CLICK="click",e.HOVER="hover",e.DOUBLE_CLICK="dblclick",e.CONTEXT_MENU="contextmenu"}(fi||(fi={})),function(e){e.ROW_CELL_HOVER="row-cell:hover",e.ROW_CELL_CLICK="row-cell:click",e.ROW_CELL_DOUBLE_CLICK="row-cell:double-click",e.ROW_CELL_CONTEXT_MENU="row-cell:context-menu",e.ROW_CELL_MOUSE_DOWN="row-cell:mouse-down",e.ROW_CELL_MOUSE_UP="row-cell:mouse-up",e.ROW_CELL_MOUSE_MOVE="row-cell:mouse-move",e.ROW_CELL_COLLAPSE_TREE_ROWS="row-cell:collapsed-tree-rows",e.ROW_CELL_SCROLL="row-cell:scroll",e.ROW_CELL_BRUSH_SELECTION="row-cell:brush-selection",e.COL_CELL_HOVER="col-cell:hover",e.COL_CELL_CLICK="col-cell:click",e.COL_CELL_DOUBLE_CLICK="col-cell:double-click",e.COL_CELL_CONTEXT_MENU="col-cell:context-menu",e.COL_CELL_MOUSE_DOWN="col-cell:mouse-down",e.COL_CELL_MOUSE_UP="col-cell:mouse-up",e.COL_CELL_MOUSE_MOVE="col-cell:mouse-move",e.COL_CELL_BRUSH_SELECTION="col-cell:brush-selection",e.DATA_CELL_HOVER="data-cell:hover",e.DATA_CELL_CLICK="data-cell:click",e.DATA_CELL_DOUBLE_CLICK="data-cell:double-click",e.DATA_CELL_CONTEXT_MENU="data-cell:context-menu",e.DATA_CELL_MOUSE_UP="data-cell:mouse-up",e.DATA_CELL_MOUSE_DOWN="data-cell:mouse-down",e.DATA_CELL_MOUSE_MOVE="data-cell:mouse-move",e.DATA_CELL_TREND_ICON_CLICK="data-cell:trend-icon-click",e.DATA_CELL_BRUSH_SELECTION="data-cell:brush-selection",e.DATA_CELL_SELECT_MOVE="data-cell:select-move",e.CORNER_CELL_HOVER="corner-cell:hover",e.CORNER_CELL_CLICK="corner-cell:click",e.CORNER_CELL_DOUBLE_CLICK="corner-cell:double-click",e.CORNER_CELL_CONTEXT_MENU="corner-cell:context-menu",e.CORNER_CELL_MOUSE_DOWN="corner-cell:mouse-down",e.CORNER_CELL_MOUSE_UP="corner-cell:mouse-up",e.CORNER_CELL_MOUSE_MOVE="corner-cell:mouse-move",e.MERGED_CELLS_HOVER="merged-cells:hover",e.MERGED_CELLS_CLICK="merged-cells:click",e.MERGED_CELLS_DOUBLE_CLICK="merged-cells:double-click",e.MERGED_CELLS_CONTEXT_MENU="merged-cell:context-menu",e.MERGED_CELLS_MOUSE_DOWN="merged-cells:mouse-down",e.MERGED_CELLS_MOUSE_UP="merged-cells:mouse-up",e.MERGED_CELLS_MOUSE_MOVE="merged-cells:mouse-move",e.RANGE_SORT="sort:range-sort",e.RANGE_SORTED="sort:range-sorted",e.RANGE_FILTER="filter:range-filter",e.RANGE_FILTERED="filter:range-filtered",e.LAYOUT_AFTER_HEADER_LAYOUT="layout:after-header-layout",e.LAYOUT_CELL_SCROLL="layout:cell-scroll",e.LAYOUT_PAGINATION="layout:pagination",e.LAYOUT_COLLAPSE_ROWS="layout:collapsed-rows",e.LAYOUT_AFTER_COLLAPSE_ROWS="layout:after-collapsed-rows",e.LAYOUT_AFTER_REAL_DATA_CELL_RENDER="layout:after-real-data-cell-render",e.LAYOUT_TREE_ROWS_COLLAPSE_ALL="layout:toggle-collapse-all",e.LAYOUT_COLS_EXPANDED="layout:table-col-expanded",e.LAYOUT_COLS_HIDDEN="layout:table-col-hidden",e.LAYOUT_AFTER_RENDER="layout:after-render",e.LAYOUT_BEFORE_RENDER="layout:before-render",e.LAYOUT_DESTROY="layout:destroy",e.LAYOUT_RESIZE="layout:resize",e.LAYOUT_RESIZE_SERIES_WIDTH="layout:resize-series-width",e.LAYOUT_RESIZE_ROW_WIDTH="layout:resize-row-width",e.LAYOUT_RESIZE_ROW_HEIGHT="layout:resize-row-height",e.LAYOUT_RESIZE_COL_WIDTH="layout:resize-column-width",e.LAYOUT_RESIZE_COL_HEIGHT="layout:resize-column-height",e.LAYOUT_RESIZE_TREE_WIDTH="layout:resize-tree-width",e.LAYOUT_RESIZE_MOUSE_DOWN="layout:resize:mouse-down",e.LAYOUT_RESIZE_MOUSE_MOVE="layout:resize:mouse-move",e.LAYOUT_RESIZE_MOUSE_UP="layout:resize-mouse-up",e.GLOBAL_KEYBOARD_DOWN="global:keyboard-down",e.GLOBAL_KEYBOARD_UP="global:keyboard-up",e.GLOBAL_COPIED="global:copied",e.GLOBAL_MOUSE_UP="global:mouse-up",e.GLOBAL_MOUSE_MOVE="global:mouse-move",e.GLOBAL_ACTION_ICON_CLICK="global:action-icon-click",e.GLOBAL_ACTION_ICON_HOVER="global:action-icon-hover",e.GLOBAL_ACTION_ICON_HOVER_OFF="global:action-icon-hover-off",e.GLOBAL_CONTEXT_MENU="global:context-menu",e.GLOBAL_CLICK="global:click",e.GLOBAL_DOUBLE_CLICK="global:double-click",e.GLOBAL_SELECTED="global:selected",e.GLOBAL_HOVER="global:hover",e.GLOBAL_RESET="global:reset",e.GLOBAL_LINK_FIELD_JUMP="global:link-field-jump",e.GLOBAL_SCROLL="global:scroll"}(hi||(hi={}));var vi,gi="$$value$$",mi="$$extra$$",yi="$$extra_column$$",bi="$$total$$",Ci="$$series_number$$",wi="mergedCellsGroup",xi="frozenRowGroup",Si="frozenColGroup",Ei="frozenTrailingRowGroup",Ii="frozenTrailingColGroup",Oi="frozenTopGroup",Li="frozenBottomGroup",_i="rowResizeAreaGroup",Ti="rowFrozenResizeAreaGroup",Mi="frozenSplitLine",Ri="rowIndexResizeAreaGroup",Ni="cornerResizeAreaGroup",Ai="colResizeAreaGroup",Di="colFrozenResizeAreaGroup",Bi="gridGroup",ki="horizontal-resize-area-",Pi="root",zi="[&]",Fi="-",Hi=/^root\[&\]*/;!function(e){e.Line="line",e.Bar="bar",e.Bullet="bullet"}(vi||(vi={}));var $i,ji,Wi,Gi="square",Zi="...",Vi="antv-s2",Ui="valueRanges",Yi={},Xi="#000000",qi="#FFFFFF",Ki={data:[],totalData:[],fields:{rows:[],columns:[],values:[],customTreeItems:[],valueInCols:!0},meta:[],sortParams:[],filterParams:[]};!function(e){e.ROW="row",e.COL="col",e.TRAILING_ROW="trailingRow",e.TRAILING_COL="trailingCol",e.SCROLL="scroll",e.TOP="top",e.BOTTOM="bottom"}(ji||(ji={})),function(e){e.FROZEN_COL="frozenCol",e.FROZEN_ROW="frozenRow",e.FROZEN_TRAILING_COL="frozenTrailingCol",e.FROZEN_TRAILING_ROW="frozenTrailingRow"}(Wi||(Wi={}));var Qi,Ji,ea,ta=(($i={})[ji.ROW]="frozenRowGroup",$i[ji.COL]="frozenColGroup",$i[ji.TRAILING_COL]="frozenTrailingColGroup",$i[ji.TRAILING_ROW]="frozenTrailingRowGroup",$i[ji.SCROLL]="panelScrollGroup",$i[ji.TOP]="frozenTopGroup",$i[ji.BOTTOM]="frozenBottomGroup",$i);!function(e){e.CORNER_CELL_CLICK="cornerCellClick",e.DATA_CELL_CLICK="dataCellClick",e.MERGED_CELLS_CLICK="mergedCellsClick",e.ROW_COLUMN_CLICK="rowColumnClick",e.ROW_TEXT_CLICK="rowTextClick",e.HOVER="hover",e.BRUSH_SELECTION="brushSelection",e.ROW_BRUSH_SELECTION="rowBrushSelection",e.COL_BRUSH_SELECTION="colBrushSelection",e.COL_ROW_RESIZE="rowColResize",e.DATA_CELL_MULTI_SELECTION="dataCellMultiSelection",e.RANGE_SELECTION="rangeSelection",e.SELECTED_CELL_MOVE="selectedCellMove"}(Qi||(Qi={})),function(e){e.ALL_SELECTED="allSelected",e.SELECTED="selected",e.UNSELECTED="unselected",e.HOVER="hover",e.HOVER_FOCUS="hoverFocus",e.HIGHLIGHT="highlight",e.SEARCH_RESULT="searchResult",e.PREPARE_SELECT="prepareSelect"}(Ji||(Ji={})),function(e){e.DATA_CELL="dataCell",e.HEADER_CELL="headerCell",e.ROW_CELL="rowCell",e.COL_CELL="colCell",e.CORNER_CELL="cornerCell",e.MERGED_CELL="mergedCell"}(ea||(ea={}));var na,ra,oa,ia,aa={textOpacity:"fillOpacity",backgroundOpacity:"fillOpacity",backgroundColor:"fill",borderOpacity:"strokeOpacity",borderColor:"stroke",borderWidth:"lineWidth",opacity:"opacity"},la={textShape:["textOpacity"],textShapes:["textOpacity"],linkFieldShape:["opacity"],interactiveBgShape:["backgroundColor","backgroundOpacity"],interactiveBorderShape:["borderColor","borderOpacity","borderWidth"]},sa="interactionStateInfo";!function(e){e.CLICK="click",e.UN_DRAGGED="unDragged",e.DRAGGED="dragged"}(na||(na={})),function(e){e.SHIFT="Shift",e.COPY="c",e.ESC="Escape",e.META="Meta",e.CONTROL="Control",e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight"}(ra||(ra={})),function(e){e.ASC="ASC",e.DESC="DESC"}(oa||(oa={})),function(e){e.HOVER="hover",e.CLICK="click",e.BRUSH_SELECTION="brushSelection",e.ROW_BRUSH_SELECTION="rowBrushSelection",e.COL_BRUSH_SELECTION="colBrushSelection",e.MULTI_SELECTION="multiSelection",e.RESIZE="resize"}(ia||(ia={}));var ua,ca,da,fa={x:{value:0,scroll:!1},y:{value:0,scroll:!1}};!function(e){e.CONTENT="content",e.CANVAS="canvas"}(ua||(ua={})),function(e){e.SCROLL_UP="scrollUp",e.SCROLL_DOWN="scrollDown"}(ca||(ca={})),function(e){e[e.SCROLL_UP=-1]="SCROLL_UP",e[e.SCROLL_DOWN=1]="SCROLL_DOWN"}(da||(da={}));var ha,pa,va;!function(e){e.Horizontal="col",e.Vertical="row"}(ha||(ha={})),function(e){e.Field="field",e.Cell="cell",e.Tree="tree",e.Series="series"}(pa||(pa={})),function(e){e.ALL="all",e.CURRENT="current"}(va||(va={}));var ga;!function(e){e.Adaptive="adaptive",e.ColAdaptive="colAdaptive",e.Compact="compact"}(ga||(ga={}));var ma={layoutWidthType:ga.Adaptive,showTreeLeafNodeAlignDot:!1,collapsedRows:{},collapsedCols:{},cellCfg:{width:96,height:30},rowCfg:{width:null,widthByField:{},heightByField:{}},colCfg:{height:30,widthByFieldValue:{},heightByField:{}},device:"pc"},ya={width:600,height:480,debug:!1,hierarchyType:"grid",conditions:{},totals:{},tooltip:{showTooltip:!1,autoAdjustBoundary:"body",operation:{hiddenColumns:!1,trend:!1,sort:!1,menus:[]}},interaction:{linkFields:[],hiddenColumnFields:[],selectedCellsSpotlight:!1,hoverHighlight:!0,hoverFocus:{duration:800},scrollSpeedRatio:{horizontal:1,vertical:1},autoResetSheetStyle:!0,brushSelection:{data:!0,row:!1,col:!1},multiSelection:!0,rangeSelection:!0,scrollbarPosition:ua.CONTENT,resize:{rowCellVertical:!0,cornerCellHorizontal:!0,colCellHorizontal:!0,colCellVertical:!0,rowResizeType:va.ALL},eventListenerOptions:!1,selectedCellHighlight:!1,overscrollBehavior:"auto"},showSeriesNumber:!1,customSVGIcons:[],showDefaultHeaderActionIcon:!1,headerActionIcons:[],style:ma,frozenRowHeader:!0,frozenRowCount:0,frozenColCount:0,frozenTrailingRowCount:0,frozenTrailingColCount:0,hdAdapter:!0,cornerText:"",cornerExtraFieldText:"",placeholder:Fi,supportCSSTransform:!1,devicePixelRatio:window.devicePixelRatio},ba=function(e,t){return ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ba(e,t)};function Ca(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ba(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var wa=function(){return wa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},wa.apply(this,arguments)};function xa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Sa(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ea(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Ia(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var Oa="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,La="object"==typeof self&&self&&self.Object===Object&&self,_a=Oa||La||Function("return this")(),Ta=_a.Symbol,Ma=Object.prototype,Ra=Ma.hasOwnProperty,Na=Ma.toString,Aa=Ta?Ta.toStringTag:void 0;var Da=Object.prototype.toString;var Ba=Ta?Ta.toStringTag:void 0;function ka(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ba&&Ba in Object(e)?function(e){var t=Ra.call(e,Aa),n=e[Aa];try{e[Aa]=void 0;var r=!0}catch(e){}var o=Na.call(e);return r&&(t?e[Aa]=n:delete e[Aa]),o}(e):function(e){return Da.call(e)}(e)}function Pa(e){return null!=e&&"object"==typeof e}function za(e){return"symbol"==typeof e||Pa(e)&&"[object Symbol]"==ka(e)}function Fa(e){return"number"==typeof e?e:za(e)?NaN:+e}function Ha(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var $a=Array.isArray,ja=Ta?Ta.prototype:void 0,Wa=ja?ja.toString:void 0;function Ga(e){if("string"==typeof e)return e;if($a(e))return Ha(e,Ga)+"";if(za(e))return Wa?Wa.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function Za(e,t){return function(n,r){var o;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=Ga(n),r=Ga(r)):(n=Fa(n),r=Fa(r)),o=e(n,r)}return o}}var Va=Za((function(e,t){return e+t}),0),Ua=/\s/;function Ya(e){for(var t=e.length;t--&&Ua.test(e.charAt(t)););return t}var Xa=/^\s+/;function qa(e){return e?e.slice(0,Ya(e)+1).replace(Xa,""):e}function Ka(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Qa=/^[-+]0x[0-9a-f]+$/i,Ja=/^0b[01]+$/i,el=/^0o[0-7]+$/i,tl=parseInt;function nl(e){if("number"==typeof e)return e;if(za(e))return NaN;if(Ka(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ka(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=qa(e);var n=Ja.test(e);return n||el.test(e)?tl(e.slice(2),n?2:8):Qa.test(e)?NaN:+e}var rl=1/0;function ol(e){return e?(e=nl(e))===rl||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function il(e){var t=ol(e),n=t%1;return t==t?n?t-n:t:0}function al(e){return e}function ll(e){if(!Ka(e))return!1;var t=ka(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var sl,ul=_a["__core-js_shared__"],cl=(sl=/[^.]+$/.exec(ul&&ul.keys&&ul.keys.IE_PROTO||""))?"Symbol(src)_1."+sl:"";var dl=Function.prototype.toString;function fl(e){if(null!=e){try{return dl.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var hl=/^\[object .+?Constructor\]$/,pl=Function.prototype,vl=Object.prototype,gl=pl.toString,ml=vl.hasOwnProperty,yl=RegExp("^"+gl.call(ml).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bl(e){return!(!Ka(e)||function(e){return!!cl&&cl in e}(e))&&(ll(e)?yl:hl).test(fl(e))}function Cl(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return bl(n)?n:void 0}var wl=Cl(_a,"WeakMap"),xl=wl&&new wl,Sl=xl?function(e,t){return xl.set(e,t),e}:al,El=Sl,Il=Object.create,Ol=function(){function e(){}return function(t){if(!Ka(t))return{};if(Il)return Il(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Ll=Ol;function _l(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ll(e.prototype),r=e.apply(n,t);return Ka(r)?r:n}}function Tl(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Ml=Math.max;function Rl(e,t,n,r){for(var o=-1,i=e.length,a=n.length,l=-1,s=t.length,u=Ml(i-a,0),c=Array(s+u),d=!r;++l<s;)c[l]=t[l];for(;++o<a;)(d||o<i)&&(c[n[o]]=e[o]);for(;u--;)c[l++]=e[o++];return c}var Nl=Math.max;function Al(e,t,n,r){for(var o=-1,i=e.length,a=-1,l=n.length,s=-1,u=t.length,c=Nl(i-l,0),d=Array(c+u),f=!r;++o<c;)d[o]=e[o];for(var h=o;++s<u;)d[h+s]=t[s];for(;++a<l;)(f||o<i)&&(d[h+n[a]]=e[o++]);return d}function Dl(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function Bl(){}function kl(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Pl(){}kl.prototype=Ll(Bl.prototype),kl.prototype.constructor=kl;var zl=xl?function(e){return xl.get(e)}:Pl,Fl=zl,Hl={},$l=Object.prototype.hasOwnProperty;function jl(e){for(var t=e.name+"",n=Hl[t],r=$l.call(Hl,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Wl(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Gl(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Zl(e){if(e instanceof kl)return e.clone();var t=new Wl(e.__wrapped__,e.__chain__);return t.__actions__=Gl(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}Wl.prototype=Ll(Bl.prototype),Wl.prototype.constructor=Wl;var Vl=Object.prototype.hasOwnProperty;function Ul(e){if(Pa(e)&&!$a(e)&&!(e instanceof kl)){if(e instanceof Wl)return e;if(Vl.call(e,"__wrapped__"))return Zl(e)}return new Wl(e)}function Yl(e){var t=jl(e),n=Ul[t];if("function"!=typeof n||!(t in kl.prototype))return!1;if(e===n)return!0;var r=Fl(n);return!!r&&e===r[0]}Ul.prototype=Bl.prototype,Ul.prototype.constructor=Ul;var Xl=Date.now;function ql(e){var t=0,n=0;return function(){var r=Xl(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Kl=ql(El),Ql=/\{\n\/\* \[wrapped with (.+)\] \*/,Jl=/,? & /;var es=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function ts(e){return function(){return e}}var ns=function(){try{var e=Cl(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),rs=ns,os=rs?function(e,t){return rs(e,"toString",{configurable:!0,enumerable:!1,value:ts(t),writable:!0})}:al,is=ql(os);function as(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ls(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function ss(e){return e!=e}function us(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):ls(e,ss,n)}function cs(e,t){return!!(null==e?0:e.length)&&us(e,t,0)>-1}var ds=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function fs(e,t,n){var r=t+"";return is(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(es,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return as(ds,(function(n){var r="_."+n[0];t&n[1]&&!cs(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Ql);return t?t[1].split(Jl):[]}(r),n)))}function hs(e,t,n,r,o,i,a,l,s,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var d=[e,t,o,c?i:void 0,c?a:void 0,c?void 0:i,c?void 0:a,l,s,u],f=n.apply(void 0,d);return Yl(e)&&Kl(f,d),f.placeholder=r,fs(f,e,t)}function ps(e){return e.placeholder}var vs=/^(?:0|[1-9]\d*)$/;function gs(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&vs.test(e))&&e>-1&&e%1==0&&e<t}var ms=Math.min;function ys(e,t){for(var n=e.length,r=ms(t.length,n),o=Gl(e);r--;){var i=t[r];e[r]=gs(i,n)?o[i]:void 0}return e}var bs="__lodash_placeholder__";function Cs(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==bs||(e[n]=bs,i[o++]=n)}return i}function ws(e,t,n,r,o,i,a,l,s,u){var c=128&t,d=1&t,f=2&t,h=24&t,p=512&t,v=f?void 0:_l(e);return function g(){for(var m=arguments.length,y=Array(m),b=m;b--;)y[b]=arguments[b];if(h)var C=ps(g),w=Dl(y,C);if(r&&(y=Rl(y,r,o,h)),i&&(y=Al(y,i,a,h)),m-=w,h&&m<u){var x=Cs(y,C);return hs(e,t,ws,g.placeholder,n,y,x,l,s,u-m)}var S=d?n:this,E=f?S[e]:e;return m=y.length,l?y=ys(y,l):p&&m>1&&y.reverse(),c&&s<m&&(y.length=s),this&&this!==_a&&this instanceof g&&(E=v||_l(E)),E.apply(S,y)}}var xs="__lodash_placeholder__",Ss=128,Es=Math.min;var Is=Math.max;function Os(e,t,n,r,o,i,a,l){var s=2&t;if(!s&&"function"!=typeof e)throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(t&=-97,r=o=void 0),a=void 0===a?a:Is(il(a),0),l=void 0===l?l:il(l),u-=o?o.length:0,64&t){var c=r,d=o;r=o=void 0}var f=s?void 0:Fl(e),h=[e,t,n,r,o,c,d,i,a,l];if(f&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==Ss&&8==n||r==Ss&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var l=t[3];if(l){var s=e[3];e[3]=s?Rl(s,l,t[4]):l,e[4]=s?Cs(e[3],xs):t[4]}(l=t[5])&&(s=e[5],e[5]=s?Al(s,l,t[6]):l,e[6]=s?Cs(e[5],xs):t[6]),(l=t[7])&&(e[7]=l),r&Ss&&(e[8]=null==e[8]?t[8]:Es(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(h,f),e=h[0],t=h[1],n=h[2],r=h[3],o=h[4],!(l=h[9]=void 0===h[9]?s?0:e.length:Is(h[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?function(e,t,n){var r=_l(e);return function o(){for(var i=arguments.length,a=Array(i),l=i,s=ps(o);l--;)a[l]=arguments[l];var u=i<3&&a[0]!==s&&a[i-1]!==s?[]:Cs(a,s);return(i-=u.length)<n?hs(e,t,ws,o.placeholder,void 0,a,u,void 0,void 0,n-i):Tl(this&&this!==_a&&this instanceof o?r:e,this,a)}}(e,t,l):32!=t&&33!=t||o.length?ws.apply(void 0,h):function(e,t,n,r){var o=1&t,i=_l(e);return function t(){for(var a=-1,l=arguments.length,s=-1,u=r.length,c=Array(u+l),d=this&&this!==_a&&this instanceof t?i:e;++s<u;)c[s]=r[s];for(;l--;)c[s++]=arguments[++a];return Tl(d,o?n:this,c)}}(e,t,n,r);else var p=function(e,t,n){var r=1&t,o=_l(e);return function t(){return(this&&this!==_a&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return fs((f?El:Kl)(p,h),e,t)}function Ls(e,t,n){return t=n?void 0:t,Os(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function _s(e,t,n){"__proto__"==t&&rs?rs(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ts(e,t){return e===t||e!=e&&t!=t}var Ms=Object.prototype.hasOwnProperty;function Rs(e,t,n){var r=e[t];Ms.call(e,t)&&Ts(r,n)&&(void 0!==n||t in e)||_s(e,t,n)}function Ns(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=r?r(n[l],e[l],l,n,e):void 0;void 0===s&&(s=e[l]),o?_s(n,l,s):Rs(n,l,s)}return n}var As=Math.max;function Ds(e,t,n){return t=As(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=As(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),Tl(e,this,l)}}function Bs(e,t){return is(Ds(e,t,al),e+"")}function ks(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ps(e){return null!=e&&ks(e.length)&&!ll(e)}function zs(e,t,n){if(!Ka(n))return!1;var r=typeof t;return!!("number"==r?Ps(n)&&gs(t,n.length):"string"==r&&t in n)&&Ts(n[t],e)}function Fs(e){return Bs((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&zs(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t}))}var Hs=Object.prototype;function $s(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Hs)}function js(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ws(e){return Pa(e)&&"[object Arguments]"==ka(e)}var Gs=Object.prototype,Zs=Gs.hasOwnProperty,Vs=Gs.propertyIsEnumerable,Us=Ws(function(){return arguments}())?Ws:function(e){return Pa(e)&&Zs.call(e,"callee")&&!Vs.call(e,"callee")},Ys=Us;function Xs(){return!1}var qs="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ks=qs&&e&&!e.nodeType&&e,Qs=Ks&&Ks.exports===qs?_a.Buffer:void 0,Js=(Qs?Qs.isBuffer:void 0)||Xs,eu={};function tu(e){return function(t){return e(t)}}eu["[object Float32Array]"]=eu["[object Float64Array]"]=eu["[object Int8Array]"]=eu["[object Int16Array]"]=eu["[object Int32Array]"]=eu["[object Uint8Array]"]=eu["[object Uint8ClampedArray]"]=eu["[object Uint16Array]"]=eu["[object Uint32Array]"]=!0,eu["[object Arguments]"]=eu["[object Array]"]=eu["[object ArrayBuffer]"]=eu["[object Boolean]"]=eu["[object DataView]"]=eu["[object Date]"]=eu["[object Error]"]=eu["[object Function]"]=eu["[object Map]"]=eu["[object Number]"]=eu["[object Object]"]=eu["[object RegExp]"]=eu["[object Set]"]=eu["[object String]"]=eu["[object WeakMap]"]=!1;var nu="object"==typeof exports&&exports&&!exports.nodeType&&exports,ru=nu&&e&&!e.nodeType&&e,ou=ru&&ru.exports===nu&&Oa.process,iu=function(){try{var e=ru&&ru.require&&ru.require("util").types;return e||ou&&ou.binding&&ou.binding("util")}catch(e){}}(),au=iu&&iu.isTypedArray,lu=au?tu(au):function(e){return Pa(e)&&ks(e.length)&&!!eu[ka(e)]},su=Object.prototype.hasOwnProperty;function uu(e,t){var n=$a(e),r=!n&&Ys(e),o=!n&&!r&&Js(e),i=!n&&!r&&!o&&lu(e),a=n||r||o||i,l=a?js(e.length,String):[],s=l.length;for(var u in e)!t&&!su.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||gs(u,s))||l.push(u);return l}function cu(e,t){return function(n){return e(t(n))}}var du=cu(Object.keys,Object),fu=Object.prototype.hasOwnProperty;function hu(e){if(!$s(e))return du(e);var t=[];for(var n in Object(e))fu.call(e,n)&&"constructor"!=n&&t.push(n);return t}function pu(e){return Ps(e)?uu(e):hu(e)}var vu=Object.prototype.hasOwnProperty,gu=Fs((function(e,t){if($s(t)||Ps(t))Ns(t,pu(t),e);else for(var n in t)vu.call(t,n)&&Rs(e,n,t[n])})),mu=gu;var yu=Object.prototype.hasOwnProperty;function bu(e){if(!Ka(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=$s(e),n=[];for(var r in e)("constructor"!=r||!t&&yu.call(e,r))&&n.push(r);return n}function Cu(e){return Ps(e)?uu(e,!0):bu(e)}var wu=Fs((function(e,t){Ns(t,Cu(t),e)})),xu=wu,Su=Fs((function(e,t,n,r){Ns(t,Cu(t),e,r)})),Eu=Su,Iu=Fs((function(e,t,n,r){Ns(t,pu(t),e,r)})),Ou=Iu,Lu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_u=/^\w*$/;function Tu(e,t){if($a(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!za(e))||(_u.test(e)||!Lu.test(e)||null!=t&&e in Object(t))}var Mu=Cl(Object,"create");var Ru=Object.prototype.hasOwnProperty;var Nu=Object.prototype.hasOwnProperty;function Au(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Du(e,t){for(var n=e.length;n--;)if(Ts(e[n][0],t))return n;return-1}Au.prototype.clear=function(){this.__data__=Mu?Mu(null):{},this.size=0},Au.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Au.prototype.get=function(e){var t=this.__data__;if(Mu){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ru.call(t,e)?t[e]:void 0},Au.prototype.has=function(e){var t=this.__data__;return Mu?void 0!==t[e]:Nu.call(t,e)},Au.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mu&&void 0===t?"__lodash_hash_undefined__":t,this};var Bu=Array.prototype.splice;function ku(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ku.prototype.clear=function(){this.__data__=[],this.size=0},ku.prototype.delete=function(e){var t=this.__data__,n=Du(t,e);return!(n<0)&&(n==t.length-1?t.pop():Bu.call(t,n,1),--this.size,!0)},ku.prototype.get=function(e){var t=this.__data__,n=Du(t,e);return n<0?void 0:t[n][1]},ku.prototype.has=function(e){return Du(this.__data__,e)>-1},ku.prototype.set=function(e,t){var n=this.__data__,r=Du(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Pu=Cl(_a,"Map");function zu(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Fu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fu.prototype.clear=function(){this.size=0,this.__data__={hash:new Au,map:new(Pu||ku),string:new Au}},Fu.prototype.delete=function(e){var t=zu(this,e).delete(e);return this.size-=t?1:0,t},Fu.prototype.get=function(e){return zu(this,e).get(e)},Fu.prototype.has=function(e){return zu(this,e).has(e)},Fu.prototype.set=function(e,t){var n=zu(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Hu(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Hu.Cache||Fu),n}Hu.Cache=Fu;var $u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ju=/\\(\\)?/g,Wu=function(e){var t=Hu(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($u,(function(e,n,r,o){t.push(r?o.replace(ju,"$1"):n||e)})),t})),Gu=Wu;function Zu(e){return null==e?"":Ga(e)}function Vu(e,t){return $a(e)?e:Tu(e,t)?[e]:Gu(Zu(e))}function Uu(e){if("string"==typeof e||za(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function Yu(e,t){for(var n=0,r=(t=Vu(t,e)).length;null!=e&&n<r;)e=e[Uu(t[n++])];return n&&n==r?e:void 0}function Xu(e,t,n){var r=null==e?void 0:Yu(e,t);return void 0===r?n:r}function qu(e,t){for(var n=-1,r=t.length,o=Array(r),i=null==e;++n<r;)o[n]=i?void 0:Xu(e,t[n]);return o}function Ku(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var Qu=Ta?Ta.isConcatSpreadable:void 0;function Ju(e){return $a(e)||Ys(e)||!!(Qu&&e&&e[Qu])}function ec(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Ju),o||(o=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?ec(l,t-1,n,r,o):Ku(o,l):r||(o[o.length]=l)}return o}function tc(e){return(null==e?0:e.length)?ec(e,1):[]}function nc(e){return is(Ds(e,void 0,tc),e+"")}var rc=nc(qu),oc=cu(Object.getPrototypeOf,Object),ic=Function.prototype,ac=Object.prototype,lc=ic.toString,sc=ac.hasOwnProperty,uc=lc.call(Object);function cc(e){if(!Pa(e)||"[object Object]"!=ka(e))return!1;var t=oc(e);if(null===t)return!0;var n=sc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&lc.call(n)==uc}function dc(e){if(!Pa(e))return!1;var t=ka(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!cc(e)}var fc=Bs((function(e,t){try{return Tl(e,void 0,t)}catch(e){return dc(e)?e:new Error(e)}})),hc=fc;function pc(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=il(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var vc=Bs((function(e,t,n){var r=1;if(n.length){var o=Cs(n,ps(vc));r|=32}return Os(e,r,t,n,o)}));vc.placeholder={};var gc=vc,mc=nc((function(e,t){return as(t,(function(t){t=Uu(t),_s(e,t,gc(e[t],e))})),e})),yc=mc,bc=Bs((function(e,t,n){var r=3;if(n.length){var o=Cs(n,ps(bc));r|=32}return Os(t,r,e,n,o)}));bc.placeholder={};var Cc=bc;function wc(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function xc(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:wc(e,t,n)}var Sc=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Ec(e){return Sc.test(e)}var Ic="\\ud800-\\udfff",Oc="["+Ic+"]",Lc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",_c="\\ud83c[\\udffb-\\udfff]",Tc="[^"+Ic+"]",Mc="(?:\\ud83c[\\udde6-\\uddff]){2}",Rc="[\\ud800-\\udbff][\\udc00-\\udfff]",Nc="(?:"+Lc+"|"+_c+")"+"?",Ac="[\\ufe0e\\ufe0f]?",Dc=Ac+Nc+("(?:\\u200d(?:"+[Tc,Mc,Rc].join("|")+")"+Ac+Nc+")*"),Bc="(?:"+[Tc+Lc+"?",Lc,Mc,Rc,Oc].join("|")+")",kc=RegExp(_c+"(?="+_c+")|"+Bc+Dc,"g");function Pc(e){return Ec(e)?function(e){return e.match(kc)||[]}(e):function(e){return e.split("")}(e)}function zc(e){return function(t){var n=Ec(t=Zu(t))?Pc(t):void 0,r=n?n[0]:t.charAt(0),o=n?xc(n,1).join(""):t.slice(1);return r[e]()+o}}var Fc=zc("toUpperCase");function Hc(e){return Fc(Zu(e).toLowerCase())}function $c(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function jc(e){return function(t){return null==e?void 0:e[t]}}var Wc=jc({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Gc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zc=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function Vc(e){return(e=Zu(e))&&e.replace(Gc,Wc).replace(Zc,"")}var Uc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Yc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Xc="\\ud800-\\udfff",qc="\\u2700-\\u27bf",Kc="a-z\\xdf-\\xf6\\xf8-\\xff",Qc="A-Z\\xc0-\\xd6\\xd8-\\xde",Jc="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ed="["+Jc+"]",td="\\d+",nd="["+qc+"]",rd="["+Kc+"]",od="[^"+Xc+Jc+td+qc+Kc+Qc+"]",id="(?:\\ud83c[\\udde6-\\uddff]){2}",ad="[\\ud800-\\udbff][\\udc00-\\udfff]",ld="["+Qc+"]",sd="(?:"+rd+"|"+od+")",ud="(?:"+ld+"|"+od+")",cd="(?:['’](?:d|ll|m|re|s|t|ve))?",dd="(?:['’](?:D|LL|M|RE|S|T|VE))?",fd="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",hd="[\\ufe0e\\ufe0f]?",pd=hd+fd+("(?:\\u200d(?:"+["[^"+Xc+"]",id,ad].join("|")+")"+hd+fd+")*"),vd="(?:"+[nd,id,ad].join("|")+")"+pd,gd=RegExp([ld+"?"+rd+"+"+cd+"(?="+[ed,ld,"$"].join("|")+")",ud+"+"+dd+"(?="+[ed,ld+sd,"$"].join("|")+")",ld+"?"+sd+"+"+cd,ld+"+"+dd,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",td,vd].join("|"),"g");function md(e,t,n){return e=Zu(e),void 0===(t=n?void 0:t)?function(e){return Yc.test(e)}(e)?function(e){return e.match(gd)||[]}(e):function(e){return e.match(Uc)||[]}(e):e.match(t)||[]}var yd=RegExp("['’]","g");function bd(e){return function(t){return $c(md(Vc(t).replace(yd,"")),e,"")}}var Cd=bd((function(e,t,n){return t=t.toLowerCase(),e+(n?Hc(t):t)})),wd=Cd;var xd=_a.isFinite,Sd=Math.min;function Ed(e){var t=Math[e];return function(e,n){if(e=nl(e),(n=null==n?0:Sd(il(n),292))&&xd(e)){var r=(Zu(e)+"e").split("e");return+((r=(Zu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Id=Ed("ceil");function Od(e){var t=Ul(e);return t.__chain__=!0,t}var Ld=Math.ceil,_d=Math.max;function Td(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Md(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=nl(n))==n?n:0),void 0!==t&&(t=(t=nl(t))==t?t:0),Td(nl(e),t,n)}function Rd(e){var t=this.__data__=new ku(e);this.size=t.size}function Nd(e,t){return e&&Ns(t,pu(t),e)}Rd.prototype.clear=function(){this.__data__=new ku,this.size=0},Rd.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Rd.prototype.get=function(e){return this.__data__.get(e)},Rd.prototype.has=function(e){return this.__data__.has(e)},Rd.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ku){var r=n.__data__;if(!Pu||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Fu(r)}return n.set(e,t),this.size=n.size,this};var Ad="object"==typeof exports&&exports&&!exports.nodeType&&exports,Dd=Ad&&e&&!e.nodeType&&e,Bd=Dd&&Dd.exports===Ad?_a.Buffer:void 0,kd=Bd?Bd.allocUnsafe:void 0;function Pd(e,t){if(t)return e.slice();var n=e.length,r=kd?kd(n):new e.constructor(n);return e.copy(r),r}function zd(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Fd(){return[]}var Hd=Object.prototype.propertyIsEnumerable,$d=Object.getOwnPropertySymbols,jd=$d?function(e){return null==e?[]:(e=Object(e),zd($d(e),(function(t){return Hd.call(e,t)})))}:Fd,Wd=jd;var Gd=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ku(t,Wd(e)),e=oc(e);return t}:Fd,Zd=Gd;function Vd(e,t,n){var r=t(e);return $a(e)?r:Ku(r,n(e))}function Ud(e){return Vd(e,pu,Wd)}function Yd(e){return Vd(e,Cu,Zd)}var Xd=Cl(_a,"DataView"),qd=Cl(_a,"Promise"),Kd=Cl(_a,"Set"),Qd="[object Map]",Jd="[object Promise]",ef="[object Set]",tf="[object WeakMap]",nf="[object DataView]",rf=fl(Xd),of=fl(Pu),af=fl(qd),lf=fl(Kd),sf=fl(wl),uf=ka;(Xd&&uf(new Xd(new ArrayBuffer(1)))!=nf||Pu&&uf(new Pu)!=Qd||qd&&uf(qd.resolve())!=Jd||Kd&&uf(new Kd)!=ef||wl&&uf(new wl)!=tf)&&(uf=function(e){var t=ka(e),n="[object Object]"==t?e.constructor:void 0,r=n?fl(n):"";if(r)switch(r){case rf:return nf;case of:return Qd;case af:return Jd;case lf:return ef;case sf:return tf}return t});var cf=uf,df=Object.prototype.hasOwnProperty;var ff=_a.Uint8Array;function hf(e){var t=new e.constructor(e.byteLength);return new ff(t).set(new ff(e)),t}var pf=/\w*$/;var vf=Ta?Ta.prototype:void 0,gf=vf?vf.valueOf:void 0;function mf(e,t){var n=t?hf(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function yf(e,t,n){var r,o=e.constructor;switch(t){case"[object ArrayBuffer]":return hf(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var n=t?hf(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return mf(e,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,pf.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return r=e,gf?Object(gf.call(r)):{}}}function bf(e){return"function"!=typeof e.constructor||$s(e)?{}:Ll(oc(e))}var Cf=iu&&iu.isMap,wf=Cf?tu(Cf):function(e){return Pa(e)&&"[object Map]"==cf(e)};var xf=iu&&iu.isSet,Sf=xf?tu(xf):function(e){return Pa(e)&&"[object Set]"==cf(e)},Ef="[object Arguments]",If="[object Function]",Of="[object Object]",Lf={};function _f(e,t,n,r,o,i){var a,l=1&t,s=2&t,u=4&t;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!Ka(e))return e;var c=$a(e);if(c){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&df.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Gl(e,a)}else{var d=cf(e),f=d==If||"[object GeneratorFunction]"==d;if(Js(e))return Pd(e,l);if(d==Of||d==Ef||f&&!o){if(a=s||f?{}:bf(e),!l)return s?function(e,t){return Ns(e,Zd(e),t)}(e,function(e,t){return e&&Ns(t,Cu(t),e)}(a,e)):function(e,t){return Ns(e,Wd(e),t)}(e,Nd(a,e))}else{if(!Lf[d])return o?e:{};a=yf(e,d,l)}}i||(i=new Rd);var h=i.get(e);if(h)return h;i.set(e,a),Sf(e)?e.forEach((function(r){a.add(_f(r,t,n,r,e,i))})):wf(e)&&e.forEach((function(r,o){a.set(o,_f(r,t,n,o,e,i))}));var p=c?void 0:(u?s?Yd:Ud:s?Cu:pu)(e);return as(p||e,(function(r,o){p&&(r=e[o=r]),Rs(a,o,_f(r,t,n,o,e,i))})),a}Lf[Ef]=Lf["[object Array]"]=Lf["[object ArrayBuffer]"]=Lf["[object DataView]"]=Lf["[object Boolean]"]=Lf["[object Date]"]=Lf["[object Float32Array]"]=Lf["[object Float64Array]"]=Lf["[object Int8Array]"]=Lf["[object Int16Array]"]=Lf["[object Int32Array]"]=Lf["[object Map]"]=Lf["[object Number]"]=Lf[Of]=Lf["[object RegExp]"]=Lf["[object Set]"]=Lf["[object String]"]=Lf["[object Symbol]"]=Lf["[object Uint8Array]"]=Lf["[object Uint8ClampedArray]"]=Lf["[object Uint16Array]"]=Lf["[object Uint32Array]"]=!0,Lf["[object Error]"]=Lf[If]=Lf["[object WeakMap]"]=!1;function Tf(e){return _f(e,4)}function Mf(e){return _f(e,5)}function Rf(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}function Nf(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Ku($a(n)?Gl(n):[n],ec(t,1))}function Af(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Fu;++t<n;)this.add(e[t])}function Df(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Bf(e,t){return e.has(t)}Af.prototype.add=Af.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Af.prototype.has=function(e){return this.__data__.has(e)};function kf(e,t,n,r,o,i){var a=1&n,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=2&n?new Af:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var p=e[d],v=t[d];if(r)var g=a?r(v,p,d,t,e,i):r(p,v,d,e,t,i);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!Df(t,(function(e,t){if(!Bf(h,t)&&(p===e||o(p,e,n,r,i)))return h.push(t)}))){f=!1;break}}else if(p!==v&&!o(p,v,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function Pf(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function zf(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Ff=Ta?Ta.prototype:void 0,Hf=Ff?Ff.valueOf:void 0;var $f=Object.prototype.hasOwnProperty;var jf="[object Arguments]",Wf="[object Array]",Gf="[object Object]",Zf=Object.prototype.hasOwnProperty;function Vf(e,t,n,r,o,i){var a=$a(e),l=$a(t),s=a?Wf:cf(e),u=l?Wf:cf(t),c=(s=s==jf?Gf:s)==Gf,d=(u=u==jf?Gf:u)==Gf,f=s==u;if(f&&Js(e)){if(!Js(t))return!1;a=!0,c=!1}if(f&&!c)return i||(i=new Rd),a||lu(e)?kf(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new ff(e),new ff(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ts(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Pf;case"[object Set]":var s=1&r;if(l||(l=zf),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=kf(l(e),l(t),r,o,i,a);return a.delete(e),c;case"[object Symbol]":if(Hf)return Hf.call(e)==Hf.call(t)}return!1}(e,t,s,n,r,o,i);if(!(1&n)){var h=c&&Zf.call(e,"__wrapped__"),p=d&&Zf.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,g=p?t.value():t;return i||(i=new Rd),o(v,g,n,r,i)}}return!!f&&(i||(i=new Rd),function(e,t,n,r,o,i){var a=1&n,l=Ud(e),s=l.length;if(s!=Ud(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:$f.call(t,c)))return!1}var d=i.get(e),f=i.get(t);if(d&&f)return d==t&&f==e;var h=!0;i.set(e,t),i.set(t,e);for(var p=a;++u<s;){var v=e[c=l[u]],g=t[c];if(r)var m=a?r(g,v,c,t,e,i):r(v,g,c,e,t,i);if(!(void 0===m?v===g||o(v,g,n,r,i):m)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,n,r,o,i))}function Uf(e,t,n,r,o){return e===t||(null==e||null==t||!Pa(e)&&!Pa(t)?e!=e&&t!=t:Vf(e,t,n,r,Uf,o))}function Yf(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var s=(l=n[o])[0],u=e[s],c=l[1];if(a&&l[2]){if(void 0===u&&!(s in e))return!1}else{var d=new Rd;if(r)var f=r(u,c,s,e,t,d);if(!(void 0===f?Uf(c,u,3,r,d):f))return!1}}return!0}function Xf(e){return e==e&&!Ka(e)}function qf(e){for(var t=pu(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Xf(o)]}return t}function Kf(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function Qf(e){var t=qf(e);return 1==t.length&&t[0][2]?Kf(t[0][0],t[0][1]):function(n){return n===e||Yf(n,e,t)}}function Jf(e,t){return null!=e&&t in Object(e)}function eh(e,t,n){for(var r=-1,o=(t=Vu(t,e)).length,i=!1;++r<o;){var a=Uu(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ks(o)&&gs(a,o)&&($a(e)||Ys(e))}function th(e,t){return null!=e&&eh(e,t,Jf)}function nh(e,t){return Tu(e)&&Xf(t)?Kf(Uu(e),t):function(n){var r=Xu(n,e);return void 0===r&&r===t?th(n,e):Uf(t,r,3)}}function rh(e){return function(t){return null==t?void 0:t[e]}}function oh(e){return Tu(e)?rh(Uu(e)):function(e){return function(t){return Yu(t,e)}}(e)}function ih(e){return"function"==typeof e?e:null==e?al:"object"==typeof e?$a(e)?nh(e[0],e[1]):Qf(e):oh(e)}function ah(e){var t=null==e?0:e.length,n=ih;return e=t?Ha(e,(function(e){if("function"!=typeof e[1])throw new TypeError("Expected a function");return[n(e[0]),e[1]]})):[],Bs((function(n){for(var r=-1;++r<t;){var o=e[r];if(Tl(o[0],this,n))return Tl(o[1],this,n)}}))}function lh(e,t,n){var r=n.length;if(null==e)return!r;for(e=Object(e);r--;){var o=n[r],i=t[o],a=e[o];if(void 0===a&&!(o in e)||!i(a))return!1}return!0}function sh(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function uh(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),l=a.length;l--;){var s=a[e?l:++o];if(!1===n(i[s],s,i))break}return t}}var ch=uh();function dh(e,t){return e&&ch(e,t,pu)}function fh(e,t){return function(n,r){if(null==n)return n;if(!Ps(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}var hh=fh(dh);function ph(e,t,n,r){return hh(e,(function(e,o,i){t(r,e,n(e),i)})),r}function vh(e,t){return function(n,r){var o=$a(n)?sh:ph,i=t?t():{};return o(n,e,ih(r),i)}}var gh=Object.prototype.hasOwnProperty,mh=vh((function(e,t,n){gh.call(e,n)?++e[n]:_s(e,n,1)})),yh=mh;function bh(e,t,n){var r=Os(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=bh.placeholder,r}bh.placeholder={};function Ch(e,t,n){var r=Os(e,16,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Ch.placeholder,r}Ch.placeholder={};var wh=function(){return _a.Date.now()},xh=Math.max,Sh=Math.min;function Eh(e,t,n){var r,o,i,a,l,s,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function p(e){return u=e,l=setTimeout(g,t),c?h(e):a}function v(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-u>=i}function g(){var e=wh();if(v(e))return m(e);l=setTimeout(g,function(e){var n=t-(e-s);return d?Sh(n,i-(e-u)):n}(e))}function m(e){return l=void 0,f&&r?h(e):(r=o=void 0,a)}function y(){var e=wh(),n=v(e);if(r=arguments,o=this,s=e,n){if(void 0===l)return p(s);if(d)return clearTimeout(l),l=setTimeout(g,t),h(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=nl(t)||0,Ka(n)&&(c=!!n.leading,i=(d="maxWait"in n)?xh(nl(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=s=o=l=void 0},y.flush=function(){return void 0===l?a:m(wh())},y}var Ih=Object.prototype,Oh=Ih.hasOwnProperty,Lh=Bs((function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&zs(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=Cu(i),l=-1,s=a.length;++l<s;){var u=a[l],c=e[u];(void 0===c||Ts(c,Ih[u])&&!Oh.call(e,u))&&(e[u]=i[u])}return e})),_h=Lh;function Th(e,t,n){(void 0!==n&&!Ts(e[t],n)||void 0===n&&!(t in e))&&_s(e,t,n)}function Mh(e){return Pa(e)&&Ps(e)}function Rh(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function Nh(e){return Ns(e,Cu(e))}function Ah(e,t,n,r,o){e!==t&&ch(t,(function(i,a){if(o||(o=new Rd),Ka(i))!function(e,t,n,r,o,i,a){var l=Rh(e,n),s=Rh(t,n),u=a.get(s);if(u)Th(e,n,u);else{var c=i?i(l,s,n+"",e,t,a):void 0,d=void 0===c;if(d){var f=$a(s),h=!f&&Js(s),p=!f&&!h&&lu(s);c=s,f||h||p?$a(l)?c=l:Mh(l)?c=Gl(l):h?(d=!1,c=Pd(s,!0)):p?(d=!1,c=mf(s,!0)):c=[]:cc(s)||Ys(s)?(c=l,Ys(l)?c=Nh(l):Ka(l)&&!ll(l)||(c=bf(s))):d=!1}d&&(a.set(s,c),o(c,s,r,i,a),a.delete(s)),Th(e,n,c)}}(e,t,a,n,Ah,r,o);else{var l=r?r(Rh(e,a),i,a+"",e,t,o):void 0;void 0===l&&(l=i),Th(e,a,l)}}),Cu)}function Dh(e,t,n,r,o,i){return Ka(e)&&Ka(t)&&(i.set(t,e),Ah(e,t,void 0,Dh,i),i.delete(t)),e}var Bh=Fs((function(e,t,n,r){Ah(e,t,n,r)})),kh=Bh,Ph=Bs((function(e){return e.push(void 0,Dh),Tl(kh,void 0,e)}));function zh(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,n)}),t)}var Fh=Bs((function(e,t){return zh(e,1,t)})),Hh=Fh,$h=Bs((function(e,t,n){return zh(e,nl(t)||0,n)})),jh=$h;function Wh(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Gh(e,t,n,r){var o=-1,i=cs,a=!0,l=e.length,s=[],u=t.length;if(!l)return s;n&&(t=Ha(t,tu(n))),r?(i=Wh,a=!1):t.length>=200&&(i=Bf,a=!1,t=new Af(t));e:for(;++o<l;){var c=e[o],d=null==n?c:n(c);if(c=r||0!==c?c:0,a&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;s.push(c)}else i(t,d,r)||s.push(c)}return s}var Zh=Bs((function(e,t){return Mh(e)?Gh(e,ec(t,1,Mh,!0)):[]})),Vh=Zh;function Uh(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Yh=Bs((function(e,t){var n=Uh(t);return Mh(n)&&(n=void 0),Mh(e)?Gh(e,ec(t,1,Mh,!0),ih(n)):[]})),Xh=Yh,qh=Bs((function(e,t){var n=Uh(t);return Mh(n)&&(n=void 0),Mh(e)?Gh(e,ec(t,1,Mh,!0),void 0,n):[]})),Kh=qh,Qh=Za((function(e,t){return e/t}),1);function Jh(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?wc(e,r?0:i,r?i+1:o):wc(e,r?i+1:0,r?o:i)}function ep(e){return"function"==typeof e?e:al}function tp(e,t){return($a(e)?as:hh)(e,ep(t))}function np(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}var rp=uh(!0);function op(e,t){return e&&rp(e,t,pu)}var ip=fh(op,!0);function ap(e,t){return($a(e)?np:ip)(e,ep(t))}function lp(e,t,n){e=Zu(e),t=Ga(t);var r=e.length,o=n=void 0===n?r:Td(il(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t}function sp(e){return function(t){var n=cf(t);return"[object Map]"==n?Pf(t):"[object Set]"==n?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Ha(t,(function(t){return[t,e[t]]}))}(t,e(t))}}var up=sp(pu),cp=sp(Cu),dp=jc({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),fp=/[&<>"']/g,hp=RegExp(fp.source);function pp(e){return(e=Zu(e))&&hp.test(e)?e.replace(fp,dp):e}var vp=/[\\^$.*+?()[\]{}|]/g,gp=RegExp(vp.source);function mp(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function yp(e,t){var n=!0;return hh(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function bp(e,t,n){var r=$a(e)?mp:yp;return n&&zs(e,t,n)&&(t=void 0),r(e,ih(t))}function Cp(e){return e?Td(il(e),0,4294967295):0}function wp(e,t){var n=[];return hh(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function xp(e,t){return($a(e)?zd:wp)(e,ih(t))}function Sp(e){return function(t,n,r){var o=Object(t);if(!Ps(t)){var i=ih(n);t=pu(t),n=function(e){return i(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:void 0}}var Ep=Math.max;function Ip(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:il(n);return o<0&&(o=Ep(r+o,0)),ls(e,ih(t),o)}var Op=Sp(Ip);function Lp(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}var _p=Math.max,Tp=Math.min;function Mp(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=il(n),o=n<0?_p(r+o,0):Tp(o,r-1)),ls(e,ih(t),o,!0)}var Rp=Sp(Mp);function Np(e){return e&&e.length?e[0]:void 0}function Ap(e,t){var n=-1,r=Ps(e)?Array(e.length):[];return hh(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function Dp(e,t){return($a(e)?Ha:Ap)(e,ih(t))}var Bp=Ed("floor");function kp(e){return nc((function(t){var n=t.length,r=n,o=Wl.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new TypeError("Expected a function");if(o&&!a&&"wrapper"==jl(i))var a=new Wl([],!0)}for(r=a?r:n;++r<n;){var l=jl(i=t[r]),s="wrapper"==l?Fl(i):void 0;a=s&&Yl(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[jl(s[0])].apply(a,s[3]):1==i.length&&Yl(i)?a[l]():a.thru(i)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&$a(r))return a.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}var Pp=kp(),zp=kp(!0);function Fp(e,t){return null==e?e:ch(e,ep(t),Cu)}function Hp(e,t){return zd(t,(function(t){return ll(e[t])}))}var $p=Object.prototype.hasOwnProperty,jp=vh((function(e,t,n){$p.call(e,n)?e[n].push(t):_s(e,n,[t])})),Wp=jp;function Gp(e,t){return e>t}function Zp(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=nl(t),n=nl(n)),e(t,n)}}var Vp=Zp(Gp),Up=Zp((function(e,t){return e>=t})),Yp=Object.prototype.hasOwnProperty;function Xp(e,t){return null!=e&&Yp.call(e,t)}function qp(e,t){return null!=e&&eh(e,t,Xp)}var Kp=Math.max,Qp=Math.min;function Jp(e,t,n){return t=ol(t),void 0===n?(n=t,t=0):n=ol(n),function(e,t,n){return e>=Qp(t,n)&&e<Kp(t,n)}(e=nl(e),t,n)}function ev(e){return"string"==typeof e||!$a(e)&&Pa(e)&&"[object String]"==ka(e)}function tv(e,t){return Ha(t,(function(t){return e[t]}))}function nv(e){return null==e?[]:tv(e,pu(e))}var rv=Math.max;function ov(e,t,n,r){e=Ps(e)?e:nv(e),n=n&&!r?il(n):0;var o=e.length;return n<0&&(n=rv(o+n,0)),ev(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&us(e,t,n)>-1}var iv=Math.max;function av(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:il(n);return o<0&&(o=iv(r+o,0)),us(e,t,o)}var lv=Math.min;function sv(e,t,n){for(var r=n?Wh:cs,o=e[0].length,i=e.length,a=i,l=Array(i),s=1/0,u=[];a--;){var c=e[a];a&&t&&(c=Ha(c,tu(t))),s=lv(c.length,s),l[a]=!n&&(t||o>=120&&c.length>=120)?new Af(a&&c):void 0}c=e[0];var d=-1,f=l[0];e:for(;++d<o&&u.length<s;){var h=c[d],p=t?t(h):h;if(h=n||0!==h?h:0,!(f?Bf(f,p):r(u,p,n))){for(a=i;--a;){var v=l[a];if(!(v?Bf(v,p):r(e[a],p,n)))continue e}f&&f.push(p),u.push(h)}}return u}function uv(e){return Mh(e)?e:[]}var cv=Bs((function(e){var t=Ha(e,uv);return t.length&&t[0]===e[0]?sv(t):[]})),dv=Bs((function(e){var t=Uh(e),n=Ha(e,uv);return t===Uh(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?sv(n,ih(t)):[]})),fv=dv,hv=Bs((function(e){var t=Uh(e),n=Ha(e,uv);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?sv(n,void 0,t):[]}));function pv(e,t){return function(n,r){return function(e,t,n,r){return dh(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}var vv=Object.prototype.toString,gv=pv((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=vv.call(t)),e[t]=n}),ts(al)),mv=gv,yv=Object.prototype,bv=yv.hasOwnProperty,Cv=yv.toString,wv=pv((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Cv.call(t)),bv.call(e,t)?e[t].push(n):e[t]=[n]}),ih),xv=wv;function Sv(e,t){return t.length<2?e:Yu(e,wc(t,0,-1))}function Ev(e,t,n){var r=null==(e=Sv(e,t=Vu(t,e)))?e:e[Uu(Uh(t))];return null==r?void 0:Tl(r,e,n)}var Iv=Bs(Ev),Ov=Bs((function(e,t,n){var r=-1,o="function"==typeof t,i=Ps(e)?Array(e.length):[];return hh(e,(function(e){i[++r]=o?Tl(t,e,n):Ev(e,t,n)})),i})),Lv=Ov;var _v=iu&&iu.isArrayBuffer,Tv=_v?tu(_v):function(e){return Pa(e)&&"[object ArrayBuffer]"==ka(e)};function Mv(e){return!0===e||!1===e||Pa(e)&&"[object Boolean]"==ka(e)}var Rv=iu&&iu.isDate,Nv=Rv?tu(Rv):function(e){return Pa(e)&&"[object Date]"==ka(e)};var Av=Object.prototype.hasOwnProperty;function Dv(e){if(null==e)return!0;if(Ps(e)&&($a(e)||"string"==typeof e||"function"==typeof e.splice||Js(e)||lu(e)||Ys(e)))return!e.length;var t=cf(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if($s(e))return!hu(e).length;for(var n in e)if(Av.call(e,n))return!1;return!0}function Bv(e,t){return Uf(e,t)}var kv=_a.isFinite;function Pv(e){return"number"==typeof e&&e==il(e)}function zv(e){return"number"==typeof e||Pa(e)&&"[object Number]"==ka(e)}function Fv(e){return zv(e)&&e!=+e}var Hv=ul?ll:Xs;function $v(e){return null==e}var jv=iu&&iu.isRegExp,Wv=jv?tu(jv):function(e){return Pa(e)&&"[object RegExp]"==ka(e)},Gv=9007199254740991;function Zv(e){return void 0===e}var Vv=Array.prototype.join;var Uv=bd((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Yv=Uv,Xv=vh((function(e,t,n){_s(e,n,t)})),qv=Xv;var Kv=Math.max,Qv=Math.min;var Jv=bd((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),eg=Jv,tg=zc("toLowerCase");function ng(e,t){return e<t}var rg=Zp(ng),og=Zp((function(e,t){return e<=t}));function ig(e,t){var n={};return t=ih(t),dh(e,(function(e,r,o){_s(n,t(e,r,o),e)})),n}function ag(e){return Qf(_f(e,1))}function lg(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(void 0===l?a==a&&!za(a):n(a,l)))var l=a,s=i}return s}function sg(e){return e&&e.length?lg(e,al,Gp):void 0}function ug(e,t){return e&&e.length?lg(e,ih(t),Gp):void 0}function cg(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}function dg(e,t){var n=null==e?0:e.length;return n?cg(e,t)/n:NaN}var fg=Fs((function(e,t,n){Ah(e,t,n)})),hg=fg,pg=Bs((function(e,t){return function(n){return Ev(n,e,t)}})),vg=pg,gg=Bs((function(e,t){return function(n){return Ev(e,n,t)}})),mg=gg;function yg(e){return e&&e.length?lg(e,al,ng):void 0}function bg(e,t,n){var r=pu(t),o=Hp(t,r),i=!(Ka(n)&&"chain"in n&&!n.chain),a=ll(e);return as(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=Gl(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ku([this.value()],arguments))})})),e}var Cg=Za((function(e,t){return e*t}),1);function wg(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var xg=Ta?Ta.iterator:void 0;function Sg(e){if(!e)return[];if(Ps(e))return ev(e)?Pc(e):Gl(e);if(xg&&e[xg])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[xg]());var t=cf(e);return("[object Map]"==t?Pf:"[object Set]"==t?zf:nv)(e)}function Eg(e,t){var n=e.length;if(n)return gs(t+=t<0?n:0,n)?e[t]:void 0}function Ig(e,t){return null==(e=Sv(e,t=Vu(t,e)))||delete e[Uu(Uh(t))]}function Og(e){return cc(e)?void 0:e}var Lg=nc((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ha(t,(function(t){return t=Vu(t,e),r||(r=t.length>1),t})),Ns(e,Yd(e),n),r&&(n=_f(n,7,Og));for(var o=t.length;o--;)Ig(n,t[o]);return n})),_g=Lg;function Tg(e,t,n,r){if(!Ka(e))return e;for(var o=-1,i=(t=Vu(t,e)).length,a=i-1,l=e;null!=l&&++o<i;){var s=Uu(t[o]),u=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(o!=a){var c=l[s];void 0===(u=r?r(c,s,l):void 0)&&(u=Ka(c)?c:gs(t[o+1])?[]:{})}Rs(l,s,u),l=l[s]}return e}function Mg(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],l=Yu(e,a);n(l,a)&&Tg(i,Vu(a,e),l)}return i}function Rg(e,t){if(null==e)return{};var n=Ha(Yd(e),(function(e){return[e]}));return t=ih(t),Mg(e,n,(function(e,n){return t(e,n[0])}))}function Ng(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=za(e),a=void 0!==t,l=null===t,s=t==t,u=za(t);if(!l&&!u&&!i&&e>t||i&&a&&s&&!l&&!u||r&&a&&s||!n&&s||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||l&&n&&o||!a&&o||!s)return-1}return 0}function Ag(e,t,n){t=t.length?Ha(t,(function(e){return $a(e)?function(t){return Yu(t,1===e.length?e[0]:e)}:e})):[al];var r=-1;t=Ha(t,tu(ih));var o=Ap(e,(function(e,n,o){var i=Ha(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,l=n.length;++r<a;){var s=Ng(o[r],i[r]);if(s)return r>=l?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Dg(e,t,n,r){return null==e?[]:($a(t)||(t=null==t?[]:[t]),$a(n=r?void 0:n)||(n=null==n?[]:[n]),Ag(e,t,n))}function Bg(e){return nc((function(t){return t=Ha(t,tu(ih)),Bs((function(n){var r=this;return e(t,(function(e){return Tl(e,r,n)}))}))}))}var kg=Bg(Ha),Pg=Bs,zg=Math.min,Fg=Pg((function(e,t){var n=(t=1==t.length&&$a(t[0])?Ha(t[0],tu(ih)):Ha(ec(t,1),tu(ih))).length;return Bs((function(r){for(var o=-1,i=zg(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Tl(e,this,r)}))})),Hg=Fg,$g=Bg(mp),jg=Bg(Df),Wg=Math.floor;function Gg(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Wg(t/2))&&(e+=e)}while(t);return n}var Zg=rh("length"),Vg="\\ud800-\\udfff",Ug="["+Vg+"]",Yg="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Xg="\\ud83c[\\udffb-\\udfff]",qg="[^"+Vg+"]",Kg="(?:\\ud83c[\\udde6-\\uddff]){2}",Qg="[\\ud800-\\udbff][\\udc00-\\udfff]",Jg="(?:"+Yg+"|"+Xg+")"+"?",em="[\\ufe0e\\ufe0f]?",tm=em+Jg+("(?:\\u200d(?:"+[qg,Kg,Qg].join("|")+")"+em+Jg+")*"),nm="(?:"+[qg+Yg+"?",Yg,Kg,Qg,Ug].join("|")+")",rm=RegExp(Xg+"(?="+Xg+")|"+nm+tm,"g");function om(e){return Ec(e)?function(e){for(var t=rm.lastIndex=0;rm.test(e);)++t;return t}(e):Zg(e)}var im=Math.ceil;function am(e,t){var n=(t=void 0===t?" ":Ga(t)).length;if(n<2)return n?Gg(t,e):t;var r=Gg(t,im(e/om(t)));return Ec(t)?xc(Pc(r),0,e).join(""):r.slice(0,e)}var lm=Math.ceil,sm=Math.floor;var um=/^\s+/,cm=_a.parseInt;var dm=Bs((function(e,t){return Os(e,32,void 0,t,Cs(t,ps(dm)))}));dm.placeholder={};var fm=dm,hm=Bs((function(e,t){return Os(e,64,void 0,t,Cs(t,ps(hm)))}));hm.placeholder={};var pm=hm,vm=vh((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),gm=vm;var mm=nc((function(e,t){return null==e?{}:function(e,t){return Mg(e,t,(function(t,n){return th(e,n)}))}(e,t)})),ym=mm;function bm(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}var Cm=Array.prototype.splice;function wm(e,t,n,r){var o=r?bm:us,i=-1,a=t.length,l=e;for(e===t&&(t=Gl(t)),n&&(l=Ha(e,tu(n)));++i<a;)for(var s=0,u=t[i],c=n?n(u):u;(s=o(l,c,s,r))>-1;)l!==e&&Cm.call(l,s,1),Cm.call(e,s,1);return e}function xm(e,t){return e&&e.length&&t&&t.length?wm(e,t):e}var Sm=Bs(xm);var Em=Array.prototype.splice;function Im(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;gs(o)?Em.call(e,o,1):Ig(e,o)}}return e}var Om=nc((function(e,t){var n=null==e?0:e.length,r=qu(e,t);return Im(e,Ha(t,(function(e){return gs(e,n)?+e:e})).sort(Ng)),r})),Lm=Om,_m=Math.floor,Tm=Math.random;function Mm(e,t){return e+_m(Tm()*(t-e+1))}var Rm=parseFloat,Nm=Math.min,Am=Math.random;var Dm=Math.ceil,Bm=Math.max;function km(e){return function(t,n,r){return r&&"number"!=typeof r&&zs(t,n,r)&&(n=r=void 0),t=ol(t),void 0===n?(n=t,t=0):n=ol(n),function(e,t,n,r){for(var o=-1,i=Bm(Dm((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}(t,n,r=void 0===r?t<n?1:-1:ol(r),e)}}var Pm=km(),zm=km(!0),Fm=nc((function(e,t){return Os(e,256,void 0,void 0,void 0,t)})),Hm=Fm;function $m(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function jm(e,t,n){var r=$a(e)?$c:$m,o=arguments.length<3;return r(e,ih(t),n,o,hh)}function Wm(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Gm(e,t,n){return t=(n?zs(e,t,n):void 0===t)?1:il(t),Gg(Zu(e),t)}var Zm=Array.prototype.reverse;function Vm(e){return null==e?e:Zm.call(e)}var Um=Ed("round");function Ym(e){var t=e.length;return t?e[Mm(0,t-1)]:void 0}function Xm(e){return Ym(nv(e))}function qm(e,t){var n=-1,r=e.length,o=r-1;for(t=void 0===t?r:t;++n<t;){var i=Mm(n,o),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}function Km(e,t){return qm(Gl(e),Td(t,0,e.length))}function Qm(e,t){var n=nv(e);return qm(n,Td(t,0,n.length))}function Jm(e,t,n){return null==e?e:Tg(e,t,n)}function ey(e){return qm(Gl(e))}function ty(e){return qm(nv(e))}function ny(e){if(null==e)return 0;if(Ps(e))return ev(e)?om(e):e.length;var t=cf(e);return"[object Map]"==t||"[object Set]"==t?e.size:hu(e).length}var ry=bd((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),oy=ry;function iy(e,t){var n;return hh(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}var ay=Bs((function(e,t){if(null==e)return[];var n=t.length;return n>1&&zs(e,t[0],t[1])?t=[]:n>2&&zs(t[0],t[1],t[2])&&(t=[t[0]]),Ag(e,ec(t,1),[])})),ly=ay,sy=Math.floor,uy=Math.min;function cy(e,t,n,r){var o=0,i=null==e?0:e.length;if(0===i)return 0;for(var a=(t=n(t))!=t,l=null===t,s=za(t),u=void 0===t;o<i;){var c=sy((o+i)/2),d=n(e[c]),f=void 0!==d,h=null===d,p=d==d,v=za(d);if(a)var g=r||p;else g=u?p&&(r||f):l?p&&f&&(r||!h):s?p&&f&&!h&&(r||!v):!h&&!v&&(r?d<=t:d<t);g?o=c+1:i=c}return uy(i,4294967294)}function dy(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!za(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return cy(e,t,al,n)}function fy(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],l=t?t(a):a;if(!n||!Ts(l,s)){var s=l;i[o++]=0===a?0:a}}return i}function hy(e,t,n){return n&&"number"!=typeof n&&zs(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=Zu(e))&&("string"==typeof t||null!=t&&!Wv(t))&&!(t=Ga(t))&&Ec(e)?xc(Pc(e),0,n):e.split(t,n):[]}var py=Math.max;var vy=bd((function(e,t,n){return e+(n?" ":"")+Fc(t)})),gy=vy;function my(){return!0}var yy=Za((function(e,t){return e-t}),0);function by(e,t){return e&&e.length?cg(e,ih(t)):0}var Cy=Object.prototype,wy=Cy.hasOwnProperty;function xy(e,t,n,r){return void 0===e||Ts(e,Cy[n])&&!wy.call(r,n)?t:e}var Sy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Ey(e){return"\\"+Sy[e]}var Iy=/<%=([\s\S]+?)%>/g,Oy={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Iy,variable:"",imports:{_:{escape:pp}}},Ly=/\b__p \+= '';/g,_y=/\b(__p \+=) '' \+/g,Ty=/(__e\(.*?\)|\b__t\)) \+\n'';/g,My=/[()=,{}\[\]\/\s]/,Ry=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ny=/($^)/,Ay=/['\n\r\u2028\u2029\\]/g,Dy=Object.prototype.hasOwnProperty;function By(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Ka(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Eh(e,t,{leading:r,maxWait:t,trailing:o})}function ky(e,t){return t(e)}var Py=4294967295,zy=Math.min;function Fy(e,t){var n=e;return n instanceof kl&&(n=n.value()),$c(t,(function(e,t){return t.func.apply(t.thisArg,Ku([e],t.args))}),n)}function Hy(){return Fy(this.__wrapped__,this.__actions__)}var $y=9007199254740991;function jy(e){return Zu(e).toUpperCase()}function Wy(e,t){for(var n=e.length;n--&&us(t,e[n],0)>-1;);return n}function Gy(e,t){for(var n=-1,r=e.length;++n<r&&us(t,e[n],0)>-1;);return n}function Zy(e,t,n){if((e=Zu(e))&&(n||void 0===t))return qa(e);if(!e||!(t=Ga(t)))return e;var r=Pc(e),o=Pc(t);return xc(r,Gy(r,o),Wy(r,o)+1).join("")}var Vy=/^\s+/;var Uy=/\w*$/;var Yy=jc({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Xy=/&(?:amp|lt|gt|quot|#39);/g,qy=RegExp(Xy.source);var Ky=Kd&&1/zf(new Kd([,-0]))[1]==1/0?function(e){return new Kd(e)}:Pl,Qy=Ky;function Jy(e,t,n){var r=-1,o=cs,i=e.length,a=!0,l=[],s=l;if(n)a=!1,o=Wh;else if(i>=200){var u=t?null:Qy(e);if(u)return zf(u);a=!1,o=Bf,s=new Af}else s=t?[]:l;e:for(;++r<i;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var f=s.length;f--;)if(s[f]===d)continue e;t&&s.push(d),l.push(c)}else o(s,d,n)||(s!==l&&s.push(d),l.push(c))}return l}var eb=Bs((function(e){return Jy(ec(e,1,Mh,!0))})),tb=Bs((function(e){var t=Uh(e);return Mh(t)&&(t=void 0),Jy(ec(e,1,Mh,!0),ih(t))})),nb=tb,rb=Bs((function(e){var t=Uh(e);return t="function"==typeof t?t:void 0,Jy(ec(e,1,Mh,!0),void 0,t)}));function ob(e){return e&&e.length?Jy(e):[]}function ib(e,t){return e&&e.length?Jy(e,ih(t)):[]}var ab=0;function lb(e,t){return null==e||Ig(e,t)}var sb=Math.max;function ub(e){if(!e||!e.length)return[];var t=0;return e=zd(e,(function(e){if(Mh(e))return t=sb(e.length,t),!0})),js(t,(function(t){return Ha(e,rh(t))}))}function cb(e,t){if(!e||!e.length)return[];var n=ub(e);return null==t?n:Ha(n,(function(e){return Tl(t,void 0,e)}))}function db(e,t,n,r){return Tg(e,t,n(Yu(e,t)),r)}var fb=bd((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),hb=fb;var pb=Bs((function(e,t){return Mh(e)?Gh(e,t):[]})),vb=pb;var gb=nc((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return qu(t,e)};return!(t>1||this.__actions__.length)&&r instanceof kl&&gs(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ky,args:[o],thisArg:void 0}),new Wl(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(o)})),mb=gb;function yb(e,t,n){var r=e.length;if(r<2)return r?Jy(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var a=e[o],l=-1;++l<r;)l!=o&&(i[o]=Gh(i[o]||a,e[l],t,n));return Jy(ec(i,1),t,n)}var bb=Bs((function(e){return yb(zd(e,Mh))})),Cb=Bs((function(e){var t=Uh(e);return Mh(t)&&(t=void 0),yb(zd(e,Mh),ih(t))})),wb=Cb,xb=Bs((function(e){var t=Uh(e);return t="function"==typeof t?t:void 0,yb(zd(e,Mh),void 0,t)})),Sb=Bs(ub);function Eb(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var l=r<i?t[r]:void 0;n(a,e[r],l)}return a}var Ib=Bs((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,cb(e,n)})),Ob={chunk:function(e,t,n){t=(n?zs(e,t,n):void 0===t)?1:_d(il(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=Array(Ld(r/t));o<r;)a[i++]=wc(e,o,o+=t);return a},compact:Rf,concat:Nf,difference:Vh,differenceBy:Xh,differenceWith:Kh,drop:function(e,t,n){var r=null==e?0:e.length;return r?wc(e,(t=n||void 0===t?1:il(t))<0?0:t,r):[]},dropRight:function(e,t,n){var r=null==e?0:e.length;return r?wc(e,0,(t=r-(t=n||void 0===t?1:il(t)))<0?0:t):[]},dropRightWhile:function(e,t){return e&&e.length?Jh(e,ih(t),!0,!0):[]},dropWhile:function(e,t){return e&&e.length?Jh(e,ih(t),!0):[]},fill:function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&zs(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=il(n))<0&&(n=-n>o?0:o+n),(r=void 0===r||r>o?o:il(r))<0&&(r+=o),r=n>r?0:Cp(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},findIndex:Ip,findLastIndex:Mp,first:Np,flatten:tc,flattenDeep:function(e){return(null==e?0:e.length)?ec(e,Infinity):[]},flattenDepth:function(e,t){return(null==e?0:e.length)?ec(e,t=void 0===t?1:il(t)):[]},fromPairs:function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},head:Np,indexOf:av,initial:function(e){return(null==e?0:e.length)?wc(e,0,-1):[]},intersection:cv,intersectionBy:fv,intersectionWith:hv,join:function(e,t){return null==e?"":Vv.call(e,t)},last:Uh,lastIndexOf:function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return void 0!==n&&(o=(o=il(n))<0?Kv(r+o,0):Qv(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):ls(e,ss,o,!0)},nth:function(e,t){return e&&e.length?Eg(e,il(t)):void 0},pull:Sm,pullAll:xm,pullAllBy:function(e,t,n){return e&&e.length&&t&&t.length?wm(e,t,ih(n)):e},pullAllWith:function(e,t,n){return e&&e.length&&t&&t.length?wm(e,t,void 0,n):e},pullAt:Lm,remove:function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ih(t);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Im(e,o),n},reverse:Vm,slice:function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&zs(e,t,n)?(t=0,n=r):(t=null==t?0:il(t),n=void 0===n?r:il(n)),wc(e,t,n)):[]},sortedIndex:function(e,t){return dy(e,t)},sortedIndexBy:function(e,t,n){return cy(e,t,ih(n))},sortedIndexOf:function(e,t){var n=null==e?0:e.length;if(n){var r=dy(e,t);if(r<n&&Ts(e[r],t))return r}return-1},sortedLastIndex:function(e,t){return dy(e,t,!0)},sortedLastIndexBy:function(e,t,n){return cy(e,t,ih(n),!0)},sortedLastIndexOf:function(e,t){if(null==e?0:e.length){var n=dy(e,t,!0)-1;if(Ts(e[n],t))return n}return-1},sortedUniq:function(e){return e&&e.length?fy(e):[]},sortedUniqBy:function(e,t){return e&&e.length?fy(e,ih(t)):[]},tail:function(e){var t=null==e?0:e.length;return t?wc(e,1,t):[]},take:function(e,t,n){return e&&e.length?wc(e,0,(t=n||void 0===t?1:il(t))<0?0:t):[]},takeRight:function(e,t,n){var r=null==e?0:e.length;return r?wc(e,(t=r-(t=n||void 0===t?1:il(t)))<0?0:t,r):[]},takeRightWhile:function(e,t){return e&&e.length?Jh(e,ih(t),!1,!0):[]},takeWhile:function(e,t){return e&&e.length?Jh(e,ih(t)):[]},union:eb,unionBy:nb,unionWith:rb,uniq:ob,uniqBy:ib,uniqWith:function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Jy(e,void 0,t):[]},unzip:ub,unzipWith:cb,without:vb,xor:bb,xorBy:wb,xorWith:xb,zip:Sb,zipObject:function(e,t){return Eb(e||[],t||[],Rs)},zipObjectDeep:function(e,t){return Eb(e||[],t||[],Tg)},zipWith:Ib},Lb={countBy:yh,each:tp,eachRight:ap,every:bp,filter:xp,find:Op,findLast:Rp,flatMap:function(e,t){return ec(Dp(e,t),1)},flatMapDeep:function(e,t){return ec(Dp(e,t),Infinity)},flatMapDepth:function(e,t,n){return n=void 0===n?1:il(n),ec(Dp(e,t),n)},forEach:tp,forEachRight:ap,groupBy:Wp,includes:ov,invokeMap:Lv,keyBy:qv,map:Dp,orderBy:Dg,partition:gm,reduce:jm,reduceRight:function(e,t,n){var r=$a(e)?Wm:$m,o=arguments.length<3;return r(e,ih(t),n,o,ip)},reject:function(e,t){return($a(e)?zd:wp)(e,wg(ih(t)))},sample:function(e){return($a(e)?Ym:Xm)(e)},sampleSize:function(e,t,n){return t=(n?zs(e,t,n):void 0===t)?1:il(t),($a(e)?Km:Qm)(e,t)},shuffle:function(e){return($a(e)?ey:ty)(e)},size:ny,some:function(e,t,n){var r=$a(e)?Df:iy;return n&&zs(e,t,n)&&(t=void 0),r(e,ih(t))},sortBy:ly},_b={now:wh},Tb={after:function(e,t){if("function"!=typeof t)throw new TypeError("Expected a function");return e=il(e),function(){if(--e<1)return t.apply(this,arguments)}},ary:Ls,before:pc,bind:gc,bindKey:Cc,curry:bh,curryRight:Ch,debounce:Eh,defer:Hh,delay:jh,flip:function(e){return Os(e,512)},memoize:Hu,negate:wg,once:function(e){return pc(2,e)},overArgs:Hg,partial:fm,partialRight:pm,rearg:Hm,rest:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return Bs(e,t=void 0===t?t:il(t))},spread:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return t=null==t?0:py(il(t),0),Bs((function(n){var r=n[t],o=xc(n,0,t);return r&&Ku(o,r),Tl(e,this,o)}))},throttle:By,unary:function(e){return Ls(e,1)},wrap:function(e,t){return fm(ep(t),e)}},Mb={castArray:function(){if(!arguments.length)return[];var e=arguments[0];return $a(e)?e:[e]},clone:Tf,cloneDeep:Mf,cloneDeepWith:function(e,t){return _f(e,5,t="function"==typeof t?t:void 0)},cloneWith:function(e,t){return _f(e,4,t="function"==typeof t?t:void 0)},conformsTo:function(e,t){return null==t||lh(e,t,pu(t))},eq:Ts,gt:Vp,gte:Up,isArguments:Ys,isArray:$a,isArrayBuffer:Tv,isArrayLike:Ps,isArrayLikeObject:Mh,isBoolean:Mv,isBuffer:Js,isDate:Nv,isElement:function(e){return Pa(e)&&1===e.nodeType&&!cc(e)},isEmpty:Dv,isEqual:Bv,isEqualWith:function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?Uf(e,t,void 0,n):!!r},isError:dc,isFinite:function(e){return"number"==typeof e&&kv(e)},isFunction:ll,isInteger:Pv,isLength:ks,isMap:wf,isMatch:function(e,t){return e===t||Yf(e,t,qf(t))},isMatchWith:function(e,t,n){return n="function"==typeof n?n:void 0,Yf(e,t,qf(t),n)},isNaN:Fv,isNative:function(e){if(Hv(e))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return bl(e)},isNil:$v,isNull:function(e){return null===e},isNumber:zv,isObject:Ka,isObjectLike:Pa,isPlainObject:cc,isRegExp:Wv,isSafeInteger:function(e){return Pv(e)&&e>=-9007199254740991&&e<=Gv},isSet:Sf,isString:ev,isSymbol:za,isTypedArray:lu,isUndefined:Zv,isWeakMap:function(e){return Pa(e)&&"[object WeakMap]"==cf(e)},isWeakSet:function(e){return Pa(e)&&"[object WeakSet]"==ka(e)},lt:rg,lte:og,toArray:Sg,toFinite:ol,toInteger:il,toLength:Cp,toNumber:nl,toPlainObject:Nh,toSafeInteger:function(e){return e?Td(il(e),-9007199254740991,$y):0===e?e:0},toString:Zu},Rb={add:Va,ceil:Id,divide:Qh,floor:Bp,max:sg,maxBy:ug,mean:function(e){return dg(e,al)},meanBy:function(e,t){return dg(e,ih(t))},min:yg,minBy:function(e,t){return e&&e.length?lg(e,ih(t),ng):void 0},multiply:Cg,round:Um,subtract:yy,sum:function(e){return e&&e.length?cg(e,al):0},sumBy:by},Nb=Md,Ab=Jp,Db=function(e,t,n){if(n&&"boolean"!=typeof n&&zs(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ol(e),void 0===t?(t=e,e=0):t=ol(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Am();return Nm(e+o*(t-e+Rm("1e-"+((o+"").length-1))),t)}return Mm(e,t)},Bb={assign:mu,assignIn:xu,assignInWith:Eu,assignWith:Ou,at:rc,create:function(e,t){var n=Ll(e);return null==t?n:Nd(n,t)},defaults:_h,defaultsDeep:Ph,entries:up,entriesIn:cp,extend:xu,extendWith:Eu,findKey:function(e,t){return Lp(e,ih(t),dh)},findLastKey:function(e,t){return Lp(e,ih(t),op)},forIn:Fp,forInRight:function(e,t){return null==e?e:rp(e,ep(t),Cu)},forOwn:function(e,t){return e&&dh(e,ep(t))},forOwnRight:function(e,t){return e&&op(e,ep(t))},functions:function(e){return null==e?[]:Hp(e,pu(e))},functionsIn:function(e){return null==e?[]:Hp(e,Cu(e))},get:Xu,has:qp,hasIn:th,invert:mv,invertBy:xv,invoke:Iv,keys:pu,keysIn:Cu,mapKeys:ig,mapValues:function(e,t){var n={};return t=ih(t),dh(e,(function(e,r,o){_s(n,r,t(e,r,o))})),n},merge:hg,mergeWith:kh,omit:_g,omitBy:function(e,t){return Rg(e,wg(ih(t)))},pick:ym,pickBy:Rg,result:function(e,t,n){var r=-1,o=(t=Vu(t,e)).length;for(o||(o=1,e=void 0);++r<o;){var i=null==e?void 0:e[Uu(t[r])];void 0===i&&(r=o,i=n),e=ll(i)?i.call(e):i}return e},set:Jm,setWith:function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Tg(e,t,n,r)},toPairs:up,toPairsIn:cp,transform:function(e,t,n){var r=$a(e),o=r||Js(e)||lu(e);if(t=ih(t),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Ka(e)&&ll(i)?Ll(oc(e)):{}}return(o?as:dh)(e,(function(e,r,o){return t(n,e,r,o)})),n},unset:lb,update:function(e,t,n){return null==e?e:db(e,t,ep(n))},updateWith:function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:db(e,t,ep(n),r)},values:nv,valuesIn:function(e){return null==e?[]:tv(e,Cu(e))}},kb={at:mb,chain:Od,commit:function(){return new Wl(this.value(),this.__chain__)},lodash:Ul,next:function(){void 0===this.__values__&&(this.__values__=Sg(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},plant:function(e){for(var t,n=this;n instanceof Bl;){var r=Zl(n);r.__index__=0,r.__values__=void 0,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},reverse:function(){var e=this.__wrapped__;if(e instanceof kl){var t=e;return this.__actions__.length&&(t=new kl(this)),(t=t.reverse()).__actions__.push({func:ky,args:[Vm],thisArg:void 0}),new Wl(t,this.__chain__)}return this.thru(Vm)},tap:function(e,t){return t(e),e},thru:ky,toIterator:function(){return this},toJSON:Hy,value:Hy,valueOf:Hy,wrapperChain:function(){return Od(this)}},Pb={camelCase:wd,capitalize:Hc,deburr:Vc,endsWith:lp,escape:pp,escapeRegExp:function(e){return(e=Zu(e))&&gp.test(e)?e.replace(vp,"\\$&"):e},kebabCase:Yv,lowerCase:eg,lowerFirst:tg,pad:function(e,t,n){e=Zu(e);var r=(t=il(t))?om(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return am(sm(o),n)+e+am(lm(o),n)},padEnd:function(e,t,n){e=Zu(e);var r=(t=il(t))?om(e):0;return t&&r<t?e+am(t-r,n):e},padStart:function(e,t,n){e=Zu(e);var r=(t=il(t))?om(e):0;return t&&r<t?am(t-r,n)+e:e},parseInt:function(e,t,n){return n||null==t?t=0:t&&(t=+t),cm(Zu(e).replace(um,""),t||0)},repeat:Gm,replace:function(){var e=arguments,t=Zu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},snakeCase:oy,split:hy,startCase:gy,startsWith:function(e,t,n){return e=Zu(e),n=null==n?0:Td(il(n),0,e.length),t=Ga(t),e.slice(n,n+t.length)==t},template:function(e,t,n){var r=Oy.imports._.templateSettings||Oy;n&&zs(e,t,n)&&(t=void 0),e=Zu(e),t=Eu({},t,r,xy);var o,i,a=Eu({},t.imports,r.imports,xy),l=pu(a),s=tv(a,l),u=0,c=t.interpolate||Ny,d="__p += '",f=RegExp((t.escape||Ny).source+"|"+c.source+"|"+(c===Iy?Ry:Ny).source+"|"+(t.evaluate||Ny).source+"|$","g"),h=Dy.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(f,(function(t,n,r,a,l,s){return r||(r=a),d+=e.slice(u,s).replace(Ay,Ey),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),l&&(i=!0,d+="';\n"+l+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=s+t.length,t})),d+="';\n";var p=Dy.call(t,"variable")&&t.variable;if(p){if(My.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(i?d.replace(Ly,""):d).replace(_y,"$1").replace(Ty,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=hc((function(){return Function(l,h+"return "+d).apply(void 0,s)}));if(v.source=d,dc(v))throw v;return v},templateSettings:Oy,toLower:function(e){return Zu(e).toLowerCase()},toUpper:jy,trim:Zy,trimEnd:function(e,t,n){if((e=Zu(e))&&(n||void 0===t))return e.slice(0,Ya(e)+1);if(!e||!(t=Ga(t)))return e;var r=Pc(e);return xc(r,0,Wy(r,Pc(t))+1).join("")},trimStart:function(e,t,n){if((e=Zu(e))&&(n||void 0===t))return e.replace(Vy,"");if(!e||!(t=Ga(t)))return e;var r=Pc(e);return xc(r,Gy(r,Pc(t))).join("")},truncate:function(e,t){var n=30,r="...";if(Ka(t)){var o="separator"in t?t.separator:o;n="length"in t?il(t.length):n,r="omission"in t?Ga(t.omission):r}var i=(e=Zu(e)).length;if(Ec(e)){var a=Pc(e);i=a.length}if(n>=i)return e;var l=n-om(r);if(l<1)return r;var s=a?xc(a,0,l).join(""):e.slice(0,l);if(void 0===o)return s+r;if(a&&(l+=s.length-l),Wv(o)){if(e.slice(l).search(o)){var u,c=s;for(o.global||(o=RegExp(o.source,Zu(Uy.exec(o))+"g")),o.lastIndex=0;u=o.exec(c);)var d=u.index;s=s.slice(0,void 0===d?l:d)}}else if(e.indexOf(Ga(o),l)!=l){var f=s.lastIndexOf(o);f>-1&&(s=s.slice(0,f))}return s+r},unescape:function(e){return(e=Zu(e))&&qy.test(e)?e.replace(Xy,Yy):e},upperCase:hb,upperFirst:Fc,words:md},zb={attempt:hc,bindAll:yc,cond:ah,conforms:function(e){return function(e){var t=pu(e);return function(n){return lh(n,e,t)}}(_f(e,1))},constant:ts,defaultTo:function(e,t){return null==e||e!=e?t:e},flow:Pp,flowRight:zp,identity:al,iteratee:function(e){return ih("function"==typeof e?e:_f(e,1))},matches:ag,matchesProperty:function(e,t){return nh(e,_f(t,1))},method:vg,methodOf:mg,mixin:bg,noop:Pl,nthArg:function(e){return e=il(e),Bs((function(t){return Eg(t,e)}))},over:kg,overEvery:$g,overSome:jg,property:oh,propertyOf:function(e){return function(t){return null==e?void 0:Yu(e,t)}},range:Pm,rangeRight:zm,stubArray:Fd,stubFalse:Xs,stubObject:function(){return{}},stubString:function(){return""},stubTrue:my,times:function(e,t){if((e=il(e))<1||e>9007199254740991)return[];var n=Py,r=zy(e,Py);t=ep(t),e-=Py;for(var o=js(r,t);++n<e;)t(n);return o},toPath:function(e){return $a(e)?Ha(e,Uu):za(e)?[e]:Gl(Gu(Zu(e)))},uniqueId:function(e){var t=++ab;return Zu(e)+t}};var Fb=Math.max,Hb=Math.min;var $b=Math.min;var jb,Wb=4294967295,Gb=Array.prototype,Zb=Object.prototype.hasOwnProperty,Vb=Ta?Ta.iterator:void 0,Ub=Math.max,Yb=Math.min,Xb=function(e){return function(t,n,r){if(null==r){var o=Ka(n),i=o&&pu(n),a=i&&i.length&&Hp(n,i);(a?a.length:o)||(r=n,n=t,t=this)}return e(t,n,r)}}(bg);Ul.after=Tb.after,Ul.ary=Tb.ary,Ul.assign=Bb.assign,Ul.assignIn=Bb.assignIn,Ul.assignInWith=Bb.assignInWith,Ul.assignWith=Bb.assignWith,Ul.at=Bb.at,Ul.before=Tb.before,Ul.bind=Tb.bind,Ul.bindAll=zb.bindAll,Ul.bindKey=Tb.bindKey,Ul.castArray=Mb.castArray,Ul.chain=kb.chain,Ul.chunk=Ob.chunk,Ul.compact=Ob.compact,Ul.concat=Ob.concat,Ul.cond=zb.cond,Ul.conforms=zb.conforms,Ul.constant=zb.constant,Ul.countBy=Lb.countBy,Ul.create=Bb.create,Ul.curry=Tb.curry,Ul.curryRight=Tb.curryRight,Ul.debounce=Tb.debounce,Ul.defaults=Bb.defaults,Ul.defaultsDeep=Bb.defaultsDeep,Ul.defer=Tb.defer,Ul.delay=Tb.delay,Ul.difference=Ob.difference,Ul.differenceBy=Ob.differenceBy,Ul.differenceWith=Ob.differenceWith,Ul.drop=Ob.drop,Ul.dropRight=Ob.dropRight,Ul.dropRightWhile=Ob.dropRightWhile,Ul.dropWhile=Ob.dropWhile,Ul.fill=Ob.fill,Ul.filter=Lb.filter,Ul.flatMap=Lb.flatMap,Ul.flatMapDeep=Lb.flatMapDeep,Ul.flatMapDepth=Lb.flatMapDepth,Ul.flatten=Ob.flatten,Ul.flattenDeep=Ob.flattenDeep,Ul.flattenDepth=Ob.flattenDepth,Ul.flip=Tb.flip,Ul.flow=zb.flow,Ul.flowRight=zb.flowRight,Ul.fromPairs=Ob.fromPairs,Ul.functions=Bb.functions,Ul.functionsIn=Bb.functionsIn,Ul.groupBy=Lb.groupBy,Ul.initial=Ob.initial,Ul.intersection=Ob.intersection,Ul.intersectionBy=Ob.intersectionBy,Ul.intersectionWith=Ob.intersectionWith,Ul.invert=Bb.invert,Ul.invertBy=Bb.invertBy,Ul.invokeMap=Lb.invokeMap,Ul.iteratee=zb.iteratee,Ul.keyBy=Lb.keyBy,Ul.keys=pu,Ul.keysIn=Bb.keysIn,Ul.map=Lb.map,Ul.mapKeys=Bb.mapKeys,Ul.mapValues=Bb.mapValues,Ul.matches=zb.matches,Ul.matchesProperty=zb.matchesProperty,Ul.memoize=Tb.memoize,Ul.merge=Bb.merge,Ul.mergeWith=Bb.mergeWith,Ul.method=zb.method,Ul.methodOf=zb.methodOf,Ul.mixin=Xb,Ul.negate=wg,Ul.nthArg=zb.nthArg,Ul.omit=Bb.omit,Ul.omitBy=Bb.omitBy,Ul.once=Tb.once,Ul.orderBy=Lb.orderBy,Ul.over=zb.over,Ul.overArgs=Tb.overArgs,Ul.overEvery=zb.overEvery,Ul.overSome=zb.overSome,Ul.partial=Tb.partial,Ul.partialRight=Tb.partialRight,Ul.partition=Lb.partition,Ul.pick=Bb.pick,Ul.pickBy=Bb.pickBy,Ul.property=zb.property,Ul.propertyOf=zb.propertyOf,Ul.pull=Ob.pull,Ul.pullAll=Ob.pullAll,Ul.pullAllBy=Ob.pullAllBy,Ul.pullAllWith=Ob.pullAllWith,Ul.pullAt=Ob.pullAt,Ul.range=zb.range,Ul.rangeRight=zb.rangeRight,Ul.rearg=Tb.rearg,Ul.reject=Lb.reject,Ul.remove=Ob.remove,Ul.rest=Tb.rest,Ul.reverse=Ob.reverse,Ul.sampleSize=Lb.sampleSize,Ul.set=Bb.set,Ul.setWith=Bb.setWith,Ul.shuffle=Lb.shuffle,Ul.slice=Ob.slice,Ul.sortBy=Lb.sortBy,Ul.sortedUniq=Ob.sortedUniq,Ul.sortedUniqBy=Ob.sortedUniqBy,Ul.split=Pb.split,Ul.spread=Tb.spread,Ul.tail=Ob.tail,Ul.take=Ob.take,Ul.takeRight=Ob.takeRight,Ul.takeRightWhile=Ob.takeRightWhile,Ul.takeWhile=Ob.takeWhile,Ul.tap=kb.tap,Ul.throttle=Tb.throttle,Ul.thru=ky,Ul.toArray=Mb.toArray,Ul.toPairs=Bb.toPairs,Ul.toPairsIn=Bb.toPairsIn,Ul.toPath=zb.toPath,Ul.toPlainObject=Mb.toPlainObject,Ul.transform=Bb.transform,Ul.unary=Tb.unary,Ul.union=Ob.union,Ul.unionBy=Ob.unionBy,Ul.unionWith=Ob.unionWith,Ul.uniq=Ob.uniq,Ul.uniqBy=Ob.uniqBy,Ul.uniqWith=Ob.uniqWith,Ul.unset=Bb.unset,Ul.unzip=Ob.unzip,Ul.unzipWith=Ob.unzipWith,Ul.update=Bb.update,Ul.updateWith=Bb.updateWith,Ul.values=Bb.values,Ul.valuesIn=Bb.valuesIn,Ul.without=Ob.without,Ul.words=Pb.words,Ul.wrap=Tb.wrap,Ul.xor=Ob.xor,Ul.xorBy=Ob.xorBy,Ul.xorWith=Ob.xorWith,Ul.zip=Ob.zip,Ul.zipObject=Ob.zipObject,Ul.zipObjectDeep=Ob.zipObjectDeep,Ul.zipWith=Ob.zipWith,Ul.entries=Bb.toPairs,Ul.entriesIn=Bb.toPairsIn,Ul.extend=Bb.assignIn,Ul.extendWith=Bb.assignInWith,Xb(Ul,Ul),Ul.add=Rb.add,Ul.attempt=zb.attempt,Ul.camelCase=Pb.camelCase,Ul.capitalize=Pb.capitalize,Ul.ceil=Rb.ceil,Ul.clamp=Nb,Ul.clone=Mb.clone,Ul.cloneDeep=Mb.cloneDeep,Ul.cloneDeepWith=Mb.cloneDeepWith,Ul.cloneWith=Mb.cloneWith,Ul.conformsTo=Mb.conformsTo,Ul.deburr=Pb.deburr,Ul.defaultTo=zb.defaultTo,Ul.divide=Rb.divide,Ul.endsWith=Pb.endsWith,Ul.eq=Mb.eq,Ul.escape=Pb.escape,Ul.escapeRegExp=Pb.escapeRegExp,Ul.every=Lb.every,Ul.find=Lb.find,Ul.findIndex=Ob.findIndex,Ul.findKey=Bb.findKey,Ul.findLast=Lb.findLast,Ul.findLastIndex=Ob.findLastIndex,Ul.findLastKey=Bb.findLastKey,Ul.floor=Rb.floor,Ul.forEach=Lb.forEach,Ul.forEachRight=Lb.forEachRight,Ul.forIn=Bb.forIn,Ul.forInRight=Bb.forInRight,Ul.forOwn=Bb.forOwn,Ul.forOwnRight=Bb.forOwnRight,Ul.get=Bb.get,Ul.gt=Mb.gt,Ul.gte=Mb.gte,Ul.has=Bb.has,Ul.hasIn=Bb.hasIn,Ul.head=Ob.head,Ul.identity=al,Ul.includes=Lb.includes,Ul.indexOf=Ob.indexOf,Ul.inRange=Ab,Ul.invoke=Bb.invoke,Ul.isArguments=Mb.isArguments,Ul.isArray=$a,Ul.isArrayBuffer=Mb.isArrayBuffer,Ul.isArrayLike=Mb.isArrayLike,Ul.isArrayLikeObject=Mb.isArrayLikeObject,Ul.isBoolean=Mb.isBoolean,Ul.isBuffer=Mb.isBuffer,Ul.isDate=Mb.isDate,Ul.isElement=Mb.isElement,Ul.isEmpty=Mb.isEmpty,Ul.isEqual=Mb.isEqual,Ul.isEqualWith=Mb.isEqualWith,Ul.isError=Mb.isError,Ul.isFinite=Mb.isFinite,Ul.isFunction=Mb.isFunction,Ul.isInteger=Mb.isInteger,Ul.isLength=Mb.isLength,Ul.isMap=Mb.isMap,Ul.isMatch=Mb.isMatch,Ul.isMatchWith=Mb.isMatchWith,Ul.isNaN=Mb.isNaN,Ul.isNative=Mb.isNative,Ul.isNil=Mb.isNil,Ul.isNull=Mb.isNull,Ul.isNumber=Mb.isNumber,Ul.isObject=Ka,Ul.isObjectLike=Mb.isObjectLike,Ul.isPlainObject=Mb.isPlainObject,Ul.isRegExp=Mb.isRegExp,Ul.isSafeInteger=Mb.isSafeInteger,Ul.isSet=Mb.isSet,Ul.isString=Mb.isString,Ul.isSymbol=Mb.isSymbol,Ul.isTypedArray=Mb.isTypedArray,Ul.isUndefined=Mb.isUndefined,Ul.isWeakMap=Mb.isWeakMap,Ul.isWeakSet=Mb.isWeakSet,Ul.join=Ob.join,Ul.kebabCase=Pb.kebabCase,Ul.last=Uh,Ul.lastIndexOf=Ob.lastIndexOf,Ul.lowerCase=Pb.lowerCase,Ul.lowerFirst=Pb.lowerFirst,Ul.lt=Mb.lt,Ul.lte=Mb.lte,Ul.max=Rb.max,Ul.maxBy=Rb.maxBy,Ul.mean=Rb.mean,Ul.meanBy=Rb.meanBy,Ul.min=Rb.min,Ul.minBy=Rb.minBy,Ul.stubArray=zb.stubArray,Ul.stubFalse=zb.stubFalse,Ul.stubObject=zb.stubObject,Ul.stubString=zb.stubString,Ul.stubTrue=zb.stubTrue,Ul.multiply=Rb.multiply,Ul.nth=Ob.nth,Ul.noop=zb.noop,Ul.now=_b.now,Ul.pad=Pb.pad,Ul.padEnd=Pb.padEnd,Ul.padStart=Pb.padStart,Ul.parseInt=Pb.parseInt,Ul.random=Db,Ul.reduce=Lb.reduce,Ul.reduceRight=Lb.reduceRight,Ul.repeat=Pb.repeat,Ul.replace=Pb.replace,Ul.result=Bb.result,Ul.round=Rb.round,Ul.sample=Lb.sample,Ul.size=Lb.size,Ul.snakeCase=Pb.snakeCase,Ul.some=Lb.some,Ul.sortedIndex=Ob.sortedIndex,Ul.sortedIndexBy=Ob.sortedIndexBy,Ul.sortedIndexOf=Ob.sortedIndexOf,Ul.sortedLastIndex=Ob.sortedLastIndex,Ul.sortedLastIndexBy=Ob.sortedLastIndexBy,Ul.sortedLastIndexOf=Ob.sortedLastIndexOf,Ul.startCase=Pb.startCase,Ul.startsWith=Pb.startsWith,Ul.subtract=Rb.subtract,Ul.sum=Rb.sum,Ul.sumBy=Rb.sumBy,Ul.template=Pb.template,Ul.times=zb.times,Ul.toFinite=Mb.toFinite,Ul.toInteger=il,Ul.toLength=Mb.toLength,Ul.toLower=Pb.toLower,Ul.toNumber=Mb.toNumber,Ul.toSafeInteger=Mb.toSafeInteger,Ul.toString=Mb.toString,Ul.toUpper=Pb.toUpper,Ul.trim=Pb.trim,Ul.trimEnd=Pb.trimEnd,Ul.trimStart=Pb.trimStart,Ul.truncate=Pb.truncate,Ul.unescape=Pb.unescape,Ul.uniqueId=zb.uniqueId,Ul.upperCase=Pb.upperCase,Ul.upperFirst=Pb.upperFirst,Ul.each=Lb.forEach,Ul.eachRight=Lb.forEachRight,Ul.first=Ob.head,Xb(Ul,(jb={},dh(Ul,(function(e,t){Zb.call(Ul.prototype,t)||(jb[t]=e)})),jb),{chain:!1}),Ul.VERSION="4.17.21",(Ul.templateSettings=Pb.templateSettings).imports._=Ul,as(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Ul[e].placeholder=Ul})),as(["drop","take"],(function(e,t){kl.prototype[e]=function(n){n=void 0===n?1:Ub(il(n),0);var r=this.__filtered__&&!t?new kl(this):this.clone();return r.__filtered__?r.__takeCount__=Yb(n,r.__takeCount__):r.__views__.push({size:Yb(n,Wb),type:e+(r.__dir__<0?"Right":"")}),r},kl.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),as(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;kl.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ih(e),type:n}),t.__filtered__=t.__filtered__||r,t}})),as(["head","last"],(function(e,t){var n="take"+(t?"Right":"");kl.prototype[e]=function(){return this[n](1).value()[0]}})),as(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");kl.prototype[e]=function(){return this.__filtered__?new kl(this):this[n](1)}})),kl.prototype.compact=function(){return this.filter(al)},kl.prototype.find=function(e){return this.filter(e).head()},kl.prototype.findLast=function(e){return this.reverse().find(e)},kl.prototype.invokeMap=Bs((function(e,t){return"function"==typeof e?new kl(this):this.map((function(n){return Ev(n,e,t)}))})),kl.prototype.reject=function(e){return this.filter(wg(ih(e)))},kl.prototype.slice=function(e,t){e=il(e);var n=this;return n.__filtered__&&(e>0||t<0)?new kl(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=il(t))<0?n.dropRight(-t):n.take(t-e)),n)},kl.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},kl.prototype.toArray=function(){return this.take(Wb)},dh(kl.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Ul[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(Ul.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof kl,s=a[0],u=l||$a(t),c=function(e){var t=o.apply(Ul,Ku([e],a));return r&&d?t[0]:t};u&&n&&"function"==typeof s&&1!=s.length&&(l=u=!1);var d=this.__chain__,f=!!this.__actions__.length,h=i&&!d,p=l&&!f;if(!i&&u){t=p?t:new kl(this);var v=e.apply(t,a);return v.__actions__.push({func:ky,args:[c],thisArg:void 0}),new Wl(v,d)}return h&&p?e.apply(this,a):(v=this.thru(c),h?r?v.value()[0]:v.value():v)})})),as(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Gb[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Ul.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply($a(o)?o:[],e)}return this[n]((function(n){return t.apply($a(n)?n:[],e)}))}})),dh(kl.prototype,(function(e,t){var n=Ul[t];if(n){var r=n.name+"";Zb.call(Hl,r)||(Hl[r]=[]),Hl[r].push({name:t,func:n})}})),Hl[ws(void 0,2).name]=[{name:"wrapper",func:void 0}],kl.prototype.clone=function(){var e=new kl(this.__wrapped__);return e.__actions__=Gl(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Gl(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Gl(this.__views__),e},kl.prototype.reverse=function(){if(this.__filtered__){var e=new kl(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},kl.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=$a(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Hb(t,e+a);break;case"takeRight":e=Fb(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,l=i.end,s=l-a,u=r?l:a-1,c=this.__iteratees__,d=c.length,f=0,h=$b(s,this.__takeCount__);if(!n||!r&&o==s&&h==s)return Fy(e,this.__actions__);var p=[];e:for(;s--&&f<h;){for(var v=-1,g=e[u+=t];++v<d;){var m=c[v],y=m.iteratee,b=m.type,C=y(g);if(2==b)g=C;else if(!C){if(1==b)continue e;break e}}p[f++]=g}return p},Ul.prototype.at=kb.at,Ul.prototype.chain=kb.wrapperChain,Ul.prototype.commit=kb.commit,Ul.prototype.next=kb.next,Ul.prototype.plant=kb.plant,Ul.prototype.reverse=kb.reverse,Ul.prototype.toJSON=Ul.prototype.valueOf=Ul.prototype.value=kb.value,Ul.prototype.first=Ul.prototype.head,Vb&&(Ul.prototype[Vb]=kb.toIterator);var qb={exports:{}};!function(e){!function(t){var n=/^\s+/,r=/\s+$/,o=0,i=t.round,a=t.min,l=t.max,s=t.random;function u(e,s){if(s=s||{},(e=e||"")instanceof u)return e;if(!(this instanceof u))return new u(e,s);var c=function(e){var o={r:0,g:0,b:0},i=1,s=null,u=null,c=null,d=!1,f=!1;"string"==typeof e&&(e=function(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t,o=!1;if(L[e])e=L[e],o=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=H.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=H.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=H.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=H.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=H.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=H.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=H.hex8.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),a:k(t[4]),format:o?"name":"hex8"};if(t=H.hex6.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),format:o?"name":"hex"};if(t=H.hex4.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),a:k(t[4]+""+t[4]),format:o?"name":"hex8"};if(t=H.hex3.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),format:o?"name":"hex"};return!1}(e));"object"==typeof e&&($(e.r)&&$(e.g)&&$(e.b)?(h=e.r,p=e.g,v=e.b,o={r:255*M(h,255),g:255*M(p,255),b:255*M(v,255)},d=!0,f="%"===String(e.r).substr(-1)?"prgb":"rgb"):$(e.h)&&$(e.s)&&$(e.v)?(s=D(e.s),u=D(e.v),o=function(e,n,r){e=6*M(e,360),n=M(n,100),r=M(r,100);var o=t.floor(e),i=e-o,a=r*(1-n),l=r*(1-i*n),s=r*(1-(1-i)*n),u=o%6,c=[r,l,a,a,s,r][u],d=[s,r,r,l,a,a][u],f=[a,a,s,r,r,l][u];return{r:255*c,g:255*d,b:255*f}}(e.h,s,u),d=!0,f="hsv"):$(e.h)&&$(e.s)&&$(e.l)&&(s=D(e.s),c=D(e.l),o=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=M(e,360),t=M(t,100),n=M(n,100),0===t)r=o=i=n;else{var l=n<.5?n*(1+t):n+t-n*t,s=2*n-l;r=a(s,l,e+1/3),o=a(s,l,e),i=a(s,l,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,s,c),d=!0,f="hsl"),e.hasOwnProperty("a")&&(i=e.a));var h,p,v;return i=T(i),{ok:d,format:e.format||f,r:a(255,l(o.r,0)),g:a(255,l(o.g,0)),b:a(255,l(o.b,0)),a:i}}(e);this._originalInput=e,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=i(100*this._a)/100,this._format=s.format||c.format,this._gradientType=s.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=c.ok,this._tc_id=o++}function c(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,o,i=l(e,t,n),s=a(e,t,n),u=(i+s)/2;if(i==s)r=o=0;else{var c=i-s;switch(o=u>.5?c/(2-i-s):c/(i+s),i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:o,l:u}}function d(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,o,i=l(e,t,n),s=a(e,t,n),u=i,c=i-s;if(o=0===i?0:c/i,i==s)r=0;else{switch(i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:o,v:u}}function f(e,t,n,r){var o=[A(i(e).toString(16)),A(i(t).toString(16)),A(i(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function h(e,t,n,r){return[A(B(r)),A(i(e).toString(16)),A(i(t).toString(16)),A(i(n).toString(16))].join("")}function p(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s-=t/100,n.s=R(n.s),u(n)}function v(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s+=t/100,n.s=R(n.s),u(n)}function g(e){return u(e).desaturate(100)}function m(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l+=t/100,n.l=R(n.l),u(n)}function y(e,t){t=0===t?0:t||10;var n=u(e).toRgb();return n.r=l(0,a(255,n.r-i(-t/100*255))),n.g=l(0,a(255,n.g-i(-t/100*255))),n.b=l(0,a(255,n.b-i(-t/100*255))),u(n)}function b(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l-=t/100,n.l=R(n.l),u(n)}function C(e,t){var n=u(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,u(n)}function w(e){var t=u(e).toHsl();return t.h=(t.h+180)%360,u(t)}function x(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+120)%360,s:t.s,l:t.l}),u({h:(n+240)%360,s:t.s,l:t.l})]}function S(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+90)%360,s:t.s,l:t.l}),u({h:(n+180)%360,s:t.s,l:t.l}),u({h:(n+270)%360,s:t.s,l:t.l})]}function E(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+72)%360,s:t.s,l:t.l}),u({h:(n+216)%360,s:t.s,l:t.l})]}function I(e,t,n){t=t||6,n=n||30;var r=u(e).toHsl(),o=360/n,i=[u(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(u(r));return i}function O(e,t){t=t||6;for(var n=u(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],l=1/t;t--;)a.push(u({h:r,s:o,v:i})),i=(i+l)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,n,r,o=this.toRgb();return e=o.r/255,n=o.g/255,r=o.b/255,.2126*(e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=T(e),this._roundA=i(100*this._a)/100,this},toHsv:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return f(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var a=[A(i(e).toString(16)),A(i(t).toString(16)),A(i(n).toString(16)),A(B(r))];if(o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*M(this._r,255))+"%",g:i(100*M(this._g,255))+"%",b:i(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*M(this._r,255))+"%, "+i(100*M(this._g,255))+"%, "+i(100*M(this._b,255))+"%)":"rgba("+i(100*M(this._r,255))+"%, "+i(100*M(this._g,255))+"%, "+i(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(_[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=u(e);n="#"+h(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(O,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},u.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:D(e[r]));e=n}return u(e,t)},u.equals=function(e,t){return!(!e||!t)&&u(e).toRgbString()==u(t).toRgbString()},u.random=function(){return u.fromRatio({r:s(),g:s(),b:s()})},u.mix=function(e,t,n){n=0===n?0:n||50;var r=u(e).toRgb(),o=u(t).toRgb(),i=n/100;return u({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},u.readability=function(e,n){var r=u(e),o=u(n);return(t.max(r.getLuminance(),o.getLuminance())+.05)/(t.min(r.getLuminance(),o.getLuminance())+.05)},u.isReadable=function(e,t,n){var r,o,i=u.readability(e,t);switch(o=!1,r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},u.mostReadable=function(e,t,n){var r,o,i,a,l=null,s=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=u.readability(e,t[c]))>s&&(s=r,l=u(t[c]));return u.isReadable(e,l,{level:i,size:a})||!o?l:(n.includeFallbackColors=!1,u.mostReadable(e,["#fff","#000"],n))};var L=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},_=u.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(L);function T(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function M(e,n){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=a(n,l(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function R(e){return a(1,l(0,e))}function N(e){return parseInt(e,16)}function A(e){return 1==e.length?"0"+e:""+e}function D(e){return e<=1&&(e=100*e+"%"),e}function B(e){return t.round(255*parseFloat(e)).toString(16)}function k(e){return N(e)/255}var P,z,F,H=(z="[\\s|\\(]+("+(P="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",F="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",{CSS_UNIT:new RegExp(P),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+F),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+F),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+F),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function $(e){return!!H.CSS_UNIT.exec(e)}e.exports?e.exports=u:window.tinycolor=u}(Math)}(qb);var Kb,Qb=qb.exports,Jb=[95,85,75,30,15,0,15,30,45,60,80],eC=function(e){return Qb(e).getLuminance()<=.5},tC=[{fontColorIndex:0,bgColorIndex:3},{fontColorIndex:13,bgColorIndex:8},{fontColorIndex:14,bgColorIndex:1}],nC=function(e){void 0===e&&(e={});var t=Array.from(Array(15)).fill(qi),n=e.basicColorRelations,r=void 0===n?[]:n,o=function(e){for(var t=[],n=0;n<11;n++){var r=Jb[n];t.push(jy(0===r?e:Qb.mix(e,n<5?"#FFFFFF":"#000000",r).toHexString()))}return t}(e.brandColor);return r.forEach((function(e){t[e.basicColorIndex]=o[e.standardColorIndex]})),tC.forEach((function(e){var n=e.fontColorIndex,r=e.bgColorIndex;t[n]=eC(t[r])?qi:Xi})),wa(wa({},e),{basicColors:t})},rC=nC({brandColor:"#3471F9",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:5},{basicColorIndex:4,standardColorIndex:6},{basicColorIndex:5,standardColorIndex:6},{basicColorIndex:6,standardColorIndex:6},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:4},{basicColorIndex:11,standardColorIndex:4},{basicColorIndex:12,standardColorIndex:5}]}),oC={default:nC({brandColor:"#326EF4",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:5},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:5},{basicColorIndex:12,standardColorIndex:5}]}),colorful:rC,gray:nC({brandColor:"#9DA7B6",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:8},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:3},{basicColorIndex:12,standardColorIndex:3}]})},iC="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif",aC="zh_CN",lC=aC,sC={zh_CN:{"小计":"小计","总计":"总计","总和":"总和","项":"项","已选择":"已选择","序号":"序号","度量":"度量","数值":"数值","共计":"共计","条":"条","趋势":"趋势","隐藏":"隐藏","组内升序":"组内升序","升序":"升序","降序":"降序","组内降序":"组内降序","不排序":"不排序"},en_US:{"小计":"Total","总计":"Total","总和":"SUM","项":"items","已选择":"selected","序号":"Index","度量":"Measure","数值":"Measure","共计":"Total","条":"","隐藏":"Hide","趋势":"Trend","组内升序":"Group ASC","组内降序":"Group DESC","升序":"ASC","降序":"DESC","不排序":"No order"}},uC=function(){return lC},cC=function(e){sC=hg({},sC,e)},dC=function(e,t){return void 0===t&&(t=e),Xu(sC,[lC,e],t)},fC="".concat(Vi,"-tooltip"),hC="".concat(fC,"-container"),pC="".concat(hC,"-show"),vC="".concat(hC,"-hide"),gC=("".concat(fC,"-operation"),15),mC=10;!function(e){e[e.ALL=0]="ALL",e[e.COL=1]="COL",e[e.ROW=2]="ROW"}(Kb||(Kb={}));function yC(e){return"mobile"===e||/(iPhone|iPad|SymbianOS|Windows Phone|iPod|iOS|Android)/i.test(navigator.userAgent)}function bC(){return/windows/i.test(navigator.userAgent)}var CC=function(e){var t,n,r,o,i,a,l=(null==e?void 0:e.palette)||(a=null==e?void 0:e.name,oC[(a||"default").toLowerCase()]),s=l.basicColors,u=l.semanticColors,c=l.others,d=null===(t=null==e?void 0:e.spreadsheet)||void 0===t?void 0:t.isTableMode(),f=bC()?"bold":700,h=function(){var e,t;return{bolderText:{fontFamily:iC,fontSize:12,fontWeight:f,fill:s[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:s[6]},text:{fontFamily:iC,fontSize:12,fontWeight:"normal",fill:s[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:s[6]},cell:{crossBackgroundColor:s[1],backgroundColor:s[8],backgroundColorOpacity:1,horizontalBorderColor:s[9],horizontalBorderColorOpacity:1,verticalBorderColor:s[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:s[2],backgroundOpacity:.6},hoverFocus:{backgroundColor:s[2],backgroundOpacity:.6,borderColor:s[14],borderWidth:1,borderOpacity:1},selected:{backgroundColor:s[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},searchResult:{backgroundColor:null!==(e=null==c?void 0:c.results)&&void 0!==e?e:s[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(t=null==c?void 0:c.highlight)&&void 0!==t?t:s[6],backgroundOpacity:1},prepareSelect:{borderColor:s[14],borderOpacity:1,borderWidth:1}}},miniChart:{line:{point:{size:2.2,fill:s[6],opacity:1},linkLine:{size:1.5,fill:s[6],opacity:.6}},bar:{intervalPadding:4,fill:s[6],opacity:1},bullet:{progressBar:{widthPercent:.6,height:10,innerHeight:6},comparativeMeasure:{width:1,height:12,fill:s[13],opacity:.25},rangeColors:{good:null==u?void 0:u.green,satisfactory:u.yellow,bad:u.red},backgroundColor:"#E9E9E9"},interval:{height:12,fill:s[7]}},icon:{fill:s[13],downIconColor:u.red,upIconColor:u.green,size:10,margin:{right:4,left:4}}}};return{cornerCell:{bolderText:{fontFamily:iC,fontSize:12,fontWeight:f,fill:s[0],opacity:1,textAlign:d?"center":"left",textBaseline:"middle"},text:{fontFamily:iC,fontSize:12,fontWeight:f,fill:s[0],opacity:1,textAlign:"right",textBaseline:"middle"},cell:{backgroundColor:s[3],backgroundColorOpacity:1,horizontalBorderColor:s[10],horizontalBorderColorOpacity:1,verticalBorderColor:s[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8}},icon:{fill:s[0],size:10,margin:{right:4,left:4}}},rowCell:{seriesText:{fontFamily:iC,fontSize:12,fontWeight:"normal",fill:s[14],linkTextFill:s[6],opacity:1,textBaseline:"middle",textAlign:"center"},measureText:{fontFamily:iC,fontSize:12,fontWeight:"normal",fill:s[14],linkTextFill:s[6],opacity:1,textAlign:d?"center":"left",textBaseline:"top"},bolderText:{fontFamily:iC,fontSize:12,fontWeight:f,fill:s[14],linkTextFill:s[6],opacity:1,textAlign:d?"center":"left",textBaseline:"top"},text:{fontFamily:iC,fontSize:12,fontWeight:"normal",fill:s[14],linkTextFill:s[6],opacity:1,textBaseline:"top",textAlign:d?"center":"left"},cell:{backgroundColor:s[1],backgroundColorOpacity:1,horizontalBorderColor:s[9],horizontalBorderColorOpacity:1,verticalBorderColor:s[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:s[2],backgroundOpacity:.6},selected:{backgroundColor:s[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:s[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(n=null==c?void 0:c.results)&&void 0!==n?n:s[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(r=null==c?void 0:c.highlight)&&void 0!==r?r:s[6],backgroundOpacity:1}}},icon:{fill:s[14],size:10,margin:{right:4,left:4}},seriesNumberWidth:80},colCell:{measureText:{fontFamily:iC,fontSize:12,fontWeight:"normal",fill:s[0],opacity:1,textAlign:"right",textBaseline:"middle"},bolderText:{fontFamily:iC,fontSize:12,fontWeight:f,fill:s[0],opacity:1,textAlign:"center",textBaseline:"middle"},text:{fontFamily:iC,fontSize:12,fontWeight:"normal",fill:s[0],opacity:1,textAlign:"center",textBaseline:"middle"},cell:{backgroundColor:s[3],backgroundColorOpacity:1,horizontalBorderColor:s[10],horizontalBorderColorOpacity:1,verticalBorderColor:s[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:s[4],backgroundOpacity:.6},selected:{backgroundColor:s[4],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:s[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(o=null==c?void 0:c.results)&&void 0!==o?o:s[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(i=null==c?void 0:c.highlight)&&void 0!==i?i:s[6],backgroundOpacity:1}}},icon:{fill:s[0],size:10,margin:{top:6,right:4,bottom:6,left:4}}},dataCell:h(),mergedCell:h(),resizeArea:{size:3,background:s[7],backgroundOpacity:0,guideLineColor:s[7],guideLineDisableColor:"rgba(0,0,0,0.25)",guideLineDash:[3,3],interactionState:{hover:{backgroundColor:s[7],backgroundOpacity:1}}},scrollBar:{trackColor:"rgba(0,0,0,0.01)",thumbHoverColor:"rgba(0,0,0,0.25)",thumbColor:"rgba(0,0,0,0.15)",thumbHorizontalMinSize:32,thumbVerticalMinSize:32,size:yC()?3:6,hoverSize:yC()?4:8,lineCap:"round"},splitLine:{horizontalBorderColor:s[12],horizontalBorderColorOpacity:.2,horizontalBorderWidth:2,verticalBorderColor:s[11],verticalBorderColorOpacity:.25,verticalBorderWidth:2,showShadow:!0,shadowWidth:8,shadowColors:{left:"rgba(0,0,0,0.1)",right:"rgba(0,0,0,0)"}},prepareSelectMask:{backgroundColor:s[5],backgroundOpacity:.3},background:{color:s[8],opacity:1}}},wC=function(){function e(e){this.x=0,this.y=0,this.width=0,this.height=0,this.colIndex=-1,this.level=0,this.isLeaf=!1,this.children=[],this.padding=0;var t=e.id,n=e.key,r=e.value,o=e.label,i=e.parent,a=e.level,l=e.rowIndex,s=e.isTotals,u=e.isGrandTotals,c=e.isSubTotals,d=e.isCollapsed,f=e.hierarchy,h=e.isPivotMode,p=e.seriesNumberWidth,v=e.field,g=e.spreadsheet,m=e.query,y=e.belongsCell,b=e.inCollapseNode,C=e.isTotalMeasure,w=e.isLeaf,x=e.extra;this.id=t,this.key=n,this.value=r,this.label=o||r,this.parent=i,this.level=a,this.rowIndex=l,this.isTotals=s,this.isCollapsed=d,this.hierarchy=f,this.isPivotMode=h,this.seriesNumberWidth=p,this.field=v,this.spreadsheet=g,this.query=m,this.belongsCell=y,this.inCollapseNode=b,this.isTotalMeasure=C,this.isLeaf=w,this.isGrandTotals=u,this.isSubTotals=c,this.extra=x}return e.getFieldPath=function(e,t){if(e&&!e.isTotals||e&&t){for(var n=e.parent,r=[e.field];n&&n.id!==Pi;)r.push(n.field),n=n.parent;return r.reverse()}return[]},e.getAllLeaveNodes=function(e){var t=[];if(e.isLeaf)return[e];for(var n=Ia([],Ea(e.children),!1),r=n.shift();r;)r.isLeaf?t.push(r):n.unshift.apply(n,Ia([],Ea(r.children),!1)),r=n.shift();return t},e.getAllChildrenNodes=function(e){var t=[];if(e.isLeaf)return[e];for(var n=Ia([],Ea(e.children||[]),!1),r=n.shift();r;)t.push(r),n.unshift.apply(n,Ia([],Ea(r.children),!1)),r=n.shift();return t},e.getAllBranch=function(e){for(var t=[],n=this.getAllLeaveNodes(e),r=n.shift(),o=[];r;){o.unshift(r);for(var i=r.parent;i&&!Bv(i,e);)o.unshift(i),i=i.parent;t.push(o),r=n.shift(),o=[]}return t},e.blankNode=function(){return new e({id:"",key:"",value:""})},e.rootNode=function(){return new e({id:"root",key:"",value:""})},e.prototype.toJSON=function(){return _g(this,["config","hierarchy","parent","spreadsheet"])},e.prototype.getHeadLeafChild=function(){for(var e=this;!Dv(e.children);)e=Np(e.children);return e},e}(),xC=function(){function e(){this.width=0,this.height=0,this.maxLevel=-1,this.sampleNodesForAllLevels=[],this.sampleNodeForLastLevel=null,this.allNodesWithoutRoot=[],this.indexNode=[]}return e.prototype.getLeaves=function(){return this.allNodesWithoutRoot.filter((function(e){return e.isLeaf}))},e.prototype.getNodes=function(e){return void 0!==e?this.allNodesWithoutRoot.filter((function(t){return t.level===e})):this.allNodesWithoutRoot},e.prototype.getNodesLessThanLevel=function(e){return this.allNodesWithoutRoot.filter((function(t){return t.level<=e}))},e.prototype.pushNode=function(e,t){void 0===t&&(t=-1),-1===t?this.allNodesWithoutRoot.push(e):this.allNodesWithoutRoot.splice(t,0,e)},e.prototype.pushIndexNode=function(e){this.indexNode.push(e)},e.prototype.getIndexNodes=function(){return this.indexNode},e}(),SC=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.label=e,this.isSubTotals=t,this.isGrandTotals=n};function EC(e,t){for(var n={},r=e;r&&r.key;)r.isTotals&&!t||(n[r.key]=r.value),r=r.parent;return n}var IC=function(e,t,n,r){return t.layoutArrange?t.layoutArrange(t.spreadsheet,n,r,e):e},OC=function(e,t,n,r){var o,i;if(null===(i=null===(o=e.spreadsheet)||void 0===o?void 0:o.facet)||void 0===i?void 0:i.getHiddenColumnsInfo(n))return!1;var a=!0,l=function(e,n,o){void 0===n&&(n=-1),void 0===o&&(o=-1),-1===n?(t.children.push(e),r.pushNode(e)):(t.children.splice(n,0,e),r.pushNode(e,o))};if(e.layoutHierarchy){var s=e.layoutHierarchy(e.spreadsheet,n);if(s){var u=!!Mv(null==s?void 0:s.delete)&&(null==s?void 0:s.delete);a=!u;var c=s.push,d=s.unshift,f=t.children.length,h=r.getNodes().length;Dv(d)||(tp(d,(function(e){l(e)})),f=t.children.length,h=r.getNodes().length),Dv(c)||tp(c,(function(e){l(e)})),u||l(n,f,h)}else l(n)}else l(n);return a},LC=function(e,t,n){(null==e?void 0:e.layoutCoordinate)&&((null==t?void 0:t.isLeaf)||(null==n?void 0:n.isLeaf))&&(null==e||e.layoutCoordinate(e.spreadsheet,t,n))},_C=function(e){this.label=e},TC=function(e){var t,n=e.addTotalMeasureInTotal,r=e.addMeasureInTotalQuery,o=e.parentNode,i=e.currentField,a=e.fields,l=e.facetCfg,s=e.hierarchy,u=a.indexOf(i),c=l.dataSet,d=l.values,f=l.spreadsheet,h=[],p={};if(o.isTotals)n&&(p=EC(o.parent,!0),h.push.apply(h,Ia([],Ea(d.map((function(e){return new _C(e)}))),!1)));else{p=EC(o,!0);var v=c.getDimensionValues(i,p),g=IC(v,l,o,i);h.push.apply(h,Ia([],Ea(g||[]),!1));var m=c.getFieldName(i);Dv(h)&&(i===mi?h.push.apply(h,Ia([],Ea(null===(t=c.fields)||void 0===t?void 0:t.values),!1)):h.push(m)),function(e,t,n){var r,o,i,a,l=null!==(a=null===(i=n.colCfg)||void 0===i?void 0:i.hideMeasureColumn)&&void 0!==a&&a,s=n.dataSet.fields.valueInCols;try{for(var u=Sa(e),c=u.next();!c.done;c=u.next()){var d=c.value;l&&s&&t===mi&&e.splice(e.indexOf(d),1)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}(h,i,l),function(e){var t,n,r,o=e.isFirstField,i=e.currentField,a=e.fieldValues,l=e.spreadsheet,s=e.lastField,u=l.getTotalsConfig(o?i:s);o?(null==u?void 0:u.showGrandTotals)&&(n=u.reverseLayout?"unshift":"push",r=new SC(u.label,!1,!0)):(null==u?void 0:u.showSubTotals)&&(Ul.size(a)>1||!1!==Ul.get(u,"showSubTotals.always"))&&i!==mi&&(n=u.reverseSubLayout?"unshift":"push",r=new SC(u.subLabel,!0)),null===(t=a[n])||void 0===t||t.call(a,r)}({currentField:i,lastField:a[u-1],isFirstField:0===u,fieldValues:h,spreadsheet:f})}var y=h.filter((function(e){return!Zv(e)}));RC({currentField:i,fields:a,fieldValues:y,facetCfg:l,hierarchy:s,parentNode:o,level:u,query:p,addMeasureInTotalQuery:r,addTotalMeasureInTotal:n})},MC=function(e,t){return"".concat(e).concat(zi).concat(t)},RC=function(e){var t,n,r,o,i,a,l,s,u,c,d,f,h=e.currentField,p=e.fields,v=e.fieldValues,g=e.facetCfg,m=e.hierarchy,y=e.parentNode,b=e.level,C=e.query,w=e.addMeasureInTotalQuery,x=e.addTotalMeasureInTotal,S=g.spreadsheet,E=g.collapsedCols,I=g.colCfg;try{for(var O=Sa(v.entries()),L=O.next();!L.done;L=O.next()){var _=Ea(L.value,2),T=_[0],M=_[1],R=M instanceof SC,N=M instanceof _C,A=void 0,D=void 0,B=!1,k=!1,P=!1,z=h;if(R){var F=M;k=F.isGrandTotals,P=F.isSubTotals,A=dC(M.label),w?(D=wa(wa({},C),((r={})[mi]=null===(l=null==S?void 0:S.dataSet)||void 0===l?void 0:l.fields.values[0],r)),B=!0):(D=C,x||(B=!0))}else if(N)A=dC(M.label),D=wa(wa({},C),((o={})[mi]=A,o)),z=mi,B=!0;else if(S.isTableMode())A=M,z=p[T],D=wa(wa({},C),((i={})[z]=A,i)),B=!0;else{A=M,D=wa(wa({},C),((a={})[h]=A,a));var H=null===(u=null===(s=S.dataCfg.fields)||void 0===s?void 0:s.valueInCols)||void 0===u||u,$=(null==I?void 0:I.hideMeasureColumn)&&H&&ov(p,mi)?2:1;B=b===p.length-$}var j=MC(y.id,A);if(!j)return;var W=!!Mv(null==E?void 0:E[j])&&(null==E?void 0:E[j]),G=new wC({id:j,key:z,value:A,level:b,field:z,parent:y,isTotals:R,isGrandTotals:k,isSubTotals:P,isTotalMeasure:N,isCollapsed:W,hierarchy:m,query:D,spreadsheet:S,isLeaf:B||W}),Z=OC(g,y,G,m),V=null===(c=null==S?void 0:S.facet)||void 0===c?void 0:c.getHiddenColumnsInfo(G);V&&y&&(y.hiddenChildNodeInfo=V),!(b>m.maxLevel)||k||y.isGrandTotals||y.isSubTotals||G.isSubTotals||(m.sampleNodesForAllLevels.push(G),m.maxLevel=b,m.sampleNodeForLastLevel=V?(null===(d=null==V?void 0:V.displaySiblingNode)||void 0===d?void 0:d.next)||(null===(f=null==V?void 0:V.displaySiblingNode)||void 0===f?void 0:f.prev):G),B||W||!Z?(G.isLeaf=!0,m.pushIndexNode(G),G.rowIndex=m.getIndexNodes().length-1):TC({addTotalMeasureInTotal:x,addMeasureInTotalQuery:w,parentNode:G,currentField:p[b+1],fields:p,facetCfg:g,hierarchy:m})}}catch(e){t={error:e}}finally{try{L&&!L.done&&(n=O.return)&&n.call(O)}finally{if(t)throw t.error}}},NC=function(e,t,n,r){var o=t.facetCfg,i=t.hierarchy,a=t.parentNode,l=o.dataSet;e.forEach((function(e,s){"string"==typeof e&&(e={key:e});var u=e.key,c=u===Ci?dC("序号"):l.getFieldName(u),d=r||a;if(RC({currentField:u,fields:[u],fieldValues:[c],facetCfg:o,hierarchy:i,parentNode:d,level:n,query:{},addMeasureInTotalQuery:!1,addTotalMeasureInTotal:!1}),e.children&&e.children.length){var f=d.children[s];f.isLeaf=!1,NC(e.children,t,n+1,f)}}))},AC=function(e,t){return t>0&&e<t},DC=function(e,t,n){return t>0&&e>=n-t},BC=function(e,t,n){return n>0&&e<t+n},kC=function(e,t,n){return n>0&&e>=t+1-n},PC=function(e,t,n,r,o,i){var a=Ip(n,(function(t,r){var a=e-($v(i)?0:i)+o.x;return a>=t&&a<n[r+1]}),0);a=Math.max(a,0);var l=Ip(n,(function(t,r){var i=o.width+e+o.x;return i>=t&&i<n[r+1]}),a);l=Math.min(-1===l?1/0:l,n.length-2);var s=r.getIndexRange(t+o.y,o.height+t+o.y);return[a,l,s.start,s.end]},zC=function(e,t,n){var r,o,i=null==e?void 0:e.getMatrix(),a=null!==(r=null==i?void 0:i[6])&&void 0!==r?r:0,l=null!==(o=null==i?void 0:i[7])&&void 0!==o?o:0;null==e||e.translate(t-a,n-l)},FC=function(e,t){var n,r=null==e?void 0:e.getMatrix(),o=null!==(n=null==r?void 0:r[6])&&void 0!==n?n:0;null==e||e.translate(t-o,0)},HC=function(e,t,n){var r=t,o=n,i=function(e){return e.isLeaf?1:e.children?e.children.reduce((function(e,t){return e+=i(t)}),0):0};return t&&(r=e.slice(0,t).reduce((function(e,t){return e+=i(t)}),0)),n&&(o=e.slice(e.length-n).reduce((function(e,t){return e+=i(t)}),0)),{colCount:r,trailingColCount:o}},$C=function(e,t){return e.reduce((function(e,n){"string"==typeof n&&(n={key:n});var r=wa({},n);return r.children?(r.children=$C(r.children,t),e.push(r),e):(t[r.key]&&e.push(r),e)}),[])},jC=function(e){return"root"===e.parent.id},WC=function(e){var t=function(e){var t=[],n=function(e){e.forEach((function(e){"string"!=typeof e&&e.children?n(e.children):t.push(e)}))};return n(e),t}(e);return t.map((function(e){return"string"==typeof e?e:e.key}))},GC=function(e){var t=e.children[0];return t?t.isLeaf?t:GC(t):e},ZC=function(){function e(){var e=this;this.debug=!1,this.debugCallback=function(t,n){if(e.debug){var r=performance.now();n();var o=performance.now();console.log(t,"".concat(o-r," ms"))}else n()},this.logger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.debug&&console.log.apply(console,Ia([t],Ea(n),!1))}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setDebug=function(e){this.debug=e},e}(),VC=Object.freeze({__proto__:null,ArrowDown:'\n<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="↓" fill="#29A294">\n        <tspan x="-0.225097656" y="8.5">↓</tspan>\n    </text>\n</g>\n</svg>',ArrowUp:'<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="↑" fill="#FF4D4F">\n        <tspan x="-0.225097656" y="8.5">↑</tspan>\n    </text>\n</g>\n</svg>\n',CellDown:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>down</title>\n    <desc>Created with Sketch.</desc>\n    <g id="一期开发" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="down" fill="#58AE57" transform="translate(3.500000, 4.500000) scale(1, -1) translate(-3.500000, -4.500000) " points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg>',CellUp:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>up</title>\n    <desc>Created with Sketch.</desc>\n    <g id="一期开发" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="up" fill="#F46649" points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg> ',GlobalAsc:'<svg t="1557124621626" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17452"\nxmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n<defs>\n  <style type="text/css"></style>\n</defs>\n<path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 626.944h176c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8h-176A8 8 0 0 1 384 857.984v-56c0-4.416 3.584-8 8-8z m0-424h368c4.416 0 8 3.648 8 8v56a8 8 0 0 1-8 8h-368A8 8 0 0 1 384 433.984v-56c0-4.352 3.584-8 8-8z m528-139.968h-528A8 8 0 0 1 384 222.016v-56c0-4.416 3.584-8 8-8h528c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z m-256 424h-272A8 8 0 0 1 384 646.016v-56c0-4.416 3.584-8 8-8h272c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z" p-id="17453"></path>\n</svg>',GlobalDesc:'<svg t="1557124685600" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17561"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h176A8 8 0 0 0 576 222.016v-56a8 8 0 0 0-8-8h-176A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h368a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-368A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m-256-424h-272A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h272a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17562"></path>\n</svg>',GroupAsc:'<svg t="1557124695786" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17670"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 62.976h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17671"></path>\n</svg>',GroupDesc:'<svg t="1557124710652" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17779"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17780"></path>\n</svg>',GroupNone:'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="设计输出" stroke="none" stroke-width="1" fill-opacity="0.25" fill-rule="evenodd">\n    <g id="设计输出-移动端指标详情页-阅读端" transform="translate(-3275.000000, -724.000000)" fill-rule="nonzero">\n        <g id="编组-39" transform="translate(3064.500000, 667.000000)">\n            <g id="编组-36" transform="translate(80.500000, 44.000000)">\n                <g id="不排序" transform="translate(130.000000, 13.000000)">\n                    <path d="M12.0009375,12.40625 C12.0696875,12.40625 12.1259375,12.4625 12.1259375,12.53125 L12.1259375,12.53125 L12.1259375,13.40625 C12.1259375,13.475 12.0696875,13.53125 12.0009375,13.53125 L12.0009375,13.53125 L6.25093747,13.53125 C6.18218747,13.53125 6.12593747,13.475 6.12593747,13.40625 L6.12593747,13.40625 L6.12593747,12.53125 C6.12593747,12.4625 6.18218747,12.40625 6.25093747,12.40625 L6.25093747,12.40625 Z M2.93949997,2.5801875 L2.97437497,2.6109375 L4.72437497,4.828125 C4.78062497,4.89776786 4.74503823,4.99725765 4.66779698,5.02426203 L4.62593747,5.03125 L3.438,5.03089062 L3.43843747,10.9691406 L4.62593747,10.9691406 C4.73062497,10.9691406 4.78999997,11.0910156 4.72437497,11.1722656 L2.97437497,13.3894531 C2.92437497,13.4535156 2.82749997,13.4535156 2.77749997,13.3894531 L1.02749997,11.1722656 C0.961874969,11.0894531 1.02124997,10.9691406 1.12593747,10.9691406 L2.31343747,10.9691406 L2.313,5.03089062 L1.12593747,5.03125 C1.03620533,5.03125 0.979764,4.94285714 1.00679571,4.8654519 L1.02749997,4.828125 L2.77749997,2.6109375 C2.81749997,2.5596875 2.88749997,2.5494375 2.93949997,2.5801875 Z M10.5009375,9.09375 C10.5696875,9.09375 10.6259375,9.15 10.6259375,9.21875 L10.6259375,9.21875 L10.6259375,10.09375 C10.6259375,10.1625 10.5696875,10.21875 10.5009375,10.21875 L10.5009375,10.21875 L6.25093747,10.21875 C6.18218747,10.21875 6.12593747,10.1625 6.12593747,10.09375 L6.12593747,10.09375 L6.12593747,9.21875 C6.12593747,9.15 6.18218747,9.09375 6.25093747,9.09375 L6.25093747,9.09375 Z M14.5009375,5.78125 C14.5696875,5.78125 14.6259375,5.8375 14.6259375,5.90625 L14.6259375,5.90625 L14.6259375,6.78125 C14.6259375,6.85 14.5696875,6.90625 14.5009375,6.90625 L14.5009375,6.90625 L6.25093747,6.90625 C6.18218747,6.90625 6.12593747,6.85 6.12593747,6.78125 L6.12593747,6.78125 L6.12593747,5.90625 C6.12593747,5.8375 6.18218747,5.78125 6.25093747,5.78125 L6.25093747,5.78125 Z M9.00093747,2.46875 C9.06968747,2.46875 9.12593747,2.525 9.12593747,2.59375 L9.12593747,2.59375 L9.12593747,3.46875 C9.12593747,3.5375 9.06968747,3.59375 9.00093747,3.59375 L9.00093747,3.59375 L6.25093747,3.59375 C6.18218747,3.59375 6.12593747,3.5375 6.12593747,3.46875 L6.12593747,3.46875 L6.12593747,2.59375 C6.12593747,2.525 6.18218747,2.46875 6.25093747,2.46875 L6.25093747,2.46875 Z" id="形状结合"></path>\n                </g>\n            </g>\n        </g>\n    </g>q\n</g>\n</svg>',Minus:'<svg t="1557140120188" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="16909" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="16910">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="16911">\n\t</path>\n</svg>',Plus:'<svg t="1557140186692" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17025" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="17026">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="17027">\n\t</path>\n</svg>',SortDown:'<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',SortUp:'<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\n    p-id="17621"></path>\n</svg>\n',SortDownSelected:'<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',SortUpSelected:'<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\np-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n<defs>\n<style type="text/css"></style>\n</defs>\n<path\nd="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\np-id="17621"></path>\n</svg>\n',InfoCircle:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1590389330617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19656" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M512 64c-247.4 0-448 200.6-448 448s200.6 448 448 448 448-200.6 448-448-200.6-448-448-448z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="" p-id="19657"></path><path d="M464 336c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zM536 448h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-272c0-4.4-3.6-8-8-8z" fill="" p-id="19658"></path></svg>',ExpandColIcon:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="23px" height="12px" viewBox="0 0 23 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>编组 8备份 3</title>\n    <g id="----隐藏列标注！" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="隐藏列标注" transform="translate(-275.000000, -824.000000)">\n            <rect fill="#FFFFFF" x="0" y="0" width="1333" height="1167"></rect>\n            <g id="编组-8备份-3" transform="translate(275.000000, 824.000000)">\n                <rect id="矩形" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="0.5" y="0.5" width="11" height="11"></rect>\n                <rect id="矩形备份-9" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="11.5" y="0.5" width="11" height="11"></rect>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) " fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(17.000000, 6.000000) rotate(270.000000) translate(-17.000000, -6.000000) translate(11.000000, 0.000000)" fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n            </g>\n            <line x1="286.5" y1="813" x2="286.5" y2="864.5" id="路径-2备份-3" stroke="#000000" opacity="0.25"></line>\n        </g>\n    </g>\n</svg>',Trend:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1596433821690" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20229" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6c-3.1-3.1-8.2-3.1-11.3 0l-230 229.9L461.4 404c-3.1-3.1-8.2-3.1-11.3 0L266.3 586.7c-3.1 3.1-3.1 8.2 0 11.3l39.5 39.7z" p-id="20230"></path></svg>',DrillDownIcon:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1608030723688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21482" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M547.648 696a32 32 0 0 1 31.488 26.24l0.512 5.76v151.68l145.216-144.512a32 32 0 0 1 40.832-3.648l4.416 3.712a32 32 0 0 1 3.584 40.832l-3.712 4.48-203.072 202.24a32 32 0 0 1-40.768 3.648l-4.416-3.712-202.24-202.24a32 32 0 0 1 40.832-48.96l4.416 3.712 150.912 150.912v-158.144a32 32 0 0 1 32-32z m194.56-529.28l4.928 3.072 233.792 180.224a32 32 0 0 1 1.728 49.28l-4.864 3.52-409.792 245.568a32 32 0 0 1-27.328 2.624l-5.184-2.432-422.4-245.568a32 32 0 0 1-7.552-49.28l4.544-4.032 242.816-180.288a32 32 0 0 1 42.432 47.552l-4.288 3.84-203.84 151.296 364.16 211.648 353.28-211.712-196.608-151.552a32 32 0 0 1-8.896-40l3.136-4.864a32 32 0 0 1 40-8.96zM547.712 28.672a32 32 0 0 1 31.488 26.24l0.512 5.76v396.992a32 32 0 0 1-63.488 5.76l-0.512-5.76V60.736a32 32 0 0 1 32-32z" p-id="21483" fill="currentColor"></path></svg>\n',EyeOutlined:'<svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg>'}),UC={},YC=function(e,t){UC[eg(e)]=t},XC=function(e){return UC[eg(e)]};pu(VC).forEach((function(e){YC(e,VC[e])}));var qC,KC,QC,JC="<svg",ew="data:image/svg+xml",tw={},nw=function(e){function t(t){var n=e.call(this,t)||this;return n.isOnlineLink=function(e){return/^(https?:)?(\/\/)/.test(e)},n.render(),n}return Ca(t,e),t.prototype.getImage=function(e,t,n){var r=this;return new Promise((function(o,i){var a=XC(e);if(a){var l=new Image;l.onload=function(){tw[t]=l,o(l)},l.onerror=i,a.includes(ew)||r.isOnlineLink(a)?l.src=a:(n&&(a=(a=a.replace(/fill=[\'\"]#?\w+[\'\"]/g,"")).replace(/fill>/g,">")),a=a.replace(JC,"".concat(JC,' fill="').concat(n,'"')),l.src="".concat(ew,";utf-8,").concat(encodeURIComponent(a)))}}))},t.prototype.render=function(){var e=this.cfg,n=e.name,r=e.fill,o=Tf(this.cfg),i=wa(wa({},_g(o,"fill")),{type:t.type}),a=new ko({attrs:i});this.iconImageShape=a,this.setImageAttrs({name:n,fill:r})},t.prototype.setImageAttrs=function(e){var t=this,n=e.name,r=e.fill,o=this.iconImageShape;n=n||o.attrs.name,r=r||o.attrs.fill;var i="".concat(n,"-").concat(r),a=tw[i];a?(o.attr("img",a),this.addShape("image",o)):this.getImage(n,i,r).then((function(e){t.destroyed||(o.attr("img",e),t.addShape("image",o))})).catch((function(e){console.error("GuiIcon ".concat(n," load failed"),e)}))},t.type="__GUI_ICON__",t}(Oo);!function(e){e.TOP="TOP",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.RIGHT="RIGHT"}(qC||(qC={})),function(e){e.SUM="SUM",e.MIN="MIN",e.MAX="MAX",e.AVG="AVG"}(KC||(KC={})),function(e){e.Row="row",e.Col="col",e.Series="series"}(QC||(QC={}));var rw=function(){function e(){this.store=new Map}return e.prototype.set=function(e,t){return this.store.set(e,t)},e.prototype.get=function(e,t){var n;return null!==(n=this.store.get(e))&&void 0!==n?n:t},e.prototype.clear=function(){this.store.clear()},e.prototype.size=function(){return this.store.size},e}(),ow=function(e,t,n){return e.sort((function(e,r){n&&(e=n(e),r=n(r));var o=t.indexOf(e),i=t.indexOf(r);return-1===o&&-1===i?0:-1===o?1:-1===i?-1:o-i}))},iw=function(e){return xp(e,(function(e){return!Zv(e)&&"undefined"!==e}))},aw=function(e){var t;return null===(t=pu(e))||void 0===t?void 0:t.reduce((function(t,n){var r=Xu(e,n);return Array.isArray(r)?t=t.concat(aw(r)):null==t||t.push(r),t}),[])},lw=function(e){var t=[];if(Array.isArray(e))for(var n=("undefined"in e),r=e.length+(n?1:0),o=0,i=function(){var n=o===e.length?e[void 0]:e[o];o++,n&&"undefined"in n?pu(n).forEach((function(e){t.push(n[e])})):Array.isArray(n)?t.push.apply(t,Ia([],Ea(n),!1)):t.push(n)};o<r;)i();else t.push(e);return t},sw=function(e,t){var n=[];return null==e||e.forEach((function(e,r){void 0===e&&t[r]&&n.push(t[r])})),n},uw=function(e,t){return!bp(e,(function(e){return t[e]}))};function cw(e,t){var n=t.rows,r=t.columns;return jm(e,(function(e,t){return uw([].concat(n).concat(r),t)&&e.push(t),e}),[])}"KMBTP".split("");var dw=function(e){return Number.parseFloat((nl(e)||0).toPrecision(16))},fw=function(e,t,n){if(void 0===n&&(n=0),!Object.values(e).find((function(e){return e>0})))return e;var r=wa({},e);r.frozenColCount>=t&&(r.frozenColCount=t);var o=t-r.frozenColCount;r.frozenTrailingColCount>o&&(r.frozenTrailingColCount=o),r.frozenRowCount>=n&&(r.frozenRowCount=n);var i=n-r.frozenRowCount;return r.frozenTrailingRowCount>i&&(r.frozenTrailingRowCount=i),r};function hw(e,t,n){var r;return null===(r=null==e?void 0:e.addShape)||void 0===r?void 0:r.call(e,"rect",wa({zIndex:1,attrs:t},n||{}))}function pw(e,t){var n;return null===(n=null==e?void 0:e.addShape)||void 0===n?void 0:n.call(e,"circle",{attrs:t})}function vw(e,t,n,r,o,i,a,l){var s;return!Dv(t)&&e&&tp(t,(function(t){e.contain(t)&&e.removeChild(t,!0)})),null===(s=null==e?void 0:e.addShape)||void 0===s?void 0:s.call(e,"text",{attrs:wa(wa({x:n,y:r,text:o,originalText:l},i),a)})}function gw(e,t,n){var r;return null===(r=null==e?void 0:e.addShape)||void 0===r?void 0:r.call(e,"line",{zIndex:100,attrs:wa(wa({},t),n)})}function mw(e,t,n){Dv(e)||($a(e)?e:[e]).forEach((function(e){Jm(e,"attrs.".concat(t),n)}))}function yw(e,t){var n=new nw(t);return null==e||e.add(n),n}function bw(e,t,n,r,o){var i=new nw(wa(wa({name:r?"Plus":"Minus"},t),{fill:n}));return ll(o)&&i.on("click",o),null==e||e.add(i),i}var Cw,ww="s2-offscreen-canvas",xw=function(e){var t;return null!==(t=null==e?void 0:e.position)&&void 0!==t?t:"right"},Sw=function(e,t){var n,r,o,i=e.data,a=e.encode,l=e.type,s=t.getMeta(),u=s.x,c=s.y,d=s.height,f=s.width,h=t.getStyle(ea.DATA_CELL),p=h.cell,v=h.miniChart,g=[],m=Dp(i,(function(e){return g.push(null==e?void 0:e[a.y]),{x:e[a.x],y:e[a.y]}})),y=sg(g),b=yg(g),C=y-b,w=u+p.padding.left,x=u+f-p.padding.right,S=c+p.padding.top,E=c+d-p.padding.bottom,I=E-S,O=l===vi.Bar?(x-w-(g.length-1)*(null===(n=null==v?void 0:v.bar)||void 0===n?void 0:n.intervalPadding))/g.length+(null===(r=null==v?void 0:v.bar)||void 0===r?void 0:r.intervalPadding):null!==(o=(x-w)/(g.length-1))&&void 0!==o?o:0,L=[],_=Dp(m,(function(e,t){var n,r,o=w+t*O;if(r=0!==C?E-((null==e?void 0:e.y)-b)/C*I:b>0?S:E,l===vi.Bar){var i=void 0,a=void 0;b<0&&y>0&&0!==C?(i=E-(0-b)/C*I,a=Math.abs(r-i),(null==e?void 0:e.y)<0&&(r=i)):(i=b<0?S:E,a=0===(C=sg([Math.abs(y),Math.abs(b)]))?I:Math.abs((null==e?void 0:e.y)-0)/C*I,r=i);var s=O-(null===(n=null==v?void 0:v.bar)||void 0===n?void 0:n.intervalPadding);L.push([s,a])}return[o,r]}));return{points:_,box:L}},Ew=function(e,t,n){var r=Number(t)-Number(e);return Number.isNaN(r)||Number(e)<0?n.bad:r<=.1?n.good:r>.1&&r<=.2?n.satisfactory:n.bad},Iw=function(e){var t,n,r,o,i,a;if(!Dv(e)){var l=e.getCellArea(),s=l.x,u=l.y,c=l.height,d=l.width,f=e.findFieldCondition(null===(t=e.cellConditions)||void 0===t?void 0:t.interval);if(f&&f.mapping){var h=e.mappingValue(f);if(!h)return;var p=h.isCompare?h:e.valueRangeByField,v=dw(p.minValue),g=dw(p.maxValue),m=$v(null==h?void 0:h.fieldValue)?dw(e.getMeta().fieldValue):dw(null==h?void 0:h.fieldValue);if(m<v||m>g)return;var y=null!==(r=null===(n=e.getStyle().miniChart.interval)||void 0===n?void 0:n.height)&&void 0!==r?r:e.getStyle().cell.miniBarChartHeight,b=null!==(i=null===(o=e.getStyle().miniChart.interval)||void 0===o?void 0:o.fill)&&void 0!==i?i:e.getStyle().cell.miniBarChartFillColor,C=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),e=dw(e),t=dw(t);var n=e>=0,r=t>=0&&e<=0,o=r?0:n?e:t,i=t-e;return function(t){var a=n?0:1;return{zeroScale:r?Md(Math.abs(0-e)/i,0,1):a,scale:Md((t-o)/i,-1,1)}}}(v,g),w=C(m);return hw(e,{x:s+d*w.zeroScale,y:u+c/2-y/2,width:d*w.scale,height:y,fill:null!==(a=h.fill)&&void 0!==a?a:b})}}},Ow=function(e,t){var n,r=t.getStyle(ea.DATA_CELL),o=t.getMeta(),i=o.x,a=o.y,l=o.height,s=o.width,u=o.spreadsheet;if(Dv(e))vw(t,[],i+s-r.cell.padding.right,a+l/2,Hw(t,u.options.placeholder),r.text);else{var c=r.miniChart.bullet,d=c.progressBar,f=c.comparativeMeasure,h=c.rangeColors,p=c.backgroundColor,v=e.measure,g=e.target,m=Math.max(Number(v),0),y=Math.max(Number(g),0),b=function(e,t){var n,r;void 0===t&&(t={min:0,max:0});var o=Number(e);if(Number.isNaN(o))return e;var i=null!==(n=null==t?void 0:t.min)&&void 0!==n?n:t,a=null!==(r=null==t?void 0:t.max)&&void 0!==r?r:t;return new Intl.NumberFormat("en-US",{minimumFractionDigits:i,maximumFractionDigits:a,useGrouping:!1,style:"percent"}).format(o)}(v,2),C=(null==d?void 0:d.widthPercent)>1?(null==d?void 0:d.widthPercent)/100:null==d?void 0:d.widthPercent,w=r.cell.padding,x=s-w.left-w.right,S=C*x,E=x-S,I=i+s-w.right-S,O=a+l/2-d.height/2;hw(t,{x:I,y:O,width:S,height:d.height,fill:p,textBaseline:r.text.textBaseline});var L=Xu(t.getMeta(),"spreadsheet.options.bullet.getRangeColor"),_=Math.max(Math.min(S*m,S),0);hw(t,{x:I,y:O+(d.height-d.innerHeight)/2,width:_,height:d.innerHeight,fill:null!==(n=null==L?void 0:L(m,y))&&void 0!==n?n:Ew(m,y,h)});var T=I+S*y;gw(t,{x1:T,y1:a+(l-f.height)/2,x2:T,y2:a+(l-f.height)/2+f.height},{stroke:(null==f?void 0:f.fill)||(null==f?void 0:f.color),lineWidth:f.width,opacity:null==f?void 0:f.opacity}),vw(t,[],I-w.right,a+l/2,Bw({measureTextWidth:u.measureTextWidth,text:b,maxWidth:E-w.right,fontParam:r.text}),r.text)}},Lw=function(e,t){switch(null==t?void 0:t.type){case vi.Line:!function(e,t){if(!Dv(null==e?void 0:e.data)&&!Dv(t)){var n=t.getStyle(ea.DATA_CELL).miniChart.line,r=n.point,o=n.linkLine,i=Sw(e,t).points;!function(e,t){var n;null===(n=null==e?void 0:e.addShape)||void 0===n||n.call(e,"polyline",{attrs:t})}(t,{points:i,stroke:o.fill,lineWidth:o.size,opacity:o.opacity});for(var a=0;a<i.length;a++)pw(t,{x:i[a][0],y:i[a][1],r:r.size,fill:r.fill,fillOpacity:r.opacity})}}(t,e);break;case vi.Bar:!function(e,t){if(!Dv(null==e?void 0:e.data)&&!Dv(t))for(var n=t.getStyle(ea.DATA_CELL).miniChart.bar,r=Sw(e,t),o=r.points,i=r.box,a=0;a<o.length;a++)hw(t,{x:o[a][0],y:o[a][1],width:i[a][0],height:i[a][1],fill:n.fill,fillOpacity:n.opacity})}(t,e);break;default:Ow(t,e)}},_w=function(e,t){var n=e.x,r=e.y,o=e.width,i=e.height,a=o-(null==t?void 0:t.left)-(null==t?void 0:t.right),l=i-(null==t?void 0:t.top)-(null==t?void 0:t.bottom);return{x:n+(null==t?void 0:t.left),y:r+(null==t?void 0:t.top),width:a,height:l}},Tw=function(e){return hg({size:0,position:"right",margin:{left:0,right:0}},e)},Mw=function(e,t){return e-(t=Tw(t)).size-t.margin.right-t.margin.left},Rw=function(e,t,n){var r=e.y,o=e.height;void 0===n&&(n=0);var i=0;switch(t){case"top":i=r;break;case"middle":i=r+o/2-n/2;break;default:i=r+o-n}return i},Nw=function(e,t,n,r,o){void 0===n&&(n=0),void 0===o&&(o=1);var i,a,l=e.x,s=e.width,u=t.textAlign,c=t.textBaseline,d=Tw(r),f=d.size,h=d.margin,p=d.position,v=o*(f+h.left)+(o?h.right:0);switch(u){case"left":i=l+("left"===p?v:0),a=l+("left"===p?h.left:n+h.left);break;case"center":var g=l+s/2-(v-("left"===p?h.left:h.right)+n)/2;i=g+n/2+("left"===p?v-h.left:0),a=g+("left"===p?0:n+h.left);break;default:i=l+s-("right"===p?v:0),a=l+s-("right"===p?v-h.left:n+v-h.left)}return{text:{x:i,y:Rw(e,c,0)},icon:{x:a,y:Rw(e,c,f)}}},Aw=function(e,t,n){var r,o,i,a,l,s=t.x,u=t.y,c=t.width,d=t.height,f=n.horizontalBorderWidth,h=n.horizontalBorderColorOpacity,p=n.horizontalBorderColor,v=n.verticalBorderWidth,g=n.verticalBorderColor,m=n.verticalBorderColorOpacity;if(e===qC.TOP||e===qC.BOTTOM){var y=u;o=y=e===qC.TOP?u+v/2:u+d-v/2,a=y,r=s,i=s+c,l={lineWidth:f,stroke:p,strokeOpacity:h}}if(e===qC.LEFT||e===qC.RIGHT){var b=s;r=b=e===qC.LEFT?s+f/2:s+c-f/2,i=b,o=u,a=u+d,l={lineWidth:v,stroke:g,strokeOpacity:m}}return{position:{x1:r,x2:i,y1:o,y2:a},style:l}},Dw=(Hu((function(e,t){if(void 0===e&&(e=""),!t)return 0;var n,r=(n=document.getElementById(ww),n||((n=document.createElement("canvas")).id=ww,n.style.display="none",document.body.appendChild(n),n)).getContext("2d"),o=t,i=o.fontSize,a=o.fontFamily,l=o.fontWeight,s=o.fontStyle,u=o.fontVariant;return r.font=[s,u,l,"".concat(i,"px"),a].join(" ").trim(),r.measureText("".concat(e)).width}),(function(e,t){return Ia([e],Ea(nv(t)),!1).join("")})),function(e,t,n,r){var o,i=e(Zi,r);o=ev(t)?t:Zu(t);var a,l,s=n,u=[];if(e(t,r)<=n)return t;for(var c=!0;c;){if((l=e(a=o.substr(0,16),r))+i>s&&l>s){c=!1;break}if(u.push(a),s-=l,!(o=o.substr(16)))return u.join("")}for(var d=!0;d;){if((l=e(a=o.substr(0,1),r))+i>s){d=!1;break}if(u.push(a),s-=l,!(o=o.substr(1)))return u.join("")}return"".concat(u.join(""),"...")}),Bw=function(e){var t=e.measureTextWidth,n=e.text,r=e.maxWidth,o=e.fontParam,i=e.priorityParam,a=e.placeholder,l={},s=null!=a?a:Fi,u=$v(n)||""===n?s:"".concat(n),c=i;if(o&&$a(o)?c=o:l=o||{},!c||!c.length)return Dw(t,u,r,l);var d=[],f=[u];c.forEach((function(e){f.forEach((function(t,n){var r=-1,o=t.match(new RegExp(e));if(o){var i=o[0];r=o.index,d.push(i);var a=r+i.length,l=[t.slice(0,r),t.slice(a)].filter((function(e){return!!e}));f.splice.apply(f,Ia([n,1],Ea(l),!1))}}))})),f=d.concat(f);var h=u,p=t(Zi,l),v=r;return f.forEach((function(e){if(v<=0){var n=h.indexOf(e),r=h.slice(n-3,n);if(r&&r!==Zi){var o=t(e,l);h=h.replace(e,o>p?Zi:e)}else h=h.replace(e,"");v-=p}else{o=t(e,l);if(v<o&&o>p){var i=Dw(t,e,v,l);h=h.replace(e,i),v=0}else v-=o}})),h},kw=function(e){return zv(e)?e>=0:!!e&&!Zy(e).startsWith("-")},Pw=function(e){return $v(e)||""===e||0===Number(String(e).replace(/[^0-9.]+/g,""))},zw=function(e,t,n,r){void 0===r&&(r="left");var o=t.right,i=t.left,a=n||0;return"left"===r?e+o/2+a:"right"===r?e-o/2-a:e+i/2+a},Fw=function(e){var t=e.rowIndex,n=e.colIndex,r=e.meta,o=e.data,i=e.textStyle,a=e.textCondition,l=i.fill;return(null==a?void 0:a.mapping)&&(l=null==a?void 0:a.mapping(o,{rowIndex:t,colIndex:n,meta:r}).fill),wa(wa({},i),{fill:l})},Hw=function(e,t){return ll(t)?t(e):t},$w=function(e,t,n){var r,o,i,a;void 0===n&&(n=!0);var l=e.getContentArea(),s=l.x,u=l.y,c=l.height,d=l.width,f=t||e.getMeta().fieldValue,h=f.values,p=e.getMeta().spreadsheet,v=p.options,g=p.measureTextWidth,m=v.style.cellCfg.valuesCfg,y=null===(o=null===(r=null==v?void 0:v.conditions)||void 0===r?void 0:r.text)||void 0===o?void 0:o[0],b=null===(a=null===(i=null==v?void 0:v.conditions)||void 0===i?void 0:i.icon)||void 0===a?void 0:a[0];if($a(h)){var C=null==m?void 0:m.widthPercent,w=0;if(null==f?void 0:f.label){var x=e.getStyle(ea.DATA_CELL).bolderText,S=vw(e,[],s,u+(w=c/(h.length+1))/2,Bw({measureTextWidth:g,text:f.label,maxWidth:d,fontParam:x}),x);e.addTextShape(S)}for(var E,I=function(e){var t,n,r=e.getMeta().isTotals,o=null===(n=(t=e).isMeasureField)||void 0===n?void 0:n.call(t),i=e.getStyle(o?ea.COL_CELL:ea.DATA_CELL);return{cellStyle:i,textStyle:o?i.measureText:r?i.bolderText:i.text}}(e),O=I.cellStyle,L=I.textStyle,_=null==O?void 0:O.icon,T=b&&b.mapping&&{size:null==_?void 0:_.size,margin:null==_?void 0:_.margin,position:null==b?void 0:b.position},M=function(e,t,n){for(var r,o,i,a=e.x,l=e.y,s=e.width,u=e.height/ny(t),c=[],d=0,f=Dp(n,(function(e){return e>1?e/100:e})),h=0;h<ny(t);h++){o=l+u*h;var p=[];r=a,d=0;for(var v=0;v<ny(t[h]);v++)i=Dv(f)?s/ny(t[0]):s*f[v],r=zw(a,{left:0,right:0},d,"left"),d+=i,p.push({x:r,y:o,width:i,height:u});c.push(p)}return c}({x:s,y:u+w,height:c-w,width:d},h,C),R=0;R<h.length;R++)for(var N=Tf(h[R]),A=0;A<N.length;A++){E=N[A];var D=n?Fw({rowIndex:R,colIndex:A,meta:null==e?void 0:e.getMeta(),data:E,textStyle:L,textCondition:y}):L,B=(null==e?void 0:e.getMeta().spreadsheet.options).placeholder,k=Hw(null==e?void 0:e.getMeta(),B),P=Mw(M[R][A].width,_),z=Bw({measureTextWidth:g,text:E,maxWidth:P,fontParam:D,placeholder:k}),F=g(z,L),H=Nw(M[R][A],L,F,T,b?1:0);S=vw(e,[],H.text.x,H.text.y,z,D,{},null==E?void 0:E.toString());if(e.addTextShape(S),b&&n){var $=null==b?void 0:b.mapping(E,{rowIndex:R,colIndex:A,meta:null==e?void 0:e.getMeta()});if($){var j=yw(e,wa(wa({},H.icon),{name:$.icon,width:null==_?void 0:_.size,height:null==_?void 0:_.size,fill:$.fill}));e.addConditionIconShape(j)}}}}else Lw(e,h)},jw=function(e,t){return void 0===t&&(t=1),(null==e?void 0:e.width)*t},Ww=function(e){try{return JSON.parse(e)}catch(e){return null}};function Gw(e,t){return!(!e||!t)&&String(e).toLowerCase()===String(t).toLowerCase()}var Zw,Vw=function(e,t){var n=e.getColumnNodes().find((function(e){return e.id===t}));return e.isPivotMode()?null==n?void 0:n.value:null==n?void 0:n.field},Uw=function(e,t){var n=t.getColumnNodes().find((function(t){return t.colIndex===e})),r=Vw(t,n.id);return t.options.interaction.copyWithFormat?t.dataSet.getFieldFormatter(r):function(e){return e}},Yw=function(e,t,n){var r,o;if(n.isPivotMode()){var i=Ea(function(e,t){var n=e.rowIndex,r=e.colIndex;return[t.getRowNodes().find((function(e){return e.rowIndex===n})),t.getColumnNodes().find((function(e){return e.colIndex===r}))]}(e,n),2),a=i[0],l=i[1],s=function(e){var t,n,r,o;return(null===(o=null===(r=null===(n=e.options)||void 0===n?void 0:n.style)||void 0===r?void 0:r.colCfg)||void 0===o?void 0:o.hideMeasureColumn)&&e.isValueInCols()?((t={})[mi]=e.dataCfg.fields.values[0],t):{}}(n),u=n.dataSet.getCellData({query:wa(wa(wa({},a.query),l.query),s),rowNode:a,isTotals:a.isTotals||a.isTotalMeasure||l.isTotals||l.isTotalMeasure});return null!==(r=null==u?void 0:u[gi])&&void 0!==r?r:""}var c=function(e,t){var n=t.getColumnNodes().find((function(t){return t.colIndex===e}));return Vw(t,n.id)}(e.colIndex,n);return null===(o=t[e.rowIndex])||void 0===o?void 0:o[c]},Xw=function(e,t,n){return Uw(e.colIndex,n)(Yw(e,t,n))},qw=function(e){return/\n/.test(e)?'"'+e.replace(/\r\n?/g,"\n")+'"':e},Kw=function(e,t){var n=e.split(zi);return t?n.slice(n.length-t):(n.shift(),n)};!function(e){e.PLAIN="text/plain",e.HTML="text/html"}(Zw||(Zw={}));var Qw=((Cw={})[Zw.PLAIN]=function(e){return{type:Zw.PLAIN,content:Dp(e,(function(e){return e.join("\t")})).join("\r\n")}},Cw[Zw.HTML]=function(e){return{type:Zw.HTML,content:'<meta charset="utf-8"><table><tbody>'.concat((t=e,n="tr",t.map((function(e){return"<".concat(n,">").concat(function(e,t){return e.map((function(e){return"<".concat(t,">").concat(pp(e),"</").concat(t,">")})).join("")}(e,"td"),"</").concat(n,">")})).join("")),"</tbody></table>")};var t,n},Cw);function Jw(e){return Qw[e]}function ex(e,t){return void 0===t&&(t=Zw.PLAIN),Array.isArray(t)?[].concat(e).filter((function(e){return t.includes(e.type)})).map((function(e){return e.content})):[].concat(e).filter((function(e){return(null==e?void 0:e.type)===t})).map((function(e){return e.content}))[0]||""}var tx=function(e,t,n){var r,o,i,a,l,s,u=null!==(o=null===(r=e[0])||void 0===r?void 0:r.length)&&void 0!==o?o:0,c=null!==(i=null==t?void 0:t.length)&&void 0!==i?i:0,d=null!==(l=null===(a=n[0])||void 0===a?void 0:a.length)&&void 0!==l?l:0,f=null!==(s=n.length)&&void 0!==s?s:0,h=u+d,p=c+f,v=Array.from(Array(p),(function(){return new Array(h)}));return v=Dp(v,(function(r,o){return Dp(r,(function(r,i){return i>=0&&i<u&&o>=0&&o<c?"":i>=u&&i<=h&&o>=0&&o<c?t[o][i-u]:i>=0&&i<u&&o>=c&&o<p?e[o-c][i]:i>=u&&i<=h&&o>=c&&o<p?n[o-c][i-u]:void 0}))})),[Jw(Zw.PLAIN)(v),Jw(Zw.HTML)(v)]},nx=function(e,t,n){return Dp(e,(function(e){return t.map((function(t){var r,o=n.dataSet.getCellData({query:wa(wa({},e.query),t.query),rowNode:e,isTotals:e.isTotals||e.isTotalMeasure||t.isTotals||t.isTotalMeasure});return Uw(t.colIndex,n)(null!==(r=null==o?void 0:o[gi])&&void 0!==r?r:"")}))}))};function rx(e,t,n){return e.options.interaction.copyWithHeader?function(e,t,n){var r=Dp(t,(function(e){return Kw(e.id)})),o=Sb.apply(void 0,Ia([],Ea(Dp(n,(function(e){return Kw(e.id)}))),!1)),i=nx(t,n,e);return tx(r,o,i)}(e,t,n):function(e,t,n){var r=nx(t,n,e);return[Jw(Zw.PLAIN)(r),Jw(Zw.HTML)(r)]}(e,t,n)}var ox=function(e,t,n){return t.isPivotMode()?function(e,t){var n=e.getRowNodes().filter((function(t){return t.isLeaf||e.isHierarchyTreeType()})),r=e.getColumnNodes().filter((function(e){return e.isLeaf})),o=t.length?t.reduce((function(e,t){return e.push.apply(e,Ia([],Ea(r.filter((function(e){return e.id.startsWith(t.id)}))),!1)),e}),[]):r;return rx(e,n,o)}(t,n):function(e,t){var n=e.dataSet.getDisplayDataSet(),r=t.length?t.map((function(t){return{field:Vw(e,t.id),formatter:Uw(t.colIndex,e)}})):e.dataCfg.fields.columns.map((function(t){return e.getColumnNodes().find((function(e){return e.field===t}))})).map((function(t){return{field:Vw(e,t.id),formatter:Uw(t.colIndex,e)}})),o=n.map((function(e){return r.map((function(t){var n=t.field,r=t.formatter;return qw(r(e[n]))}))}));return[Jw(Zw.PLAIN)(o),Jw(Zw.HTML)(o)]}(t,n)},ix=function(e,t,n){return t.isPivotMode()?function(e,t){var n=e.getRowNodes().filter((function(t){return t.isLeaf||e.isHierarchyTreeType()})),r=e.getColumnNodes().filter((function(e){return e.isLeaf})),o=t.reduce((function(e,t){return e.push.apply(e,Ia([],Ea(n.filter((function(e){return e.id.startsWith(t.id)}))),!1)),e}),[]);return rx(e,o,r)}(t,n):function(e,t){var n=e.dataSet.getDisplayDataSet().filter((function(e,n){return t.map((function(e){return e.rowIndex})).includes(n)})).map((function(t){var n=e.getColumnNodes().reduce((function(e,t,n){return e[t.field]=n,e}),{});return Object.keys(t).sort((function(e,t){return n[e]-n[t]})).map((function(t){return e.getColumnNodes().find((function(e){return e.field===t}))})).filter(Boolean).map((function(n){return qw(Uw(n.colIndex,e)(t[n.field]))}))}));return[Jw(Zw.PLAIN)(n),Jw(Zw.HTML)(n)]}(t,n)};function ax(e){var t,n=function(e){var t=new Set;return tp(e,(function(e){var n=e.getMeta().level;t.has(n)||t.add(n)})),t}(e),r=null!==(t=sg(Array.from(n)))&&void 0!==t?t:0,o=function(e,t){return xp(e,(function(e){var n=e.getMeta(),r=n.level===t,o=n.isTotals&&Dv(n.children);return r||o}))}(e,r),i=e[0].cellType===ea.COL_CELL,a=function(e,t,n){return Dp(e,(function(e){var r=e.getMeta(),o=r.id,i=r.label,a=r.isTotals,l=r.level,s=o;a&&l!==t&&(s=o+zi+Gm(i,t-l));var u=e.getActualText();return Dp(Kw(s,n.size),(function(e){return Bv(e,i)?u:e}))}))}(o,r,n);return i&&(a=Sb.apply(void 0,Ia([],Ea(a),!1))),[Jw(Zw.PLAIN)(a),Jw(Zw.HTML)(a)]}var lx=function(e,t,n){return Dp(t,(function(t){var r;return null!==(r=e[t])&&void 0!==r?r:n}))};function sx(e,t){var n,r,o=t.filter((function(e){return e.type===ea.COL_CELL})),i=t.filter((function(e){return e.type===ea.ROW_CELL})),a=e.dataSet.getDisplayDataSet();if(e.interaction.getCurrentStateName()===Ji.ALL_SELECTED)r=ox(0,e,[]);else if(o.length)r=ox(0,e,o);else if(i.length)r=ix(0,e,i);else{if(!t.length)return;var l=function(e){if(!(null==e?void 0:e.length))return[];var t=Ea([{row:1/0,col:1/0},{row:0,col:0}],2),n=t[0],r=t[1];e.forEach((function(e){var t=e.rowIndex,o=e.colIndex;n.col=Math.min(o,n.col),n.row=Math.min(t,n.row),r.col=Math.max(o,r.col),r.row=Math.max(t,r.row)}));var o=Ea([r.row-n.row+1,r.col-n.col+1],2),i=o[0],a=o[1],l=new Array(i).fill("").map((function(){return new Array(a).fill("")}));return e.forEach((function(e){var t=e.rowIndex,r=e.colIndex,o=Ea([t-n.row,r-n.col],2),i=o[0],a=o[1];l[i][a]=e})),l}(t);if(e.interaction.getSelectedCellHighlight().currentRow){var s=Dg(t,"rowIndex","asc").map((function(t){return e.dataSet.getRowData(t)}));r=function(e,t){var n=e.options.placeholder,r=e.dataCfg.fields,o=r.rows,i=r.columns,a=r.values,l=Hw(e,n),s=e.getColumnLeafNodes(),u=[];if(e.isTableMode()){var c=xp(s,(function(e){return e.field!==Ci}));u=Dp(t,(function(e){return Dp(c,(function(t){var n;return null!==(n=null==e?void 0:e[t.field])&&void 0!==n?n:l}))}))}else if(e.isPivotMode()){var d=Ia(Ia(Ia([],Ea(o),!1),Ea(i),!1),Ea(a),!1);u=jm(aw(t).filter((function(e){return Ia(Ia([],Ea(o),!1),Ea(i),!1).every((function(t){return!$v(e[t])}))})),(function(e,t){return Ia(Ia([],Ea(e),!1),[lx(t,d,l)],!1)}),[])}return[Jw(Zw.PLAIN)(u),Jw(Zw.HTML)(u)]}(e,s)}else r=(null===(n=e.options.interaction)||void 0===n?void 0:n.copyWithHeader)?function(e,t,n){var r=Sb.apply(void 0,Ia([],Ea(Dp(e[0],(function(e){var t,n,r=null!==(n=null===(t=e.id.split(Fi))||void 0===t?void 0:t[1])&&void 0!==n?n:"";return Kw(r)}))),!1)),o=Dp(e,(function(e){var t,n,r=null!==(n=null===(t=e[0].id.split(Fi))||void 0===t?void 0:t[0])&&void 0!==n?n:"";return Kw(r)})),i=Dp(e,(function(e){return Dp(e,(function(e){return Xw(e,t,n)}))}));return tx(o,r,i)}(l,a,e):function(e,t,n){var r=t.map((function(t){return t.map((function(t){return t?qw(Xw(t,e,n)):""}))}));return[Jw(Zw.PLAIN)(r),Jw(Zw.HTML)(r)]}(a,l,e)}return r}function ux(e){return e?'"'.concat("string"==typeof e?e.replace(/"/g,'""'):e,'"'):e}var cx=function(e){return new Promise((function(t,n){var r;r=Array.isArray(e)?Xu(e.filter((function(e){return e.type===Zw.PLAIN})),"[0].content",""):e.content||"";var o=document.createElement("textarea");o.value=r,document.body.appendChild(o),o.focus({preventScroll:!0}),o.select();var i=document.execCommand("copy");document.body.removeChild(o),i?t():n()}))},dx=function(e,t){var n;return void 0===t&&(t=!1),n="string"==typeof e?{content:e,type:Zw.PLAIN}:e,navigator.clipboard&&window.ClipboardItem&&!t?function(e){return navigator.clipboard.write([new ClipboardItem([].concat(e).reduce((function(e,t){var n,r=t.type,o=t.content.replace(/\x00/g,"");return wa(wa({},e),((n={})[r]=new Blob([o],{type:r}),n))}),{}))]).catch((function(){return cx(e)}))}(n):cx(n)},fx=function(e,t){try{var n=document.createElement("a");n.download="".concat(t,".csv");var r=new Blob(["\ufeff".concat(e)],{type:"text/csv;charset=utf-8"});n.href=URL.createObjectURL(r),n.click(),URL.revokeObjectURL(n.href)}catch(e){console.error(e)}},hx=function(e,t,n){if(!e)return"";var r=e.fieldValue,o=e.valueField,i=e.data;return Ka(r)?function(e){var t=(null==e?void 0:e.label)?[null==e?void 0:e.label]:[],n=null==e?void 0:e.values;return Dv(n)||tp(n,(function(e){t.push(e.join(" "))})),t.join("$")}(r):n?t.dataSet.getFieldFormatter(o)(r,i):"".concat(r)},px=function(e,t,n,r){var o=[];if(e){var i=e.fieldValue,a=e.valueField,l=e.data;if(Ka(i))return o=function(e,t){var n,r,o,i;return t?null===(i=null==e?void 0:e.values)||void 0===i?void 0:i[0]:null!==(r=null===(n=null==e?void 0:e.originalValues)||void 0===n?void 0:n[0])&&void 0!==r?r:null===(o=null==e?void 0:e.values)||void 0===o?void 0:o[0]}(i,r),o;if($v(i)&&n.length>1)return o.push.apply(o,Ia([],Ea(n),!1)),o;if(r){var s=t.dataSet.getFieldFormatter(a);o.push(s(i,l))}else o.push(i)}else o.push.apply(o,Ia([],Ea(n),!1));return o.join("    ")},vx=function(e){var t=Ww(e);return $a(t)?t:e},gx=function(e,t,n){var r=vx(t.label),o=$a(r)?r.length:1,i=n.options.placeholder,a=ll(i)?i(e):i;return Array(o).fill(a)},mx=function(e){var t,n,r,o,i=null===(r=null===(n=null===(t=e.spreadsheet)||void 0===t?void 0:t.dataSet)||void 0===n?void 0:n.getFieldFormatter)||void 0===r?void 0:r.call(n,e.field);return null!==(o=null==i?void 0:i(e.label))&&void 0!==o?o:e.label},yx=function(e){var t=[],n=function(e){if(e.id!==Pi){var r=mx(e);return t.unshift(r),(null==e?void 0:e.parent)?n(e.parent):void 0}};return n(e),t},bx=function(e,t,n){var r,o,i,a,l,s=function(e){var t,n;return"object"==typeof e?{isFormatHeader:null!==(t=e.isFormatHeader)&&void 0!==t&&t,isFormatData:null!==(n=e.isFormatData)&&void 0!==n&&n}:{isFormatHeader:null!=e&&e,isFormatData:null!=e&&e}}(n),u=s.isFormatHeader,c=s.isFormatData,d=null===(l=null==e?void 0:e.facet)||void 0===l?void 0:l.layoutResult,f=d.rowsHierarchy,h=d.rowLeafNodes,p=d.colLeafNodes,v=d.getCellMeta,g=f.maxLevel,m=e.dataCfg.fields.valueInCols,y=f.sampleNodesForAllLevels.map((function(t){return e.dataSet.getFieldName(t.key)})),b=h.reduce((function(e,t){var n,r=(null!==(n=t.level)&&void 0!==n?n:0)+1;return r>e?r:e}),0),C=[],w=0;if(e.isPivotMode()){var x=h.filter((function(e){return 0!==e.height}));try{for(var S=Sa(x),E=S.next();!E.done;E=S.next()){var I=E.value,O=[];if(u)O=yx(I);else I.label=Zy(null==I?void 0:I.label),O=I.id.replace(Hi,"").split(zi);var L=g+1-O.length;L>0&&O.push.apply(O,Ia([],Ea(new Array(L)),!1));var _=e.dataSet.getFieldName(Uh(O));O[O.length-1]=_;try{for(var T=(i=void 0,Sa(p)),M=T.next();!M.done;M=T.next()){var R=M.value;if(m){var N=v(I.rowIndex,R.colIndex);O.push(hx(N,e,c))}else{N=v(I.rowIndex,R.colIndex);var A=gx(N,R,e),D=px(N,e,A,c);$a(D)?O=O.concat.apply(O,Ia([],Ea(D),!1)):O.push(D)}}}catch(e){i={error:e}}finally{try{M&&!M.done&&(a=T.return)&&a.call(T)}finally{if(i)throw i.error}}w=sg([O.length,w]);var B=O.map((function(e){return ux(e)})).join(t);C.push(B)}}catch(e){r={error:e}}finally{try{E&&!E.done&&(o=S.return)&&o.call(S)}finally{if(r)throw r.error}}}else C=function(e,t,n){var r,o,i,a=e.dataSet.getDisplayDataSet(),l=(null===(i=e.dataCfg)||void 0===i?void 0:i.fields).columns,s=WC(l||[]),u=[],c=function(r,o){var i=[];i=n?s.map((function(t){return ux(e.dataSet.getFieldFormatter(t)(o[t],o))})):s.map((function(e){return ux(o[e])})),e.options.showSeriesNumber&&(i=[ux(r+1)].concat(i)),u.push(i.join(t))};try{for(var d=Sa(a.entries()),f=d.next();!f.done;f=d.next()){var h=Ea(f.value,2);c(h[0],h[1])}}catch(e){r={error:e}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return u}(e,t,c);var k=[];if(Dv(p)&&!e.isPivotMode())k=[y];else{var P=0,z=Tf(p).map((function(t){for(var n=t,r=[];void 0!==n.level;){var o=vx(n.label);$a(o)?P=sg([P,ny(o)]):o=u&&e.isPivotMode()?mx(n):o,r.push(o),n=n.parent}return r}));P>1&&(z=function(e){return e.map((function(e){return e.map((function(t){return $a(t)?t:$a(e[0])?Ia([t],Ea(new Array(e[0].length-1)),!1):t}))}))}(z));for(var F=sg(z.map((function(e){return e.length}))),H=[],$=function(t){var n=z.map((function(e){return e.length<F?Ia(Ia([],Ea(new Array(F-e.length)),!1),Ea(e),!1):e})).map((function(e){return e[t]})).map((function(t){return e.dataSet.getFieldName(t)}));H.push(tc(n))},j=F-1;j>=0;j-=1)$(j);k=H.map((function(t,n){var r,o;if(e.isPivotMode()){var i=e.facet.cornerHeader.cfg,a=i.columns,l=i.rows,s=i.data.filter((function(e){return e.cornerType===QC.Col}));if(n<H.length-1)return Ia(Ia(Ia([],Ea(Array(g).fill("")),!1),[(null===(o=s.find((function(e){return e.field===a[n]})))||void 0===o?void 0:o.label)||""],!1),Ea(t),!1);var u=l.slice(0,b);return u.length<b&&u.unshift.apply(u,Ia([],Ea(Array(b-u.length).fill("")),!1)),Ia(Ia([],Ea(u.map((function(t){return e.dataSet.getFieldName(t)||""}))),!1),Ea(t),!1)}return n<H.length?(r=Array(b).fill("")).concat.apply(r,Ia([],Ea(t),!1)):y.concat.apply(y,Ia([],Ea(t),!1))}))}var W=k.map((function(e){var n=w-e.length;return n>0&&e.unshift.apply(e,Ia([],Ea(new Array(n)),!1)),e.map((function(e){return ux(e)})).join(t)})).join("\r\n");return[W].concat(C).join("\r\n")},Cx=function(e){var t,n,r,o,i,a,l=null===(r=null===(n=null===(t=e.target)||void 0===t?void 0:t.attrs)||void 0===n?void 0:n.appendInfo)||void 0===r?void 0:r.cellData,s=null===(i=(o=e.target).get)||void 0===i?void 0:i.call(o,"parent");return{target:s,viewMeta:(null===(a=null==s?void 0:s.getMeta)||void 0===a?void 0:a.call(s))||l,event:e}},wx=function(e,t,n){var r,o=e.split(zi);if(n)r=[e];else{r=[MC(o[0],o[1])];for(var i=2;i<o.length;i+=1)r.push(MC(r[i-2],o[i]))}var a=xp(t,(function(e){var t;return r.includes(null===(t=e.getMeta())||void 0===t?void 0:t.id)}));return a},xx=function(e,t,n){e&&tp(wx(e,t),(function(e){e.updateByState(n)}))},Sx=function(e){function t(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=e.call(this,{})||this;return i.textShapes=[],i.actualTextWidth=0,i.conditionIconShapes=[],i.stateShapes=new Map,i.meta=t,i.spreadsheet=n,i.theme=n.theme,i.conditions=i.spreadsheet.options.conditions,i.handleRestOptions.apply(i,Ia([],Ea(r),!1)),i.shouldInit()&&i.initCell(),i}return Ca(t,e),t.prototype.getMeta=function(){return this.meta},t.prototype.setMeta=function(e){this.meta=e},t.prototype.getIconStyle=function(){return this.theme[this.cellType].icon},t.prototype.getTextAndIconPosition=function(e){void 0===e&&(e=1);var t=this.getTextStyle(),n=this.getIconStyle();return Nw(this.getContentArea(),t,this.actualTextWidth,n,e)},t.prototype.getActualText=function(){return this.actualText},t.prototype.getFieldValue=function(){return this.getFormattedFieldValue().formattedValue},t.prototype.handleRestOptions=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.shouldInit=function(){var e=this.meta,t=e.width,n=e.height;return t>0&&n>0},t.prototype.getStyle=function(e){return Xu(this.theme,e||this.cellType)},t.prototype.getResizeAreaStyle=function(){return this.getStyle("resizeArea")},t.prototype.shouldDrawResizeAreaByType=function(e,t){var n=this.spreadsheet.options.interaction.resize;return Mv(n)?n:ll(n.visible)?n.visible(t):n[e]},t.prototype.getCellArea=function(){var e=this.meta;return{x:e.x,y:e.y,height:e.height,width:e.width}},t.prototype.getContentArea=function(){var e=this.getStyle()||this.theme.dataCell,t=(null==e?void 0:e.cell).padding;return _w(this.getCellArea(),t)},t.prototype.getIconPosition=function(e){return void 0===e&&(e=1),this.getTextAndIconPosition(e).icon},t.prototype.drawTextShape=function(){var e=this.getFormattedFieldValue().formattedValue,t=this.getMaxTextWidth(),n=this.getTextStyle(),r=this.spreadsheet,o=r.options.placeholder,i=r.measureTextWidth,a=Hw(this,o),l=Bw({measureTextWidth:i,text:e,maxWidth:t,fontParam:n,placeholder:a});this.actualText=l,this.actualTextWidth=i(l,n);var s=this.getTextPosition();this.textShape=vw(this,[this.textShape],s.x,s.y,l,n),this.textShapes.push(this.textShape)},t.prototype.drawLinkFieldShape=function(e,t){if(e){if(!yC(this.spreadsheet.options.style.device)){var n=this.getTextStyle(),r=this.getTextPosition().x;"center"===n.textAlign?r-=this.actualTextWidth/2:"right"===n.textAlign&&(r-=this.actualTextWidth);var o=this.textShape.getBBox().maxY;this.linkFieldShape=gw(this,{x1:r,y1:o+1,x2:r+this.actualTextWidth,y2:o+1},{stroke:t,lineWidth:1})}this.textShape.attr({fill:t,cursor:"pointer",appendInfo:{isLinkFieldText:!0,cellData:this.meta}})}},t.prototype.getLinkFieldStyle=function(){return this.getTextStyle().linkTextFill},t.prototype.drawLinkField=function(e){var t=this.spreadsheet.options.interaction.linkFields,n=void 0===t?[]:t,r=this.getLinkFieldStyle(),o=function(e,t){return"function"==typeof e?e(t):e.some((function(e){return e===t.key||e===t.id||e===t.valueField}))}(n,e);this.drawLinkFieldShape(o,r)},t.prototype.updateByState=function(e,t){var n=this;this.spreadsheet.interaction.setInteractedCells(t),tp(Xu(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(e)),(function(e,t){pu(Rg(la,(function(e){return ov(e,t)}))).forEach((function(r){var o=n.stateShapes.has(r),i=o?n.stateShapes.get(r):n[r],a=$a(i)?i:[i];(o&&a.forEach((function(e){e.set("visible",!0)})),"interactiveBorderShape"===r&&"borderWidth"===t)&&(zv(e)&&tp(n.getInteractiveBorderShapeStyle(e),(function(e,t){mw(a,t,e)})));mw(a,aa[t],e)}))}))},t.prototype.getInteractiveBorderShapeStyle=function(e){var t=this.getCellArea(),n=t.x,r=t.y,o=t.height,i=t.width,a=this.theme.dataCell.cell,l=a.horizontalBorderWidth,s=a.verticalBorderWidth;return{x:n+s/2+e/2,y:r+l/2+e/2,width:i-s-e,height:o-l-e}},t.prototype.hideInteractionShape=function(){this.stateShapes.forEach((function(e){mw(e,aa.backgroundOpacity,0),mw(e,aa.backgroundColor,"transparent"),mw(e,aa.borderOpacity,0),mw(e,aa.borderWidth,1),mw(e,aa.borderColor,"transparent")}))},t.prototype.clearUnselectedState=function(){mw(this.backgroundShape,aa.backgroundOpacity,1),mw(this.textShapes,aa.textOpacity,1),mw(this.linkFieldShape,aa.opacity,1)},t.prototype.getTextShape=function(){return this.textShape},t.prototype.getTextShapes=function(){return this.textShapes||[this.textShape]},t.prototype.addTextShape=function(e){e&&this.textShapes.push(e)},t.prototype.getConditionIconShape=function(){return this.conditionIconShape},t.prototype.getConditionIconShapes=function(){return this.conditionIconShapes||[this.conditionIconShape]},t.prototype.addConditionIconShape=function(e){e&&this.conditionIconShapes.push(e)},t.prototype.resetTextAndConditionIconShapes=function(){this.textShapes=[],this.conditionIconShapes=[]},Object.defineProperty(t.prototype,"cellConditions",{get:function(){return this.conditions},enumerable:!1,configurable:!0}),t.prototype.drawConditionIconShapes=function(){var e,t=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.icon);if(t&&t.mapping){var n=this.mappingValue(t),r=this.getIconPosition(),o=this.theme.dataCell.icon.size;Dv(null==n?void 0:n.icon)||(this.conditionIconShape=yw(this,wa(wa({},r),{name:n.icon,width:o,height:o,fill:n.fill})),this.addConditionIconShape(this.conditionIconShape))}},t.prototype.getTextConditionFill=function(e){var t,n,r=e.fill,o=this.findFieldCondition(null===(t=this.conditions)||void 0===t?void 0:t.text);return(null==o?void 0:o.mapping)&&(r=(null===(n=this.mappingValue(o))||void 0===n?void 0:n.fill)||e.fill),r},t.prototype.getCrossBackgroundColor=function(e){var t=this.getStyle().cell,n=t.crossBackgroundColor,r=t.backgroundColorOpacity;return n&&e%2==0?{backgroundColorOpacity:r,backgroundColor:n}:{backgroundColorOpacity:r,backgroundColor:this.getStyle().cell.backgroundColor}},t}(Oo),Ex=function(e,t){return t?t(e[mi],e[gi]):e[gi]},Ix=function(e,t){var n=t.getMeta().id;return e.some((function(e){return Bv(e.id,n)}))},Ox=function(e,t){return"".concat(e).concat(Fi).concat(t)},Lx=function(e){return e.type===ea.DATA_CELL},_x=function(e,t,n){var r=n.interaction.getSelectedCellHighlight(),o=r.rowHeader,i=r.colHeader,a=r.currentRow,l=r.currentCol,s=t.cellType===ea.ROW_CELL,u=n.isTableMode()&&n.options.showSeriesNumber&&o&&s;(a||u)&&function(e,t){tp(e,(function(e){Lx(e)&&e.rowIndex===t.getMeta().rowIndex&&t.updateByState(Ji.SELECTED)}))}(e,t),l&&function(e,t){tp(e,(function(e){Lx(e)&&e.colIndex===t.getMeta().colIndex&&t.updateByState(Ji.SELECTED)}))}(e,t),(o||i)&&function(e,t){tp(e,(function(e){Lx(e)&&e.rowIndex===t.getMeta().rowIndex&&e.colIndex===t.getMeta().colIndex&&t.updateByState(Ji.SELECTED)}))}(e,t)},Tx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Object.defineProperty(t.prototype,"cellType",{get:function(){return ea.DATA_CELL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueRangeByField",{get:function(){return this.spreadsheet.dataSet.getValueRangeByField(this.meta.valueField)},enumerable:!1,configurable:!0}),t.prototype.handleByStateName=function(e,t){Ix(e,this)&&this.updateByState(t)},t.prototype.handleSearchResult=function(e){Ix(e,this)&&(Op(e,(function(e){return null==e?void 0:e.isTarget})).id===this.getMeta().id?this.updateByState(Ji.HIGHLIGHT):this.updateByState(Ji.SEARCH_RESULT))},t.prototype.handleSelect=function(e){var t;switch(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.type){case ea.COL_CELL:this.changeRowColSelectState("colIndex");break;case ea.ROW_CELL:this.changeRowColSelectState("rowIndex");break;case ea.DATA_CELL:!function(e){var t=e.interaction.getSelectedCellHighlight(),n=t.currentRow,r=t.currentCol,o=t.rowHeader,i=t.colHeader;return n||r||o||i}(this.spreadsheet)?Ix(e,this)?this.updateByState(Ji.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight&&this.updateByState(Ji.UNSELECTED):_x(e,this,this.spreadsheet)}},t.prototype.handleHover=function(e){var t=Np(e);if(t.type===ea.DATA_CELL){var n=this.spreadsheet.interaction.getHoverHighlight(),r=n.currentRow,o=n.currentCol;if(r||o){var i=this.meta.colIndex,a=this.meta.rowIndex;o&&i===(null==t?void 0:t.colIndex)||r&&a===(null==t?void 0:t.rowIndex)?this.updateByState(Ji.HOVER):this.hideInteractionShape()}var l=this.getMeta(),s=l.id,u=l.rowIndex,c=l.colIndex;Bv(t.id,s)&&Bv(t.rowIndex,u)&&Bv(t.colIndex,c)&&this.updateByState(Ji.HOVER_FOCUS)}else this.hideInteractionShape()},t.prototype.update=function(){var e=this.spreadsheet.interaction.getCurrentStateName(),t=this.spreadsheet.interaction.getCells();if(e!==Ji.ALL_SELECTED){if(!Dv(t)&&e)switch(e){case Ji.SELECTED:this.handleSelect(t);break;case Ji.HOVER_FOCUS:case Ji.HOVER:this.handleHover(t);break;case Ji.SEARCH_RESULT:this.handleSearchResult(t);break;default:this.handleByStateName(t,e)}}else this.updateByState(Ji.SELECTED)},t.prototype.setMeta=function(t){e.prototype.setMeta.call(this,t),this.initCell()},t.prototype.drawTextShape=function(){e.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},t.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.shouldHideRowSubtotalData()||(this.drawConditionIntervalShape(),this.drawTextShape(),this.drawConditionIconShapes()),this.drawInteractiveBorderShape(),this.meta.isFrozenCorner&&this.drawBorderShape(),this.update()},t.prototype.getDefaultTextFill=function(e){var t=e.fill,n=this.getBackgroundColor(),r=n.backgroundColor,o=n.intelligentReverseTextColor;return eC(r)&&e.fill===Xi&&o&&(t=qi),t},t.prototype.getTextStyle=function(){var e=this.meta.isTotals?this.theme.dataCell.bolderText:this.theme.dataCell.text,t=this.getTextConditionFill(wa(wa({},e),{fill:this.getDefaultTextFill(e)}));return wa(wa({},e),{fill:t})},t.prototype.getIconStyle=function(){var e,t=this.theme.dataCell.icon,n=t.size,r=t.margin,o=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.icon);return o&&o.mapping&&{size:n,margin:r,position:xw(o)}},t.prototype.drawConditionIntervalShape=function(){this.conditionIntervalShape=Iw(this)},t.prototype.shouldHideRowSubtotalData=function(){var e,t=(null!==(e=this.spreadsheet.options.totals)&&void 0!==e?e:{}).row,n=void 0===t?{}:t,r=this.meta.rowIndex,o=this.spreadsheet.facet.layoutResult.rowLeafNodes[r],i=!(null==o?void 0:o.isGrandTotals)&&(null==o?void 0:o.isTotals);return"tree"===this.spreadsheet.options.hierarchyType&&!n.showSubTotals&&i},t.prototype.getFormattedFieldValue=function(){if(this.shouldHideRowSubtotalData())return{value:null,formattedValue:Fi};var e=this.meta,t=e.rowId,n=e.valueField,r=e.fieldValue,o=e.data,i=this.spreadsheet.dataSet.getFieldMeta(t)?t:n;return{value:r,formattedValue:this.spreadsheet.dataSet.getFieldFormatter(i)(r,o,this.meta)}},t.prototype.getMaxTextWidth=function(){var e=this.getContentArea().width;return Mw(e,this.getIconStyle())},t.prototype.getTextPosition=function(){return this.getTextAndIconPosition().text},t.prototype.getBackgroundColor=function(){var e,t=this.getCrossBackgroundColor(this.meta.rowIndex),n=t.backgroundColor,r=t.backgroundColorOpacity;if(this.shouldHideRowSubtotalData())return{backgroundColor:n,backgroundColorOpacity:r};var o=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.background),i=!1;if(o&&o.mapping){var a=this.mappingValue(o);a&&(n=a.fill,i=a.intelligentReverseTextColor)}return{backgroundColor:n,backgroundColorOpacity:r,intelligentReverseTextColor:i}},t.prototype.drawBackgroundShape=function(){var e=this.getBackgroundColor(),t=e.backgroundColor,n=e.backgroundColorOpacity;this.backgroundShape=hw(this,wa(wa({},this.getCellArea()),{fill:t,fillOpacity:n}))},t.prototype.drawInteractiveBorderShape=function(){var e=this.getCellArea(),t=e.x,n=e.y,r=e.height,o=e.width;this.stateShapes.set("interactiveBorderShape",hw(this,{x:t+1,y:n+1,width:o-2,height:r-2},{capture:!1,visible:!1}))},t.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",hw(this,wa({},this.getCellArea()),{visible:!1}))},t.prototype.changeRowColSelectState=function(e){var t=this.spreadsheet.interaction,n=Xu(this.meta,e),r=t.getState(),o=r.nodes,i=void 0===o?[]:o,a=r.cells,l=void 0===a?[]:a,s=!1;this.spreadsheet.isTableMode()&&i.length?s=i[0].hierarchy.getLeaves().some((function(e,t){return!!i.some((function(t){return t===e}))&&t===n})):s=Ia(Ia([],Ea(i),!1),Ea(l),!1).some((function(t){return Xu(t,e)===n}));s?this.updateByState(Ji.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight?this.updateByState(Ji.UNSELECTED):this.hideInteractionShape()},t.prototype.drawBorderShape=function(){var e=this;[qC.BOTTOM,qC.RIGHT].forEach((function(t){var n=Aw(t,e.getCellArea(),e.getStyle().cell),r=n.position,o=n.style;gw(e,r,o)}))},t.prototype.findFieldCondition=function(e){var t=this;return Rp(e,(function(e){return e.field instanceof RegExp?e.field.test(t.meta.valueField):e.field===t.meta.valueField}))},t.prototype.mappingValue=function(e){var t=this.meta.fieldValue,n=this.spreadsheet.isTableMode()?this.spreadsheet.dataSet.getCellData({query:{rowIndex:this.meta.rowIndex}}):this.meta.data;return null==e?void 0:e.mapping(t,n)},t.prototype.updateByState=function(t){if(e.prototype.updateByState.call(this,t,this),t===Ji.UNSELECTED){var n=Xu(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(t));n&&this.toggleConditionIntervalShapeOpacity(n.opacity)}},t.prototype.clearUnselectedState=function(){e.prototype.clearUnselectedState.call(this),this.toggleConditionIntervalShapeOpacity(1)},t.prototype.toggleConditionIntervalShapeOpacity=function(e){mw(this.conditionIntervalShape,aa.backgroundOpacity,e),mw(this.conditionIconShapes,aa.opacity,e)},t.prototype.drawLeftBorder=function(){var e=Aw(qC.LEFT,this.getCellArea(),this.getStyle().cell);gw(this,e.position,e.style)},t}(Sx),Mx=function(e){function t(t,n,r){return e.call(this,r,t,n)||this}return Ca(t,e),t.prototype.handleRestOptions=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ea(e,1),r=n[0];this.cells=r},Object.defineProperty(t.prototype,"cellType",{get:function(){return ea.MERGED_CELL},enumerable:!1,configurable:!0}),t.prototype.update=function(){},t.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.conditions=this.spreadsheet.options.conditions,this.drawBackgroundShape(),this.drawTextShape()},t.prototype.drawBackgroundShape=function(){var e=Nx(this.cells),t=this.theme.dataCell.cell;this.backgroundShape=function(e,t){var n;return null===(n=null==e?void 0:e.addShape)||void 0===n?void 0:n.call(e,"polygon",{attrs:t})}(this,{points:e,stroke:t.horizontalBorderColor,fill:t.backgroundColor,lineHeight:t.horizontalBorderWidth})},t.prototype.drawTextShape=function(){Dv(this.meta)||(Ka(this.meta.fieldValue)?$w(this):e.prototype.drawTextShape.call(this))},t}(Tx),Rx=function(e,t){return Op(t,(function(t){return Bv(t[0],e[1])}))},Nx=function(e){var t=[];e.forEach((function(e){var n=e.getMeta(),r=n.x,o=n.y,i=n.width,a=n.height;t=t.concat(function(e,t,n,r){var o=[e,t],i=[e+n,t],a=[e+n,t+r],l=[e,t+r];return[[o,i],[i,a],[a,l],[l,o]]}(r,o,i,a))})),t=function(e){var t=[];return tp(e,(function(n){var r=[n[1],n[0]];JSON.stringify(e).includes(JSON.stringify(r))||t.push(n)})),t}(t);for(var n=[],r=t[0],o=r,i=[];!Bv(r,i);)n=n.concat(o),o=i=Rx(o,t);return n},Ax=function(e,t,n){var r;void 0===n&&(n=[]);var o=function(e,t){var n,r=[],o=[];return tp(e,(function(e){var i=Op(t,(function(t){var n,r=null===(n=null==t?void 0:t.getMeta)||void 0===n?void 0:n.call(t);if((null==r?void 0:r.colIndex)===(null==e?void 0:e.colIndex)&&(null==r?void 0:r.rowIndex)===(null==e?void 0:e.rowIndex))return t}));i?(r.push(i),n=(null==e?void 0:e.showText)?null==i?void 0:i.getMeta():n):o.push(e)})),{cells:r,invisibleCellInfo:o,cellsMeta:n}}(n,e),i=o.cellsMeta,a=o.cells,l=o.invisibleCellInfo,s=i,u=a;if((null==l?void 0:l.length)>0&&l.length<n.length){var c=function(e,t){var n,r=[];return tp(e,(function(e){var o,i,a,l=null===(i=null===(o=null==t?void 0:t.facet)||void 0===o?void 0:o.layoutResult)||void 0===i?void 0:i.getCellMeta(e.rowIndex,e.colIndex);if(l){var s=null===(a=null==t?void 0:t.facet)||void 0===a?void 0:a.cfg.dataCell(l);n=(null==e?void 0:e.showText)?l:n,r.push(s)}})),{cells:r,cellsMeta:n}}(l,t),d=c.cells,f=c.cellsMeta;s=s||f,u=a.concat(d)}return Dv(a)||s||(s=null===(r=u[0])||void 0===r?void 0:r.getMeta()),{cells:u,viewMeta:s}},Dx=function(e,t,n){return e.options.mergedCell?e.options.mergedCell(e,t,n):new Mx(e,t,n)},Bx=function(e,t,n){var r,o=t||function(e){var t=e.interaction.getActiveCells(),n=[];return tp(t,(function(e,t){var r=e.getMeta(),o=0===t?{showText:!0}:{};n.push(wa(wa({},o),{colIndex:null==r?void 0:r.colIndex,rowIndex:null==r?void 0:r.rowIndex}))})),n}(e);if((null==o?void 0:o.length)<=1)console.error("then merged cells must be more than one");else{var i=e.interaction.getPanelGroupAllDataCells(),a=Ax(i,e,o),l=a.cells,s=a.viewMeta;if(!Dv(l)){var u=(null===(r=e.options)||void 0===r?void 0:r.mergedCellsInfo)||[];u.push(o),e.setOptions({mergedCellsInfo:u});var c=n?void 0:s;e.panelScrollGroup.addMergeCell(Dx(e,l,c))}}},kx=function(e,t){var n,r,o;if(t&&t.cellType===ea.MERGED_CELL){var i,a,l,s=(i=t,a=null===(n=e.options)||void 0===n?void 0:n.mergedCellsInfo,l=Dp(i.cells,(function(e){return{colIndex:e.getMeta().colIndex,rowIndex:e.getMeta().rowIndex}})),xp(a,(function(e){return!Bv(e.map((function(e){return e.showText?{colIndex:e.colIndex,rowIndex:e.rowIndex}:e})),l)})));(null==s?void 0:s.length)!==(null===(o=null===(r=e.options)||void 0===r?void 0:r.mergedCellsInfo)||void 0===o?void 0:o.length)&&(e.setOptions({mergedCellsInfo:s}),t.remove(!0))}else console.error("unmergeCell: the ".concat(t," is not a MergedCell"))},Px=function(e,t){return Kh(e,t,(function(e,t){return Bv(e.viewMeta.id,t.viewMeta.id)}))},zx=function(e,t){var n,r=null===(n=e.options)||void 0===n?void 0:n.mergedCellsInfo;if(!Dv(r)){var o=e.interaction.getPanelGroupAllDataCells();if(!Dv(o)){var i=[];r.forEach((function(t){var n=Ax(o,e,t);n.cells.length>0&&i.push(n)}));var a=t.getChildren(),l=function(e){return Dp(e,(function(e){return{cells:e.cells,viewMeta:e.getMeta()}}))}(a),s=Px(l,i),u=Px(i,l);tp(s,(function(e){var t=Op(a,(function(t){return Bv(t.getMeta().id,e.viewMeta.id)}));null==t||t.remove(!0)})),tp(u,(function(n){var r=n.cells,o=n.viewMeta;t.add(Dx(e,r,o))}))}}},Fx=function(e){return e.includes(zi)?"id":"field"},Hx=function(e,t){void 0===t&&(t=[]);var n=e.getInitColumnLeafNodes();return Rf(t.map((function(e){var t=Fx(e);return n.find((function(n){return n[t]===e}))})))},$x=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var r=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]),e.setOptions({interaction:{hiddenColumnFields:t}}),e.interaction.reset(),e.store.set("hiddenColumnsDetail",n),e.render(!1,{reBuildHiddenColumnsDetail:!1})};if(Dv(t)&&n)r();else{var o=e.store.get("hiddenColumnsDetail",[]),i=e.options.interaction.hiddenColumnFields;if(!Bv(t,i)||n){var a=ob(Ia(Ia([],Ea(t),!1),Ea(i),!1)),l=Hx(e,a).every((function(e,t,n){var r=n[t+1];return!r||1===Math.abs(e.colIndex-r.colIndex)})),s=function(e,t){if(void 0===t&&(t=[]),Dv(t))return{prev:null,next:null};var n=e.getInitColumnLeafNodes(),r=Hx(e,t).map((function(e){return null==e?void 0:e.colIndex})),o=Math.max.apply(Math,Ia([],Ea(r),!1)),i=Math.min.apply(Math,Ia([],Ea(r),!1)),a=n.find((function(e){return e.colIndex===o+1}));return{prev:n.find((function(e){return e.colIndex===i-1}))||null,next:a||null}}(e,l?a:t),u={hideColumnNodes:Hx(e,t),displaySiblingNode:s},c=Ia(Ia([],Ea(o),!1),[u],!1);e.emit(hi.LAYOUT_COLS_HIDDEN,u,c),r(a,c)}}},jx=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1),Dv(t)&&n&&$x(e,t,!0);var r=function(e){var t=e.dataCfg.fields.columns,n=void 0===t?[]:t;return e.isTableMode()?n:e.getInitColumnLeafNodes().map((function(e){return e.id}))}(e),o=function(e,t){if(Dv(t))return[];var n=Number.NEGATIVE_INFINITY;return e.reduce((function(e,r,o){if(!t.includes(r))return e;if(o===n+1)Uh(e).push(r);else{var i=[r];e.push(i)}return n=o,e}),[])}(WC(r),t);o.forEach((function(t){$x(e,t,n)}))},Wx=function(e,t){return function(e){var t=function(e){return(null==e?void 0:e.next)||(null==e?void 0:e.prev)}(e);return null==t?void 0:t.id}(e)===t},Gx=function(e){var t=e.type,n=e.id,r=e.theme,o=e.width,i=e.height,a=xa(e,["type","id","theme","width","height"]),l=t===ha.Horizontal?r.size:null,s=t===ha.Vertical?r.size:null;return{fill:r.background,fillOpacity:r.backgroundOpacity,cursor:"".concat(t,"-resize"),width:l,height:s,appendInfo:wa(wa({},a),{isResizeArea:!0,type:t,id:n,width:o,height:i,size:r.size})}},Zx=function(e,t){if(e.foregroundGroup)return e.foregroundGroup.findById(t)||e.foregroundGroup.addGroup({id:t,zIndex:5})},Vx=function(e,t,n){var r=null!=n?n:{},o=r.scrollX,i=void 0===o?0:o,a=r.scrollY,l=void 0===a?0:a,s=!(e.x-i>t.x+t.width||e.x+e.width-i<t.x),u=!(e.y-l>t.y+t.height||e.y+e.height-l<t.y);return s&&u},Ux=function(e,t,n){var r=Op(e,(function(e){return function(e,t,n){if(!e)return!1;var r=e.iconNames,o=e.displayCondition,i=e.belongsCell;return!Dv(r)&&i===n&&(!o||r.some((function(e){return o(t,e)})))}(e,t,n)}));if(r){var o=r.iconNames;return r.displayCondition&&(o=o.filter((function(e){return r.displayCondition(t,e)}))),wa(wa({},r),{iconNames:o})}},Yx=function(e,t){var n=e.label;return Bv(e.field,mi)?{formattedValue:t||n,value:n}:{formattedValue:n,value:n}};function Xx(e,t){return t.map((function(t){var n=e[t];return void 0===n?n:"".concat(n)}))}function qx(e){return e.map((function(e){var t=null==e?void 0:e.split(zi);return t[(null==t?void 0:t.length)-1]||e}))}function Kx(e){var t=e.rowDimensionValues,n=e.colDimensionValues,r=e.careUndefined,o=e.isFirstCreate,i=e.onFirstCreate,a=e.rowFields,l=e.colFields,s=e.rowPivotMeta,u=e.colPivotMeta,c=function(e,t,n,s){void 0===t&&(t=!0);for(var u=t?n:s,c=t?a:l,d=[],f=0;f<e.length;f++){var h=e[f];if(!u.has(h))if(o)u.set(h,{level:u.size,children:new Map}),null==i||i({isRow:t,dimension:null==c?void 0:c[f],dimensionPath:e.slice(0,f+1)});else{var p=u.get(h);if(p&&d.push(p.level),!r)break}var v=u.get(h);Zv(h)&&r?d.push(h):d.push(null==v?void 0:v.level),v&&(o&&(v.childField=null==c?void 0:c[f+1]),u=null==v?void 0:v.children)}return d},d=c(t,!0,s,u),f=c(n,!1,s,u);return d.concat.apply(d,Ia([],Ea(f),!1))}function Qx(e,t){return jm(e,(function(e,n){return e.push(t[n]),e}),[])}function Jx(e){var t=e.rows,n=e.columns,r=e.originData,o=void 0===r?[]:r,i=e.indexesData,a=void 0===i?[]:i,l=e.totalData,s=void 0===l?[]:l,u=e.sortedDimensionValues,c=e.rowPivotMeta,d=e.colPivotMeta,f=[],h=new Set(cv(t,n)),p=function(e){var t=e.isRow,n=e.dimension,r=e.dimensionPath;!t&&h.has(n)||(u[n]||(u[n]=[])).push(r.map((function(e){return"".concat(e)})).join(zi))};return o.concat(s).forEach((function(e){var r=Kx({rowDimensionValues:Xx(e,t),colDimensionValues:Xx(e,n),rowPivotMeta:c,colPivotMeta:d,isFirstCreate:!0,onFirstCreate:p,careUndefined:(null==s?void 0:s.length)>0,rowFields:t,colFields:n});f.push(r),Jm(a,r,e)})),{paths:f,indexesData:a,rowPivotMeta:c,colPivotMeta:d,sortedDimensionValues:u}}function eS(e,t){if(e&&t){var n=t.split(zi),r=Uh(n),o=e;tp(n,(function(e,t){var n=o.get(e);return n?(e===r?(n.children=new Map,n.childField=void 0):o=n.children,!0):0===t&&e===Pi}))}}function tS(e,t,n){var r={field:mi,name:t||n,formatter:function(t){return function(t){var n=Op(e,(function(e){return e.field===t}));return Xu(n,"name",t)}(t)}};return r}var nS=function(e){return"ASC"===jy(e)},rS=function(e){return"DESC"===jy(e)},oS=function(e){return!Fv(Number(e))},iS=function(e,t,n){var r=nS(t)?1:-1,o=["-",void 0];return null==e?void 0:e.sort((function(e,t){var i=e,a=t;if(n){if(i=e[n],a=t[n],oS(i)&&oS(a))return(Number(i)-Number(a))*r;if(i&&(null==o?void 0:o.includes(null==i?void 0:i.toString())))return-r;if(Number(i)&&(null==o?void 0:o.includes(null==a?void 0:a.toString())))return r}return $v(i)||$v(a)?i?r:-r:i.toString().localeCompare(a.toString(),"zh")*r}))},aS=function(e,t,n){return n?function(e,t){var n;return null===(n=null==e?void 0:e.filter((function(e){return!(null==t?void 0:t.includes(e))})))||void 0===n?void 0:n.concat(t)}(t,ob(e)):Ia([],Ea(new Set(Ia(Ia([],Ea(e),!1),Ea(t),!1))),!1)},lS=function(e){var t=e.sortByValues,n=e.originValues,r=n.filter((function(e){return t.find((function(t){return lp(e,t)}))})).map((function(e){var t=e.split(zi);return t.length>1?[t.slice(0,t.length-1).join(zi),t[t.length-1]]:t})),o=Array.from(new Set(r.map((function(e){return e[0]}))));r.sort((function(e,n){var r=e.slice(0,e.length-1),i=n.slice(0,n.length-1);return r.join()!==i.join()?o.indexOf(r[0])-o.indexOf(i[0]):t.indexOf(e[e.length-1])-t.indexOf(n[n.length-1])}));var i=r.map((function(e){return e.join(zi)}));return ow(n,i)},sS=function(e){var t,n=e.sortParam,r=e.measureValues,o=e.originValues,i=e.dataSet,a=n.sortByMeasure,l=n.query,s=n.sortFieldId,u=n.sortMethod,c=i.fields,d=c.rows,f=c.columns,h=d.includes(s);if(a){var p=iS(r,u,a===bi?l[mi]:a);t=function(e,t,n){var r,o=t.slice(0,t.indexOf(e)+1);return null===(r=n.map((function(e){return o.map((function(t){return e[t]})).join("".concat(zi))})))||void 0===r?void 0:r.filter((function(e){return e}))}(s,h?d:WC(f),p)}else t=Dp(iS(r,u));return aS(t,o,nS(u))},uS=function(e){var t=e.sortParam,n=e.originValues,r=e.measureValues,o=e.dataSet,i=t.sortFunc,a=t.sortMethod,l=t.sortBy,s=n,u={originValues:n,measureValues:r,sortParam:t,dataSet:o};return i?s=function(e){var t=e.originValues,n=e.measureValues,r=e.sortParam,o=e.dataSet,i=r.sortFunc,a=r.sortFieldId,l=r.sortMethod,s=i(wa({data:n},r));return(null==s?void 0:s.length)?(o.fields.rows.indexOf(a)>0||o.fields.columns.indexOf(a)>0)&&!ov(s[0],zi)?lS({sortByValues:s,originValues:t}):aS(s,t,nS(l)):t}(u):l?s=lS({sortByValues:l,originValues:n}):(nS(a)||rS(a))&&(s=sS(u)),s},cS=function(e){return e.filter((function(e){return e!==mi}))},dS=function(e){var t=e.dataSet,n=e.sortParam,r=e.originValues,o=t.fields,i=n.sortByMeasure,a=n.query,l=n.sortFieldId,s=t.getMultiData(a),u=WC(o.columns);if(i!==bi){var c=Nf(o.rows,u);return s.filter((function(e){var t=new Set(pu(e));return c.every((function(e){return t.has(e)}))}))}var d=ov(o.rows,l),f=cS(d?o.rows:u),h=cS(d?u:o.rows),p=f[f.indexOf(l)+1],v=pu(a),g=h.filter((function(e){return!v.includes(e)})),m=s.filter((function(e){var t=new Set(pu(e));return!!t.has(l)&&(!t.has(p)&&g.every((function(e){return!t.has(e)})))}));return Dv(m)?Rf(Dp(r,(function(e){var n=function(e,t,n){var r,o={};if(ov(e,zi))for(var i=hy(e,zi),a=(null===(r=null==t?void 0:t.rows)||void 0===r?void 0:r.includes(n))?t.rows:WC(t.columns),l=0;l<=av(a,n);l++)o[a[l]]=i[l];else o[n]=e;return o}(e,o,l);return t.getTotalValue(wa(wa({},a),n))}))):m},fS=function(e){var t,n=e.dataSet,r=e.sortParam,o=e.originValues;return t=e.isSortByMeasure?dS(e):o,uS({sortParam:r,originValues:o,measureValues:t,dataSet:n})},hS=function(e,t){if(null==e?void 0:e.sortMethod){if(nS(null==e?void 0:e.sortMethod))return"groupAsc";if(rS(null==e?void 0:e.sortMethod))return"groupDesc"}if(t)return"SortDown"},pS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.handleRestOptions=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ea(e,1),r=n[0];this.headerConfig=wa({},r);var o=this.meta,i=o.value,a=o.query,l=this.spreadsheet.dataCfg.sortParams,s=this.isSortCell(),u=Op(Ia([],Ea(l),!1).reverse(),(function(e){return s&&(null==e?void 0:e.sortByMeasure)===i&&Bv(Xu(e,"query"),a)})),c=hS(u,s);this.headerConfig.sortParam=wa(wa(wa({},this.headerConfig.sortParam),u||{query:a}),{type:c})},t.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.actionIcons=[],this.hasDefaultHiddenIcon=!1},t.prototype.getInteractiveBorderShapeStyle=function(e){var t=this.getCellArea(),n=t.x,r=t.y,o=t.height;return{x:n+e,y:r+e,width:t.width-2*e,height:o-2*e}},t.prototype.getFormattedFieldValue=function(){var e=this.meta,t=e.label,n=e.isTotals,r=e.isGrandTotals,o=this.spreadsheet.dataSet.getFieldFormatter(this.meta.field);return{formattedValue:!this.spreadsheet.isTableMode()&&(this.spreadsheet.isHierarchyTreeType()?!r:!n)&&o?o(t,void 0,this.meta):t,value:t}},t.prototype.getActionIconCfg=function(){return Ux(this.spreadsheet.options.headerActionIcons,this.meta,this.cellType)},t.prototype.showSortIcon=function(){var e=this.spreadsheet,t=e.options,n=Dv(e.dataCfg.fields.values);if(t.showDefaultHeaderActionIcon&&!n){var r=this.headerConfig.sortParam,o=this.meta.query;return o&&Bv(null==r?void 0:r.query,o)&&(null==r?void 0:r.type)&&"none"!==(null==r?void 0:r.type)}return!1},t.prototype.getActionIconsCount=function(){if(this.showSortIcon())return 1;var e=this.getActionIconCfg();return e?e.iconNames.length:0},t.prototype.getActionIconsWidth=function(){var e=this.getStyle().icon;return(e.size+e.margin.left)*this.getActionIconsCount()},t.prototype.drawSortIcons=function(){var e=this;if(this.showSortIcon()){var t=this.getStyle(),n=t.icon,r=t.text,o=this.getTextConditionFill(r),i=this.headerConfig.sortParam,a=this.getIconPosition(),l=new nw(wa(wa({name:Xu(i,"type","none")},a),{width:n.size,height:n.size,fill:o}));l.on("click",(function(t){e.spreadsheet.emit(hi.GLOBAL_ACTION_ICON_CLICK,t),e.spreadsheet.handleGroupSort(t,e.meta)})),this.add(l),this.actionIcons.push(l)}},t.prototype.hasDefaultHideActionIcon=function(){return this.hasDefaultHiddenIcon},t.prototype.addActionIcon=function(e){var t=this,n=e.x,r=e.y,o=e.iconName,i=e.defaultHide,a=e.action,l=e.onClick,s=e.onHover,u=this.getStyle(),c=u.icon,d=u.text,f=this.getTextConditionFill(d),h=(null==c?void 0:c.fill)||f,p=new nw({name:o,x:n,y:r,width:null==c?void 0:c.size,height:null==c?void 0:c.size,fill:h});p.set("visible",!i),p.on("mouseover",(function(e){t.spreadsheet.emit(hi.GLOBAL_ACTION_ICON_HOVER,e),null==s||s({hovering:!0,iconName:o,meta:t.meta,event:e})})),p.on("mouseleave",(function(e){t.spreadsheet.emit(hi.GLOBAL_ACTION_ICON_HOVER_OFF,e),null==s||s({hovering:!1,iconName:o,meta:t.meta,event:e})})),p.on("click",(function(e){var n;t.spreadsheet.emit(hi.GLOBAL_ACTION_ICON_CLICK,e),null===(n=l||a)||void 0===n||n({iconName:o,meta:t.meta,event:e})})),this.actionIcons.push(p),this.add(p)},t.prototype.drawActionIcons=function(){var e=this;if(this.showSortIcon())this.drawSortIcons();else{var t=this.getActionIconCfg();if(t){var n=t.iconNames,r=t.action,o=t.onClick,i=t.onHover,a=t.defaultHide,l=this.getIconPosition(n.length),s=this.getStyle().icon,u=s.size,c=s.margin;tp(n,(function(t,n){var s=l.x+n*u+n*c.left,d=l.y,f="function"==typeof a?a(e.meta,t):a;f&&(e.hasDefaultHiddenIcon=!0),e.addActionIcon({iconName:t,x:s,y:d,defaultHide:f,action:r,onClick:o,onHover:i})}))}}},t.prototype.drawBackgroundShape=function(){var e=this.getBackgroundColor(),t=e.backgroundColor,n=e.backgroundColorOpacity;this.backgroundShape=hw(this,wa(wa({},this.getCellArea()),{fill:t,fillOpacity:n}))},t.prototype.isSortCell=function(){var e,t,n,r=null===(t=null===(e=this.meta.spreadsheet)||void 0===e?void 0:e.isValueInCols)||void 0===t?void 0:t.call(e),o=this.meta.level===(null===(n=this.meta.hierarchy)||void 0===n?void 0:n.maxLevel);return r?o&&this.cellType===ea.COL_CELL:o&&this.cellType===ea.ROW_CELL},t.prototype.handleByStateName=function(e,t){Ix(e,this)&&this.updateByState(t)},t.prototype.handleSearchResult=function(e){Ix(e,this)&&(Op(e,(function(e){return null==e?void 0:e.isTarget})).id===this.getMeta().id?this.updateByState(Ji.HIGHLIGHT):this.updateByState(Ji.SEARCH_RESULT))},t.prototype.handleHover=function(e){var t;Ix(e,this)&&(this.updateByState(Ji.HOVER),this.hasDefaultHideActionIcon()&&this.toggleActionIcon(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.id))},t.prototype.handleSelect=function(e,t){Ix(e,this)&&this.updateByState(Ji.SELECTED),ov(Dp(t,"id"),this.meta.id)&&this.updateByState(Ji.SELECTED)},t.prototype.getTextStyle=function(){var e,t=this.getStyle(),n=t.text,r=t.bolderText,o=t.measureText;e=this.isMeasureField()?o||n:this.isBolderText()?r:n;var i=this.getTextConditionFill(e);return wa(wa({},e),{fill:i})},t.prototype.getBackgroundColor=function(){var e,t=(null===(e=this.getStyle())||void 0===e?void 0:e.cell)||{},n=t.backgroundColor,r=t.backgroundColorOpacity;return this.getBackgroundColorByCondition(n,r)},t.prototype.getBackgroundColorByCondition=function(e,t){var n,r=e,o=this.findFieldCondition(null===(n=this.conditions)||void 0===n?void 0:n.background);if(o&&o.mapping){var i=this.mappingValue(o);i&&(r=i.fill)}return{backgroundColor:r,backgroundColorOpacity:t}},t.prototype.toggleActionIcon=function(e){if(this.getMeta().id===e){var t=[];tp(this.actionIcons,(function(e){e.get("visible")||(e.set("visible",!0),t.push(e))})),this.spreadsheet.store.set("visibleActionIcons",t)}},t.prototype.update=function(){var e=this.spreadsheet.interaction,t=null==e?void 0:e.getState(),n=null==e?void 0:e.getCells([ea.CORNER_CELL,ea.COL_CELL,ea.ROW_CELL]);if(Np(n))switch(null==t?void 0:t.stateName){case Ji.SELECTED:this.handleSelect(n,null==t?void 0:t.nodes);break;case Ji.HOVER_FOCUS:case Ji.HOVER:this.handleHover(n);break;case Ji.SEARCH_RESULT:this.handleSearchResult(n);break;default:this.handleByStateName(n,null==t?void 0:t.stateName)}},t.prototype.updateByState=function(t){e.prototype.updateByState.call(this,t,this)},t.prototype.hideInteractionShape=function(){e.prototype.hideInteractionShape.call(this)},t.prototype.isMeasureField=function(){return[mi,yi].includes(this.meta.field)},t.prototype.mappingValue=function(e){var t=this.getMeta().label;return null==e?void 0:e.mapping(t,this.meta)},t.prototype.findFieldCondition=function(e){var t=this;return Rp(e,(function(e){return e.field instanceof RegExp?e.field.test(t.meta.field):e.field===t.meta.field}))},t}(Sx),vS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Object.defineProperty(t.prototype,"cellType",{get:function(){return ea.COL_CELL},enumerable:!1,configurable:!0}),t.prototype.initCell=function(){e.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorders(),this.drawResizeArea(),this.addExpandColumnIconShapes(),this.update()},t.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",hw(this,wa({},this.getCellArea()),{visible:!1}))},t.prototype.drawInteractiveBorderShape=function(){this.stateShapes.set("interactiveBorderShape",hw(this,this.getInteractiveBorderShapeStyle(2),{visible:!1}))},t.prototype.getMaxTextWidth=function(){return this.getContentArea().width-this.getActionIconsWidth()},t.prototype.getIconPosition=function(){if(this.meta.isLeaf)return e.prototype.getIconPosition.call(this,this.getActionIconsCount());var t=this.getIconStyle(),n=t.margin.left,r=this.getTextStyle(),o=this.textPosition,i=o.x,a=o.y-t.size/2;return"left"===r.textAlign?{x:i+this.actualTextWidth+n,y:a}:"right"===r.textAlign?{x:i+n,y:a}:{x:i+this.actualTextWidth/2+n,y:a}},t.prototype.isBolderText=function(){var e=this.meta,t=e.isLeaf;return!(!e.isTotals&&t)},t.prototype.getTextPosition=function(){var e,t=this.meta.isLeaf,n=this.headerConfig,r=n.width,o=n.scrollContainsRowHeader,i=n.cornerWidth,a=n.scrollX,l=this.getTextStyle(),s=this.getContentArea(),u=this.getIconStyle();if(t)return Nw(s,l,this.actualTextWidth,u,this.getActionIconsCount()).text;var c={start:a-(o?i:0),width:r+(o?i:0)},d=this.getTextStyle().textAlign,f=function(e,t,n){void 0===n&&(n={left:0,right:0});var r=wa({},e);return"left"===t?(r.start+=n.left,r.width-=n.left):"right"===t&&(r.width-=n.right),r}(c,d,null===(e=this.getStyle().cell)||void 0===e?void 0:e.padding),h=this.getActionIconsWidth(),p=this.actualTextWidth+h,v=function(e,t,n){var r,o,i=t.start+t.width,a=e.start+e.width;if(t.start<=e.start&&i>=a)r=e.start+e.width/2,o=e.width;else if(t.start<=e.start)r=(l=t.width-(e.start-t.start))<n?i-n/2:i-l/2,o=l;else if(i>=a){var l;r=(l=t.width-(i-a))<n?t.start+n/2:t.start+l/2,o=l}else r=t.start+t.width/2,o=t.width;return{start:r,width:o}}(f,{start:s.x,width:s.width},p),g=function(e,t,n,r){var o=t+n,i=e.start;if("center"===r)return i-n/2;var a=e.width-o>0?e.width/2:o/2;return"left"===r?i-a:i+a-n}(v,this.actualTextWidth,h,d),m=s.y+s.height/2;return this.textPosition={x:g,y:m},this.textPosition},t.prototype.getActionIconsWidth=function(){var e=this.getStyle().icon,t=e.size,n=e.margin,r=this.getActionIconsCount();return(t+n.left)*r+(r>0?n.right:0)},t.prototype.getColResizeAreaKey=function(){return this.meta.key},t.prototype.getColResizeArea=function(){return Zx(this.spreadsheet,Ai)},t.prototype.getHorizontalResizeAreaName=function(){return"".concat(ki).concat(this.meta.key)},t.prototype.drawHorizontalResizeArea=function(){var e,t;if(!(0===(null===(t=null===(e=this.spreadsheet.options.style)||void 0===e?void 0:e.colCfg)||void 0===t?void 0:t.height))&&this.shouldDrawResizeAreaByType("colCellVertical",this)){var n=this.headerConfig,r=n.cornerWidth,o=n.viewportWidth,i=this.meta,a=i.y,l=i.height,s=this.getResizeAreaStyle(),u=this.getColResizeArea(),c=this.getHorizontalResizeAreaName();if(!u.find((function(e){return e.attrs.name===c}))){var d=r+o;u.addShape("rect",{attrs:wa(wa({},Gx({theme:s,type:ha.Vertical,id:this.getColResizeAreaKey(),effect:pa.Field,offsetX:0,offsetY:a,width:d,height:l,meta:this.meta})),{name:c,x:0,y:a+l-s.size/2,width:d})})}}},t.prototype.shouldAddVerticalResizeArea=function(){var e=this.meta,t=e.x,n=e.y,r=e.width,o=e.height,i=this.headerConfig,a=i.scrollX,l=i.scrollY,s=i.scrollContainsRowHeader,u=i.cornerWidth,c=i.height,d=i.width,f=this.getResizeAreaStyle(),h={x:t+r-f.size/2,y:n,width:f.size,height:o};return Vx(h,{x:s?-u:0,y:0,width:s?u+d:d,height:c},{scrollX:a,scrollY:l})},t.prototype.getVerticalResizeAreaOffset=function(){var e=this.meta,t=e.x,n=e.y,r=this.headerConfig,o=r.scrollX,i=r.position;return{x:i.x+t-o,y:i.y+n}},t.prototype.drawVerticalResizeArea=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("colCellHorizontal",this)){var e=this.meta,t=e.label,n=e.width,r=e.height,o=this.getResizeAreaStyle(),i=this.getColResizeArea();if(this.shouldAddVerticalResizeArea()){var a=this.getVerticalResizeAreaOffset(),l=a.x,s=a.y;i.addShape("rect",{attrs:wa(wa({},Gx({theme:o,type:ha.Horizontal,effect:pa.Cell,id:t,offsetX:l,offsetY:s,width:n,height:r,meta:this.meta})),{x:l+n-o.size/2,y:s,height:r})})}}},t.prototype.drawResizeArea=function(){this.drawHorizontalResizeArea(),this.drawVerticalResizeArea()},t.prototype.drawHorizontalBorder=function(){var e=Aw(qC.TOP,this.meta,this.theme.colCell.cell);gw(this,e.position,e.style)},t.prototype.drawVerticalBorder=function(e){var t=Aw(e,this.meta,this.theme.colCell.cell);gw(this,t.position,t.style)},t.prototype.drawBorders=function(){var e=this.spreadsheet,t=e.options,n=e.isTableMode;0===this.meta.colIndex&&n()&&!t.showSeriesNumber&&this.drawVerticalBorder(qC.LEFT),this.drawHorizontalBorder(),this.drawVerticalBorder(qC.RIGHT)},t.prototype.hasHiddenColumnCell=function(){var e=this,t=this.spreadsheet.options,n=t.interaction.hiddenColumnFields,r=void 0===n?[]:n,o=t.tooltip.operation,i=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return!(Dv(i)||Dv(r)||!o.hiddenColumns)&&!!i.find((function(t){return Wx(null==t?void 0:t.displaySiblingNode,e.meta.id)}))},t.prototype.getExpandIconTheme=function(){return this.getStyle().icon},t.prototype.addExpandColumnSplitLine=function(){var e=this.meta,t=e.x,n=e.y,r=e.width,o=e.height,i=this.theme.splitLine,a=i.horizontalBorderColor,l=i.horizontalBorderWidth,s=i.horizontalBorderColorOpacity,u=this.isLastColumn()?t+r-l:t;gw(this,{x1:u,y1:n,x2:u,y2:n+o},{stroke:a,lineWidth:l,strokeOpacity:s})},t.prototype.addExpandColumnIconShapes=function(){this.hasHiddenColumnCell()&&(this.addExpandColumnSplitLine(),this.addExpandColumnIcons())},t.prototype.addExpandColumnIcons=function(){var e=this.isLastColumn();this.addExpandColumnIcon(e),this.isAllDisplaySiblingNodeHidden()&&e&&this.addExpandColumnIcon(!1)},t.prototype.addExpandColumnIcon=function(e){var t=this,n=this.getExpandColumnIconConfig(e);yw(this,wa(wa({},n),{name:"ExpandColIcon",cursor:"pointer"})).on("click",(function(){t.spreadsheet.emit(hi.LAYOUT_COLS_EXPANDED,t.meta)}))},t.prototype.getExpandColumnIconConfig=function(e){var t=this.getExpandIconTheme().size,n=this.getCellArea(),r=n.x,o=n.y,i=n.width,a=r-t;return{x:e?a+i:a,y:o+n.height/2-t/2,width:2*t,height:t}},t.prototype.isLastColumn=function(){return e=this.spreadsheet,t=this.meta.id,n=e.getColumnLeafNodes(),r=e.getInitColumnLeafNodes(),o=Fx(t),Xu(Uh(n),o)===t&&Xu(Uh(r),o)!==t;var e,t,n,r,o},t.prototype.isAllDisplaySiblingNodeHidden=function(){var e=this.meta.id,t=this.spreadsheet.store.get("hiddenColumnsDetail",[]),n=t.find((function(t){var n,r=t.displaySiblingNode;return(null===(n=null==r?void 0:r.next)||void 0===n?void 0:n.id)===e})),r=t.find((function(t){var n,r=t.displaySiblingNode;return(null===(n=null==r?void 0:r.prev)||void 0===n?void 0:n.id)===e}));return r&&n},t}(pS),gS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.isBolderText=function(){return this.meta.cornerType===QC.Col},Object.defineProperty(t.prototype,"cellType",{get:function(){return ea.CORNER_CELL},enumerable:!1,configurable:!0}),t.prototype.initCell=function(){e.prototype.initCell.call(this),this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawTreeIcon(),this.drawCellText(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorderShape(),this.drawResizeArea(),this.update()},t.prototype.drawCellText=function(){this.drawTextShape()},t.prototype.drawTextShape=function(){var e=this.getContentArea().x,t=this.getCellArea(),n=t.y,r=t.height,o=this.getTextStyle(),i=this.getCornerText(),a=this.getMaxTextWidth(),l=Hw(this.meta,this.spreadsheet.options.placeholder),s=this.spreadsheet.measureTextWidth,u=Bw({measureTextWidth:s,text:i,maxWidth:a,fontParam:o,placeholder:l});this.actualText=u;var c=u.indexOf(Zi),d=u,f="";if(-1!==c&&this.spreadsheet.isHierarchyTreeType()){var h=c+(/iPhone/gi.test(navigator.userAgent)&&812===window.screen.height&&375===window.screen.width?1:0);d=i.substr(0,h),f=i.slice(h),f=Bw({measureTextWidth:s,text:f,maxWidth:a,fontParam:o})}var p,v,g=(p={x:e+this.getTreeIconWidth(),y:n,width:a,height:r},v=o,Nw(p,v).text).x,m=n+(Dv(f)?r/2:r/4);this.addTextShape(vw(this,[this.textShapes[0]],g,m,d,o)),Dv(f)||this.addTextShape(vw(this,[this.textShapes[1]],g,n+.75*r,f,o)),this.actualTextWidth=sg([s(d,o),s(f,o)])},t.prototype.drawTreeIcon=function(){var e=this;if(this.showTreeIcon()&&this.meta.cornerType!==QC.Col){var t=this.headerConfig.hierarchyCollapse,n=this.getStyle().icon.size,r=this.getTextStyle(),o=r.textBaseline,i=r.fill,a=this.getContentArea();this.treeIcon=bw(this,{x:a.x,y:Rw(a,o,n),width:n,height:n},i,t,(function(){e.headerConfig.spreadsheet.store.set("scrollY",0),e.headerConfig.spreadsheet.emit(hi.LAYOUT_TREE_ROWS_COLLAPSE_ALL,t)}))}},t.prototype.drawBorderShape=function(){var e=this;[qC.TOP,qC.LEFT].forEach((function(t){var n=Aw(t,e.getCellArea(),e.getStyle().cell),r=n.position,o=n.style;gw(e,r,o)}))},t.prototype.isLastRowCornerCell=function(){var e=this.meta,t=e.cornerType,n=e.field,r=this.headerConfig.rows;return t===QC.Row&&(this.spreadsheet.isHierarchyTreeType()||Uh(r)===n)},t.prototype.getResizeAreaEffect=function(){return this.meta.cornerType===QC.Series?pa.Series:this.isLastRowCornerCell()&&this.spreadsheet.isHierarchyTreeType()?pa.Tree:pa.Field},t.prototype.drawResizeArea=function(){if(this.shouldDrawResizeAreaByType("cornerCellHorizontal",this)){var e=this.getResizeAreaStyle(),t=Zx(this.spreadsheet,Ni),n=this.headerConfig,r=n.position,o=n.scrollX,i=n.scrollY,a=n.width,l=n.height,s=this.meta,u=s.x,c=s.y,d=s.width,f=s.height,h=s.field,p=s.cornerType,v={x:u+d-e.size/2,y:c,width:e.size,height:f},g={x:0,y:0,width:a,height:l};if(p!==QC.Col&&Vx(v,g,{scrollX:o,scrollY:i})){var m=r.x+u-o,y=r.y+(this.isLastRowCornerCell()?0:c);t.addShape("rect",{attrs:wa(wa({},Gx({theme:e,id:h,type:ha.Horizontal,effect:this.getResizeAreaEffect(),offsetX:m,offsetY:y,width:d,height:f,meta:this.meta})),{x:m+d-e.size/2,y:y,height:this.isLastRowCornerCell()?l:f})})}}},t.prototype.showTreeIcon=function(){var e;return this.spreadsheet.isHierarchyTreeType()&&0===(null===(e=this.meta)||void 0===e?void 0:e.x)},t.prototype.getIconPosition=function(){var e,t,n=null===(t=null===(e=this.textShapes)||void 0===e?void 0:e[0])||void 0===t?void 0:t.cfg.attrs,r=this.getTextStyle(),o=r.textBaseline,i=r.textAlign,a=this.getStyle().icon,l=a.size,s=a.margin;return{x:(null==n?void 0:n.x)+ah([[ag("center"),ts(this.actualTextWidth/2)],[ag("right"),ts(0)],[my,ts(this.actualTextWidth)]])(i)+s.left,y:Rw(this.getContentArea(),o,l)}},t.prototype.getTreeIconWidth=function(){var e=this.getStyle().icon,t=e.size,n=e.margin;return this.showTreeIcon()?t+n.right:0},t.prototype.getTextStyle=function(){var e=this.getStyle(),t=e.text,n=e.bolderText,r=this.isBolderText()?t:n,o=this.getTextConditionFill(r);return wa(wa({},r),{fill:o})},t.prototype.getMaxTextWidth=function(){return this.getContentArea().width-this.getTreeIconWidth()-this.getActionIconsWidth()},t.prototype.getTextPosition=function(){return{x:0,y:0}},t.prototype.getFormattedFieldValue=function(){return Yx(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},t.prototype.getCornerText=function(){return this.getFormattedFieldValue().formattedValue},t}(pS),mS=function(){function e(e){this.EVENT="gesture",this.gm=e}return e.prototype.do=function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"touchcancel":this.onTouchCancel(e);break;default:return}},e.prototype.emit=function(e){this.gm.emit(this.EVENT,e)},e}(),yS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EVENT="pan",t}return Ca(t,e),t.prototype.onTouchCancel=function(e){},t.prototype.onTouchEnd=function(e){},t.prototype.onTouchMove=function(e){var t=e.x,n=e.y,r=t-this.preX,o=n-this.preY;this.preX=t,this.preY=n,this.emit({x:t,y:n,deltaX:r,deltaY:o,event:e})},t.prototype.onTouchStart=function(e){var t=e.x,n=e.y;this.preX=t,this.preY=n},t}(mS),bS="object"==typeof performance&&performance.now?performance:Date,CS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EVENT="press",t}return Ca(t,e),t.prototype.onTouchCancel=function(e){this.clearTimeout()},t.prototype.onTouchEnd=function(e){this.clearTimeout()},t.prototype.onTouchMove=function(e){var t=e.x,n=e.y;(t-this.touchStartX>10||n-this.touchStartY>10)&&this.clearTimeout()},t.prototype.onTouchStart=function(e){var t=this;this.clearTimeout();var n=e.x,r=e.y;this.touchStartTime=bS.now(),this.touchStartX=n,this.touchStartY=r,this.pressTimeout=window.setTimeout((function(){t.emit({x:n,y:r,event:e})}),300)},t.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},t}(mS),wS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return Ca(t,e),t.prototype.onTouchCancel=function(e){},t.prototype.onTouchEnd=function(e){var t=this.speedX,n=this.speedY;if(bS.now()-this.latestMoveTime<100){var r=e.x,o=e.y;this.emit({x:r,y:o,speedX:t,speedY:n,event:e})}},t.prototype.onTouchMove=function(e){var t=e.x,n=e.y,r=bS.now(),o=t-this.preX,i=n-this.preY,a=r-this.ms;this.speedX=o/a,this.speedY=i/a,this.latestMoveTime=r},t.prototype.onTouchStart=function(e){var t=e.x,n=e.y;this.speedX=this.speedY=0,this.preX=t,this.preY=n,this.ms=bS.now()},t}(mS),xS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EVENT="tap",t}return Ca(t,e),t.prototype.onTouchCancel=function(e){},t.prototype.onTouchEnd=function(e){var t=e.x,n=e.y;t-this.touchStartX<2&&n-this.touchStartY<2&&bS.now()-this.touchStartTime<300&&this.emit({x:t,y:n,event:e})},t.prototype.onTouchMove=function(e){},t.prototype.onTouchStart=function(e){var t=e.x,n=e.y;this.touchStartTime=bS.now(),this.touchStartX=t,this.touchStartY=n},t}(mS),SS={Pan:yS,Press:CS,Swipe:wS,Tap:xS},ES=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.onTouchStart=function(e){r.preventEvent(e),r.element.on("touchmove",r.onTouchMove),r.element.on("touchend",r.onTouchEnd),r.element.on("touchcancel",r.onTouchCancel),r.emit("touchdown",e),r.doGestures(e)},r.onTouchMove=function(e){r.preventEvent(e),r.emit("touchmove",e),r.doGestures(e)},r.onTouchEnd=function(e){r.preventEvent(e),r.emit("touchend",e),r.element.off("touchmove",r.onTouchMove),r.element.off("touchend",r.onTouchEnd),r.element.off("touchcancel",r.onTouchCancel),r.doGestures(e)},r.onTouchCancel=function(e){r.preventEvent(e),r.emit("touchcancel",e),r.element.off("touchmove",r.onTouchMove),r.element.off("touchend",r.onTouchEnd),r.element.off("touchcancel",r.onTouchCancel),r.doGestures(e)},r.element=t,r.options=n,r.initialGestures(),r.bindTouchStart(),r}return Ca(t,e),t.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},t.prototype.initialGestures=function(){var e=this,t=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=t.map((function(t){return new(0,SS[t])(e)}))},t.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},t.prototype.preventEvent=function(e){var t=e.type;(this.options.prevents||[]).includes(t)&&e.preventDefault()},t.prototype.doGestures=function(e){this.gestures.forEach((function(t){t.do(e)}))},t}(pe),IS=fn,OS="wheel",LS=function(e){function t(t){var n=e.call(this)||this;return n.rafMs=0,n.onPan=function(e){n.raf&&cancelAnimationFrame(n.raf);var t=e.deltaX,r=e.deltaY,o=n.getWrapperEvent(e,t,r);n.emit(OS,o)},n.onSwipe=function(e){var t=e.speedX,r=e.speedY;n.rafMs=bS.now(),n.ms=n.rafMs,0===t&&0===r||n.rafInertia(e)},n.element=t,n.gm=new ES(t,{gestures:["Pan","Swipe"]}),n.gm.on("swipe",n.onSwipe),n.gm.on("pan",n.onPan),n}return Ca(t,e),t.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},t.prototype.rafInertia=function(e){var t=this,n=e.speedX,r=e.speedY;this.raf=window.requestAnimationFrame((function(){var o=bS.now(),i=(o-t.ms)/800;if(i<1){i=IS(1-i);var a=o-t.rafMs,l=n*i*a,s=r*i*a,u=t.getWrapperEvent(e,l,s);t.emit(OS,u),t.rafMs=o,t.rafInertia(e)}}))},t.prototype.getWrapperEvent=function(e,t,n){return wa(wa({},e),{deltaX:-t,deltaY:-n})},t}(pe),_S=function(e,t,n,r,o){var i=n+r;return e+o>=i?e:i<e+(t+o)/2?n+r-o:n>e+(t-o)/2?e+t-n>o?n:e+t-o:e+(t-o)/2},TS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Object.defineProperty(t.prototype,"cellType",{get:function(){return ea.ROW_CELL},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){var t;e.prototype.destroy.call(this),null===(t=this.gm)||void 0===t||t.destroy()},t.prototype.initCell=function(){e.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawTreeIcon(),this.drawTreeLeafNodeAlignDot(),this.drawRectBorder(),this.drawResizeAreaInLeaf(),this.drawActionIcons(),this.update()},t.prototype.getBackgroundColor=function(){var e=this.getCrossBackgroundColor(this.meta.rowIndex),t=e.backgroundColor,n=e.backgroundColorOpacity;return this.getBackgroundColorByCondition(t,n)},t.prototype.drawInteractiveBorderShape=function(){this.stateShapes.set("interactiveBorderShape",hw(this,this.getInteractiveBorderShapeStyle(2),{visible:!1}))},t.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",hw(this,wa({},this.getCellArea()),{visible:!1}))},t.prototype.showTreeIcon=function(){return this.spreadsheet.isHierarchyTreeType()&&!this.meta.isLeaf},t.prototype.showTreeLeafNodeAlignDot=function(){var e;return(null===(e=this.spreadsheet.options.style)||void 0===e?void 0:e.showTreeLeafNodeAlignDot)&&this.spreadsheet.isHierarchyTreeType()},t.prototype.getParentTreeIconCfg=function(){if(this.showTreeLeafNodeAlignDot()&&this.spreadsheet.isHierarchyTreeType()&&this.meta.isLeaf)return Xu(this.meta,"parent.belongsCell.treeIcon.cfg")},t.prototype.drawTreeIcon=function(){var e=this;if(this.showTreeIcon()){var t=this.meta,n=t.isCollapsed,r=t.id,o=t.hierarchy,i=this.getContentArea().x,a=this.getTextStyle().fill,l=this.getStyle().icon.size,s=i+this.getContentIndent(),u=this.getIconYPosition();this.treeIcon=bw(this,{x:s,y:u,width:l,height:l},a,n,(function(){if(!yC()){if(!n){var t=e.spreadsheet.store.get("scrollY"),i=e.spreadsheet.facet.panelBBox.viewportHeight||0,a=(u=e.meta,c=0,null==(d=u.children)||d.forEach((function(e){c+=e.height||0})),c),l=o.height-a;if(t>0&&t+i>l){var s=l-i;e.spreadsheet.store.set("scrollY",s>0?s:0)}}var u,c,d;e.spreadsheet.emit(hi.ROW_CELL_COLLAPSE_TREE_ROWS,{id:r,isCollapsed:!n,node:e.meta})}})),yC()&&(this.gm=new ES(this,{gestures:["Tap"]}),this.gm.on("tap",(function(){e.spreadsheet.emit(hi.ROW_CELL_COLLAPSE_TREE_ROWS,{id:r,isCollapsed:!n,node:e.meta})})))}},t.prototype.drawTreeLeafNodeAlignDot=function(){var e=this.getParentTreeIconCfg();if(e){var t=this.getStyle().icon,n=t.size,r=t.margin,o=e.x+n+r.right,i=this.getTextPosition().y,a=this.getTextStyle(),l=a.fill,s=a.fontSize,u=n/5;this.treeLeafNodeAlignDot=pw(this,{x:o+n/2,y:i+(s-u)/2,r:u,fill:l,fillOpacity:.3})}},t.prototype.isBolderText=function(){var e=this.meta,t=e.isLeaf,n=e.isTotals,r=e.level;return!t&&0===r||n},t.prototype.drawTextShape=function(){e.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},t.prototype.drawRectBorder=function(){var e=this,t=this.getCellArea().x,n=this.getContentIndent(),r=this.spreadsheet.isHierarchyTreeType()?t:t+n;[qC.BOTTOM,qC.LEFT].forEach((function(t){var n=Aw(t,wa(wa({},e.getCellArea()),{x:r}),e.getStyle().cell),o=n.position,i=n.style;gw(e,o,i)}))},t.prototype.drawResizeAreaInLeaf=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("rowCellVertical",this)){var e=this.getCellArea(),t=e.x,n=e.y,r=e.width,o=e.height,i=this.getResizeAreaStyle(),a=Zx(this.spreadsheet,_i),l=this.headerConfig,s=l.position,u=l.seriesNumberWidth,c=l.width,d=l.viewportHeight,f=l.scrollX,h=l.scrollY,p={x:t,y:n+o-i.size/2,width:r,height:i.size};if(Vx(p,{x:0,y:0,width:c,height:d},{scrollX:f,scrollY:h})){var v=(null==s?void 0:s.x)+t-f+u,g=(null==s?void 0:s.y)+n-h,m=this.spreadsheet.isFrozenRowHeader()?c-u-(t-f):r;a.addShape("rect",{attrs:wa(wa({},Gx({id:this.meta.id,theme:i,type:ha.Vertical,effect:pa.Cell,offsetX:v,offsetY:g,width:r,height:o,meta:this.meta})),{x:v,y:g+o-i.size/2,width:m})})}}},t.prototype.getContentIndent=function(){if(!this.spreadsheet.isHierarchyTreeType())return 0;for(var e=this.getStyle(),t=e.icon,n=e.cell,r=t.size+t.margin.right,o=this.meta.parent,i=0;o;)0!==o.height&&(i+=r),o=o.parent;return this.showTreeLeafNodeAlignDot()&&(i+=this.isTreeLevel()?0:n.padding.right+t.margin.right),i},t.prototype.getTextIndent=function(){var e=this.getStyle().icon,t=e.size,n=e.margin;return this.getContentIndent()+(this.showTreeIcon()||this.isTreeLevel()&&this.showTreeLeafNodeAlignDot()?t+n.right:0)},t.prototype.isTreeLevel=function(){return Op(Xu(this.meta,"parent.children"),(function(e){return!e.isLeaf}))},t.prototype.getIconPosition=function(){var e=this.textShape.cfg.attrs,t=e.x,n=e.y,r=e.textAlign,o=this.getStyle().icon.margin.left;return"left"===r?{x:t+this.actualTextWidth+o,y:n}:"right"===r?{x:t+o,y:n}:{x:t+this.actualTextWidth/2+o,y:n}},t.prototype.getMaxTextWidth=function(){return this.getContentArea().width-this.getTextIndent()-this.getActionIconsWidth()},t.prototype.getTextArea=function(){var e=this.getContentArea(),t=this.getTextIndent();return wa(wa({},e),{x:e.x+t,width:e.width-t})},t.prototype.getAdjustTextAreaHeight=function(e,t,n){var r=e.height;return!this.spreadsheet.facet.vScrollBar&&e.y+e.height>t+n&&(r=t+n-e.y),r},t.prototype.getTextPosition=function(){var e=this.getTextArea(),t=this.headerConfig,n=t.scrollY,r=t.viewportHeight,o=this.getAdjustTextAreaHeight(e,n,r),i=this.getTextStyle().fontSize,a=_S(e.y,o,n,r,i);return{x:Nw(e,this.getTextStyle(),0,this.getIconStyle(),this.getActionIconsCount()).text.x,y:a}},t.prototype.getIconYPosition=function(){var e=this.getTextPosition().y,t=this.getStyle().icon.size;return e+(this.getTextStyle().fontSize-t)/2},t}(pS),MS=function(e,t,n){var r,o,i=(null===(r=n.icon.margin)||void 0===r?void 0:r.left)||0,a=(null===(o=n.icon.margin)||void 0===o?void 0:o.right)||0,l=e.store.get("hiddenColumnsDetail",[]),s=!1,u=!1;l.forEach((function(e){var n,r,o,i;(null===(r=null===(n=null==e?void 0:e.displaySiblingNode)||void 0===n?void 0:n.prev)||void 0===r?void 0:r.field)===t&&(s=!0),(null===(i=null===(o=null==e?void 0:e.displaySiblingNode)||void 0===o?void 0:o.next)||void 0===i?void 0:i.field)===t&&(u=!0)}));var c=Xu(n,"icon.size");return{left:u?c+a:0,right:s?c+i:0}},RS=function(e,t,n){var r=Xu(n,"cell.padding"),o=MS(e,t.field,n);return r.left+r.right+function(e,t,n,r){var o,i,a=Xu(r,"size"),l=Xu(r,"margin"),s=0;return(s=e.options.showDefaultHeaderActionIcon?1:null!==(i=null===(o=Ux(e.options.headerActionIcons,t,n))||void 0===o?void 0:o.iconNames.length)&&void 0!==i?i:0)*(a+l.left)+(s>0?l.right:0)}(e,t,ea.COL_CELL,Xu(n,"icon"))+o.left+o.right},NS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.handleRestOptions=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ea(e,1),r=n[0];this.headerConfig=wa({},r);var o=this.meta.field,i=this.spreadsheet.dataCfg.sortParams,a=Op(i,(function(e){return(null==e?void 0:e.sortFieldId)===o})),l=hS(a,!0);this.headerConfig.sortParam=wa(wa(wa({},this.headerConfig.sortParam),a||{}),{type:l})},t.prototype.isFrozenCell=function(){var e=this.spreadsheet.options,t=e.frozenColCount,n=e.frozenTrailingColCount,r=this.spreadsheet.facet.layoutResult.colNodes.filter((function(e){return jC(e)})),o=function(e){for(;!jC(e);)e=e.parent;return e}(this.meta).colIndex;return AC(o,t)||DC(o,n,r.length)},t.prototype.getFormattedFieldValue=function(){return Yx(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},t.prototype.shouldAddVerticalResizeArea=function(){return!!this.isFrozenCell()||e.prototype.shouldAddVerticalResizeArea.call(this)},t.prototype.getVerticalResizeAreaOffset=function(){var e=this.meta,t=e.x,n=e.y,r=this.headerConfig,o=r.scrollX,i=r.position;return this.isFrozenCell()?{x:t,y:n}:{x:i.x+t-o,y:i.y+n}},t.prototype.getColResizeArea=function(){return this.isFrozenCell()?Zx(this.spreadsheet,Di):e.prototype.getColResizeArea.call(this)},t.prototype.isSortCell=function(){return!0},t.prototype.showSortIcon=function(){return this.spreadsheet.options.showDefaultHeaderActionIcon},t.prototype.getTextStyle=function(){var e=this.getStyle();return null==e?void 0:e.bolderText},t.prototype.getContentArea=function(){var e,t=((null===(e=this.getStyle())||void 0===e?void 0:e.cell)||this.theme.dataCell.cell).padding,n=wa({},t),r=MS(this.spreadsheet,this.meta.field,this.getStyle());return r.left&&(n.left=(n.left||0)+r.left),r.right&&(n.right=(n.right||0)+r.right),_w(this.getCellArea(),n)},t.prototype.getHorizontalResizeAreaName=function(){return"".concat(ki).concat("table-col-cell")},t.prototype.drawBackgroundShape=function(){var e=this.getStyle().cell.backgroundColor;this.backgroundShape=hw(this,wa(wa({},this.getCellArea()),{fill:e}))},t}(vS),AS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.getStyle=function(e){return e?this.theme[e]:Xu(this,"theme.cornerCell")},t.prototype.showSortIcon=function(){return!1},t.prototype.drawLeftBorder=function(){var e=Aw(qC.LEFT,this.getCellArea(),this.getStyle().cell);gw(this,e.position,e.style)},t.prototype.drawBorders=function(){e.prototype.drawBorders.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},t}(NS),DS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.getLinkFieldStyle=function(){return this.theme.rowCell.text.linkTextFill},t.prototype.drawBorderShape=function(){e.prototype.drawBorderShape.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},t.prototype.shouldDrawResizeArea=function(){return 0===this.meta.colIndex},t.prototype.drawResizeArea=function(){if(this.shouldDrawResizeArea()){var e=this.getCellArea(),t=e.x,n=e.y,r=e.width,o=e.height,i=this.meta.rowIndex,a=this.getResizeAreaStyle(),l=this.spreadsheet.options,s=l.frozenRowCount,u=l.frozenTrailingRowCount,c=this.spreadsheet.facet.getCellRange(),d=BC(i,c.start,s),f=kC(i,c.end,u),h=d||f?Ti:_i,p=Zx(this.spreadsheet,h),v=this.spreadsheet.facet.layoutResult.colsHierarchy.height,g=this.spreadsheet.facet.getScrollOffset().scrollY,m=this.spreadsheet.facet.getPaginationScrollY(),y=n+(f?0:v);f||(y-=d?m:g+m),p.addShape("rect",{attrs:wa(wa({},Gx({id:String(this.meta.rowIndex),theme:a,type:ha.Vertical,effect:pa.Cell,offsetX:t,offsetY:y,width:r,height:o,meta:this.meta})),{x:t,y:y+o-a.size/2,width:r})})}},t}(Tx),BS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Object.defineProperty(t.prototype,"cellType",{get:function(){return ea.ROW_CELL},enumerable:!1,configurable:!0}),t.prototype.getTextStyle=function(){return this.theme.rowCell.seriesText},t}(DS),kS=function(e){return[ra.META,ra.CONTROL].includes(e.key)},PS=function(e){return e.ctrlKey||e.metaKey},zS=function(e){var t=e.getMeta()||{},n=t.id,r=t.colIndex,o=t.rowIndex,i=t.rowQuery;return{id:n,colIndex:r,rowIndex:o,type:e.cellType,rowQuery:i}};function FS(e,t){var n=Math.min(e.rowIndex,t.rowIndex),r=Math.max(e.rowIndex,t.rowIndex);return{start:{rowIndex:n,colIndex:Math.min(e.colIndex,t.colIndex)},end:{rowIndex:r,colIndex:Math.max(e.colIndex,t.colIndex)}}}var HS,$S,jS=function(e,t){var n=e.getSelectedCellHighlight(),r=n.colHeader,o=n.rowHeader;r&&e.updateCells(e.getAllColHeaderCells()),o&&e.updateCells(e.getAllRowHeaderCells()),t()},WS=function(e){var t=e.store.get("visibleActionIcons"),n=e.interaction.getInteractedCells(),r=e.interaction.getState().cells;if(Dv(n)&&Dv(r)&&Dv(t))return!1;(tp(t,(function(e){e.set("visible",!1)})),e.store.set("visibleActionIcons",[]),tp(n,(function(e){e.hideInteractionShape()})),e.interaction.resetState(),e.options.interaction.selectedCellsSpotlight)&&tp(e.interaction.getPanelGroupAllUnSelectedDataCells()||[],(function(e){e.clearUnselectedState()}));return!0},GS=function(e,t,n){var r,o,i=n.facet,a=i.panelBBox.width,l=null==i?void 0:i.frozenGroupInfo,s=null!==(r=null==l?void 0:l.frozenCol.width)&&void 0!==r?r:0,u=null!==(o=null==l?void 0:l.frozenTrailingCol.width)&&void 0!==o?o:0,c=i.layoutResult.colLeafNodes[e];return t===ca.SCROLL_UP?c.x-s:c.x+c.width-(a-u)},ZS=function(e,t,n){var r,o,i=n.facet,a=i.viewCellHeights.getCellOffsetY,l=i.panelBBox.height,s=a(e+1);if($v(s))return 0;var u=null==i?void 0:i.frozenGroupInfo,c=null!==(r=null==u?void 0:u.frozenRow.height)&&void 0!==r?r:0,d=null!==(o=null==u?void 0:u.frozenTrailingRow.height)&&void 0!==o?o:0;return t===ca.SCROLL_UP?a(e)-c:s-(l-d)},VS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e,t){if($a(e)&&$a(t))return t},r=Ia(Ia([],Ea(e),!1),[n],!1);return kh.apply(void 0,Ia([{}],Ea(r),!1))},US=function(e){var t=["rows","columns","values"].reduce((function(t,n){var r=e[n],o=ob(r);return Bv(o,r)||console.warn("fields.".concat(n,":[").concat(r,"] should be unique")),t[n]=o,t}),{});return wa(wa({},e),t)},YS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=VS.apply(void 0,Ia([Ki],Ea(e),!1));return n.fields=US(n.fields),Dv(n.fields.customTreeItems)&&!Dv(n.fields.values)||(n.fields.valueInCols=!1),n},XS=function(e){return VS(ya,e)},qS=9e15,KS=1e9,QS="0123456789abcdef",JS="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",eE="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",tE={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-qS,maxE:qS,crypto:!1},nE=!0,rE="[DecimalError] ",oE=rE+"Invalid argument: ",iE=rE+"Precision limit exceeded",aE=rE+"crypto unavailable",lE="[object Decimal]",sE=Math.floor,uE=Math.pow,cE=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,dE=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,fE=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,hE=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pE=1e7,vE=JS.length-1,gE=eE.length-1,mE={toStringTag:lE};function yE(e){var t,n,r,o=e.length-1,i="",a=e[0];if(o>0){for(i+=a,t=1;t<o;t++)(n=7-(r=e[t]+"").length)&&(i+=TE(n)),i+=r;(n=7-(r=(a=e[t])+"").length)&&(i+=TE(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return i+a}function bE(e,t,n){if(e!==~~e||e<t||e>n)throw Error(oE+e)}function CE(e,t,n,r){var o,i,a,l;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=7,o=0):(o=Math.ceil((t+1)/7),t%=7),i=uE(10,7-t),l=e[o]%i|0,null==r?t<3?(0==t?l=l/100|0:1==t&&(l=l/10|0),a=n<4&&99999==l||n>3&&49999==l||5e4==l||0==l):a=(n<4&&l+1==i||n>3&&l+1==i/2)&&(e[o+1]/i/100|0)==uE(10,t-2)-1||(l==i/2||0==l)&&0==(e[o+1]/i/100|0):t<4?(0==t?l=l/1e3|0:1==t?l=l/100|0:2==t&&(l=l/10|0),a=(r||n<4)&&9999==l||!r&&n>3&&4999==l):a=((r||n<4)&&l+1==i||!r&&n>3&&l+1==i/2)&&(e[o+1]/i/1e3|0)==uE(10,t-3)-1,a}function wE(e,t,n){for(var r,o,i=[0],a=0,l=e.length;a<l;){for(o=i.length;o--;)i[o]*=t;for(i[0]+=QS.indexOf(e.charAt(a++)),r=0;r<i.length;r++)i[r]>n-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}mE.absoluteValue=mE.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),SE(e)},mE.ceil=function(){return SE(new this.constructor(this),this.e+1,2)},mE.clampedTo=mE.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(oE+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},mE.comparedTo=mE.cmp=function(e){var t,n,r,o,i=this,a=i.d,l=(e=new i.constructor(e)).d,s=i.s,u=e.s;if(!a||!l)return s&&u?s!==u?s:a===l?0:!a^s<0?1:-1:NaN;if(!a[0]||!l[0])return a[0]?s:l[0]?-u:0;if(s!==u)return s;if(i.e!==e.e)return i.e>e.e^s<0?1:-1;for(t=0,n=(r=a.length)<(o=l.length)?r:o;t<n;++t)if(a[t]!==l[t])return a[t]>l[t]^s<0?1:-1;return r===o?0:r>o^s<0?1:-1},mE.cosine=mE.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,o;if(t.isZero())return t;r=t.d.length,r<32?o=(1/FE(4,n=Math.ceil(r/3))).toString():(n=16,o="2.3283064365386962890625e-10");e.precision+=n,t=zE(e,1,t.times(o),new e(1));for(var i=n;i--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(r,HE(r,n)),r.precision=e,r.rounding=t,SE(2==$S||3==$S?n.neg():n,e,t,!0)):new r(1):new r(NaN)},mE.cubeRoot=mE.cbrt=function(){var e,t,n,r,o,i,a,l,s,u,c=this,d=c.constructor;if(!c.isFinite()||c.isZero())return new d(c);for(nE=!1,(i=c.s*uE(c.s*c,1/3))&&Math.abs(i)!=1/0?r=new d(i.toString()):(n=yE(c.d),(i=((e=c.e)-n.length+1)%3)&&(n+=1==i||-2==i?"0":"00"),i=uE(n,1/3),e=sE((e+1)/3)-(e%3==(e<0?-1:2)),(r=new d(n=i==1/0?"5e"+e:(n=i.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=c.s),a=(e=d.precision)+3;;)if(u=(s=(l=r).times(l).times(l)).plus(c),r=xE(u.plus(c).times(l),u.plus(s),a+2,1),yE(l.d).slice(0,a)===(n=yE(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(SE(r,e+1,1),t=!r.times(r).times(r).eq(c));break}if(!o&&(SE(l,e+1,0),l.times(l).times(l).eq(c))){r=l;break}a+=4,o=1}return nE=!0,SE(r,e,d.rounding,t)},mE.decimalPlaces=mE.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-sE(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},mE.dividedBy=mE.div=function(e){return xE(this,new this.constructor(e))},mE.dividedToIntegerBy=mE.divToInt=function(e){var t=this.constructor;return SE(xE(this,new t(e),0,1,1),t.precision,t.rounding)},mE.equals=mE.eq=function(e){return 0===this.cmp(e)},mE.floor=function(){return SE(new this.constructor(this),this.e+1,3)},mE.greaterThan=mE.gt=function(e){return this.cmp(e)>0},mE.greaterThanOrEqualTo=mE.gte=function(e){var t=this.cmp(e);return 1==t||0===t},mE.hyperbolicCosine=mE.cosh=function(){var e,t,n,r,o,i=this,a=i.constructor,l=new a(1);if(!i.isFinite())return new a(i.s?1/0:NaN);if(i.isZero())return l;n=a.precision,r=a.rounding,a.precision=n+Math.max(i.e,i.sd())+4,a.rounding=1,(o=i.d.length)<32?t=(1/FE(4,e=Math.ceil(o/3))).toString():(e=16,t="2.3283064365386962890625e-10"),i=zE(a,1,i.times(t),new a(1),!0);for(var s,u=e,c=new a(8);u--;)s=i.times(i),i=l.minus(s.times(c.minus(s.times(c))));return SE(i,a.precision=n,a.rounding=r,!0)},mE.hyperbolicSine=mE.sinh=function(){var e,t,n,r,o=this,i=o.constructor;if(!o.isFinite()||o.isZero())return new i(o);if(t=i.precision,n=i.rounding,i.precision=t+Math.max(o.e,o.sd())+4,i.rounding=1,(r=o.d.length)<3)o=zE(i,2,o,o,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,o=zE(i,2,o=o.times(1/FE(5,e)),o,!0);for(var a,l=new i(5),s=new i(16),u=new i(20);e--;)a=o.times(o),o=o.times(l.plus(a.times(s.times(a).plus(u))))}return i.precision=t,i.rounding=n,SE(o,t,n,!0)},mE.hyperbolicTangent=mE.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,xE(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},mE.inverseCosine=mE.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),o=n.precision,i=n.rounding;return-1!==r?0===r?t.isNeg()?LE(n,o,i):new n(0):new n(NaN):t.isZero()?LE(n,o+4,i).times(.5):(n.precision=o+6,n.rounding=1,t=t.asin(),e=LE(n,o+4,i).times(.5),n.precision=o,n.rounding=i,e.minus(t))},mE.inverseHyperbolicCosine=mE.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,nE=!1,n=n.times(n).minus(1).sqrt().plus(n),nE=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},mE.inverseHyperbolicSine=mE.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,nE=!1,n=n.times(n).plus(1).sqrt().plus(n),nE=!0,r.precision=e,r.rounding=t,n.ln())},mE.inverseHyperbolicTangent=mE.atanh=function(){var e,t,n,r,o=this,i=o.constructor;return o.isFinite()?o.e>=0?new i(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(e=i.precision,t=i.rounding,r=o.sd(),Math.max(r,e)<2*-o.e-1?SE(new i(o),e,t,!0):(i.precision=n=r-o.e,o=xE(o.plus(1),new i(1).minus(o),n+e,1),i.precision=e+4,i.rounding=1,o=o.ln(),i.precision=e,i.rounding=t,o.times(.5))):new i(NaN)},mE.inverseSine=mE.asin=function(){var e,t,n,r,o=this,i=o.constructor;return o.isZero()?new i(o):(t=o.abs().cmp(1),n=i.precision,r=i.rounding,-1!==t?0===t?((e=LE(i,n+4,r).times(.5)).s=o.s,e):new i(NaN):(i.precision=n+6,i.rounding=1,o=o.div(new i(1).minus(o.times(o)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,o.times(2)))},mE.inverseTangent=mE.atan=function(){var e,t,n,r,o,i,a,l,s,u=this,c=u.constructor,d=c.precision,f=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&d+4<=gE)return(a=LE(c,d+4,f).times(.25)).s=u.s,a}else{if(!u.s)return new c(NaN);if(d+4<=gE)return(a=LE(c,d+4,f).times(.5)).s=u.s,a}for(c.precision=l=d+10,c.rounding=1,e=n=Math.min(28,l/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(nE=!1,t=Math.ceil(l/7),r=1,s=u.times(u),a=new c(u),o=u;-1!==e;)if(o=o.times(s),i=a.minus(o.div(r+=2)),o=o.times(s),void 0!==(a=i.plus(o.div(r+=2))).d[t])for(e=t;a.d[e]===i.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),nE=!0,SE(a,c.precision=d,c.rounding=f,!0)},mE.isFinite=function(){return!!this.d},mE.isInteger=mE.isInt=function(){return!!this.d&&sE(this.e/7)>this.d.length-2},mE.isNaN=function(){return!this.s},mE.isNegative=mE.isNeg=function(){return this.s<0},mE.isPositive=mE.isPos=function(){return this.s>0},mE.isZero=function(){return!!this.d&&0===this.d[0]},mE.lessThan=mE.lt=function(e){return this.cmp(e)<0},mE.lessThanOrEqualTo=mE.lte=function(e){return this.cmp(e)<1},mE.logarithm=mE.log=function(e){var t,n,r,o,i,a,l,s,u=this,c=u.constructor,d=c.precision,f=c.rounding;if(null==e)e=new c(10),t=!0;else{if(n=(e=new c(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:1!=u.s?NaN:n?0:1/0);if(t)if(n.length>1)i=!0;else{for(o=n[0];o%10==0;)o/=10;i=1!==o}if(nE=!1,a=DE(u,l=d+5),r=t?OE(c,l+10):DE(e,l),CE((s=xE(a,r,l,1)).d,o=d,f))do{if(a=DE(u,l+=10),r=t?OE(c,l+10):DE(e,l),s=xE(a,r,l,1),!i){+yE(s.d).slice(o+1,o+15)+1==1e14&&(s=SE(s,d+1,0));break}}while(CE(s.d,o+=10,f));return nE=!0,SE(s,d,f)},mE.minus=mE.sub=function(e){var t,n,r,o,i,a,l,s,u,c,d,f,h=this,p=h.constructor;if(e=new p(e),!h.d||!e.d)return h.s&&e.s?h.d?e.s=-e.s:e=new p(e.d||h.s!==e.s?h:NaN):e=new p(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(u=h.d,f=e.d,l=p.precision,s=p.rounding,!u[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!u[0])return new p(3===s?-0:0);e=new p(h)}return nE?SE(e,l,s):e}if(n=sE(e.e/7),c=sE(h.e/7),u=u.slice(),i=c-n){for((d=i<0)?(t=u,i=-i,a=f.length):(t=f,n=c,a=u.length),i>(r=Math.max(Math.ceil(l/7),a)+2)&&(i=r,t.length=1),t.reverse(),r=i;r--;)t.push(0);t.reverse()}else{for((d=(r=u.length)<(a=f.length))&&(a=r),r=0;r<a;r++)if(u[r]!=f[r]){d=u[r]<f[r];break}i=0}for(d&&(t=u,u=f,f=t,e.s=-e.s),a=u.length,r=f.length-a;r>0;--r)u[a++]=0;for(r=f.length;r>i;){if(u[--r]<f[r]){for(o=r;o&&0===u[--o];)u[o]=pE-1;--u[o],u[r]+=pE}u[r]-=f[r]}for(;0===u[--a];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(e.d=u,e.e=IE(u,n),nE?SE(e,l,s):e):new p(3===s?-0:0)},mE.modulo=mE.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?SE(new r(n),r.precision,r.rounding):(nE=!1,9==r.modulo?(t=xE(n,e.abs(),0,3,1)).s*=e.s:t=xE(n,e,0,r.modulo,1),t=t.times(e),nE=!0,n.minus(t))},mE.naturalExponential=mE.exp=function(){return AE(this)},mE.naturalLogarithm=mE.ln=function(){return DE(this)},mE.negated=mE.neg=function(){var e=new this.constructor(this);return e.s=-e.s,SE(e)},mE.plus=mE.add=function(e){var t,n,r,o,i,a,l,s,u,c,d=this,f=d.constructor;if(e=new f(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new f(e.d||d.s===e.s?d:NaN)):e=new f(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(u=d.d,c=e.d,l=f.precision,s=f.rounding,!u[0]||!c[0])return c[0]||(e=new f(d)),nE?SE(e,l,s):e;if(i=sE(d.e/7),r=sE(e.e/7),u=u.slice(),o=i-r){for(o<0?(n=u,o=-o,a=c.length):(n=c,r=i,a=u.length),o>(a=(i=Math.ceil(l/7))>a?i+1:a+1)&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((a=u.length)-(o=c.length)<0&&(o=a,n=c,c=u,u=n),t=0;o;)t=(u[--o]=u[o]+c[o]+t)/pE|0,u[o]%=pE;for(t&&(u.unshift(t),++r),a=u.length;0==u[--a];)u.pop();return e.d=u,e.e=IE(u,r),nE?SE(e,l,s):e},mE.precision=mE.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(oE+e);return n.d?(t=_E(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},mE.round=function(){var e=this,t=e.constructor;return SE(new t(e),e.e+1,t.rounding)},mE.sine=mE.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:zE(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/FE(5,n)),t=zE(e,2,t,t);for(var o,i=new e(5),a=new e(16),l=new e(20);n--;)o=t.times(t),t=t.times(i.plus(o.times(a.times(o).minus(l))));return t}(r,HE(r,n)),r.precision=e,r.rounding=t,SE($S>2?n.neg():n,e,t,!0)):new r(NaN)},mE.squareRoot=mE.sqrt=function(){var e,t,n,r,o,i,a=this,l=a.d,s=a.e,u=a.s,c=a.constructor;if(1!==u||!l||!l[0])return new c(!u||u<0&&(!l||l[0])?NaN:l?a:1/0);for(nE=!1,0==(u=Math.sqrt(+a))||u==1/0?(((t=yE(l)).length+s)%2==0&&(t+="0"),u=Math.sqrt(t),s=sE((s+1)/2)-(s<0||s%2),r=new c(t=u==1/0?"5e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new c(u.toString()),n=(s=c.precision)+3;;)if(r=(i=r).plus(xE(a,i,n+2,1)).times(.5),yE(i.d).slice(0,n)===(t=yE(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(SE(r,s+1,1),e=!r.times(r).eq(a));break}if(!o&&(SE(i,s+1,0),i.times(i).eq(a))){r=i;break}n+=4,o=1}return nE=!0,SE(r,s,c.rounding,e)},mE.tangent=mE.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=xE(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,SE(2==$S||4==$S?n.neg():n,e,t,!0)):new r(NaN)},mE.times=mE.mul=function(e){var t,n,r,o,i,a,l,s,u,c=this,d=c.constructor,f=c.d,h=(e=new d(e)).d;if(e.s*=c.s,!(f&&f[0]&&h&&h[0]))return new d(!e.s||f&&!f[0]&&!h||h&&!h[0]&&!f?NaN:f&&h?0*e.s:e.s/0);for(n=sE(c.e/7)+sE(e.e/7),(s=f.length)<(u=h.length)&&(i=f,f=h,h=i,a=s,s=u,u=a),i=[],r=a=s+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,o=s+r;o>r;)l=i[o]+h[r]*f[o-r-1]+t,i[o--]=l%pE|0,t=l/pE|0;i[o]=(i[o]+t)%pE|0}for(;!i[--a];)i.pop();return t?++n:i.shift(),e.d=i,e.e=IE(i,n),nE?SE(e,d.precision,d.rounding):e},mE.toBinary=function(e,t){return $E(this,2,e,t)},mE.toDecimalPlaces=mE.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(bE(e,0,KS),void 0===t?t=r.rounding:bE(t,0,8),SE(n,e+n.e+1,t))},mE.toExponential=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=EE(r,!0):(bE(e,0,KS),void 0===t?t=o.rounding:bE(t,0,8),n=EE(r=SE(new o(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},mE.toFixed=function(e,t){var n,r,o=this,i=o.constructor;return void 0===e?n=EE(o):(bE(e,0,KS),void 0===t?t=i.rounding:bE(t,0,8),n=EE(r=SE(new i(o),e+o.e+1,t),!1,e+r.e+1)),o.isNeg()&&!o.isZero()?"-"+n:n},mE.toFraction=function(e){var t,n,r,o,i,a,l,s,u,c,d,f,h=this,p=h.d,v=h.constructor;if(!p)return new v(h);if(u=n=new v(1),r=s=new v(0),a=(i=(t=new v(r)).e=_E(p)-h.e-1)%7,t.d[0]=uE(10,a<0?7+a:a),null==e)e=i>0?t:u;else{if(!(l=new v(e)).isInt()||l.lt(u))throw Error(oE+l);e=l.gt(t)?i>0?t:u:l}for(nE=!1,l=new v(yE(p)),c=v.precision,v.precision=i=7*p.length*2;d=xE(l,t,0,1,1),1!=(o=n.plus(d.times(r))).cmp(e);)n=r,r=o,o=u,u=s.plus(d.times(o)),s=o,o=t,t=l.minus(d.times(o)),l=o;return o=xE(e.minus(n),r,0,1,1),s=s.plus(o.times(u)),n=n.plus(o.times(r)),s.s=u.s=h.s,f=xE(u,r,i,1).minus(h).abs().cmp(xE(s,n,i,1).minus(h).abs())<1?[u,r]:[s,n],v.precision=c,nE=!0,f},mE.toHexadecimal=mE.toHex=function(e,t){return $E(this,16,e,t)},mE.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:bE(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(nE=!1,n=xE(n,e,0,t,1).times(e),nE=!0,SE(n)):(e.s=n.s,n=e),n},mE.toNumber=function(){return+this},mE.toOctal=function(e,t){return $E(this,8,e,t)},mE.toPower=mE.pow=function(e){var t,n,r,o,i,a,l=this,s=l.constructor,u=+(e=new s(e));if(!(l.d&&e.d&&l.d[0]&&e.d[0]))return new s(uE(+l,u));if((l=new s(l)).eq(1))return l;if(r=s.precision,i=s.rounding,e.eq(1))return SE(l,r,i);if((t=sE(e.e/7))>=e.d.length-1&&(n=u<0?-u:u)<=9007199254740991)return o=ME(s,l,n,r),e.s<0?new s(1).div(o):SE(o,r,i);if((a=l.s)<0){if(t<e.d.length-1)return new s(NaN);if(0==(1&e.d[t])&&(a=1),0==l.e&&1==l.d[0]&&1==l.d.length)return l.s=a,l}return(t=0!=(n=uE(+l,u))&&isFinite(n)?new s(n+"").e:sE(u*(Math.log("0."+yE(l.d))/Math.LN10+l.e+1)))>s.maxE+1||t<s.minE-1?new s(t>0?a/0:0):(nE=!1,s.rounding=l.s=1,n=Math.min(12,(t+"").length),(o=AE(e.times(DE(l,r+n)),r)).d&&CE((o=SE(o,r+5,1)).d,r,i)&&(t=r+10,+yE((o=SE(AE(e.times(DE(l,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(o=SE(o,r+1,0))),o.s=a,nE=!0,s.rounding=i,SE(o,r,i))},mE.toPrecision=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=EE(r,r.e<=o.toExpNeg||r.e>=o.toExpPos):(bE(e,1,KS),void 0===t?t=o.rounding:bE(t,0,8),n=EE(r=SE(new o(r),e,t),e<=r.e||r.e<=o.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},mE.toSignificantDigits=mE.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(bE(e,1,KS),void 0===t?t=n.rounding:bE(t,0,8)),SE(new n(this),e,t)},mE.toString=function(){var e=this,t=e.constructor,n=EE(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},mE.truncated=mE.trunc=function(){return SE(new this.constructor(this),this.e+1,1)},mE.valueOf=mE.toJSON=function(){var e=this,t=e.constructor,n=EE(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var xE=function(){function e(e,t,n){var r,o=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+o,e[i]=r%n|0,o=r/n|0;return o&&e.unshift(o),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,i,a,l,s){var u,c,d,f,h,p,v,g,m,y,b,C,w,x,S,E,I,O,L,_,T=r.constructor,M=r.s==o.s?1:-1,R=r.d,N=o.d;if(!(R&&R[0]&&N&&N[0]))return new T(r.s&&o.s&&(R?!N||R[0]!=N[0]:N)?R&&0==R[0]||!N?0*M:M/0:NaN);for(s?(h=1,c=r.e-o.e):(s=pE,h=7,c=sE(r.e/h)-sE(o.e/h)),L=N.length,I=R.length,y=(m=new T(M)).d=[],d=0;N[d]==(R[d]||0);d++);if(N[d]>(R[d]||0)&&c--,null==i?(x=i=T.precision,a=T.rounding):x=l?i+(r.e-o.e)+1:i,x<0)y.push(1),p=!0;else{if(x=x/h+2|0,d=0,1==L){for(f=0,N=N[0],x++;(d<I||f)&&x--;d++)S=f*s+(R[d]||0),y[d]=S/N|0,f=S%N|0;p=f||d<I}else{for((f=s/(N[0]+1)|0)>1&&(N=e(N,f,s),R=e(R,f,s),L=N.length,I=R.length),E=L,C=(b=R.slice(0,L)).length;C<L;)b[C++]=0;(_=N.slice()).unshift(0),O=N[0],N[1]>=s/2&&++O;do{f=0,(u=t(N,b,L,C))<0?(w=b[0],L!=C&&(w=w*s+(b[1]||0)),(f=w/O|0)>1?(f>=s&&(f=s-1),1==(u=t(v=e(N,f,s),b,g=v.length,C=b.length))&&(f--,n(v,L<g?_:N,g,s))):(0==f&&(u=f=1),v=N.slice()),(g=v.length)<C&&v.unshift(0),n(b,v,C,s),-1==u&&(u=t(N,b,L,C=b.length))<1&&(f++,n(b,L<C?_:N,C,s)),C=b.length):0===u&&(f++,b=[0]),y[d++]=f,u&&b[0]?b[C++]=R[E]||0:(b=[R[E]],C=1)}while((E++<I||void 0!==b[0])&&x--);p=void 0!==b[0]}y[0]||y.shift()}if(1==h)m.e=c,HS=p;else{for(d=1,f=y[0];f>=10;f/=10)d++;m.e=d+c*h-1,SE(m,l?i+m.e+1:i,a,p)}return m}}();function SE(e,t,n,r){var o,i,a,l,s,u,c,d,f,h=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(o=1,l=d[0];l>=10;l/=10)o++;if((i=t-o)<0)i+=7,a=t,s=(c=d[f=0])/uE(10,o-a-1)%10|0;else if((f=Math.ceil((i+1)/7))>=(l=d.length)){if(!r)break e;for(;l++<=f;)d.push(0);c=s=0,o=1,a=(i%=7)-7+1}else{for(c=l=d[f],o=1;l>=10;l/=10)o++;s=(a=(i%=7)-7+o)<0?0:c/uE(10,o-a-1)%10|0}if(r=r||t<0||void 0!==d[f+1]||(a<0?c:c%uE(10,o-a-1)),u=n<4?(s||r)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||r||6==n&&(i>0?a>0?c/uE(10,o-a):0:d[f-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=uE(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==i?(d.length=f,l=1,f--):(d.length=f+1,l=uE(10,7-i),d[f]=a>0?(c/uE(10,o-a)%uE(10,a)|0)*l:0),u)for(;;){if(0==f){for(i=1,a=d[0];a>=10;a/=10)i++;for(a=d[0]+=l,l=1;a>=10;a/=10)l++;i!=l&&(e.e++,d[0]==pE&&(d[0]=1));break}if(d[f]+=l,d[f]!=pE)break;d[f--]=0,l=1}for(i=d.length;0===d[--i];)d.pop()}return nE&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function EE(e,t,n){if(!e.isFinite())return BE(e);var r,o=e.e,i=yE(e.d),a=i.length;return t?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+TE(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):o<0?(i="0."+TE(-o-1)+i,n&&(r=n-a)>0&&(i+=TE(r))):o>=a?(i+=TE(o+1-a),n&&(r=n-o-1)>0&&(i=i+"."+TE(r))):((r=o+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(o+1===a&&(i+="."),i+=TE(r))),i}function IE(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function OE(e,t,n){if(t>vE)throw nE=!0,n&&(e.precision=n),Error(iE);return SE(new e(JS),t,1,!0)}function LE(e,t,n){if(t>gE)throw Error(iE);return SE(new e(eE),t,n,!0)}function _E(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function TE(e){for(var t="";e--;)t+="0";return t}function ME(e,t,n,r){var o,i=new e(1),a=Math.ceil(r/7+4);for(nE=!1;;){if(n%2&&jE((i=i.times(t)).d,a)&&(o=!0),0===(n=sE(n/2))){n=i.d.length-1,o&&0===i.d[n]&&++i.d[n];break}jE((t=t.times(t)).d,a)}return nE=!0,i}function RE(e){return 1&e.d[e.d.length-1]}function NE(e,t,n){for(var r,o=new e(t[0]),i=0;++i<t.length;){if(!(r=new e(t[i])).s){o=r;break}o[n](r)&&(o=r)}return o}function AE(e,t){var n,r,o,i,a,l,s,u=0,c=0,d=0,f=e.constructor,h=f.rounding,p=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(nE=!1,s=p):s=t,l=new f(.03125);e.e>-2;)e=e.times(l),d+=5;for(s+=r=Math.log(uE(2,d))/Math.LN10*2+5|0,n=i=a=new f(1),f.precision=s;;){if(i=SE(i.times(e),s,1),n=n.times(++c),yE((l=a.plus(xE(i,n,s,1))).d).slice(0,s)===yE(a.d).slice(0,s)){for(o=d;o--;)a=SE(a.times(a),s,1);if(null!=t)return f.precision=p,a;if(!(u<3&&CE(a.d,s-r,h,u)))return SE(a,f.precision=p,h,nE=!0);f.precision=s+=10,n=i=l=new f(1),c=0,u++}a=l}}function DE(e,t){var n,r,o,i,a,l,s,u,c,d,f,h=1,p=e,v=p.d,g=p.constructor,m=g.rounding,y=g.precision;if(p.s<0||!v||!v[0]||!p.e&&1==v[0]&&1==v.length)return new g(v&&!v[0]?-1/0:1!=p.s?NaN:v?0:p);if(null==t?(nE=!1,c=y):c=t,g.precision=c+=10,r=(n=yE(v)).charAt(0),!(Math.abs(i=p.e)<15e14))return u=OE(g,c+2,y).times(i+""),p=DE(new g(r+"."+n.slice(1)),c-10).plus(u),g.precision=y,null==t?SE(p,y,m,nE=!0):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=yE((p=p.times(e)).d)).charAt(0),h++;for(i=p.e,r>1?(p=new g("0."+n),i++):p=new g(r+"."+n.slice(1)),d=p,s=a=p=xE(p.minus(1),p.plus(1),c,1),f=SE(p.times(p),c,1),o=3;;){if(a=SE(a.times(f),c,1),yE((u=s.plus(xE(a,new g(o),c,1))).d).slice(0,c)===yE(s.d).slice(0,c)){if(s=s.times(2),0!==i&&(s=s.plus(OE(g,c+2,y).times(i+""))),s=xE(s,new g(h),c,1),null!=t)return g.precision=y,s;if(!CE(s.d,c-10,m,l))return SE(s,g.precision=y,m,nE=!0);g.precision=c+=10,u=a=p=xE(d.minus(1),d.plus(1),c,1),f=SE(p.times(p),c,1),o=l=1}s=u,o+=2}}function BE(e){return String(e.s*e.s/0)}function kE(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(o=t.length;48===t.charCodeAt(o-1);--o);if(t=t.slice(r,o)){if(o-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=7;r<o;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=o;for(;r--;)t+="0";e.d.push(+t),nE&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function PE(e,t){var n,r,o,i,a,l,s,u,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),hE.test(t))return kE(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(dE.test(t))n=16,t=t.toLowerCase();else if(cE.test(t))n=2;else{if(!fE.test(t))throw Error(oE+t);n=8}for((i=t.search(/p/i))>0?(s=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),a=(i=t.indexOf("."))>=0,r=e.constructor,a&&(i=(l=(t=t.replace(".","")).length)-i,o=ME(r,new r(n),i,2*i)),i=c=(u=wE(t,n,pE)).length-1;0===u[i];--i)u.pop();return i<0?new r(0*e.s):(e.e=IE(u,c),e.d=u,nE=!1,a&&(e=xE(e,o,4*l)),s&&(e=e.times(Math.abs(s)<54?uE(2,s):MI.pow(2,s))),nE=!0,e)}function zE(e,t,n,r,o){var i,a,l,s,u=e.precision,c=Math.ceil(u/7);for(nE=!1,s=n.times(n),l=new e(r);;){if(a=xE(l.times(s),new e(t++*t++),u,1),l=o?r.plus(a):r.minus(a),r=xE(a.times(s),new e(t++*t++),u,1),void 0!==(a=l.plus(r)).d[c]){for(i=c;a.d[i]===l.d[i]&&i--;);if(-1==i)break}i=l,l=r,r=a,a=i}return nE=!0,a.d.length=c+1,a}function FE(e,t){for(var n=e;--t;)n*=e;return n}function HE(e,t){var n,r=t.s<0,o=LE(e,e.precision,1),i=o.times(.5);if((t=t.abs()).lte(i))return $S=r?4:1,t;if((n=t.divToInt(o)).isZero())$S=r?3:2;else{if((t=t.minus(n.times(o))).lte(i))return $S=RE(n)?r?2:3:r?4:1,t;$S=RE(n)?r?1:4:r?3:2}return t.minus(o).abs()}function $E(e,t,n,r){var o,i,a,l,s,u,c,d,f,h=e.constructor,p=void 0!==n;if(p?(bE(n,1,KS),void 0===r?r=h.rounding:bE(r,0,8)):(n=h.precision,r=h.rounding),e.isFinite()){for(p?(o=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):o=t,(a=(c=EE(e)).indexOf("."))>=0&&(c=c.replace(".",""),(f=new h(1)).e=c.length-a,f.d=wE(EE(f),10,o),f.e=f.d.length),i=s=(d=wE(c,10,o)).length;0==d[--s];)d.pop();if(d[0]){if(a<0?i--:((e=new h(e)).d=d,e.e=i,d=(e=xE(e,f,n,r,0,o)).d,i=e.e,u=HS),a=d[n],l=o/2,u=u||void 0!==d[n+1],u=r<4?(void 0!==a||u)&&(0===r||r===(e.s<0?3:2)):a>l||a===l&&(4===r||u||6===r&&1&d[n-1]||r===(e.s<0?8:7)),d.length=n,u)for(;++d[--n]>o-1;)d[n]=0,n||(++i,d.unshift(1));for(s=d.length;!d[s-1];--s);for(a=0,c="";a<s;a++)c+=QS.charAt(d[a]);if(p){if(s>1)if(16==t||8==t){for(a=16==t?4:3,--s;s%a;s++)c+="0";for(s=(d=wE(c,o,t)).length;!d[s-1];--s);for(a=1,c="1.";a<s;a++)c+=QS.charAt(d[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)c="0"+c;c="0."+c}else if(++i>s)for(i-=s;i--;)c+="0";else i<s&&(c=c.slice(0,i)+"."+c.slice(i))}else c=p?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=BE(e);return e.s<0?"-"+c:c}function jE(e,t){if(e.length>t)return e.length=t,!0}function WE(e){return new this(e).abs()}function GE(e){return new this(e).acos()}function ZE(e){return new this(e).acosh()}function VE(e,t){return new this(e).plus(t)}function UE(e){return new this(e).asin()}function YE(e){return new this(e).asinh()}function XE(e){return new this(e).atan()}function qE(e){return new this(e).atanh()}function KE(e,t){e=new this(e),t=new this(t);var n,r=this.precision,o=this.rounding,i=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?LE(this,r,o):new this(0)).s=e.s:!e.d||t.isZero()?(n=LE(this,i,1).times(.5)).s=e.s:t.s<0?(this.precision=i,this.rounding=1,n=this.atan(xE(e,t,i,1)),t=LE(this,i,1),this.precision=r,this.rounding=o,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(xE(e,t,i,1)):(n=LE(this,i,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function QE(e){return new this(e).cbrt()}function JE(e){return SE(e=new this(e),e.e+1,2)}function eI(e,t,n){return new this(e).clamp(t,n)}function tI(e){if(!e||"object"!=typeof e)throw Error(rE+"Object expected");var t,n,r,o=!0===e.defaults,i=["precision",1,KS,"rounding",0,8,"toExpNeg",-qS,0,"toExpPos",0,qS,"maxE",0,qS,"minE",-qS,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(n=i[t],o&&(this[n]=tE[n]),void 0!==(r=e[n])){if(!(sE(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(oE+n+": "+r);this[n]=r}if(n="crypto",o&&(this[n]=tE[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(oE+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(aE);this[n]=!0}else this[n]=!1}return this}function nI(e){return new this(e).cos()}function rI(e){return new this(e).cosh()}function oI(e,t){return new this(e).div(t)}function iI(e){return new this(e).exp()}function aI(e){return SE(e=new this(e),e.e+1,3)}function lI(){var e,t,n=new this(0);for(nE=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return nE=!0,new this(1/0);n=t}return nE=!0,n.sqrt()}function sI(e){return e instanceof MI||e&&e.toStringTag===lE||!1}function uI(e){return new this(e).ln()}function cI(e,t){return new this(e).log(t)}function dI(e){return new this(e).log(2)}function fI(e){return new this(e).log(10)}function hI(){return NE(this,arguments,"lt")}function pI(){return NE(this,arguments,"gt")}function vI(e,t){return new this(e).mod(t)}function gI(e,t){return new this(e).mul(t)}function mI(e,t){return new this(e).pow(t)}function yI(e){var t,n,r,o,i=0,a=new this(1),l=[];if(void 0===e?e=this.precision:bE(e,1,KS),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));i<r;)(o=t[i])>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:l[i++]=o%1e7;else{if(!crypto.randomBytes)throw Error(aE);for(t=crypto.randomBytes(r*=4);i<r;)(o=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((127&t[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,i):(l.push(o%1e7),i+=4);i=r/4}else for(;i<r;)l[i++]=1e7*Math.random()|0;for(e%=7,(r=l[--i])&&e&&(o=uE(10,7-e),l[i]=(r/o|0)*o);0===l[i];i--)l.pop();if(i<0)n=0,l=[0];else{for(n=-1;0===l[0];n-=7)l.shift();for(r=1,o=l[0];o>=10;o/=10)r++;r<7&&(n-=7-r)}return a.e=n,a.d=l,a}function bI(e){return SE(e=new this(e),e.e+1,this.rounding)}function CI(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function wI(e){return new this(e).sin()}function xI(e){return new this(e).sinh()}function SI(e){return new this(e).sqrt()}function EI(e,t){return new this(e).sub(t)}function II(){var e=0,t=arguments,n=new this(t[e]);for(nE=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return nE=!0,SE(n,this.precision,this.rounding)}function OI(e){return new this(e).tan()}function LI(e){return new this(e).tanh()}function _I(e){return SE(e=new this(e),e.e+1,1)}mE[Symbol.for("nodejs.util.inspect.custom")]=mE.toString,mE[Symbol.toStringTag]="Decimal";var TI,MI=mE.constructor=function e(t){var n,r,o;function i(e){var t,n,r,o=this;if(!(o instanceof i))return new i(e);if(o.constructor=i,sI(e))return o.s=e.s,void(nE?!e.d||e.e>i.maxE?(o.e=NaN,o.d=null):e.e<i.minE?(o.e=0,o.d=[0]):(o.e=e.e,o.d=e.d.slice()):(o.e=e.e,o.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return o.s=1/e<0?-1:1,o.e=0,void(o.d=[0]);if(e<0?(e=-e,o.s=-1):o.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(nE?t>i.maxE?(o.e=NaN,o.d=null):t<i.minE?(o.e=0,o.d=[0]):(o.e=t,o.d=[e]):(o.e=t,o.d=[e]))}return 0*e!=0?(e||(o.s=NaN),o.e=NaN,void(o.d=null)):kE(o,e.toString())}if("string"!==r)throw Error(oE+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),o.s=-1):(43===n&&(e=e.slice(1)),o.s=1),hE.test(e)?kE(o,e):PE(o,e)}if(i.prototype=mE,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=tI,i.clone=e,i.isDecimal=sI,i.abs=WE,i.acos=GE,i.acosh=ZE,i.add=VE,i.asin=UE,i.asinh=YE,i.atan=XE,i.atanh=qE,i.atan2=KE,i.cbrt=QE,i.ceil=JE,i.clamp=eI,i.cos=nI,i.cosh=rI,i.div=oI,i.exp=iI,i.floor=aI,i.hypot=lI,i.ln=uI,i.log=cI,i.log10=fI,i.log2=dI,i.max=hI,i.min=pI,i.mod=vI,i.mul=gI,i.pow=mI,i.random=yI,i.round=bI,i.sign=CI,i.sin=wI,i.sinh=xI,i.sqrt=SI,i.sub=EI,i.sum=II,i.tan=OI,i.tanh=LI,i.trunc=_I,void 0===t&&(t={}),t&&!0!==t.defaults)for(o=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<o.length;)t.hasOwnProperty(r=o[n++])||(t[r]=this[r]);return i.config(t),i}(tE);JS=new MI(JS),eE=new MI(eE);var RI,NI=function(e){return"number"==typeof e?Number.isNaN(e):!e||("string"!=typeof e||Number.isNaN(Number(e)))},AI=function(e,t,n){return void 0===n&&(n=!1),(null==e?void 0:e.length)?e.reduce((function(e,r){var o=Xu(r,t),i=NI(o);if(n&&i)return e;var a=i?0:o;return e.push(new MI(a)),e}),[]):[]},DI=function(e,t){var n=AI(e,t);return n.length?MI.sum.apply(MI,Ia([],Ea(n),!1)).toNumber():0},BI=function(e,t,n){var r=AI(t,n,!0);if(null==r?void 0:r.length)return MI[e].apply(MI,Ia([],Ea(r),!1)).toNumber()},kI=((TI={})[KC.SUM]=DI,TI[KC.MIN]=function(e,t){return BI("min",e,t)},TI[KC.MAX]=function(e,t){return BI("max",e,t)},TI[KC.AVG]=function(e,t){var n=AI(e,t);return(null==n?void 0:n.length)?MI.sum.apply(MI,Ia([],Ea(n),!1)).dividedBy(n.length).toNumber():0},TI),PI=function(e){return wa({operator:{onClick:Pl,menus:[]},enterable:!0,enableFormat:!0},e)},zI=function(e){return wa(wa({},null==e?void 0:e.colQuery),null==e?void 0:e.rowQuery)},FI=function(e,t){var n;if(e){var r=t.style,o=t.className,i=void 0===o?[]:o,a=t.visible;if(r&&Object.assign(e.style,r),i.length){var l=i.filter(Boolean);(n=e.classList).add.apply(n,Ia([],Ea(l),!1))}e.classList.toggle(pC,a),e.classList.toggle(vC,!a)}},HI=function(e,t){var n,r=null===(n=null==e?void 0:e.dataSet)||void 0===n?void 0:n.getFieldFormatter(t);return function(e,t){return n=r(e,t),o=zv(n)&&Number.isNaN(n),i=""===n,$v(n)||o||i?"-":n;var n,o,i}},$I=function(e,t){var n,r=t.data,o=t.field,i=t.valueField,a=t.useCompleteDataForFormatter,l=void 0===a||a,s=null===(n=null==e?void 0:e.dataSet)||void 0===n?void 0:n.getFieldName(o),u=HI(e,o),c=Ka(r[o])?JSON.stringify(r[o]):r[o];return{name:s,value:u(i||c,l?r:void 0)}},jI=function(e,t,n){return Dp(xp(Nf([],t),(function(e){return e!==mi&&n[e]})),(function(t){return $I(e,{data:n,field:t,useCompleteDataForFormatter:!1})}))},WI=function(e,t,n){if(t){var r=n.isTotals,o=t[mi],i=t[o],a=[];if(r)a.push($I(e,{data:t,field:o,valueField:Xu(t,gi)}));else if(function(e){return Ka(e)&&"values"in e}(i)&&e.getTooltipDataItemMappingCallback()){var l=Ex(t,e.getTooltipDataItemMappingCallback());tp(l,(function(t,n){a.push($I(e,{data:l,field:n}))}))}else a.push($I(e,{data:t,field:o}));return a}},GI=function(e,t,n){void 0===n&&(n=!0);var r=[];return tp(t,(function(t,o){tp(e,(function(e){n||-1===e.colIndex?n&&-1!==e.rowIndex&&r.push([e.rowIndex,o]):r.push([o,e.colIndex])}))})),r},ZI=function(e,t,n){var r,o=null===(r=e.facet)||void 0===r?void 0:r.layoutResult,i=function(e){var n=null==t?void 0:t.getMeta(),r=null==n?void 0:n.isTotals,i=(null==t?void 0:t.cellType)===ea.COL_CELL,a=(null==t?void 0:t.cellType)===ea.ROW_CELL;if(!i&&!a)return!1;var l=o.colNodes.find((function(t){return t.colIndex===e.colIndex})),s=o.rowNodes.find((function(t){return t.rowIndex===e.rowIndex})),u=i?null==s?void 0:s.isTotals:null==l?void 0:l.isTotals;return!r&&(null==e?void 0:e.isTotals)||r&&u};if(n){var a=function(e,t){var n,r=t.rowLeafNodes,o=t.colLeafNodes,i=e.interaction.getState(),a=i.nodes,l=void 0===a?[]:a,s=i.cells,u=void 0===s?[]:s,c=null===(n=null==u?void 0:u[0])||void 0===n?void 0:n.type;return c===ea.COL_CELL?GI(l,r,!1):c===ea.ROW_CELL?GI(l,o):[]}(e,o);return Rf(Dp(a,(function(e){var t=Ea(e,2),n=t[0],r=t[1],a=o.getCellMeta(n,r);if(!i(a))return(null==a?void 0:a.data)||zI(a)})))}return e.interaction.getCells().filter((function(e){var t=o.getCellMeta(e.rowIndex,e.colIndex);return!i(t)})).map((function(e){var t=o.getCellMeta(e.rowIndex,e.colIndex);return(null==t?void 0:t.data)||zI(t)}))},VI=function(e){var t=e.spreadsheet,n=e.targetCell,r=e.options,o=void 0===r?{}:r,i=[],a={};return t.isTableMode()&&(null==o?void 0:o.showSingleTips)?[{selectedData:t.dataSet.getMultiData({}),name:"",value:""}]:(tp(ZI(t,n,o.showSingleTips),(function(e){var t;a[null==e?void 0:e[mi]]?null===(t=a[null==e?void 0:e[mi]])||void 0===t||t.push(e):a[null==e?void 0:e[mi]]=[e]})),ig(a,(function(e,n){var r,l=function(e,t,n){var r;if(n)return dC("总计");var o=null===(r=null==e?void 0:e.dataSet)||void 0===r?void 0:r.getFieldName(t);return o&&"undefined"!==o?o:""}(t,n,null==o?void 0:o.isTotals),s="",u="";if(bp(e,(function(e){return NI(Xu(e,gi))}))){var c=t.options.placeholder,d=Hw(a,c);s=d,u=d}else{var f=HI(t,n),h=DI(e,gi);u=h,s=null!==(r=null==f?void 0:f(h,e))&&void 0!==r?r:parseFloat(h.toPrecision(16))}i.push({selectedData:e,name:l,value:s,originValue:u})})),i)},UI=function(e){var t=e.spreadsheet,n=e.cellInfos,r=void 0===n?[]:n,o=e.options,i=void 0===o?{}:o,a=e.targetCell,l=null,s=null,u=null,c=function(e){if(e){var t=e.getMeta();if(!t.isTotals){var n=Op(t.spreadsheet.dataCfg.meta,{field:t.field||t.value||t.valueField}),r=null==n?void 0:n.field;return t.spreadsheet.dataSet.getFieldDescription(r)}}}(a),d=r[0]||{};if(null==i?void 0:i.hideSummary)if(i.showSingleTips){var f=HI(t,d.valueField)(d.value),h=i.enableFormat?t.dataSet.getFieldName(d.value)||f:t.dataSet.getFieldName(d.valueField);d.name=h||""}else s=function(e,t,n){var r,o,i,a,l=(n||{}).isTotals,s=[],u=[];if(t){var c=null===(o=null===(r=null==e?void 0:e.dataSet)||void 0===r?void 0:r.fields)||void 0===o?void 0:o.columns,d=null===(a=null===(i=null==e?void 0:e.dataSet)||void 0===i?void 0:i.fields)||void 0===a?void 0:a.rows;s=jI(e,WC(c||[]),t),u=jI(e,d,t)}return Dv(s)&&Dv(u)&&l&&(s=[{value:dC("总计")}]),{cols:s,rows:u}}(t,d,i),u=WI(t,d,i);else l=VI({spreadsheet:t,options:i,targetCell:a});var p=d||{};return{summaries:l,interpretation:p.interpretation,infos:p.infos,tips:p.tips,name:p.name,headInfo:s,details:u,description:c}},YI=function(e){if(!e.interaction.isSelectedState())return[];var t=e.dataCfg.fields.valueInCols;return e.interaction.getCells().reduce((function(n,r){var o=e.facet.layoutResult.getCellMeta(null==r?void 0:r.rowIndex,null==r?void 0:r.colIndex),i=zI(o);if(Dv(o)||Dv(i))return[];var a=wa(wa({},i),{colIndex:t?o.colIndex:null,rowIndex:t?null:o.rowIndex});return n.find((function(e){return Bv(a,e)}))||n.push(a),n}),[])},XI=function(e,t){var n;if(t&&e){var r=null===(n=e.getCellType)||void 0===n?void 0:n.call(e,null==t?void 0:t.target);return function(e,t){void 0===e&&(e={});var n=function(t){return VS(e,t)},r=e.col,o=e.row,i=e.data,a=e.corner;return t===ea.COL_CELL?n(r):t===ea.ROW_CELL?n(o):t===ea.DATA_CELL?n(i):t===ea.CORNER_CELL?n(a):wa({},e)}(e.options.tooltip,r)}},qI=function(e,t){var n=t.defaultMenus,r=void 0===n?[]:n,o=t.cell,i=function(e){return void 0===e&&(e=[]),e.filter((function(e){var t;return ll(e.visible)?e.visible(o):null===(t=e.visible)||void 0===t||t})).map((function(e){return e.children&&(e.children=i(e.children)),e}))},a=i(e.menus);return{onClick:e.onClick,menus:Rf(Ia(Ia([],Ea(r),!1),Ea(a),!1))}},KI=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"".concat(Vi,"-").concat(e.join("-"))},QI=function(){function e(e){var t=this;this.getFieldMeta=Hu((function(e,n){return Op(t.meta||n,(function(t){return t.field===e}))})),this.spreadsheet=e}return e.prototype.getFieldName=function(e){return Xu(this.getFieldMeta(e,this.meta),"name",e)},e.prototype.getFieldFormatter=function(e){return Xu(this.getFieldMeta(e,this.meta),"formatter",al)},e.prototype.getFieldDescription=function(e){return Xu(this.getFieldMeta(e,this.meta),"description")},e.prototype.setDataCfg=function(e){this.getFieldMeta.cache.clear();var t=this.processDataCfg(e),n=t.fields,r=t.meta,o=t.data,i=t.totalData,a=t.sortParams,l=t.filterParams;this.fields=n,this.meta=r,this.originData=o,this.totalData=i,this.sortParams=a,this.filterParams=l,this.displayData=this.originData,this.indexesData=[]},e.prototype.processMeta=function(e,t){var n,r;return void 0===e&&(e=[]),Ia(Ia([],Ea(e),!1),[tS(e,null===(r=null===(n=this.spreadsheet)||void 0===n?void 0:n.options)||void 0===r?void 0:r.cornerExtraFieldText,t)],!1)},e.prototype.getDisplayDataSet=function(){return this.displayData},e.prototype.getValueRangeByField=function(e){var t,n,r,o=(n=this.spreadsheet,r=e,n.store.get(Ui,Yi)[r]);if(o)return o;var i=Rf(Dp(this.originData,(function(t){var n=t[e];return $v(n)?null:Number.parseFloat(n)}))),a={maxValue:sg(i),minValue:yg(i)};return function(e,t){var n=e.store.get(Ui,Yi);e.store.set(Ui,wa(wa({},n),t))}(this.spreadsheet,((t={})[e]=a,t)),a},e.prototype.moreThanOneValue=function(){var e,t;return(null===(t=null===(e=this.fields)||void 0===e?void 0:e.values)||void 0===t?void 0:t.length)>1},e}(),JI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDimensionValuesSort=function(){tp(t.sortParams,(function(e){var n=e.sortFieldId,r=e.sortByMeasure;if(n){var o=Ia([],Ea(t.sortedDimensionValues[n]||[]),!1),i=fS({dataSet:t,sortParam:e,originValues:o,isSortByMeasure:!Dv(r)});t.sortedDimensionValues[n]=i}}))},t.getCustomData=function(e){for(var n,r=!1,o=t.indexesData,i=function(t){var i=e[t];r?o=Zv(i)?lw(o):null===(n=nv(o))||void 0===n?void 0:n.map((function(e){return e&&Xu(e,i)})):Zv(i)?r=!0:o=null==o?void 0:o[i]},a=0;a<e.length;a++)i(a);return o},t.getTotalStatus=function(e){var n=t.fields,r=n.columns,o=n.rows,i=function(t,n){if(n){var r=Op(t,(function(t){return!qp(e,t)}));return r&&r!==Np(t)}return bp(t,(function(t){return!qp(e,t)}))},a=function(e,t){return t?e.filter((function(e){return e!==mi})):e};return{isRowTotal:i(a(o,!t.spreadsheet.isValueInCols())),isRowSubTotal:i(o,!0),isColTotal:i(a(r,t.spreadsheet.isValueInCols())),isColSubTotal:i(r,!0)}},t}return Ca(t,e),t.prototype.setDataCfg=function(t){var n=this;e.prototype.setDataCfg.call(this,t),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map,this.totalData=[].concat(cw(t.data,t.fields)).concat(this.totalData),ZC.getInstance().debugCallback("Transform Data",(function(){var e=n.fields,t=Jx({rows:e.rows,columns:e.columns,originData:n.originData,totalData:n.totalData,indexesData:n.indexesData,sortedDimensionValues:n.sortedDimensionValues,rowPivotMeta:n.rowPivotMeta,colPivotMeta:n.colPivotMeta}).indexesData;n.indexesData=t})),this.handleDimensionValuesSort()},t.prototype.transformDrillDownData=function(e,t,n){var r,o=this,i=this.fields,a=i.columns,l=i.values,s=Ia(Ia([],Ea(wC.getFieldPath(n,!0)),!1),[e],!1),u=this.spreadsheet.store,c=this.standardTransform(t,l),d=cw(c,{columns:this.fields.columns,rows:s}),f=Vh(c,d),h=null==n?void 0:n.id,p=null!==(r=u.get("drillDownIdPathMap"))&&void 0!==r?r:new Map;p.has(h)&&(tp(p.get(h),(function(e){lb(o.indexesData,e)})),eS(this.rowPivotMeta,h));var v=Jx({rows:s,columns:a,originData:f,totalData:d,indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),g=v.paths,m=v.indexesData,y=v.rowPivotMeta,b=v.colPivotMeta,C=v.sortedDimensionValues;this.indexesData=m,this.rowPivotMeta=y,this.colPivotMeta=b,this.sortedDimensionValues=C,p.set(h,g),u.set("drillDownIdPathMap",p)},t.prototype.clearDrillDownData=function(e){var t=this,n=this.spreadsheet.store,r=n.get("drillDownIdPathMap");if(r){var o=n.get("drillDownDataCache",[]);if(e){var i=r.get(e);i&&tp(i,(function(e){lb(t.indexesData,e)})),eS(this.rowPivotMeta,e),r.delete(e);var a=xp(o,(function(e){return r.has(null==e?void 0:e.rowId)}));n.set("drillDownDataCache",a);var l=a.map((function(e){return null==e?void 0:e.drillLevel})),s=n.get("drillDownFieldInLevel",[]).filter((function(e){return ov(l,null==e?void 0:e.drillLevel)}));n.set("drillDownFieldInLevel",s)}else{r.clear();var u=this.spreadsheet.store.get("originalDataCfg");Dv(u)||this.spreadsheet.setDataCfg(u),this.spreadsheet.store.set("drillItemsNum",-1),this.spreadsheet.store.set("drillDownDataCache",[]),this.spreadsheet.store.set("drillDownFieldInLevel",[])}n.set("drillDownIdPathMap",r)}},t.prototype.standardTransform=function(e,t){if(Dv(t))return e;var n=[];return tp(t,(function(t){tp(e,(function(e){var r;qp(e,t)&&n.push(wa(wa({},e),((r={})[mi]=t,r[gi]=e[t],r)))}))})),n},t.prototype.processDataCfg=function(e){var t=e.data,n=e.meta,r=void 0===n?[]:n,o=e.fields,i=e.sortParams,a=void 0===i?[]:i,l=e.totalData,s=o.columns,u=o.rows,c=o.values,d=o.valueInCols,f=o.customValueOrder,h=s,p=u;d?h=this.isCustomMeasuresPosition(f)?this.handleCustomMeasuresOrder(f,h):ob(Ia(Ia([],Ea(s),!1),[mi],!1)):p=this.isCustomMeasuresPosition(f)?this.handleCustomMeasuresOrder(f,p):ob(Ia(Ia([],Ea(u),!1),[mi],!1));var v=this.processMeta(r,dC("数值")),g=this.standardTransform(t,c),m=this.standardTransform(l,c);return{data:g,meta:v,fields:wa(wa({},o),{rows:p,columns:h,values:c}),totalData:m,sortParams:a}},t.prototype.getDimensionValues=function(e,t){var n,r,o,i,a=this.fields||{},l=a.rows,s=void 0===l?[]:l,u=a.columns,c=void 0===u?[]:u,d=new Map,f=[];if(ov(s,e)?(d=this.rowPivotMeta,f=s):ov(c,e)&&(d=this.colPivotMeta,f=c),!Dv(t)){var h=[],p=[],v=function(e){var n=Xu(t,e);p.push("".concat(n));var r=p.join("".concat(zi));if(d.has(n)&&!Zv(n)){var a=null===(o=d.get(n))||void 0===o?void 0:o.childField;if(d=d.get(n).children,Op(g.sortParams,(function(e){return e.sortFieldId===a}))&&g.sortedDimensionValues[a]){var l=null===(i=g.sortedDimensionValues[a])||void 0===i?void 0:i.filter((function(e){return null==e?void 0:e.startsWith(r)}));h=qx(Ia([],Ea(l),!1))}else h=Ia([],Ea(d.keys()),!1)}},g=this;try{for(var m=Sa(f),y=m.next();!y.done;y=m.next()){v(y.value)}}catch(e){n={error:e}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}return Dv(h)?[]:iw(ow(Ia([],Ea(d.keys()),!1),h))}return this.sortedDimensionValues[e]?iw(qx(Ia([],Ea(this.sortedDimensionValues[e]),!1))):iw(Ia([],Ea(d.keys()),!1))},t.prototype.getTotalValue=function(e){var t,n,r=function(e,t){var n=e.isRowTotal,r=e.isRowSubTotal,o=e.isColTotal,i=e.isColSubTotal,a=t||{},l=a.row,s=a.col,u=l||{},c=u.calcTotals,d=void 0===c?{}:c,f=u.calcSubTotals,h=void 0===f?{}:f,p=s||{},v=p.calcTotals,g=void 0===v?{}:v,m=p.calcSubTotals,y=void 0===m?{}:m,b=function(e,t){if((e.aggregation||e.calcFunc)&&t)return{aggregation:e.aggregation,calcFunc:e.calcFunc}};return b(g,o)||b(y,i)||b(d,n)||b(h,r)}(this.getTotalStatus(e),null===(n=this.spreadsheet.options)||void 0===n?void 0:n.totals)||{},o=r.aggregation,i=r.calcFunc,a=kI[o];if(a||i){var l=this.getMultiData(e),s=void 0;return i?s=i(e,l):a&&(s=a(l,gi)),wa(wa({},e),((t={})[gi]=s,t[e[mi]]=s,t))}},t.prototype.getCellData=function(e){var t,n,r,o=e||{},i=o.query,a=o.rowNode,l=o.isTotals,s=void 0!==l&&l,u=this.fields,c=u.columns,d=u.rows,f=d,h=null===(t=this.spreadsheet)||void 0===t?void 0:t.store.get("drillDownIdPathMap"),p=Array.from(null!==(n=null==h?void 0:h.keys())&&void 0!==n?n:[]).some((function(e){return a.id.startsWith(e)}));s&&!p||(f=null!==(r=wC.getFieldPath(a,p))&&void 0!==r?r:d);var v=Kx({rowDimensionValues:Qx(f,i),colDimensionValues:Qx(c,i),careUndefined:s||uw([].concat(d).concat(c),i),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),g=Xu(this.indexesData,v);return g||(s?this.getTotalValue(i):g)},t.prototype.getMultiData=function(e,t,n,r){var o;if(Dv(e))return Rf(aw(this.indexesData));var i=this.fields,a=i.rows,l=i.columns,s=i.values,u=Qx(Dv(r)?a:a.concat(r),e),c=Qx(l,e),d=Kx({rowDimensionValues:u,colDimensionValues:c,careUndefined:!0,isFirstCreate:!0,rowFields:a,colFields:l,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),f=this.getCustomData(d),h=Rf(lw(f));if(t){var p=[],v=sw(u,a),g=sw(c,l);if(n)p=v;else if(1===(null===(o=pu(e))||void 0===o?void 0:o.length)&&qp(e,mi))p=g;else{var m=function(e){return null==(t=null==e?void 0:e.filter((function(e){return!(null==s?void 0:s.includes(e))})))?void 0:t.every((function(e){return Zv(e)}));var t},y=m(c),b=m(u);p=y?v:b?g:Ia(Ia([],Ea(v),!1),Ea(g),!1)}h=h.filter((function(e){return!(null==p?void 0:p.find((function(t){var n;return t!==mi&&(null===(n=pu(e))||void 0===n?void 0:n.includes(t))})))}))}return h||[]},t.prototype.getFieldFormatter=function(t,n){return t===bi?this.getFieldFormatterForTotalValue(n):e.prototype.getFieldFormatter.call(this,t)},t.prototype.getFieldFormatterForTotalValue=function(t){var n;return!this.spreadsheet.isValueInCols()&&t&&(n=Xu(t.rowQuery,mi)),n=null!=n?n:Xu(this.fields.values,0),e.prototype.getFieldFormatter.call(this,n)},t.prototype.handleCustomMeasuresOrder=function(e,t){var n=ob(Ia([],Ea(t),!1));return t.length>=e?(n.splice(e,0,mi),n):Ia(Ia([],Ea(n),!1),[mi],!1)},t.prototype.isCustomMeasuresPosition=function(e){return zv(e)},t.prototype.getRowData=function(e){return this.getMultiData(e.rowQuery)},t}(QI),eO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDimensionValueFilter=function(){tp(t.filterParams,(function(e){var n=e.filterKey,r=e.filteredValues,o=e.customFilter,i=new Set(r),a=function(e){return!i.has(e[n])};t.displayData=Ia(Ia(Ia([],Ea(t.getStartRows()),!1),Ea(xp(t.getMovableRows(),(function(e){return o?o(e)&&a(e):a(e)}))),!1),Ea(t.getEndRows()),!1)}))},t.handleDimensionValuesSort=function(){tp(t.sortParams,(function(e){var n=e.sortFieldId,r=e.sortBy,o=e.sortFunc,i=e.sortMethod,a=e.query;if(n){var l=t.getMovableRows(),s=[];if(a){var u=[];l.forEach((function(e){for(var t=Object.keys(a),n=!0,r=0;r<t.length;r++){var o=t[r];if(e[o]!==a[o]){n=!1,s.push(e);break}}n&&u.push(e)})),l=u}var c=l;if(o)c=o(wa(wa({},e),{data:l}));else if(r&&!ll(r)){var d=Ia([],Ea(r),!1).reverse();c=l.sort((function(e,t){var r=d.indexOf(e[n]);return d.indexOf(t[n])-r}))}else if(nS(i)||rS(i)){c=Dg(l,[(ll(r)?r:null)||n],[i.toLocaleLowerCase()])}s.length&&(c=Ia(Ia([],Ea(c),!1),Ea(s),!1)),t.displayData=Ia(Ia(Ia([],Ea(t.getStartRows()),!1),Ea(c),!1),Ea(t.getEndRows()),!1)}}))},t}return Ca(t,e),t.prototype.processDataCfg=function(e){return e},t.prototype.setDataCfg=function(t){e.prototype.setDataCfg.call(this,t),this.handleDimensionValueFilter(),this.handleDimensionValuesSort()},t.prototype.getStartRows=function(){var e=(this.spreadsheet.options||{}).frozenRowCount;return e?this.displayData.slice(0,e):[]},t.prototype.getEndRows=function(){var e=(this.spreadsheet.options||{}).frozenTrailingRowCount;return e?this.displayData.slice(-e):[]},t.prototype.getMovableRows=function(){var e=this.displayData,t=this.spreadsheet.options||{},n=t.frozenTrailingRowCount,r=t.frozenRowCount;return e.slice(r||0,-n||void 0)},t.prototype.getDimensionValues=function(e,t){return[]},t.prototype.getCellData=function(e){var t=e.query;if(0!==this.displayData.length||0!==t.rowIndex){var n=this.displayData[t.rowIndex];return"col"in t&&Ka(n)?n[t.col]:n}},t.prototype.getMultiData=function(e,t){return this.displayData},t.prototype.getRowData=function(e){return this.getCellData({query:{rowIndex:e.rowIndex}})},t}(QI),tO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.getCellData=function(e){var t=e.query,n=this.fields,r=n.columns,o=n.rows,i=Kx({rowDimensionValues:Qx(o,t),colDimensionValues:Qx(r,t),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,isFirstCreate:!0,careUndefined:!0,rowFields:o,colFields:r});return Xu(this.indexesData,i)},t.prototype.setDataCfg=function(t){e.prototype.setDataCfg.call(this,t),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map;var n=this.fields,r=Jx({rows:n.rows,columns:n.columns,originData:this.originData,totalData:[],indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}).indexesData;this.indexesData=r,this.handleDimensionValuesSort()},t.prototype.processDataCfg=function(e){e.fields.valueInCols=!1;var t=e.data,n=e.meta,r=xa(e,["data","meta"]),o=e.fields.values,i=[];tp(t,(function(e){Dv(cv(pu(e),o))?i.push(e):tp(o,(function(t){var n;qp(e,t)&&i.push(wa(wa({},e),((n={})[mi]=t,n[gi]=e[t],n)))}))}));var a=this.processMeta(n,dC("指标"));return wa(wa({},r),{meta:a,data:ob(i),fields:wa(wa({},e.fields),{rows:[mi]})})},t}(JI);!function(e){e.ScrollChange="scroll-change",e.ScrollEnd="scroll-end"}(RI||(RI={}));var nO=function(e){function t(t){var n=e.call(this,t)||this;n.isMobile=!1,n.eventHandlers=[],n.scrollFrameId=null,n.getCoordinatesName=function(){return{from:n.isHorizontal?"x1":"y1",to:n.isHorizontal?"x2":"y2"}},n.getCoordinatesWithBBoxExtraPadding=function(){var e=n.theme.size,t=n.isHorizontal?0:e/2,r=n.isHorizontal?e:e/2;return{start:n.thumbOffset+t,end:n.thumbOffset+n.thumbLen-r}},n.current=function(){var e=n.thumbLen/n.trackLen;return n.thumbOffset/n.trackLen/(1-e)},n.updateThumbLen=function(e){if(n.thumbLen!==e){n.thumbLen=e;var t=n.getCoordinatesName();n.thumbShape.attr(t.to,n.thumbOffset+e),n.emitScrollChange(n.thumbOffset/(n.trackLen-n.thumbLen)*n.scrollTargetMaxOffset,!1)}},n.updateThumbOffset=function(e,t){var r;void 0===t&&(t=!0);var o=n.validateRange(e);if(!(n.thumbOffset===o&&0!==o)){n.thumbOffset=o;var i=n.getCoordinatesName(),a=i.from,l=i.to,s=n.getCoordinatesWithBBoxExtraPadding(),u=s.start,c=s.end;n.thumbShape.attr(((r={})[a]=u,r[l]=c,r)),t&&n.emitScrollChange(o/(n.trackLen-n.thumbLen)*n.scrollTargetMaxOffset,!1)}},n.onlyUpdateThumbOffset=function(e){var t;n.updateThumbOffset(e,!1),null===(t=n.get("canvas"))||void 0===t||t.draw()},n.emitScrollChange=function(e,t){void 0===t&&(t=!0),cancelAnimationFrame(n.scrollFrameId),n.scrollFrameId=requestAnimationFrame((function(){n.emit(RI.ScrollChange,{offset:e,updateThumbOffset:t})}))},n.addEventListener=function(e,t,n){return null==e||e.addEventListener(t,n,!1),{remove:function(){null==e||e.removeEventListener(t,n,!1)}}},n.addEvent=function(e,t,r){e.on(t,r),n.eventHandlers.push({target:e,type:t,handler:r})},n.initScrollBar=function(){n.scrollBarGroup=n.createScrollBarGroup(),n.scrollBarGroup.move(n.position.x,n.position.y),n.bindEvents()},n.createScrollBarGroup=function(){var e=n.addGroup({className:n.isHorizontal?"horizontalBar":"verticalBar"});return n.trackShape=n.createTrackShape(e),n.thumbShape=n.createThumbShape(e),e},n.createTrackShape=function(e){var t=n.theme,r=t.lineCap,o=void 0===r?"round":r,i=t.trackColor,a=t.size,l={lineWidth:a,stroke:i,lineCap:o};return n.isHorizontal?e.addShape("line",{attrs:wa(wa({},l),{x1:0,y1:a/2,x2:n.trackLen,y2:a/2})}):e.addShape("line",{attrs:wa(wa({},l),{x1:a/2,y1:0,x2:a/2,y2:n.trackLen})})},n.createThumbShape=function(e){var t=n.theme,r=t.size,o=t.lineCap,i=void 0===o?"round":o,a={lineWidth:r,stroke:t.thumbColor,lineCap:i,cursor:"default"},l=n.getCoordinatesWithBBoxExtraPadding(),s=l.start,u=l.end;return n.isHorizontal?e.addShape("line",{attrs:wa(wa({},a),{x1:s,y1:r/2,x2:u,y2:r/2})}):e.addShape("line",{attrs:wa(wa({},a),{x1:r/2,y1:s,x2:r/2,y2:u})})},n.bindEvents=function(){n.on("mousedown",n.onStartEvent(!1)),n.on("mouseup",n.onMouseUp),n.on("touchstart",n.onStartEvent(!0)),n.on("touchend",n.onMouseUp),n.trackShape.on("click",n.onTrackClick),n.thumbShape.on("mouseover",n.onTrackMouseOver),n.thumbShape.on("mouseout",n.onTrackMouseOut)},n.onStartEvent=function(e){return function(t){t.preventDefault(),n.isMobile=e;var r=n.isMobile?Xu(t,"touches.0",t):t,o=r.clientX,i=r.clientY;n.startPos=n.isHorizontal?o:i,n.bindLaterEvent()}},n.bindLaterEvent=function(){var e=n.get("canvas"),t=document.body,r=[];n.isMobile?(r=[n.addEventListener(t,"touchmove",n.onMouseMove),n.addEventListener(t,"touchend",n.onMouseUp),n.addEventListener(t,"touchcancel",n.onMouseUp)],n.addEvent(e,"touchend",n.onMouseUp),n.addEvent(e,"touchcancel",n.onMouseUp)):(r=[n.addEventListener(t,"mousemove",n.onMouseMove),n.addEventListener(t,"mouseup",n.onMouseUp),n.addEventListener(t,"mouseleave",n.onMouseUp)],n.addEvent(e,"mouseup",n.onMouseUp)),n.clearEvents=function(){r.forEach((function(e){null==e||e.remove()})),tp(n.eventHandlers,(function(e){var t;null===(t=e.target)||void 0===t||t.off(e.type,e.handler)})),n.eventHandlers.length=0}},n.onTrackClick=function(e){var t=n.isHorizontal?e.x-n.position.x-n.thumbLen/2:e.y-n.position.y-n.thumbLen/2,r=n.validateRange(t);n.updateThumbOffset(r)},n.onMouseMove=function(e){e.preventDefault();var t=n.isMobile?Xu(e,"touches.0",e):e,r=t.clientX,o=t.clientY,i=n.isHorizontal?r:o,a=i-n.startPos;n.startPos=i,n.updateThumbOffset(n.thumbOffset+a)},n.onMouseUp=function(e){var t;n.emit(RI.ScrollEnd,{}),e.preventDefault(),null===(t=n.clearEvents)||void 0===t||t.call(n)},n.onTrackMouseOver=function(){var e=n.theme,t=e.thumbHoverColor,r=e.hoverSize;n.thumbShape.attr("stroke",t),n.thumbShape.attr("lineWidth",r)},n.onTrackMouseOut=function(){var e=n.theme,t=e.thumbColor,r=e.size;n.thumbShape.attr("stroke",t),n.thumbShape.attr("lineWidth",r)},n.validateRange=function(e){var t=e;return e+n.thumbLen>n.trackLen?t=n.trackLen-n.thumbLen:e+n.thumbLen<n.thumbLen&&(t=0),t};var r=t.isHorizontal,o=void 0!==r&&r,i=t.trackLen,a=t.thumbLen,l=t.position,s=t.thumbOffset,u=void 0===s?0:s,c=t.theme,d=t.scrollTargetMaxOffset;return n.isHorizontal=o,n.thumbOffset=u,n.trackLen=i,n.thumbLen=a,n.position=l,n.theme=c,n.scrollTargetMaxOffset=d,n.initScrollBar(),n}return Ca(t,e),t}(Oo),rO=function(e,t,n){return e.filter((function(e){return e.level>=t})).map((function(e){return e[n]})).reduce((function(e,t){return e+t}),0)},oO=function(e,t,n){if(n<=0)return{start:0,end:0};var r=Ip(e,(function(n,r){return t>=n&&t<e[r+1]}),0);r=Math.max(r,0);var o=n===t?r:Ip(e,(function(t,r){return n>t&&n<=e[r+1]}),r);return{start:r,end:o=Math.min(-1===o?1/0:o,e.length-2)}},iO=function(e,t){var n=t.width,r=t.originalWidth,o=Math.min(r-n,e);return o<0?0:o},aO=function(e,t,n){var r=Math.min(t-n,e);return r<0?0:r},lO=function(e,t){if(void 0===e&&(e=[]),Dv(e))return[];var n=[];return e.forEach((function(e){(e instanceof t&&n.push(e),e instanceof Oo)&&e.getChildren().forEach((function(e){e instanceof t&&n.push(e)}))})),n},sO=function(e,t,n){return n.slice(e,t+1).map((function(e){return e.x+e.width}))},uO=function(e,t,n){for(var r=[],o=e;o<t+1;o++)r.push(n.getCellOffsetY(o+1));return r},cO=function(e,t,n){var r=Ea(n,4),o=r[0],i=r[1],a=r[2],l=r[3];return e>=o&&e<=i&&t>=a&&t<=l},dO=function(e){for(var t=Ea(e,4),n=t[0],r=t[1],o=t[2],i=t[3],a=[],l=n;l<=r;l+=1)for(var s=o;s<=i;s+=1)a.push([l,s]);return a},fO=function(e,t){var n=[],r=[];return Object.keys(t).forEach((function(o){var i=function(e,t){var n=[],r=[];if(Dv(e))return Dv(t)?{add:n,remove:r}:{add:dO(t),remove:r};if(Dv(t))return{add:n,remove:dO(e)};for(var o=Ea(e,4),i=o[0],a=o[1],l=o[2],s=o[3],u=Ea(t,4),c=u[0],d=u[1],f=u[2],h=u[3],p=i;p<=a;p++)for(var v=l;v<=s;v++)cO(p,v,t)||r.push([p,v]);for(p=c;p<=d;p+=1)for(v=f;v<=h;v+=1)cO(p,v,e)||n.push([p,v]);return{add:n,remove:r}}((null==e?void 0:e[o])||[],t[o]),a=i.add,l=i.remove;n.push.apply(n,Ia([],Ea(a),!1)),r.push.apply(r,Ia([],Ea(l),!1))})),{add:n,remove:r}},hO=function(e,t){void 0===t&&(t=!1),this.x=0,this.y=0,this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.originalWidth=0,this.originalHeight=0,this.viewportHeight=0,this.viewportWidth=0,this.facet=e,this.spreadsheet=e.spreadsheet,this.layoutResult=e.layoutResult,t&&this.calculateBBox()},pO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.calculateBBox=function(){var e=this.getCornerBBoxWidth(),t=this.getCornerBBoxHeight();this.width=e,this.height=t,this.maxX=e,this.maxY=t},t.prototype.getCornerBBoxOriginalHeight=function(){var e=this.layoutResult.colsHierarchy,t=this.spreadsheet.options.style.colCfg;return e.sampleNodeForLastLevel?Math.floor(e.height):null==t?void 0:t.height},t.prototype.getCornerBBoxHeight=function(){return this.originalHeight=this.getCornerBBoxOriginalHeight(),this.originalHeight},t.prototype.getCornerBBoxWidth=function(){var e=this.layoutResult.rowsHierarchy;return this.originalWidth=Math.floor(e.width+this.facet.getSeriesNumberWidth()),this.spreadsheet.isScrollContainsRowHeader()?this.originalWidth:this.adjustCornerBBoxWidth()},t.prototype.adjustCornerBBoxWidth=function(){var e=this.layoutResult.colsHierarchy,t=this.spreadsheet.options.width,n=.5*t,r=null==e?void 0:e.width,o=t-this.originalWidth;if(this.originalWidth<=n||r<=o)return this.originalWidth;var i=0;return i=r<=t-n?this.originalWidth-(r-o):n,Math.floor(i)},t}(hO),vO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.calculateBBox=function(){this.originalWidth=this.facet.getRealWidth(),this.originalHeight=this.facet.getRealHeight();var e=this.facet.cornerBBox,t={x:Math.floor(e.maxX),y:Math.floor(e.maxY)},n=this.spreadsheet.theme.scrollBar.size,r=this.spreadsheet.options,o=r.width,i=r.height,a=Math.max(0,o-t.x),l=Math.max(0,i-t.y-n);this.x=t.x,this.y=t.y,this.width=a,this.height=l,this.viewportHeight=Math.abs(Math.floor(Math.min(l,this.originalHeight))),this.viewportWidth=Math.abs(Math.floor(Math.min(a,this.originalWidth))),this.maxX=t.x+this.viewportWidth,this.maxY=t.y+this.viewportHeight,this.minX=t.x,this.minY=t.y;var s=this.spreadsheet.options,u=s.frozenTrailingColCount,c=s.frozenTrailingRowCount;u>0&&(this.viewportWidth=this.width,this.maxX=t.x+this.width),c>0&&(this.viewportHeight=this.height,this.maxY=t.y+this.height)},t}(hO),gO=function(e){function t(t){var n=e.call(this,t)||this;return n.isHeaderCellInViewport=function(e,t,n,r){return e+t>=n&&n+r>=e},n.headerConfig=t,n}return Ca(t,e),t.prototype.getConfig=function(){return this.headerConfig},t.prototype.clearResizeAreaGroup=function(e){var t=this.get("parent"),n=null==t?void 0:t.findById(e);null==n||n.clear()},t.prototype.render=function(e){this.clearResizeAreaGroup(e),this.clear(),this.layout(),this.offset(),this.clip()},t.prototype.onScrollXY=function(e,t,n){this.headerConfig.scrollX=e,this.headerConfig.scrollY=t,this.render(n)},t.prototype.onRowScrollX=function(e,t){this.headerConfig.scrollX=e,this.render(t)},t.prototype.clear=function(){e.prototype.clear.call(this)},t}(Oo),mO=function(e){function t(t){var n=e.call(this,t)||this;return n.scrollGroup=n.addGroup({name:"colScrollGroup",zIndex:3}),n}return Ca(t,e),t.prototype.onColScroll=function(e,t){this.headerConfig.scrollX!==e&&(this.headerConfig.scrollX=e,this.render(t))},t.prototype.clip=function(){var e=this.headerConfig,t=e.width,n=e.height,r=e.scrollX,o=e.spreadsheet.isFrozenRowHeader();this.scrollGroup.setClip({type:"rect",attrs:{x:o?r:0,y:0,width:o?t:t+r,height:n}})},t.prototype.clear=function(){var e,t;null===(e=this.scrollGroup)||void 0===e||e.clear(),null===(t=this.background)||void 0===t||t.remove(!0)},t.prototype.getCellInstance=function(e,t,n){return new vS(e,t,n)},t.prototype.getCellGroup=function(e){return this.scrollGroup},t.prototype.isColCellInRect=function(e){var t=this.headerConfig,n=t.spreadsheet,r=t.cornerWidth,o=t.width,i=t.scrollX;return o+i>e.x&&i-(n.isFrozenRowHeader()?0:r)<e.x+e.width},t.prototype.layout=function(){var e=this,t=this.headerConfig,n=t.data,r=t.spreadsheet,o=r.options.colCell;tp(n,(function(t){var n=t;if(e.isColCellInRect(n)){var i=(null==o?void 0:o(n,r,e.headerConfig))||e.getCellInstance(n,r,e.headerConfig);n.belongsCell=i,e.getCellGroup(n).add(i)}}))},t.prototype.offset=function(){var e=this.headerConfig,t=e.position,n=e.scrollX;FC(this.scrollGroup,t.x-n)},t}(gO),yO=function(e){function t(t){return e.call(this,t)||this}return Ca(t,e),t.getCornerHeader=function(e,n,r,o,i,a){var l=e.width,s=e.height,u=n.originalWidth,c=n.originalHeight,d=n.width,f=n.height;return new t({data:this.getCornerNodes({x:n.x,y:n.y},u,c,o.rows,o.columns,i.rowsHierarchy,i.colsHierarchy,o.dataSet,r,a),position:{x:n.x,y:n.y},width:d,height:f,originalHeight:c,originalWidth:u,viewportWidth:l,viewportHeight:s,hierarchyType:o.hierarchyType,hierarchyCollapse:o.hierarchyCollapse,rows:o.rows,columns:o.columns,seriesNumberWidth:r,spreadsheet:a})},t.getCornerNodes=function(e,t,n,r,o,i,a,l,s,u){var c,d,f,h=[],p=u.options.style.colCfg,v=null==a?void 0:a.sampleNodeForLastLevel,g=null!==(c=null==v?void 0:v.y)&&void 0!==c?c:0,m=null!==(f=null!==(d=null==v?void 0:v.height)&&void 0!==d?d:null==p?void 0:p.height)&&void 0!==f?f:0;if(s){var y=new wC({id:"",key:"series-number-node",value:dC("序号")});y.x=null==e?void 0:e.x,y.y=g,y.width=s,y.height=m,y.isPivotMode=!0,y.spreadsheet=u,y.cornerType=QC.Series,h.push(y)}if(u.isHierarchyTreeType()){var b=this.getTreeCornerText(u),C=new wC({key:"",id:b,value:b});C.x=e.x+s,C.y=g,C.width=t-s,C.height=m,C.seriesNumberWidth=s,C.isPivotMode=!0,C.spreadsheet=u,C.cornerType=QC.Row,h.push(C)}else i.sampleNodesForAllLevels.forEach((function(e){var t=r[e.level],n=new wC({key:t,id:t,value:l.getFieldName(t)});n.x=e.x+s,n.y=g,n.width=e.width,n.height=m,n.field=t,n.isPivotMode=!0,n.cornerType=QC.Row,n.spreadsheet=u,h.push(n)}));return a.sampleNodesForAllLevels.forEach((function(n){if(n.level<a.maxLevel){var r=o[n.level],i=new wC({key:r,id:r,value:l.getFieldName(r)});i.x=e.x,i.y=n.y,i.width=t,i.height=n.height,i.field=r,i.isPivotMode=!0,i.cornerType=QC.Col,i.spreadsheet=u,h.push(i)}})),h},t.getTreeCornerText=function(e){var t=e.dataSet.fields.rows,n=void 0===t?[]:t,r=e.options.cornerText;if(r)return r;var o=e.store.get("drillDownFieldInLevel",[]).map((function(e){return e.drillField}));return n.filter((function(e){return!ov(o,e)})).map((function(t){return e.dataSet.getFieldName(t)})).join("/")},t.prototype.onCorScroll=function(e,t){this.headerConfig.scrollX=e,this.render(t)},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.layout=function(){this.renderCells()},t.prototype.renderCells=function(){var e,t,n,r,o=this,i=this.headerConfig,a=i.data,l=i.spreadsheet,s=null===(t=null===(e=null==l?void 0:l.facet)||void 0===e?void 0:e.cfg)||void 0===t?void 0:t.cornerHeader,u=null===(r=null===(n=null==l?void 0:l.facet)||void 0===n?void 0:n.cfg)||void 0===r?void 0:r.cornerCell;s?s(this,l,this.headerConfig):a.forEach((function(e){var t;u&&(t=u(e,o.headerConfig.spreadsheet,o.headerConfig)),Dv(t)&&(t=new gS(e,o.headerConfig.spreadsheet,o.headerConfig)),o.add(t)}))},t.prototype.offset=function(){var e=this.headerConfig.scrollX;FC(this,-e)},t.prototype.clip=function(){var e=this.headerConfig,t=e.width,n=e.height,r=e.scrollX;this.setClip({type:"rect",attrs:{x:r,y:0,width:t,height:n}})},t.prototype.getNodes=function(){return this.headerConfig.data||[]},t}(gO),bO=function(e){function t(t){var n=e.call(this,t)||this;return n.render(),n}return Ca(t,e),t.prototype.layout=function(){this.addCornerBottomBorder(),this.addCornerRightBorder(),this.addSplitLineShadow()},t.prototype.render=function(){this.clear(),this.layout()},t.prototype.onBorderScroll=function(e){this.cfg.scrollX=e;var t=this.cfg.position;zC(this,t.x-e,0),this.render()},t.prototype.onChangeShadowVisibility=function(e,t){this.cfg.showViewportLeftShadow=e>0,this.cfg.showViewportRightShadow=Math.floor(e)<Math.floor(t),this.render()},t.prototype.addCornerRightBorder=function(){var e,t=this.cfg;if(t.isPivotMode){var n=t.width,r=t.height,o=t.viewportHeight,i=t.position,a=null===(e=t.spreadsheet.theme)||void 0===e?void 0:e.splitLine,l=i.x+n,s=i.y,u=i.y+r+o;this.addShape("line",{attrs:{x1:l,y1:s,x2:l,y2:u,stroke:a.verticalBorderColor,lineWidth:a.verticalBorderWidth,opacity:a.verticalBorderColorOpacity}})}},t.prototype.addCornerBottomBorder=function(){var e,t=this.cfg,n=t.width,r=t.height,o=t.viewportWidth,i=t.position,a=t.scrollX,l=t.scrollContainsRowHeader,s=null===(e=t.spreadsheet.theme)||void 0===e?void 0:e.splitLine,u=i.x,c=u+n+o+(l?a:0),d=i.y+r-1;this.addShape("line",{attrs:{x1:u,y1:d,x2:c,y2:d,stroke:s.horizontalBorderColor,lineWidth:s.horizontalBorderWidth,opacity:s.horizontalBorderColorOpacity}})},t.prototype.addSplitLineShadow=function(){var e,t=this.cfg,n=t.isPivotMode,r=t.spreadsheet,o=null===(e=r.theme)||void 0===e?void 0:e.splitLine;n&&o.showShadow&&r.isFrozenRowHeader()&&(this.addSplitLineLeftShadow(),this.addSplitLineRightShadow())},t.prototype.addSplitLineLeftShadow=function(){var e,t,n;if(this.cfg.showViewportLeftShadow){var r=this.cfg,o=r.width,i=r.height,a=r.viewportHeight,l=r.position,s=null===(e=r.spreadsheet.theme)||void 0===e?void 0:e.splitLine,u=l.x+o,c=l.y;this.addShape("rect",{attrs:{x:u,y:c,width:s.shadowWidth,height:a+i,fill:"l (0) 0:".concat(null===(t=s.shadowColors)||void 0===t?void 0:t.left," 1:").concat(null===(n=s.shadowColors)||void 0===n?void 0:n.right)}})}},t.prototype.addSplitLineRightShadow=function(){var e,t,n;if(this.cfg.showViewportRightShadow){var r=this.cfg,o=r.width,i=r.height,a=r.viewportHeight,l=r.viewportWidth,s=r.position,u=null===(e=r.spreadsheet.theme)||void 0===e?void 0:e.splitLine,c=s.x+o+l-u.shadowWidth,d=s.y;this.addShape("rect",{attrs:{x:c,y:d,width:u.shadowWidth,height:a+i,fill:"l (0) 0:".concat(null===(t=u.shadowColors)||void 0===t?void 0:t.right," 1:").concat(null===(n=u.shadowColors)||void 0===n?void 0:n.left)}})}},t}(Oo),CO=function(e){function t(t){return e.call(this,t)||this}return Ca(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gm&&this.gm.destroy()},t.prototype.layout=function(){var e,t,n=this,r=this.headerConfig,o=r.data,i=r.spreadsheet,a=r.width,l=r.viewportHeight,s=r.seriesNumberWidth,u=r.scrollY,c=r.scrollX,d=null===(t=null===(e=null==i?void 0:i.facet)||void 0===e?void 0:e.cfg)||void 0===t?void 0:t.rowCell;tp(o,(function(e){if(function(e){return l+u>e.y&&u<e.y+e.height&&a-s+c>e.x&&c-s<e.x+e.width}(e)&&0!==e.height){var t=void 0;d&&(t=d(e,i,n.headerConfig)),Dv(t)&&i.isPivotMode()&&(t=new TS(e,i,n.headerConfig)),e.belongsCell=t,n.add(t)}}))},t.prototype.offset=function(){var e=this.headerConfig,t=e.scrollX,n=e.scrollY,r=e.position,o=e.seriesNumberWidth;zC(this,r.x-t+o,r.y-n)},t.prototype.clip=function(){var e=this.headerConfig,t=e.width,n=e.viewportHeight,r=e.scrollX,o=e.scrollY,i=e.seriesNumberWidth;this.setClip({type:"rect",attrs:{x:r-i,y:o,width:t,height:n}})},t}(gO),wO=function(e){function t(t){return e.call(this,t)||this}return Ca(t,e),t.getSeriesNumberHeader=function(e,n,r,o,i){var a=e.height,l=e.viewportHeight,s=[],u=o.isHierarchyTreeType();return r.forEach((function(e){if(!e.isTotals||u){var t=new wC({id:"",key:"",value:"".concat(s.length+1)});t.x=e.x,t.y=e.y,t.height=e.height,t.width=n,s.push(t)}})),new t({width:i,height:a,viewportWidth:i,viewportHeight:l,position:{x:0,y:e.y},data:s,spreadsheet:o})},t.prototype.clip=function(){var e=this.headerConfig,t=e.width,n=e.viewportHeight,r=e.scrollY;this.setClip({type:"rect",attrs:{x:0,y:r,width:t,height:n}})},t.prototype.layout=function(){var e=this,t=this.headerConfig,n=t.data,r=t.scrollY,o=t.viewportHeight;t.spreadsheet.isPivotMode&&this.addBackGround();var i=this.addGroup();tp(n,(function(t){var n=t.y,a=t.height,l=t.isLeaf;if(e.isHeaderCellInViewport(n,a,r,o)){var s=e.addGroup();e.addText(s,t),e.add(s),l||e.addBorder(i,t)}}))},t.prototype.offset=function(){var e=this.headerConfig,t=e.scrollY,n=e.scrollX,r=e.position;zC(this,r.x-n,r.y-t),this.backgroundShape&&this.backgroundShape.translate(r.x,r.y+t),this.leftBorderShape&&this.leftBorderShape.translate(r.x,r.y+t)},t.prototype.addBackGround=function(){var e=this.getStyle().cell,t=this.headerConfig,n=t.position,r=t.width,o=t.viewportHeight;this.backgroundShape=hw(this,{x:n.x,y:-n.y,width:r,height:o,fill:e.backgroundColor,stroke:"transparent",opacity:e.backgroundColorOpacity});var i=Aw(qC.LEFT,{x:n.x,y:-n.y,width:r,height:o},e),a=i.position,l=i.style;this.leftBorderShape=gw(this,a,l)},t.prototype.addBorder=function(e,t){var n=this.getStyle().cell,r=Aw(qC.BOTTOM,t,n);gw(e,r.position,r.style)},t.prototype.getStyle=function(){return this.headerConfig.spreadsheet.theme.rowCell},t.prototype.addText=function(e,t){var n=this.headerConfig,r=n.scrollY,o=n.viewportHeight,i=wa(wa({},this.getStyle().seriesText),{textBaseline:"top"}),a=t.label,l=t.x,s=t.y,u=t.width,c=t.height,d=this.getTextPadding(a,u),f=_S(s+d.top,c-d.top-d.bottom,r,o,i.fontSize);e.addShape("text",{attrs:wa(wa({x:l+d.left,y:f,text:a},i),{cursor:"pointer"})})},t.prototype.getTextPadding=function(e,t){var n=this.getStyle(),r=this.headerConfig.spreadsheet.measureTextWidth(e,n.seriesText),o=Math.max(Math.abs((t-r)/2),4);return wa(wa({},n.cell.padding),{left:o,right:o})},t}(gO),xO=function(){function e(e){var t=this;this.scrollFrameId=null,this.hideScrollBar=function(){var e,n,r;null===(e=t.hRowScrollBar)||void 0===e||e.hide(),null===(n=t.hScrollBar)||void 0===n||n.hide(),null===(r=t.vScrollBar)||void 0===r||r.hide()},this.delayHideScrollBar=Eh(this.hideScrollBar,1e3),this.delayHideScrollbarOnMobile=function(){yC()&&t.delayHideScrollBar()},this.showVerticalScrollBar=function(){var e;null===(e=t.vScrollBar)||void 0===e||e.show()},this.showHorizontalScrollBar=function(){var e,n;null===(e=t.hRowScrollBar)||void 0===e||e.show(),null===(n=t.hScrollBar)||void 0===n||n.show()},this.onContainerWheel=function(){t.onContainerWheelForPc(),t.onContainerWheelForMobile()},this.onContainerWheelForPc=function(){var e=t.spreadsheet.getCanvasElement();null==e||e.addEventListener("wheel",t.onWheel)},this.onContainerWheelForMobile=function(){t.mobileWheel=new LS(t.spreadsheet.container),t.mobileWheel.on("wheel",(function(e){t.spreadsheet.hideTooltip();var n=e.event,r=e.deltaX,o=e.deltaY,i=e.x,a=e.y;t.onWheel(wa(wa({},n),{deltaX:r,deltaY:o,offsetX:i,offsetY:a}))}))},this.bindEvents=function(){t.onContainerWheel(),t.emitPaginationEvent()},this.setScrollOffset=function(e){Object.keys(e).forEach((function(n){var r=e[n];Zv(r)||t.spreadsheet.store.set(n,Math.floor(r))}))},this.getScrollOffset=function(){var e=t.spreadsheet.store;return{scrollX:e.get("scrollX",0),scrollY:e.get("scrollY",0),rowHeaderScrollX:e.get("rowHeaderScrollX",0)}},this.emitPaginationEvent=function(){var e=t.cfg.pagination;if(e){var n=e.current,r=void 0===n?1:n,o=e.pageSize,i=t.viewCellHeights.getTotalLength(),a=Math.floor((i-1)/o)+1;t.cfg.spreadsheet.emit(hi.LAYOUT_PAGINATION,{pageSize:o,pageCount:a,total:i,current:r})}},this.unbindEvents=function(){var e=t.spreadsheet.getCanvasElement();null==e||e.removeEventListener("wheel",t.onWheel),t.mobileWheel.destroy()},this.clipPanelGroup=function(){var e;t.foregroundGroup=t.spreadsheet.foregroundGroup,t.backgroundGroup=t.spreadsheet.backgroundGroup,t.panelGroup=t.spreadsheet.panelGroup;var n=t.panelBBox,r=n.width,o=n.height;null===(e=t.spreadsheet.panelScrollGroup)||void 0===e||e.setClip({type:"rect",attrs:{x:0,y:t.cornerBBox.height,width:r,height:o}})},this.calculateCellWidthHeight=function(){var e=jm(t.layoutResult.colLeafNodes,(function(e,t){return e.push(Uh(e)+t.width),e}),[0]);t.viewCellWidths=e,t.viewCellHeights=t.getViewCellHeights(t.layoutResult)},this.getRealScrollX=function(e,n){return void 0===n&&(n=0),t.cfg.spreadsheet.isScrollContainsRowHeader()?e:n},this.calculatePanelBBox=function(){t.panelBBox=new vO(t,!0)},this.getRealWidth=function(){return Uh(t.viewCellWidths)},this.getRealHeight=function(){var e=t.cfg.pagination,n=t.viewCellHeights;if(e){var r=t.getCellRange(),o=r.start,i=r.end;return n.getCellOffsetY(i+1)-n.getCellOffsetY(o)}return n.getTotalHeight()},this.clearAllGroup=function(){for(var e=t.panelGroup.getChildren()||[],n=e.length-1;n>=0;n--){var r=e[n];r instanceof Oo?r.set("children",[]):e[n].remove()}t.foregroundGroup.set("children",[]),t.backgroundGroup.set("children",[])},this.scrollWithAnimation=function(e,n,r){var o,i,a,l;void 0===e&&(e={}),void 0===n&&(n=200);var s=t.getAdjustedScrollOffset({scrollX:(null===(o=e.offsetX)||void 0===o?void 0:o.value)||0,scrollY:(null===(i=e.offsetY)||void 0===i?void 0:i.value)||0,rowHeaderScrollX:(null===(a=e.rowHeaderOffsetX)||void 0===a?void 0:a.value)||0}),u=s.scrollX,c=s.scrollY,d=s.rowHeaderScrollX;null===(l=t.timer)||void 0===l||l.stop();var f=t.getScrollOffset(),h=[null!=u?u:f.scrollX,null!=c?c:f.scrollY,null!=d?d:f.rowHeaderScrollX],p=tn(Object.values(f),h);t.timer=pt((function(e){try{var o=Math.min(e/n,1),i=Ea(p(o),3),a=i[0],l=i[1],s=i[2];t.setScrollOffset({rowHeaderScrollX:s,scrollX:a,scrollY:l}),t.startScroll(),e>n&&(t.timer.stop(),null==r||r())}catch(e){console.error(e),t.timer.stop()}}))},this.scrollImmediately=function(e){var n,r,o;void 0===e&&(e={});var i=t.getAdjustedScrollOffset({scrollX:(null===(n=e.offsetX)||void 0===n?void 0:n.value)||0,scrollY:(null===(r=e.offsetY)||void 0===r?void 0:r.value)||0,rowHeaderScrollX:(null===(o=e.rowHeaderOffsetX)||void 0===o?void 0:o.value)||0}),a=i.scrollX,l=i.scrollY,s=i.rowHeaderScrollX;t.setScrollOffset({scrollX:a,scrollY:l,rowHeaderScrollX:s}),t.startScroll()},this.startScroll=function(e){var n,r,o;void 0===e&&(e=!1);var i=t.getScrollOffset(),a=i.rowHeaderScrollX,l=i.scrollX,s=i.scrollY;null===(n=t.hRowScrollBar)||void 0===n||n.onlyUpdateThumbOffset(t.getScrollBarOffset(a,t.hRowScrollBar)),null===(r=t.hScrollBar)||void 0===r||r.onlyUpdateThumbOffset(t.getScrollBarOffset(l,t.hScrollBar)),null===(o=t.vScrollBar)||void 0===o||o.onlyUpdateThumbOffset(t.getScrollBarOffset(s,t.vScrollBar)),t.dynamicRenderCell(e)},this.getRendererHeight=function(){var e=t.getCellRange(),n=e.start,r=e.end;return t.viewCellHeights.getCellOffsetY(r+1)-t.viewCellHeights.getCellOffsetY(n)},this.getAdjustedScrollOffset=function(e){var n=e.scrollX,r=e.scrollY,o=e.rowHeaderScrollX;return{scrollX:aO(n,t.layoutResult.colsHierarchy.width,t.panelBBox.width),scrollY:aO(r,t.getRendererHeight(),t.panelBBox.height),rowHeaderScrollX:iO(o,t.cornerBBox)}},this.renderRowScrollBar=function(e){if(!t.cfg.spreadsheet.isScrollContainsRowHeader()&&t.cornerBBox.width<t.cornerBBox.originalWidth){var n=t.cornerBBox.originalWidth-t.cornerBBox.width,r=t.getScrollbarPosition().maxY,o=t.spreadsheet.theme,i=o.splitLine,a=o.scrollBar,l=Math.max(t.cornerBBox.width*t.cornerBBox.width/t.cornerBBox.originalWidth,null==a?void 0:a.thumbHorizontalMinSize),s=l-(null==i?void 0:i.verticalBorderWidth);t.hRowScrollBar=new nO({isHorizontal:!0,trackLen:t.cornerBBox.width,thumbLen:s,position:{x:t.cornerBBox.minX+t.scrollBarSize/2,y:r},thumbOffset:e*(t.cornerBBox.width-l)/n,theme:t.scrollBarTheme,scrollTargetMaxOffset:n}),t.hRowScrollBar.on(RI.ScrollChange,(function(e){var r,o,i=e.offset,a=t.getValidScrollBarOffset(i,n),l=Math.floor(a);t.setScrollOffset({rowHeaderScrollX:l}),null===(r=t.rowHeader)||void 0===r||r.onRowScrollX(l,_i),null===(o=t.rowIndexHeader)||void 0===o||o.onRowScrollX(l,Ri),t.cornerHeader.onRowScrollX(l,Ni);var s=t.getScrollBarOffset(l,t.hRowScrollBar),u=t.getScrollOffset(),c={scrollX:u.scrollX,scrollY:u.scrollY,rowHeaderScrollX:s};t.hRowScrollBar.updateThumbOffset(s,!1),t.spreadsheet.emit(hi.ROW_CELL_SCROLL,c),t.spreadsheet.emit(hi.GLOBAL_SCROLL,c)})),t.foregroundGroup.add(t.hRowScrollBar)}},this.getValidScrollBarOffset=function(e,t){return Md(e,0,t)},this.renderHScrollBar=function(e,n,r){if(Math.floor(e)<Math.floor(n)){var o=t.scrollBarSize/2,i=t.getScrollbarPosition().maxY,a=e+(t.cfg.spreadsheet.isScrollContainsRowHeader()?Math.min(t.cornerBBox.width,t.getCanvasHW().width):0),l={x:t.panelBBox.minX+(t.cfg.spreadsheet.isScrollContainsRowHeader()?-t.cornerBBox.width+o:o),y:i},s=n+(t.cfg.spreadsheet.isScrollContainsRowHeader()?t.cornerBBox.width:0),u=t.spreadsheet.theme.scrollBar,c=s-a,d=Math.max(a/s*a,null==u?void 0:u.thumbHorizontalMinSize);t.hScrollBar=new nO({isHorizontal:!0,trackLen:a,thumbLen:d,position:l,thumbOffset:r*(a-d)/c,theme:t.scrollBarTheme,scrollTargetMaxOffset:c}),t.hScrollBar.on(RI.ScrollChange,(function(e){var n=e.offset,r=e.updateThumbOffset,o=t.getValidScrollBarOffset(n,c);r&&t.hScrollBar.updateThumbOffset(t.getScrollBarOffset(o,t.hScrollBar),!1),t.setScrollOffset({scrollX:o}),t.dynamicRenderCell()})),t.foregroundGroup.add(t.hScrollBar)}},this.getScrollbarPosition=function(){var e=t.panelBBox,n=e.maxX,r=e.maxY,o=t.getCanvasHW(),i=o.width,a=o.height,l=t.spreadsheet.options.interaction.scrollbarPosition===ua.CONTENT;return{maxX:(l?n:i)-t.scrollBarSize,maxY:l?r:a-t.scrollBarSize}},this.renderVScrollBar=function(e,n,r){if(e<n){var o=t.spreadsheet.theme.scrollBar,i=Math.max(e/n*e,null==o?void 0:o.thumbVerticalMinSize),a=n-e,l=t.getScrollbarPosition().maxX;t.vScrollBar=new nO({isHorizontal:!1,trackLen:e,thumbLen:i,thumbOffset:r*(e-i)/a,position:{x:l,y:t.panelBBox.minY},theme:t.scrollBarTheme,scrollTargetMaxOffset:a}),t.vScrollBar.on(RI.ScrollChange,(function(e){var n=e.offset,r=e.updateThumbOffset,o=t.getValidScrollBarOffset(n,a);r&&t.vScrollBar.updateThumbOffset(t.getScrollBarOffset(o,t.vScrollBar),!1),t.setScrollOffset({scrollY:o}),t.dynamicRenderCell()})),t.foregroundGroup.add(t.vScrollBar)}},this.getScrollBarOffset=function(e,t){return e*(t.trackLen-t.thumbLen)/t.scrollTargetMaxOffset},this.isScrollOverThePanelArea=function(e){var n=e.offsetX,r=e.offsetY;return n>t.panelBBox.minX&&n<t.panelBBox.maxX&&r>t.panelBBox.minY&&r<t.panelBBox.maxY},this.isScrollOverTheCornerArea=function(e){var n=e.offsetX,r=e.offsetY;return n>t.cornerBBox.minX&&n<t.cornerBBox.maxX&&r>t.cornerBBox.minY&&r<t.cornerBBox.maxY+t.panelBBox.height},this.updateHorizontalRowScrollOffset=function(e){var n,r=e.offset,o=e.offsetX,i=e.offsetY;t.isScrollOverTheCornerArea({offsetX:o,offsetY:i})&&(null===(n=t.hRowScrollBar)||void 0===n||n.emitScrollChange(r))},this.updateHorizontalScrollOffset=function(e){var n,r=e.offset,o=e.offsetX,i=e.offsetY;t.hRowScrollBar&&!t.isScrollOverThePanelArea({offsetX:o,offsetY:i})||null===(n=t.hScrollBar)||void 0===n||n.emitScrollChange(r)},this.isScrollToLeft=function(e){var n=e.deltaX,r=e.offsetX,o=e.offsetY;if(!t.hScrollBar&&!t.hRowScrollBar)return!0;var i=!t.hRowScrollBar||t.isScrollOverThePanelArea({offsetY:o,offsetX:r})||t.hRowScrollBar.thumbOffset<=0,a=!t.hScrollBar||t.hScrollBar.thumbOffset<=0;return n<=0&&a&&i},this.isScrollToRight=function(e){var n,r,o,i,a,l,s=e.deltaX,u=e.offsetX,c=e.offsetY;if(!t.hScrollBar&&!t.hRowScrollBar)return!0;var d=t.spreadsheet.isFrozenRowHeader()?null===(n=t.panelBBox)||void 0===n?void 0:n.width:null===(r=t.panelBBox)||void 0===r?void 0:r.maxX,f=!t.hRowScrollBar||t.isScrollOverThePanelArea({offsetY:c,offsetX:u})||(null===(o=t.hRowScrollBar)||void 0===o?void 0:o.thumbOffset)+(null===(i=t.hRowScrollBar)||void 0===i?void 0:i.thumbLen)>=t.cornerBBox.width,h=t.hRowScrollBar&&t.isScrollOverTheCornerArea({offsetX:u,offsetY:c})||(null===(a=t.hScrollBar)||void 0===a?void 0:a.thumbOffset)+(null===(l=t.hScrollBar)||void 0===l?void 0:l.thumbLen)>=d;return s>=0&&h&&f},this.isScrollToTop=function(e){var n;return!t.vScrollBar||e<=0&&(null===(n=t.vScrollBar)||void 0===n?void 0:n.thumbOffset)<=0},this.isScrollToBottom=function(e){var n,r,o;return!t.vScrollBar||e>=0&&(null===(n=t.vScrollBar)||void 0===n?void 0:n.thumbOffset)+(null===(r=t.vScrollBar)||void 0===r?void 0:r.thumbLen)>=(null===(o=t.panelBBox)||void 0===o?void 0:o.height)},this.isVerticalScrollOverTheViewport=function(e){return!t.isScrollToTop(e)&&!t.isScrollToBottom(e)},this.isHorizontalScrollOverTheViewport=function(e){return!t.isScrollToLeft(e)&&!t.isScrollToRight(e)},this.isScrollOverTheViewport=function(e){var n=e.deltaY,r=e.deltaX;return!(e.offsetY<=t.cornerBBox.maxY)&&(0!==n?t.isVerticalScrollOverTheViewport(n):0!==r&&t.isHorizontalScrollOverTheViewport(e))},this.cancelScrollFrame=function(){return(!yC()||!t.scrollFrameId)&&(cancelAnimationFrame(t.scrollFrameId),!0)},this.clearScrollFrameIdOnMobile=function(){yC()&&(t.scrollFrameId=null)},this.stopScrollChainingIfNeeded=function(e){"auto"!==t.spreadsheet.options.interaction.overscrollBehavior&&t.stopScrollChaining(e)},this.stopScrollChaining=function(e){var t,n;(null==e?void 0:e.cancelable)&&(null===(t=null==e?void 0:e.preventDefault)||void 0===t||t.call(e));var r=null==e?void 0:e.originalEvent;(null==r?void 0:r.cancelable)&&(null===(n=null==r?void 0:r.preventDefault)||void 0===n||n.call(r))},this.onWheel=function(e){var n=t.spreadsheet.options.interaction,r=e.deltaX,o=e.deltaY,i=e.offsetX,a=e.offsetY;e.shiftKey&&bC()&&(i=i-r+o,r=o,a-=o,o=0);var l=Ea(function(e,t,n){var r=Math.abs(e/t),o=r>2?0:t;return[(r<=.5?0:e)*n.horizontal,o*n.vertical]}(r,o,n.scrollSpeedRatio),2),s=l[0],u=l[1];t.spreadsheet.hideTooltip(),t.spreadsheet.interaction.clearHoverTimer(),t.isScrollOverTheViewport({deltaX:s,deltaY:u,offsetX:i,offsetY:a})?(t.stopScrollChaining(e),t.spreadsheet.interaction.addIntercepts([ia.HOVER]),t.cancelScrollFrame()&&(t.scrollFrameId=requestAnimationFrame((function(){var e,n=t.getScrollOffset(),r=n.scrollX,o=n.scrollY,l=n.rowHeaderScrollX;0!==s&&(t.showHorizontalScrollBar(),t.updateHorizontalRowScrollOffset({offsetX:i,offsetY:a,offset:s+l}),t.updateHorizontalScrollOffset({offsetX:i,offsetY:a,offset:s+r})),0!==u&&(t.showVerticalScrollBar(),null===(e=t.vScrollBar)||void 0===e||e.emitScrollChange(u+o)),t.delayHideScrollbarOnMobile(),t.clearScrollFrameIdOnMobile()})))):t.stopScrollChainingIfNeeded(e)},this.addCell=function(e){var n=t.spreadsheet.panelScrollGroup;null==n||n.add(e)},this.realCellRender=function(e,n){var r=t.calculateXYIndexes(e,n);ZC.getInstance().logger("renderIndex:",t.preCellIndexes,r);var o=fO(t.preCellIndexes,r),i=o.add,a=o.remove;ZC.getInstance().debugCallback("Data Cell Render",(function(){tp(i,(function(e){var n=Ea(e,2),r=n[0],o=n[1],i=t.layoutResult.getCellMeta(o,r);if(i){var a=t.cfg.dataCell(i);a.set("name","".concat(r,"-").concat(o)),t.addCell(a)}}));var e=lO(t.panelGroup.getChildren(),Tx);tp(a,(function(t){var n=Ea(t,2),r=n[0],o=n[1],i=Op(e,(function(e){return e.get("name")==="".concat(r,"-").concat(o)}));null==i||i.remove(!0)})),ZC.getInstance().logger("Render Cell Panel: ".concat(null==e?void 0:e.length,", Add: ").concat(null==i?void 0:i.length,", Remove: ").concat(null==a?void 0:a.length))})),t.preCellIndexes=r,t.spreadsheet.emit(hi.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,{add:i,remove:a,spreadsheet:t.spreadsheet})},this.getGridInfo=function(){var e=Ea(t.preCellIndexes.center,4),n=e[0],r=e[1],o=e[2],i=e[3];return{cols:sO(n,r,t.layoutResult.colLeafNodes),rows:uO(o,i,t.viewCellHeights)}},this.onAfterScroll=Eh((function(){var e=t.spreadsheet,n=e.interaction,r=e.container;if(!n.isSelectedState()&&(n.removeIntercepts([ia.HOVER]),n.getHoverAfterScroll())){var o=n.eventController.canvasMousemoveEvent;if(o){var i=o.x,a=o.y,l=r.getShape(i,a);l&&r.emit(fi.MOUSE_MOVE,wa(wa({},o),{shape:l,target:l,timestamp:performance.now()}))}}}),300),this.cfg=e,this.spreadsheet=e.spreadsheet,this.init()}return Object.defineProperty(e.prototype,"scrollBarTheme",{get:function(){return this.spreadsheet.theme.scrollBar},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollBarSize",{get:function(){return this.scrollBarTheme.size},enumerable:!1,configurable:!0}),e.prototype.getCellCustomWidth=function(e,t){return ll(t)?null==t?void 0:t(e):t},e.prototype.getCellDraggedWidth=function(e){var t=this.cfg.colCfg;return Xu(null==t?void 0:t.widthByFieldValue,"".concat(e.value))},e.prototype.render=function(){var e;Dv((e=this.spreadsheet.dataCfg.fields).rows)&&Dv(e.columns)&&Dv(e.values)&&Dv(e.customTreeItems)||(this.adjustScrollOffset(),this.renderHeaders(),this.renderScrollBars(),this.renderBackground(),this.dynamicRenderCell())},e.prototype.adjustScrollOffset=function(){var e=this.getAdjustedScrollOffset(this.getScrollOffset());this.setScrollOffset(e)},e.prototype.getSeriesNumberWidth=function(){return this.cfg.showSeriesNumber?this.spreadsheet.theme.rowCell.seriesNumberWidth:0},e.prototype.getCanvasHW=function(){return{width:this.cfg.width,height:this.cfg.height}},e.prototype.updateScrollOffset=function(e){var t,n,r,o,i,a;void 0===(null===(t=e.rowHeaderOffsetX)||void 0===t?void 0:t.value)?void 0===(null===(r=e.offsetX)||void 0===r?void 0:r.value)?void 0!==(null===(i=e.offsetY)||void 0===i?void 0:i.value)&&((null===(a=e.offsetY)||void 0===a?void 0:a.animate)?this.scrollWithAnimation(e):this.scrollImmediately(e)):(null===(o=e.offsetX)||void 0===o?void 0:o.animate)?this.scrollWithAnimation(e):this.scrollImmediately(e):(null===(n=e.rowHeaderOffsetX)||void 0===n?void 0:n.animate)?this.scrollWithAnimation(e):this.scrollImmediately(e)},e.prototype.getPaginationScrollY=function(){var e=this.cfg.pagination;if(e){var t=e.current,n=void 0===t?1:t,r=e.pageSize,o=this.viewCellHeights,i=Math.max((n-1)*r,0);return o.getCellOffsetY(i)}return 0},e.prototype.destroy=function(){this.unbindEvents(),this.clearAllGroup(),this.preCellIndexes=null,cancelAnimationFrame(this.scrollFrameId)},e.prototype.calculateXYIndexes=function(e,t){var n=this.panelBBox,r=n.viewportHeight,o=n.viewportWidth;return{center:PC(e,t,this.viewCellWidths,this.viewCellHeights,{width:o,height:r,x:0,y:0},this.getRealScrollX(this.cornerBBox.width))}},e.prototype.calculateCornerBBox=function(){this.cornerBBox=new pO(this,!0)},e.prototype.getCellRange=function(){var e=this.cfg.pagination;return function(e,t){var n=e,r=0,o=n.getTotalLength()-1;if(t){var i=t.current,a=void 0===i?1:i,l=t.pageSize;r=Math.max((a-1)*l,0),o=Math.min(a*l-1,n.getTotalLength()-1)}return{start:r,end:o}}(this.viewCellHeights,e)},e.prototype.clip=function(e,t){var n,r=this.spreadsheet.isFrozenRowHeader();null===(n=this.spreadsheet.panelScrollGroup)||void 0===n||n.setClip({type:"rect",attrs:{x:r?e:0,y:t,width:this.panelBBox.width+(r?0:e),height:this.panelBBox.height}})},e.prototype.translateRelatedGroups=function(e,t,n){var r,o,i,a,l,s;zC(this.spreadsheet.panelScrollGroup,this.cornerBBox.width-e,this.cornerBBox.height-t),null===(r=this.rowHeader)||void 0===r||r.onScrollXY(this.getRealScrollX(e,n),t,_i),null===(o=this.rowIndexHeader)||void 0===o||o.onScrollXY(this.getRealScrollX(e,n),t,Ri),null===(i=this.cornerHeader)||void 0===i||i.onCorScroll(this.getRealScrollX(e,n),Ni),null===(a=this.centerFrame)||void 0===a||a.onChangeShadowVisibility(e,this.getRealWidth()-this.panelBBox.width),null===(l=this.centerFrame)||void 0===l||l.onBorderScroll(this.getRealScrollX(e)),null===(s=this.columnHeader)||void 0===s||s.onColScroll(e,Ai)},e.prototype.init=function(){var e=this;ZC.getInstance().debugCallback("Header Layout",(function(){e.layoutResult=e.doLayout(),e.saveInitColumnLeafNodes(e.layoutResult.colLeafNodes),e.spreadsheet.emit(hi.LAYOUT_AFTER_HEADER_LAYOUT,e.layoutResult)})),this.calculateCellWidthHeight(),this.calculateCornerBBox(),this.calculatePanelBBox(),this.clipPanelGroup(),this.bindEvents()},e.prototype.renderBackground=function(){var e=this.getCanvasHW(),t=e.width,n=e.height,r=this.spreadsheet.theme.background,o=r.color,i=r.opacity;this.backgroundGroup.addShape("rect",{attrs:{fill:o,opacity:i,x:0,y:0,width:t,height:n}})},e.prototype.renderScrollBars=function(){var e=this.getScrollOffset(),t=e.scrollX,n=e.scrollY,r=e.rowHeaderScrollX,o=this.panelBBox,i=o.width,a=o.height,l=this.layoutResult.colsHierarchy.width,s=this.getRealHeight();this.renderRowScrollBar(r),this.renderHScrollBar(i,l,t),this.renderVScrollBar(a,s,n)},e.prototype.renderHeaders=function(){var e=this.getSeriesNumberWidth();this.rowHeader=this.getRowHeader(),this.columnHeader=this.getColHeader(),e>0&&!this.rowIndexHeader&&(this.rowIndexHeader=this.getSeriesNumberHeader()),this.cornerHeader=this.getCornerHeader(),this.centerFrame=this.getCenterFrame(),this.rowIndexHeader&&this.foregroundGroup.add(this.rowIndexHeader),this.rowHeader&&this.foregroundGroup.add(this.rowHeader),this.foregroundGroup.add(this.columnHeader),this.foregroundGroup.add(this.cornerHeader),this.foregroundGroup.add(this.centerFrame)},e.prototype.getRowHeader=function(){var e,t,n;if(!this.rowHeader){var r=this.panelBBox,o=r.y,i=r.viewportHeight,a=r.viewportWidth,l=r.height,s=this.getSeriesNumberWidth();return new CO({width:this.cornerBBox.width,height:l,viewportWidth:a,viewportHeight:i,position:{x:0,y:o},data:this.layoutResult.rowNodes,hierarchyType:this.cfg.hierarchyType,linkFields:null!==(n=null===(t=null===(e=this.cfg.spreadsheet.options)||void 0===e?void 0:e.interaction)||void 0===t?void 0:t.linkFields)&&void 0!==n?n:[],seriesNumberWidth:s,spreadsheet:this.spreadsheet})}return this.rowHeader},e.prototype.getColHeader=function(){if(!this.columnHeader){var e=this.panelBBox,t=e.x,n=e.width,r=e.viewportHeight,o=e.viewportWidth;return new mO({width:n,cornerWidth:this.cornerBBox.width,height:this.cornerBBox.height,viewportWidth:o,viewportHeight:r,position:{x:t,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},e.prototype.getCornerHeader=function(){return this.cornerHeader?this.cornerHeader:yO.getCornerHeader(this.panelBBox,this.cornerBBox,this.getSeriesNumberWidth(),this.cfg,this.layoutResult,this.spreadsheet)},e.prototype.getSeriesNumberHeader=function(){return wO.getSeriesNumberHeader(this.panelBBox,this.getSeriesNumberWidth(),this.layoutResult.rowsHierarchy.getNodes(0),this.spreadsheet,this.cornerBBox.width)},e.prototype.getCenterFrame=function(){var e;if(!this.centerFrame){var t=this.panelBBox,n=t.viewportWidth,r=t.viewportHeight,o=this.cornerBBox.width,i=this.cornerBBox.height,a=null===(e=this.cfg)||void 0===e?void 0:e.frame,l={position:{x:this.cornerBBox.x,y:this.cornerBBox.y},width:o,height:i,viewportWidth:n,viewportHeight:r,showViewportLeftShadow:!1,showViewportRightShadow:!1,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),isPivotMode:this.cfg.spreadsheet.isPivotMode(),spreadsheet:this.cfg.spreadsheet};return a?a(l):new bO(l)}return this.centerFrame},e.prototype.updatePanelScrollGroup=function(){this.gridInfo=this.getGridInfo(),this.spreadsheet.panelScrollGroup.update(this.gridInfo)},e.prototype.dynamicRenderCell=function(e){var t=this.getScrollOffset(),n=t.scrollX,r=t.scrollY,o=t.rowHeaderScrollX,i=r+this.getPaginationScrollY(),a=aO(i,this.viewCellHeights.getTotalHeight(),this.panelBBox.viewportHeight);this.spreadsheet.hideTooltip(),this.spreadsheet.interaction.clearHoverTimer(),this.realCellRender(n,a),this.updatePanelScrollGroup(),this.translateRelatedGroups(n,a,o),this.clip(n,a),e||this.emitScrollEvent({scrollX:n,scrollY:a,rowHeaderScrollX:o}),this.onAfterScroll()},e.prototype.emitScrollEvent=function(e){this.spreadsheet.emit(hi.LAYOUT_CELL_SCROLL,e),this.spreadsheet.emit(hi.GLOBAL_SCROLL,e)},e.prototype.saveInitColumnLeafNodes=function(e){void 0===e&&(e=[]);var t=this.spreadsheet,n=t.store,r=t.options.interaction.hiddenColumnFields;e.length+r.length!==n.get("initColumnLeafNodes",[]).length&&n.set("initColumnLeafNodes",e)},e.prototype.getHiddenColumnsInfo=function(e){var t=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return Dv(t)?null:t.find((function(t){var n;return null===(n=null==t?void 0:t.hideColumnNodes)||void 0===n?void 0:n.some((function(t){return t.id===e.id}))}))},e.prototype.getCornerNodes=function(){var e;return(null===(e=this.cornerHeader)||void 0===e?void 0:e.getNodes())||[]},e}(),SO=function(e){var t,n,r,o=e.facetCfg,i=e.customTreeItems,a=void 0===i?[]:i,l=e.level,s=e.parentNode,u=e.hierarchy,c=o.spreadsheet,d=o.collapsedRows,f=o.hierarchyCollapse;try{for(var h=Sa(a),p=h.next();!p.done;p=h.next()){var v=p.value,g=v.key,m=v.title,y=v.collapsed,b=v.children,C=xa(v,["key","title","collapsed","children"]),w=((r={})[mi]=g,r),x=MC(s.id,m),S=null!=y&&y,E=Xu(d,x),I=null!=E?E:f||S,O=new wC({id:x,key:g,label:m,value:m,level:l,parent:s,field:g,isTotals:!1,isCollapsed:I,hierarchy:u,query:w,spreadsheet:c,extra:C});l>u.maxLevel&&(u.maxLevel=l),Dv(b)&&(O.isLeaf=!0);var L=OC(o,s,O,u);Dv(b)||I||!L||SO({facetCfg:o,parentNode:O,level:l+1,hierarchy:u,customTreeItems:b})}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}},EO=(Pi+zi).length,IO=function(e){var t,n,r,o,i,a,l,s=e.parentNode,u=e.currentField,c=e.level,d=e.facetCfg,f=e.hierarchy,h=e.pivotMeta,p=d.spreadsheet,v=d.dataSet,g=d.collapsedRows,m=d.hierarchyCollapse,y=d.rowExpandDepth,b=s.query,C=s.id,w=(null===(o=p.dataCfg.fields.rows)||void 0===o?void 0:o.length)<=c,x=(null===(i=null==v?void 0:v.sortedDimensionValues)||void 0===i?void 0:i[u])||[],S=iw(Array.from(h.keys())),E=ow(S,x,(function(e){return Pi===C?e:MC(C,e).slice(EO)})),I=IC(E,d,s,u),O=p.store.get("drillItemsNum");w&&O>0&&(I=I.slice(0,O)),0===c&&function(e,t,n){var r=e.getTotalsConfig(t);r.showGrandTotals&&n[r.reverseLayout?"unshift":"push"](new SC(r.label,!1,!0))}(p,u,I);try{for(var L=Sa(I),_=L.next();!_.done;_=L.next()){var T=_.value,M=T instanceof SC,R=M?null:h.get(T),N=void 0,A=b,D=!1,B=!1;if(M){var k=T;D=k.isGrandTotals,B=k.isSubTotals,N=dC(T.label),A=b}else N=T,A=wa(wa({},b),((r={})[u]=N,r));var P=MC(C,N),z=null==g?void 0:g[P],F=zv(y)?c>y:null,H=null!==(a=null!=z?z:F)&&void 0!==a?a:m,$=new wC({id:P,key:u,label:N,value:N,level:c,parent:s,field:u,isTotals:M,isGrandTotals:D,isSubTotals:B,isCollapsed:H,hierarchy:f,query:A,spreadsheet:p});c>f.maxLevel&&(f.maxLevel=c);var j=!(null===(l=null==R?void 0:R.children)||void 0===l?void 0:l.size);(j||M)&&($.isLeaf=!0),j||($.isTotals=!0);var W=OC(d,s,$,f);j||H||M||!W||IO({level:c+1,currentField:R.childField,pivotMeta:R.children,facetCfg:d,parentNode:$,hierarchy:f})}}catch(e){t={error:e}}finally{try{_&&!_.done&&(n=L.return)&&n.call(L)}finally{if(t)throw t.error}}},OO=function(e){var t,n,r=e.isValueInCols,o=e.moreThanOneValue,i=e.rootNode,a=e.facetCfg,l=e.hierarchy,s=e.fields;e.isRowHeader?(t=!r&&o,n=!r&&!o):(t=r&&o,n=r&&!o),TC({addTotalMeasureInTotal:t,addMeasureInTotalQuery:n,parentNode:i,currentField:s[0],fields:s,facetCfg:a,hierarchy:l})},LO=function(e){var t=e.facetCfg,n=e.rootNode,r=e.hierarchy,o=t.hierarchyType,i=t.rows,a=t.dataSet;"tree"===o?IO({level:0,currentField:i[0],pivotMeta:a.rowPivotMeta,facetCfg:t,parentNode:n,hierarchy:r}):function(e){var t=e.facetCfg,n=e.rootNode,r=e.hierarchy,o=t.dataSet.fields.customTreeItems;SO({customTreeItems:o,facetCfg:t,level:0,parentNode:n,hierarchy:r})}(e)},_O=function(e){var t=e.isPivotMode,n=e.hierarchy,r=e.rootNode,o=e.facetCfg;t?OO(e):function(e){var t=e.facetCfg,n=t.columns,r=t.spreadsheet.store.get("hiddenColumnsDetail"),o=null==t?void 0:t.showSeriesNumber,i=Ia([],Ea(WC(n).filter((function(e){return!r||r.every((function(t){return t.hideColumnNodes.every((function(t){return t.field!==e}))}))}))),!1),a=Ia([],Ea(n),!1),l={};o&&(a.unshift({key:Ci}),l[Ci]=!0),i.reduce((function(e,t){return e[t]=!0,e}),l),NC($C(a,l),e,0,null)}({parentNode:r,hierarchy:n,facetCfg:o})},TO=function(e){var t=e.isRowHeader,n=e.facetCfg,r=n.spreadsheet,o=n.rows,i=void 0===o?[]:o,a=n.columns,l=void 0===a?[]:a,s=r.dataCfg.fields.valueInCols,u=r.isPivotMode(),c=n.dataSet.moreThanOneValue(),d=wC.rootNode(),f=new xC,h={isValueInCols:s,isPivotMode:u,moreThanOneValue:c,rootNode:d,hierarchy:f,spreadsheet:r,facetCfg:n,fields:t?i:l,isRowHeader:t};t?function(e){e.spreadsheet.isHierarchyTreeType()?LO(e):OO(e)}(h):_O(h);return{hierarchy:f,leafNodes:t&&r.isHierarchyTreeType()?f.getNodes():f.getLeaves()}},MO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Object.defineProperty(t.prototype,"rowCellTheme",{get:function(){return this.spreadsheet.theme.rowCell.cell},enumerable:!1,configurable:!0}),t.prototype.getContentHeight=function(){var e=this.layoutResult,t=e.rowsHierarchy,n=e.colsHierarchy;return t.height+n.height},t.prototype.doLayout=function(){var e=TO({isRowHeader:!0,facetCfg:this.cfg}),t=e.leafNodes,n=e.hierarchy,r=TO({isRowHeader:!1,facetCfg:this.cfg}),o=r.leafNodes,i=r.hierarchy;this.calculateNodesCoordinate(t,n,o,i);var a=this.cfg,l=a.dataSet,s=a.spreadsheet,u={colNodes:i.getNodes(),colsHierarchy:i,rowNodes:n.getNodes(),rowsHierarchy:n,rowLeafNodes:t,colLeafNodes:o,getCellMeta:function(e,n){var r,i,a,u=e||0,c=n||0,d=t[u],f=o[c];if(!d||!f)return null;var h,p=d.query,v=f.query,g=d.isTotals||d.isTotalMeasure||f.isTotals||f.isTotalMeasure,m=s.options.hierarchyType,y=null!==(i=Xu(s,"facet.cfg.colCfg.hideMeasureColumn"))&&void 0!==i&&i&&"customTree"!==m?((r={})[mi]=null===(a=l.fields.values)||void 0===a?void 0:a[0],r):{},b=hg({},p,v,y),C=l.getCellData({query:b,rowNode:d,isTotals:g}),w=null;return Dv(C)?h=Xu(b,[mi],""):(h=Xu(C,[mi],""),w=Xu(C,[gi],null),g&&(h=Xu(b,[mi],""),w=Xu(C,h,null))),{spreadsheet:s,x:f.x,y:d.y,width:f.width,height:d.height,data:C,rowIndex:u,colIndex:c,isTotals:g,valueField:h,fieldValue:w,rowQuery:p,colQuery:v,rowId:d.id,colId:f.id,id:Ox(d.id,f.id)}},spreadsheet:s};return function(e,t){var n=null==e?void 0:e.layoutDataPosition;if(n){var r=t.getCellMeta,o=n(e.spreadsheet,r);return wa(wa({},t),{getCellMeta:o})}return t}(this.cfg,u)},t.prototype.calculateNodesCoordinate=function(e,t,n,r){this.calculateRowNodesCoordinate(e,t,n),this.calculateColNodesCoordinate(n,r,e,t.width)},t.prototype.calculateColNodesCoordinate=function(e,t,n,r){var o,i,a,l,s=wC.blankNode(),u=t.getNodes();try{for(var c=Sa(t.sampleNodesForAllLevels),d=c.next();!d.done;d=c.next()){var f=d.value;f.height=this.getColNodeHeight(f),t.height+=f.height}}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}for(var h=0,p=function(o){var i=u[o];if(i.isLeaf&&(i.colIndex=h,h+=1,i.x=s.x+s.width,i.width=v.calculateColLeafNodesWidth(i,e,n,r),t.width+=i.width,s=i),0===i.level)i.y=0;else{var l=t.sampleNodesForAllLevels.find((function(e){return e.level===i.level-1}));i.y=null!==(a=(null==l?void 0:l.y)+(null==l?void 0:l.height))&&void 0!==a?a:0}i.height=i.isGrandTotals&&i.isLeaf?t.height:v.getColNodeHeight(i),LC(v.cfg,null,i)},v=this,g=0;g<u.length;g++)p(g);this.autoCalculateColNodeWidthAndX(e),Dv(null===(l=this.spreadsheet.options.totals)||void 0===l?void 0:l.col)||(this.adjustTotalNodesCoordinate(t),this.adjustSubTotalNodesCoordinate(t))},t.prototype.autoCalculateColNodeWidthAndX=function(e){for(var t,n=null,r=e.slice(0);r.length;){var o=r.shift().parent;if(n!==o&&o){r.push(o);var i=null===(t=o.children)||void 0===t?void 0:t.find((function(e){return!e.hiddenChildNodeInfo})),a=null==i?void 0:i.x,l=by(o.children,"width");o.x=a,o.width=l,n=o}}},t.prototype.calculateColLeafNodesWidth=function(e,t,n,r){var o,i,a,l,s,u=this.cfg,c=u.colCfg,d=u.dataSet,f=u.filterDisplayDataItem,h=this.getCellDraggedWidth(e);if(zv(h))return h;var p=this.getCellCustomWidth(e,null==c?void 0:c.width);if(zv(p))return p;if(this.spreadsheet.getLayoutWidthType()===ga.Compact){for(var v=this.spreadsheet.theme.colCell,g=v.bolderText,m=v.cell,y=v.icon,b=this.spreadsheet.dataSet.getFieldFormatter(e.field),C=null!==(o=null==b?void 0:b(e.value))&&void 0!==o?o:e.label,w=this.getExpectedCellIconWidth(ea.COL_CELL,this.spreadsheet.isValueInCols()&&this.spreadsheet.options.showDefaultHeaderActionIcon,y),x=this.spreadsheet.measureTextWidthRoughly(C)+w,S=void 0,E=0,I=0;I<50;I++){var O=n[I];if(O){var L=d.getCellData({query:wa(wa({},e.query),O.query),rowNode:O,isTotals:e.isTotals||e.isTotalMeasure||O.isTotals||O.isTotalMeasure});if(L){var _=Ex(L,f),T=null!==(a=null===(i=this.spreadsheet.dataSet.getFieldFormatter(L[mi]))||void 0===i?void 0:i(_))&&void 0!==a?a:_,M="".concat(T),R=this.spreadsheet.measureTextWidthRoughly(M);R>E&&(S=M,E=R)}}}var N=x>E,A=N?C:S,D=N?w:0;return ZC.getInstance().logger("Max Label In Col:",e.field,A),this.spreadsheet.measureTextWidth(A,g)+(null===(l=m.padding)||void 0===l?void 0:l.left)+(null===(s=m.padding)||void 0===s?void 0:s.right)+D}return this.spreadsheet.isHierarchyTreeType()?this.getAdaptTreeColWidth(e,t,n):this.getAdaptGridColWidth(t,r)},t.prototype.getColNodeHeight=function(e){var t=this.cfg.colCfg,n=Xu(t,["heightByField",e.key]);return null!=n?n:null==t?void 0:t.height},t.prototype.getExpectedCellIconWidth=function(e,t,n){var r,o=0;if(t)o=1;else{var i=Ux(Dp(this.spreadsheet.options.headerActionIcons,(function(e){return wa(wa({},e),{displayCondition:function(){return!0}})})),null,e);o=null!==(r=null==i?void 0:i.iconNames.length)&&void 0!==r?r:0}return o?o*(n.size+n.margin.left)+n.margin.right:0},t.prototype.calculateRowNodesCoordinate=function(e,t,n){var r,o,i,a,l,s,u,c,d,f,h=this.cfg,p=h.cellCfg,v=h.spreadsheet,g=v.isHierarchyTreeType(),m=Xu(v,"options.style.rowCfg.heightByField",{}),y=null!==(i=t.sampleNodesForAllLevels)&&void 0!==i?i:[];if(g)t.width=this.getTreeRowHeaderWidth();else try{for(var b=Sa(t.sampleNodesForAllLevels),C=b.next();!C.done;C=b.next()){var w=C.value;w.width=this.calculateGridRowNodesWidth(w,n),t.width+=w.width;var x=null!==(a=y[w.level-1])&&void 0!==a?a:{x:0,width:0};w.x=(null==x?void 0:x.x)+(null==x?void 0:x.width)}}catch(e){r={error:e}}finally{try{C&&!C.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}for(var S=wC.blankNode(),E=t.getNodes(),I=0;I<E.length;I++){var O=E[I];if((g||!g&&O.isLeaf)&&(null!==(l=O.rowIndex)&&void 0!==l||(O.rowIndex=I),null!==(s=O.colIndex)&&void 0!==s||(O.colIndex=I),O.y=S.y+S.height,O.height=(null!==(u=null==m?void 0:m[O.id])&&void 0!==u?u:null==p?void 0:p.height)+(null===(c=this.rowCellTheme.padding)||void 0===c?void 0:c.top)+(null===(d=this.rowCellTheme.padding)||void 0===d?void 0:d.bottom),S=O,t.height+=O.height),g||0===O.level)O.x=0;else{x=y[O.level-1];O.x=(null==x?void 0:x.x)+(null==x?void 0:x.width)}if(g)O.width=this.getTreeRowHeaderWidth();else{var L=y[O.level];O.width=null==L?void 0:L.width}LC(this.cfg,O,null)}g||(this.autoCalculateRowNodeHeightAndY(e),Dv(null===(f=v.options.totals)||void 0===f?void 0:f.row)||(this.adjustTotalNodesCoordinate(t,!0),this.adjustSubTotalNodesCoordinate(t,!0)))},t.prototype.autoCalculateRowNodeHeightAndY=function(e){for(var t=null,n=e.slice(0);n.length;){var r=n.shift().parent;t!==r&&r&&(n.push(r),r.y=r.children[0].y,r.height=r.children.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0),t=r)}},t.prototype.adjustTotalNodesCoordinate=function(e,t){var n,r,o,i=this.cfg.dataSet.moreThanOneValue(),a=e.maxLevel,l=Op(e.getNodes(0),(function(e){return e.isGrandTotals}));if(l instanceof wC){var s=l.children;if(t)l.width=e.width,tp(s,(function(t){var n=e.getNodes(a)[0];t.x=n.x,t.width=n.width}));else if(a>1||a<=1&&!i){var u=null!==(r=null===(n=null==s?void 0:s[0])||void 0===n?void 0:n.height)&&void 0!==r?r:0;l.height=e.height-u;var c=null===(o=Op(e.getNodes(a),(function(e){return!e.isTotalMeasure})))||void 0===o?void 0:o.y;tp(s,(function(e){e.y=c}))}}},t.prototype.adjustSubTotalNodesCoordinate=function(e,t){var n=e.getNodes().filter((function(e){return e.isSubTotals}));if(!Dv(n)){var r=e.maxLevel;tp(n,(function(n){var o,i,a,l=n.children;if(t)n.width=rO(e.sampleNodesForAllLevels,n.level,"width"),tp(l,(function(t){t.x=e.getNodes(r)[0].x}));else{var s=rO(e.sampleNodesForAllLevels,n.level,"height"),u=null!==(i=null===(o=null==l?void 0:l[0])||void 0===o?void 0:o.height)&&void 0!==i?i:0;n.height=s-u,tp(l,(function(t){t.y=e.getNodes(r)[0].y}));var c=null===(a=Op(e.getNodes(r),(function(e){return!e.isTotalMeasure})))||void 0===a?void 0:a.y;tp(l,(function(e){e.y=c}))}}))}},t.prototype.calculateGridRowNodesWidth=function(e,t){var n=this.cfg,r=n.rowCfg,o=n.spreadsheet,i=Xu(r,["widthByField",e.key]);if(zv(i))return i;var a=this.getCellCustomWidth(e,null==r?void 0:r.width);return zv(a)?a:o.getLayoutWidthType()!==ga.Adaptive?this.getCompactGridRowWidth(e):this.getAdaptGridColWidth(t)},t.prototype.getAdaptTreeColWidth=function(e,t,n){var r=this.getCanvasHW().width-this.getSeriesNumberWidth(),o=Math.min(r/2,this.getTreeRowHeaderWidth()),i=Math.max(1,t.length),a=this.cfg.cellCfg;return Math.max(jw(a,this.getColLabelLength(e,n)),(r-o)/i)},t.prototype.getColLabelLength=function(e,t){var n,r=Ww(null==e?void 0:e.value);if($a(r))return r.length;for(var o=1,i=0;i<50;i++){var a=t[i];if(!a)return o;for(var l=this.cfg.dataSet.getCellData({query:wa(wa({},e.query),a.query),rowNode:a,isTotals:e.isTotals||e.isTotalMeasure||a.isTotals||a.isTotalMeasure}),s=pu(l),u=0;u<s.length;u++){var c=l[s[u]],d=ny(null===(n=null==c?void 0:c.values)||void 0===n?void 0:n[0]);d>o&&(o=d)}}return o},t.prototype.getAdaptGridColWidth=function(e,t){var n=this.cfg,r=n.rows,o=n.cellCfg,i=r.length,a=e.length,l=this.getCanvasHW().width-this.getSeriesNumberWidth(),s=Math.max(1,i+a);return t?Math.max(jw(o),(l-t)/a):Math.max(jw(o),l/s)},t.prototype.getTreeRowHeaderWidth=function(){var e,t,n,r,o=this.cfg,i=o.rows,a=o.dataSet,l=o.rowCfg,s=o.treeRowsWidth,u=null!=s?s:null==l?void 0:l.treeRowsWidth;if(u)return u;var c=this.getCellCustomWidth(null,null==l?void 0:l.width);if(c)return c;var d=i.map((function(e){return a.getFieldName(e)})).join("/"),f=this.spreadsheet.theme.cornerCell,h=f.bolderText,p=f.icon,v=this.spreadsheet.measureTextWidth(d,h)+2*p.size+(null===(e=p.margin)||void 0===e?void 0:e.left)+(null===(t=p.margin)||void 0===t?void 0:t.right)+(null===(n=this.rowCellTheme.padding)||void 0===n?void 0:n.left)+(null===(r=this.rowCellTheme.padding)||void 0===r?void 0:r.right);return Math.max(null!=u?u:120,v)},t.prototype.getCompactGridRowWidth=function(e){var t,n=this,r=this.cfg,o=r.dataSet,i=r.spreadsheet,a=i.theme.rowCell,l=a.bolderText,s=a.icon,u=a.cell,c=i.theme.cornerCell,d=c.bolderText,f=c.icon,h=c.cell,p=e.field,v=e.isLeaf,g=this.getExpectedCellIconWidth(ea.ROW_CELL,!i.isValueInCols()&&v&&i.options.showDefaultHeaderActionIcon,s),m=null===(t=o.getDimensionValues(p))||void 0===t?void 0:t.slice(0,50).map((function(e){var t,r;return null!==(r=null===(t=n.spreadsheet.dataSet.getFieldFormatter(p))||void 0===t?void 0:t(e))&&void 0!==r?r:e})),y=ug(m,(function(e){return"".concat(e).length})),b=i.measureTextWidth(y,l)+g+u.padding.left+u.padding.right,C=o.getFieldName(p),w=this.getExpectedCellIconWidth(ea.CORNER_CELL,!1,f),x=i.measureTextWidth(C,d)+w+h.padding.left+h.padding.right;return ZC.getInstance().logger("Max Label In Row:",p,b>x?y:C),Math.max(b,x)},t.prototype.getViewCellHeights=function(e){var t=jm(e.rowLeafNodes,(function(e,t){return e.push(Uh(e)+t.height),e}),[0]);return{getTotalHeight:function(){return Uh(t)},getCellOffsetY:function(e){return t[e]},getTotalLength:function(){return t.length-1},getIndexRange:function(e,n){return oO(t,e,n)}}},t}(xO),RO=function(e){function t(t){var n,r=this;(r=e.call(this,t)||this).getScrollGroupClipBBox=function(){var e,t=r.headerConfig,n=t.width,o=t.height,i=t.scrollX,a=t.spreadsheet,l=a.options;if(!l.frozenColCount&&!l.frozenTrailingColCount)return{x:i,y:0,width:n,height:o};for(var s=null===(e=a.facet)||void 0===e?void 0:e.layoutResult.colLeafNodes,u=fw(a.options,s.length),c=u.frozenColCount,d=u.frozenTrailingColCount,f=0,h=0,p=0;p<c;p++)f+=s[p].width;for(p=0;p<d;p++)h+=s[s.length-1-p].width;return{x:i+f,y:0,width:n-f-h,height:o}};var o=null===(n=r.headerConfig.spreadsheet)||void 0===n?void 0:n.options,i=o.frozenColCount,a=o.frozenTrailingColCount;return i&&(r.frozenColGroup=r.addGroup({name:"colFrozenGroup",zIndex:4})),a&&(r.frozenTrailingColGroup=r.addGroup({name:"colFrozenTrailingGroup",zIndex:4})),r}return Ca(t,e),t.prototype.isFrozenCell=function(e){var t=this.headerConfig.spreadsheet,n=null==t?void 0:t.options,r=n.frozenColCount,o=n.frozenTrailingColCount,i=e.colIndex,a=null==t?void 0:t.facet.layoutResult.colLeafNodes;return AC(i,r)||DC(i,o,a.length)},t.prototype.clear=function(){var t,n,r=this.headerConfig.spreadsheet;e.prototype.clear.call(this),null===(t=this.frozenTrailingColGroup)||void 0===t||t.clear(),null===(n=this.frozenColGroup)||void 0===n||n.clear();var o=null==r?void 0:r.foregroundGroup.findById(Di);null==o||o.clear()},t.prototype.getCellInstance=function(e,t,n){return e.field===Ci?new AS(e,t,n):new NS(e,t,n)},t.prototype.getCellGroup=function(e){var t,n,r=this.headerConfig.spreadsheet,o=null==r?void 0:r.options,i=o.frozenColCount,a=o.frozenTrailingColCount,l=null===(t=null==r?void 0:r.facet)||void 0===t?void 0:t.layoutResult.colNodes.filter((function(e){return jC(e)})),s=HC(l,i,a),u=s.colCount,c=s.trailingColCount;return AC(GC(e).colIndex,u)?this.frozenColGroup:DC(GC(e).colIndex,c,null===(n=null==r?void 0:r.facet)||void 0===n?void 0:n.layoutResult.colLeafNodes.length)?this.frozenTrailingColGroup:this.scrollGroup},t.prototype.isColCellInRect=function(t){var n,r,o=this.headerConfig.spreadsheet,i=null==o?void 0:o.options,a=i.frozenColCount,l=i.frozenTrailingColCount,s=null===(n=null==o?void 0:o.facet)||void 0===n?void 0:n.layoutResult.colLeafNodes.length,u=null===(r=null==o?void 0:o.facet)||void 0===r?void 0:r.layoutResult.colNodes.filter((function(e){return jC(e)})),c=HC(u,a,l),d=c.colCount,f=c.trailingColCount;return!(!AC(GC(t).colIndex,d)&&!DC(GC(t).colIndex,f,s))||e.prototype.isColCellInRect.call(this,t)},t.prototype.clip=function(){this.scrollGroup.setClip({type:"rect",attrs:this.getScrollGroupClipBBox()})},t}(mO),NO=function(e){function t(t){var n,r=e.call(this,t)||this;r.frozenGroupInfo=((n={})[Wi.FROZEN_COL]={width:0},n[Wi.FROZEN_ROW]={height:0},n[Wi.FROZEN_TRAILING_ROW]={height:0},n[Wi.FROZEN_TRAILING_COL]={width:0},n),r.panelScrollGroupIndexes=[],r.onSortHandler=function(e){var t=r.spreadsheet,n=e;Array.isArray(e)||(n=[e]);var o=t.dataCfg.sortParams||[];n=n.map((function(e){var t,n,r=wa(wa({},e),{sortFieldId:null!==(t=e.sortKey)&&void 0!==t?t:e.sortFieldId}),i=null!==(n=o.find((function(e){return e.sortFieldId===r.sortFieldId})))&&void 0!==n?n:{};return wa(wa({},i),r)}));var i=o.filter((function(e){return!n.find((function(t){return t.sortFieldId===e.sortFieldId}))}));Jm(t.dataCfg,"sortParams",Ia(Ia([],Ea(i),!1),Ea(n),!1)),t.setDataCfg(t.dataCfg),t.render(!0),t.emit(hi.RANGE_SORTED,t.dataSet.getDisplayDataSet())},r.onFilterHandler=function(e){var t=r.spreadsheet,n=!e.filteredValues||0===e.filteredValues.length,o=t.dataCfg.filterParams||[],i=o.findIndex((function(t){return t.filterKey===e.filterKey}));-1!==i?n?o.splice(i,1):o[i]=e:o.push(e),Jm(t.dataCfg,"filterParams",o),t.render(!0),t.emit(hi.RANGE_FILTERED,t.dataSet.getDisplayDataSet())},r.initFrozenGroupPosition=function(){var e=r.getScrollOffset(),t=e.scrollY,n=e.scrollX,o=r.getPaginationScrollY();zC(r.spreadsheet.frozenRowGroup,r.cornerBBox.width-n,r.cornerBBox.height-o),zC(r.spreadsheet.frozenColGroup,r.cornerBBox.width,r.cornerBBox.height-t-o),zC(r.spreadsheet.frozenTrailingColGroup,r.cornerBBox.width,r.cornerBBox.height-t-o),zC(r.spreadsheet.frozenTopGroup,r.cornerBBox.width,r.cornerBBox.height-o)},r.getTotalHeightForRange=function(e,t){if(e<0||t<0)return 0;if(r.rowOffsets)return r.rowOffsets[t+1]-r.rowOffsets[e];for(var n=0,o=e;o<t+1;o++){n+=r.getDefaultCellHeight()}return n},r.getShadowFill=function(e){var t,n,o=Xu(r.cfg,"spreadsheet.theme.splitLine");return"l (".concat(e,") 0:").concat(null===(t=o.shadowColors)||void 0===t?void 0:t.left," 1:").concat(null===(n=o.shadowColors)||void 0===n?void 0:n.right)},r.renderFrozenGroupSplitLine=function(e,t){var n,o=r.panelBBox,i=o.width,a=o.height,l=o.viewportWidth,s=o.viewportHeight,u=r.cornerBBox.height,c=r.layoutResult.colNodes.filter((function(e){return jC(e)})),d=r.getCellRange(),f=d.end-d.start,h=fw(r.spreadsheet.options,c.length,f),p=h.frozenRowCount,v=h.frozenColCount,g=h.frozenTrailingColCount,m=h.frozenTrailingRowCount,y=Math.floor(t-r.getPaginationScrollY()),b=Math.max(0,Uh(r.viewCellWidths)-l),C=Math.max(0,r.viewCellHeights.getCellOffsetY(d.end+1)-r.viewCellHeights.getCellOffsetY(d.start)-s);null===(n=r.foregroundGroup.findById(Mi))||void 0===n||n.remove();var w,x,S,E,I=Xu(r.cfg,"spreadsheet.theme.splitLine"),O=r.foregroundGroup.addGroup({id:Mi,zIndex:4}),L={lineWidth:null==I?void 0:I.verticalBorderWidth,stroke:null==I?void 0:I.verticalBorderColor,opacity:null==I?void 0:I.verticalBorderColorOpacity},_={lineWidth:null==I?void 0:I.horizontalBorderWidth,stroke:null==I?void 0:I.horizontalBorderColor,opacity:null==I?void 0:I.horizontalBorderColorOpacity};v>0&&(gw(O,{x1:w=c.reduce((function(e,t,n){return n<v?e+t.width:e}),0),x2:w,y1:u,y2:u+(x=m>0?a:s)},wa({},L)),I.showShadow&&e>0&&O.addShape("rect",{attrs:{x:w,y:u,width:I.shadowWidth,height:x,fill:r.getShadowFill(0)}}));p>0&&(gw(O,{x1:0,x2:E=g>0?i:l,y1:S=u+r.getTotalHeightForRange(d.start,d.start+p-1),y2:S},wa({},_)),I.showShadow&&y>0&&O.addShape("rect",{attrs:{x:0,y:S,width:E,height:I.shadowWidth,fill:r.getShadowFill(90)}}));g>0&&(gw(O,{x1:w=c[c.length-g].x,x2:w,y1:u,y2:u+(x=m?a:s)},wa({},L)),I.showShadow&&Math.floor(e)<Math.floor(b)&&O.addShape("rect",{attrs:{x:w-I.shadowWidth,y:u,width:I.shadowWidth,height:x,fill:r.getShadowFill(180)}}));m>0&&(gw(O,{x1:0,x2:E=g>0?i:l,y1:S=r.panelBBox.maxY-r.getTotalHeightForRange(d.end-m+1,d.end),y2:S},wa({},_)),I.showShadow&&y<Math.floor(C)&&O.addShape("rect",{attrs:{x:0,y:S-I.shadowWidth,width:E,height:I.shadowWidth,fill:r.getShadowFill(270)}}));r.foregroundGroup.sort()},r.renderFrozenPanelCornerGroup=function(){var e=r.layoutResult.colNodes.filter((function(e){return jC(e)})),t=r.getCellRange(),n=fw(r.spreadsheet.options,e.length,t.end-t.start+1),o=n.frozenRowCount,i=n.frozenColCount,a=n.frozenTrailingRowCount,l=n.frozenTrailingColCount,s=HC(e,i,l),u=function(e,t,n){for(var r,o=e.frozenColCount,i=e.frozenRowCount,a=e.frozenTrailingColCount,l=e.frozenTrailingRowCount,s=((r={})[ji.TOP]=[],r[ji.BOTTOM]=[],r),u=0;u<o;u++){for(var c=n.start;c<n.start+i;c++)s[ji.TOP].push({x:u,y:c});if(l>0)for(c=0;c<l;c++){var d=n.end-c;s[ji.BOTTOM].push({x:u,y:d})}}for(u=0;u<a;u++){var f=t-1-u;for(c=n.start;c<n.start+i;c++)s[ji.TOP].push({x:f,y:c});if(l>0)for(c=0;c<l;c++)d=n.end-c,s[ji.BOTTOM].push({x:f,y:d})}return s}({frozenRowCount:o,frozenColCount:s.colCount,frozenTrailingRowCount:a,frozenTrailingColCount:s.trailingColCount},r.layoutResult.colLeafNodes.length,t);Object.keys(u).forEach((function(e){var t=u[e],n=r.spreadsheet[ta[e]];n&&t.forEach((function(e){r.addFrozenCell(e.x,e.y,n)}))}))},r.addFrozenCell=function(e,t,n){var o=r.layoutResult.getCellMeta(t,e);if(o.isFrozenCorner=!0,o){var i=r.cfg.dataCell(o);n.add(i)}},r.getRealFrozenColumns=function(e,t){var n,o=e,i=t;if(e||t){var a=r.layoutResult.colsHierarchy.getNodes();a=a.filter((function(e){return jC(e)})),o=(n=HC(a,e,t)).colCount,i=n.trailingColCount}return{colCount:o,trailingColCount:i}},r.addCell=function(e){var t=r.spreadsheet.options,n=t.frozenRowCount,o=t.frozenColCount,i=t.frozenTrailingRowCount,a=t.frozenTrailingColCount,l=r.layoutResult.colsHierarchy.getLeaves().length,s=r.getCellRange(),u=r.getRealFrozenColumns(o,a),c=u.colCount,d=u.trailingColCount,f=function(e,t,n,r){var o=t.frozenColCount,i=t.frozenRowCount,a=t.frozenTrailingColCount,l=t.frozenTrailingRowCount,s=e.colIndex,u=e.rowIndex;return BC(u,r.start,i)?ji.ROW:kC(u,r.end,l)?ji.TRAILING_ROW:AC(s,o)?ji.COL:DC(s,a,n)?ji.TRAILING_COL:ji.SCROLL}(e.getMeta(),{frozenRowCount:n,frozenColCount:c,frozenTrailingRowCount:i,frozenTrailingColCount:d},l,s),h=ta[f];h&&r.spreadsheet[h].add(e)},r.getFrozenOptions=function(){var e=r.layoutResult.colLeafNodes.length,t=r.getCellRange();return fw(r.cfg,e,t.end-t.start+1)};var o=r.spreadsheet;return o.on(hi.RANGE_SORT,r.onSortHandler),o.on(hi.RANGE_FILTER,r.onFilterHandler),r}return Ca(t,e),t.prototype.getContentHeight=function(){var e=this.getViewCellHeights().getTotalHeight,t=this.layoutResult.colsHierarchy;return e()+t.height},Object.defineProperty(t.prototype,"dataCellTheme",{get:function(){return this.spreadsheet.theme.dataCell.cell},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){var t=this.spreadsheet;t.off(hi.RANGE_SORT,this.onSortHandler),t.off(hi.RANGE_FILTER,this.onFilterHandler),e.prototype.destroy.call(this)},t.prototype.calculateCornerBBox=function(){var e=this.layoutResult.colsHierarchy,t=Math.floor(e.height);this.cornerBBox=new pO(this),this.cornerBBox.height=t,this.cornerBBox.maxY=t},t.prototype.doLayout=function(){var e=this,t=this.cfg,n=t.dataSet,r=t.spreadsheet,o=new xC,i=TO({isRowHeader:!1,facetCfg:this.cfg}),a=i.leafNodes,l=i.hierarchy;this.calculateColNodesCoordinate(a,l);var s={colNodes:l.getNodes(),colsHierarchy:l,rowNodes:o.getNodes(),rowsHierarchy:o,rowLeafNodes:o.getLeaves(),colLeafNodes:a,getCellMeta:function(t,o){var i,l,s=e.cfg.showSeriesNumber,u=a[o],c=e.getCellHeight(t),d=e.getCellRange(),f=fw(e.cfg,a.length,d.end-d.start+1).frozenTrailingRowCount,h=u.x,p=e.viewCellHeights.getCellOffsetY(t);return kC(t,d.end,f)&&(p=e.panelBBox.maxY-e.getTotalHeightForRange(t,d.end)),l=s&&u.field===Ci?t+1:n.getCellData({query:{col:u.field,rowIndex:t}}),{spreadsheet:r,x:h,y:p,width:u.width,height:c,data:(i={},i[u.field]=l,i),rowIndex:t,colIndex:o,isTotals:!1,colId:u.id,rowId:String(t),valueField:u.field,fieldValue:l,id:Ox(String(t),u.id)}},spreadsheet:r};return s},t.prototype.getAdaptiveColWidth=function(e){var t=this.cfg.cellCfg,n=this.cfg.showSeriesNumber;if(this.spreadsheet.getLayoutWidthType()!==ga.Compact){var r=this.getSeriesNumberWidth(),o=e.length-(n?1:0),i=this.getCanvasHW().width-r;return Math.max(null==t?void 0:t.width,i/Math.max(1,o))}return null==t?void 0:t.width},t.prototype.getColNodeHeight=function(e,t){var n=this.cfg.colCfg,r=nv(null==n?void 0:n.heightByField)[0]||(null==n?void 0:n.height);if(!t)return r;if(e.children&&e.children.length)return r;for(;e.parent;)t-=jC(e)?0:r,e=e.parent;return t},t.prototype.calculateColNodesCoordinate=function(e,t){var n,r,o,i,a,l,s=wC.blankNode(),u=t.getNodes();try{for(var c=Sa(t.sampleNodesForAllLevels),d=c.next();!d.done;d=c.next()){var f=d.value;f.height=this.getColNodeHeight(f),t.height+=f.height}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}for(var h=this.getAdaptiveColWidth(e),p=0,v=0;v<u.length;v++){(w=u[v]).isLeaf&&(w.colIndex=p,p+=1,w.x=s.x+s.width,w.width=this.calculateColLeafNodesWidth(w,h),LC(this.cfg,null,w),t.width+=w.width,s=w),0===w.level?w.y=0:w.y=null!==(a=(null===(o=w.parent)||void 0===o?void 0:o.y)+(null===(i=w.parent)||void 0===i?void 0:i.height))&&void 0!==a?a:0,w.height=this.getColNodeHeight(w,t.height)}var g=u.filter((function(e){return jC(e)})),m=fw(null===(l=this.spreadsheet)||void 0===l?void 0:l.options,g.length).frozenTrailingColCount;s=wC.blankNode();var y=this.getCanvasHW().width;if(m>0){var b=HC(g,0,m).trailingColCount,C=u.filter((function(e){return e.isLeaf}));for(v=1;v<=b;v++){var w;(w=C[C.length-v]).x=1===v?y-w.width:s.x-w.width,s=w}}this.autoCalculateColNodeWidthAndX(e)},t.prototype.autoCalculateColNodeWidthAndX=function(e){for(var t=null,n=e.slice(0);n.length;){var r=n.shift().parent;t!==r&&r&&(n.push(r),r.x=r.children[0].x,r.width=r.children.map((function(e){return e.width})).reduce((function(e,t){return e+t}),0),t=r)}},t.prototype.calculateColLeafNodesWidth=function(e,t){var n=this.cfg,r=n.colCfg,o=n.dataSet,i=n.spreadsheet,a=this.spreadsheet.getLayoutWidthType(),l=this.getCellDraggedWidth(e);if(zv(l))return l;var s,u=this.getCellCustomWidth(e,null==r?void 0:r.width);if(zv(u))return u;if(a===ga.Compact){var c=o.getDisplayDataSet(),d=o.getFieldFormatter(e.field),f=ug(null==c?void 0:c.slice(0,50).map((function(t){var n;return"".concat(null!==(n=null==d?void 0:d(t[e.field]))&&void 0!==n?n:t[e.field])})),(function(e){return i.measureTextWidthRoughly(e)}));ZC.getInstance().logger("Max Label In Col:",e.field,f);var h=i.theme.colCell.bolderText,p=i.theme.dataCell,v=p.text,g=p.cell,m=i.measureTextWidth(f,v)+g.padding.left+g.padding.right+1,y=i.measureTextWidth(e.label,h)+RS(this.spreadsheet,e,i.theme.colCell);s=Math.max(y,m)}else s=t;return e.field===Ci&&(s=this.getSeriesNumberWidth()),s},t.prototype.getDefaultCellHeight=function(){var e=this.cfg.cellCfg;return null==e?void 0:e.height},t.prototype.getCellHeight=function(e){if(this.rowOffsets){var t=Xu(this.spreadsheet,"options.style.rowCfg.heightByField",{}),n=null==t?void 0:t[String(e)];if(zv(n))return n}return this.getDefaultCellHeight()},t.prototype.initRowOffsets=function(){var e=this,t=this.cfg.dataSet,n=Xu(this.spreadsheet,"options.style.rowCfg.heightByField",{});if(Object.keys(n).length){var r=t.getDisplayDataSet();this.rowOffsets=[0];var o=0;r.forEach((function(t,r){var i,a=null!==(i=null==n?void 0:n[String(r)])&&void 0!==i?i:e.getDefaultCellHeight(),l=o+a;e.rowOffsets.push(l),o=l}))}},t.prototype.getViewCellHeights=function(){var e=this,t=this.cfg.dataSet;this.initRowOffsets();var n=this.getDefaultCellHeight();return{getTotalHeight:function(){return e.rowOffsets?Uh(e.rowOffsets):n*t.getDisplayDataSet().length},getCellOffsetY:function(t){if(t<=0)return 0;if(e.rowOffsets)return e.rowOffsets[t];for(var r=0,o=0;o<t;o++)r+=n;return r},getTotalLength:function(){return t.getDisplayDataSet().length},getIndexRange:function(t,r){if(e.rowOffsets)return oO(e.rowOffsets,t,r);var o=Math.floor(t/n),i=r%n==0?r/n-1:Math.floor(r/n);return{start:Math.max(0,o),end:Math.max(0,i)}}}},t.prototype.init=function(){e.prototype.init.call(this);var t=this.panelBBox,n=t.width,r=t.height;this.spreadsheet.panelGroup.setClip({type:"rect",attrs:{x:0,y:this.cornerBBox.height,width:n,height:r}})},t.prototype.getColHeader=function(){if(!this.columnHeader){var e=this.panelBBox,t=e.x,n=e.width,r=e.viewportHeight,o=e.viewportWidth;return new RO({width:n,height:this.cornerBBox.height,viewportWidth:o,viewportHeight:r,cornerWidth:this.cornerBBox.width,position:{x:t,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},t.prototype.updateRowResizeArea=function(){var e=this.spreadsheet,t=e.foregroundGroup,n=Xu(e.options,"interaction.resize");if(Mv(n)?n:null==n?void 0:n.rowCellVertical){var r=t.findById(_i),o=t.findById(Ti);r&&r.set("children",[]),o&&o.set("children",[]),lO(this.panelGroup.getChildren(),DS).filter((function(e){return e.shouldDrawResizeArea()})).forEach((function(e){e.drawResizeArea()}))}},t.prototype.render=function(){this.calculateFrozenGroupInfo(),this.renderFrozenPanelCornerGroup(),e.prototype.render.call(this),this.initFrozenGroupPosition()},t.prototype.calculateFrozenGroupInfo=function(){var e=this.getFrozenOptions(),t=e.frozenColCount,n=e.frozenRowCount,r=e.frozenTrailingColCount,o=e.frozenTrailingRowCount,i=this.layoutResult.colNodes.filter((function(e){return jC(e)})),a=this.viewCellHeights,l=this.getCellRange(),s=this.frozenGroupInfo,u=s.frozenCol,c=s.frozenTrailingCol,d=s.frozenRow,f=s.frozenTrailingRow;t>0&&(u.width=i[t-1].x+i[t-1].width-0,u.range=[0,t-1]),n>0&&(d.height=a.getCellOffsetY(l.start+n)-a.getCellOffsetY(l.start),d.range=[l.start,l.start+n-1]),r>0&&(c.width=i[i.length-1].x-i[i.length-r].x+i[i.length-1].width,c.range=[i.length-r,i.length-1]),o>0&&(f.height=a.getCellOffsetY(l.end+1)-a.getCellOffsetY(l.end+1-o),f.range=[l.end-o+1,l.end])},t.prototype.getRowHeader=function(){return null},t.prototype.getSeriesNumberHeader=function(){return null},t.prototype.translateRelatedGroups=function(t,n,r){var o=this,i=this.spreadsheet,a=i.frozenColGroup,l=i.frozenTrailingColGroup;[i.frozenRowGroup,i.frozenTrailingRowGroup].forEach((function(e){FC(e,o.cornerBBox.width-t)})),[a,l].forEach((function(e){!function(e,t){var n,r=null==e?void 0:e.getMatrix(),o=null!==(n=null==r?void 0:r[7])&&void 0!==n?n:0;null==e||e.translate(0,t-o)}(e,o.cornerBBox.height-n)})),e.prototype.translateRelatedGroups.call(this,t,n,r),this.updateRowResizeArea(),this.renderFrozenGroupSplitLine(t,n)},t.prototype.calculateXYIndexes=function(e,t){var n=this.layoutResult.colLeafNodes.length,r=this.getCellRange(),o=this.panelBBox,i=o.viewportHeight,a=o.viewportWidth,l=this.getFrozenOptions(),s=l.frozenColCount,u=l.frozenRowCount,c=l.frozenTrailingColCount,d=l.frozenTrailingRowCount,f={width:a,height:i,x:0,y:0};if(c>0||s>0){var h=this.frozenGroupInfo,p=h.frozenTrailingCol,v=h.frozenCol;f.width-=p.width+v.width,f.x+=v.width}if(d>0||u>0){var g=this.frozenGroupInfo,m=g.frozenRow,y=g.frozenTrailingRow;f.height<m.height+y.height?(f.height=0,f.y=0):(f.height-=m.height+y.height,f.y+=m.height)}var b=PC(e,t,this.viewCellWidths,this.viewCellHeights,f,this.getRealScrollX(this.cornerBBox.width));this.panelScrollGroupIndexes=b;var C=this.getRealFrozenColumns(s,c);return function(e,t,n,r){var o=t.frozenColCount,i=t.frozenRowCount,a=t.frozenTrailingColCount,l=t.frozenTrailingRowCount,s=Ia([],Ea(e),!1);AC(s[0],o)&&(s[0]=o),DC(s[1],a,n)&&(s[1]=n-a-1),BC(s[2],r.start,i)&&(s[2]=r.start+i),kC(s[3],r.end,l)&&(s[3]=r.end-l);var u=Ia([],Ea(s),!1);u[2]=r.start,u[3]=r.start+i-1;var c=Ia([],Ea(s),!1);c[0]=0,c[1]=o-1;var d=Ia([],Ea(s),!1);d[2]=r.end+1-l,d[3]=r.end;var f=Ia([],Ea(s),!1);return f[0]=n-a,f[1]=n-1,{center:s,frozenRow:u,frozenCol:c,frozenTrailingCol:f,frozenTrailingRow:d}}(b,{frozenColCount:C.colCount,frozenRowCount:u,frozenTrailingColCount:C.trailingColCount,frozenTrailingRowCount:d},n,r)},t.prototype.clip=function(e,t){var n,r,o=this.layoutResult.colLeafNodes,i=this.getPaginationScrollY(),a=this.spreadsheet,l=a.frozenRowGroup,s=a.frozenColGroup,u=a.frozenTrailingColGroup,c=a.frozenTrailingRowGroup,d=a.panelScrollGroup,f=s.getBBox().width,h=l.getBBox().height,p=u.getBBox(),v=c.getBBox().height,g=this.panelBBox.width-f-u.getBBox().width,m=this.panelBBox.height-h-v;d.setClip({type:"rect",attrs:{x:e+f,y:t+h,width:g,height:m}}),l.setClip({type:"rect",attrs:{x:e+f,y:i,width:g,height:h}}),c.setClip({type:"rect",attrs:{x:e+f,y:c.getBBox().minY,width:g,height:v}});var y={y:t+h,height:m};s.setClip({type:"rect",attrs:wa(wa({},y),{x:0,width:f})}),u.setClip({type:"rect",attrs:wa(wa({},y),{x:p.minX,width:p.width})});var b=this.spreadsheet.foregroundGroup.findById(_i);b&&b.setClip({type:"rect",attrs:{x:0,y:h+this.cornerBBox.height,width:null!==(r=null===(n=null==o?void 0:o[0])||void 0===n?void 0:n.width)&&void 0!==r?r:0,height:m}})},t.prototype.updatePanelScrollGroup=function(){var t=this;e.prototype.updatePanelScrollGroup.call(this),[Wi.FROZEN_COL,Wi.FROZEN_ROW,Wi.FROZEN_TRAILING_COL,Wi.FROZEN_TRAILING_ROW].forEach((function(e){if(t.frozenGroupInfo[e].range){var n=[],r=[];if(e.toLowerCase().includes("row")){var o=Ea(t.frozenGroupInfo[e].range,2),i=o[0],a=o[1];if(n=t.gridInfo.cols,r=uO(i,a,t.viewCellHeights),e===Wi.FROZEN_TRAILING_ROW){var l=t.spreadsheet.frozenTrailingRowGroup.getBBox().minY;r=function(e,t,n,r){var o=uO(e,t,r),i=r.getCellOffsetY(e);return o.map((function(e){return e-i+n}))}(i,a,Math.ceil(l),t.viewCellHeights)}}else{var s=Ea(t.frozenGroupInfo[e].range,2),u=s[0],c=s[1],d=t.layoutResult.colNodes.filter((function(e){return jC(e)}));n=sO(u,c,d),r=t.gridInfo.rows}t.spreadsheet["".concat(e,"Group")].updateGrid({cols:n,rows:r},"".concat(e,"Group"))}}))},t}(xO),AO=function(e){function t(t){var n=e.call(this,t)||this;return n.gridInfo={cols:[],rows:[]},n.updateGrid=function(e,t){void 0===t&&(t=Bi);var r=n.getBBox(),o=n.s2,i=o.theme,a=o.isTableMode,l=i.dataCell.cell,s=a()&&(t===Bi||t===Si);n.gridGroup&&n.findById(t)||(n.gridGroup=n.addGroup({id:t})),n.gridGroup.clear(),n.gridInfo=e,s&&n.gridInfo.cols.unshift(0);var u=l.verticalBorderWidth,c=l.verticalBorderWidth/2;n.gridInfo.cols.forEach((function(e){gw(n.gridGroup,{x1:e,x2:e,y1:Math.ceil(r.minY+c),y2:Math.floor(r.maxY-c)},{stroke:l.verticalBorderColor,strokeOpacity:l.verticalBorderColorOpacity,lineWidth:u,lineCap:Gi})}));var d=l.horizontalBorderWidth,f=l.horizontalBorderWidth/2;n.gridInfo.rows.forEach((function(e){gw(n.gridGroup,{x1:Math.ceil(r.minX+f),x2:Math.floor(r.maxX-f),y1:e,y2:e},{stroke:l.horizontalBorderColor,strokeOpacity:l.horizontalBorderColorOpacity,lineWidth:d,lineCap:Gi})})),n.gridGroup.toFront()},n.s2=t.s2,n}return Ca(t,e),t}(Oo),DO=function(e){function t(t){var n=e.call(this,t)||this;return n.initMergedCellsGroup(),n}return Ca(t,e),t.prototype.initMergedCellsGroup=function(){this.mergedCellsGroup&&this.findById(wi)||(this.mergedCellsGroup=this.addGroup({id:wi}))},t.prototype.updateMergedCells=function(){this.initMergedCellsGroup(),zx(this.s2,this.mergedCellsGroup),this.mergedCellsGroup.toFront()},t.prototype.addMergeCell=function(e){var t;null===(t=this.mergedCellsGroup)||void 0===t||t.add(e)},t.prototype.update=function(e){this.updateGrid(e),this.updateMergedCells()},t}(AO),BO=function(){function e(e){var t=this;this.isLinkFieldText=function(e){var n=t.getCellAppendInfo(e);return null==n?void 0:n.isLinkFieldText},this.spreadsheet=e,this.bindEvents()}return e.prototype.getCellAppendInfo=function(e){var t,n;return(null===(t=null==e?void 0:e.attr)||void 0===t?void 0:t.call(e,"appendInfo"))||(null===(n=null==e?void 0:e.attrs)||void 0===n?void 0:n.appendInfo)||{}},e.prototype.reset=function(){},e}(),kO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.bindEvents=function(){this.bindDataCellClick()},t.prototype.bindDataCellClick=function(){var e=this;this.spreadsheet.on(hi.DATA_CELL_CLICK,(function(t){var n;t.stopPropagation();var r=e.spreadsheet.interaction;if(r.clearHoverTimer(),!r.hasIntercepts([ia.CLICK]))if(e.isLinkFieldText(t.target))e.emitLinkFieldClickEvent(t);else{var o=e.spreadsheet.getCell(t.target),i=o.getMeta();if(i)if(r.addIntercepts([ia.HOVER]),r.isSelectedCell(o))1===(null===(n=t.originalEvent)||void 0===n?void 0:n.detail)&&r.reset();else{r.changeState({cells:[zS(o)],stateName:Ji.SELECTED,onUpdateCells:jS}),e.spreadsheet.emit(hi.GLOBAL_SELECTED,[o]),e.showTooltip(t,i);var a=i.rowId,l=i.colId,s=i.spreadsheet,u=r.getSelectedCellHighlight(),c=u.colHeader,d=u.rowHeader;if(c&&xx(l,r.getAllColHeaderCells(),Ji.SELECTED),d&&a){var f=function(e,t){var n=t.interaction,r=t.facet,o=t.options;if(t.isTableMode()){if(!o.showSeriesNumber)return[];var i=r.layoutResult.colLeafNodes[0].id,a=Ox(String(e.rowIndex),i),l=[],s=n.getAllCells().find((function(e){return e.getMeta().id===a}));return s&&s instanceof BS&&l.push(s),l}return wx(e.rowId,n.getAllRowHeaderCells(),t.isHierarchyTreeType())}(i,s);tp(f,(function(e){e.updateByState(Ji.SELECTED)}))}}}}))},t.prototype.getTooltipOperator=function(e,t){var n=this,r={key:"trend",text:dC("趋势"),icon:"Trend"},o=this.spreadsheet.getCell(e.target),i=XI(this.spreadsheet,e).operation,a=i.trend&&wa(wa({},r),{onClick:function(){n.spreadsheet.emit(hi.DATA_CELL_TREND_ICON_CLICK,wa(wa({},t),{record:n.spreadsheet.isTableMode()?n.spreadsheet.dataSet.getCellData({query:{rowIndex:t.rowIndex}}):void 0})),n.spreadsheet.hideTooltip()}});return qI(i,{defaultMenus:[a],cell:o})},t.prototype.showTooltip=function(e,t){var n=t.data,r=t.isTotals,o=void 0!==r&&r,i=t.value,a=t.fieldValue,l=t.field,s=t.valueField,u=n,c=this.spreadsheet.isTableMode(),d=[(c?wa(wa({},u),{value:i||a,valueField:l||s}):u)||wa(wa({},t.rowQuery),t.colQuery)],f=this.getTooltipOperator(e,t);this.spreadsheet.showTooltipWithInfo(e,d,{isTotals:o,operator:f,enterable:!0,hideSummary:!0,showSingleTips:c})},t.prototype.emitLinkFieldClickEvent=function(e){var t=this.getCellAppendInfo(e.target).cellData,n=t.valueField,r=t.data;this.spreadsheet.emit(hi.GLOBAL_LINK_FIELD_JUMP,{key:n,cellData:t,record:Object.assign({rowIndex:t.rowIndex},r)})},t}(BO),PO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.bindEvents=function(){this.bindDataCellClick()},t.prototype.bindDataCellClick=function(){var e=this;this.spreadsheet.on(hi.MERGED_CELLS_CLICK,(function(t){t.stopPropagation();var n=e.spreadsheet.interaction;n.hasIntercepts([ia.CLICK])||n.addIntercepts([ia.HOVER])}))},t}(BO),zO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isMultiSelection=!1,t.handleRowColClick=function(e){if(e.stopPropagation(),!t.isLinkFieldText(e.target)){var n=t.spreadsheet,r=n.interaction,o=n.options,i=t.spreadsheet.getCell(e.target),a=!(!o.interaction.multiSelection||!t.isMultiSelection);r.selectHeaderCell({cell:i,isMultiSelection:a})&&t.showTooltip(e)}},t.getHideColumnField=function(e){return t.spreadsheet.isTableMode()?e.field:e.id},t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindKeyboardUp(),this.bindColCellClick(),this.bindRowCellClick(),this.bindTableColExpand(),this.bindMouseMove()},t.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([ia.CLICK])},t.prototype.bindKeyboardDown=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_KEYBOARD_DOWN,(function(t){kS(t)&&(e.isMultiSelection=!0)}))},t.prototype.bindKeyboardUp=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_KEYBOARD_UP,(function(t){kS(t)&&e.reset()}))},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_MOUSE_MOVE,(function(t){e.isMultiSelection&&!PS(t)&&e.reset()}))},t.prototype.bindRowCellClick=function(){var e=this;this.spreadsheet.on(hi.ROW_CELL_CLICK,(function(t){e.handleRowColClick(t)}))},t.prototype.bindColCellClick=function(){var e=this;this.spreadsheet.on(hi.COL_CELL_CLICK,(function(t){e.handleRowColClick(t)}))},t.prototype.showTooltip=function(e){var t=XI(this.spreadsheet,e),n=t.operation;if(t.showTooltip){var r=this.spreadsheet.interaction,o=r.isSelectedState()?Dp(r.getActiveCells(),(function(e){var t=e.getMeta();return mu({},t.query||{},ym(t,["colIndex","rowIndex"]))})):[],i=this.getTooltipOperator(e,n);this.spreadsheet.showTooltipWithInfo(e,o,{showSingleTips:!0,operator:i})}},t.prototype.getTooltipOperator=function(e,t){var n=this,r=this.spreadsheet.getCell(e.target),o=r.getMeta(),i=r.cellType===ea.COL_CELL,a=1===this.spreadsheet.getColumnLeafNodes().length,l={key:"hiddenColumns",text:dC("隐藏"),icon:"EyeOutlined"},s=i&&!a&&o.isLeaf&&t.hiddenColumns&&wa(wa({},l),{onClick:function(){n.hideSelectedColumns()}});return qI(t,{defaultMenus:[s],cell:r})},t.prototype.bindTableColExpand=function(){var e=this;this.spreadsheet.on(hi.LAYOUT_COLS_EXPANDED,(function(t){e.handleExpandIconClick(t)}))},t.prototype.hideSelectedColumns=function(){var e=this.spreadsheet.interaction.getActiveCells().map((function(e){return e.getMeta()})).map(this.getHideColumnField);jx(this.spreadsheet,e,!0)},t.prototype.handleExpandIconClick=function(e){var t=this.spreadsheet.store.get("hiddenColumnsDetail",[]),n=(Rp(t,(function(t){var n=t.displaySiblingNode;return Wx(n,e.id)}))||{}).hideColumnNodes,r=void 0===n?[]:n,o=this.spreadsheet.options.interaction.hiddenColumnFields,i=r.map(this.getHideColumnField),a=Vh(o,i),l=t.filter((function(t){var n=t.displaySiblingNode;return!Wx(n,e.id)}));this.spreadsheet.setOptions({interaction:{hiddenColumnFields:a}}),this.spreadsheet.store.set("hiddenColumnsDetail",l),this.spreadsheet.interaction.reset(),this.spreadsheet.render(!1)},t}(BO),FO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getRowData=function(e){var n,r=e.getHeadLeafChild(),o=t.spreadsheet.dataSet.getMultiData(null==r?void 0:r.query,null==r?void 0:r.isTotals,!0)[0];return wa(wa({},o),{rowIndex:null!==(n=e.rowIndex)&&void 0!==n?n:r.rowIndex})},t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindRowCellClick()},t.prototype.bindRowCellClick=function(){var e=this;this.spreadsheet.on(hi.ROW_CELL_CLICK,(function(t){if(!e.spreadsheet.interaction.hasIntercepts([ia.CLICK])&&e.isLinkFieldText(t.target)){var n=e.getCellAppendInfo(t.target).cellData,r=n.key,o=e.getRowData(n);e.spreadsheet.emit(hi.GLOBAL_LINK_FIELD_JUMP,{key:r,cellData:n,record:o})}}))},t}(BO),HO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.bindEvents=function(){this.bindCornerCellClick()},t.prototype.bindCornerCellClick=function(){var e=this;this.spreadsheet.on(hi.CORNER_CELL_CLICK,(function(t){var n,r=e.spreadsheet.interaction,o=e.spreadsheet.getCell(t.target);if(o){var i=o.getMeta(),a=e.getRowNodesByField(null==i?void 0:i.field),l=null===(n=a[0])||void 0===n?void 0:n.belongsCell,s=e.getRowCells(a);if(l&&r.isSelectedCell(l))return r.reset(),void e.spreadsheet.emit(hi.GLOBAL_SELECTED,r.getActiveCells());Dv(a)||Dv(s)||(r.addIntercepts([ia.HOVER]),r.changeState({cells:s,stateName:Ji.SELECTED}),r.highlightNodes(a),e.showTooltip(t),e.spreadsheet.emit(hi.GLOBAL_SELECTED,r.getActiveCells()))}}))},t.prototype.getRowNodesByField=function(e){return this.spreadsheet.getRowNodes().filter((function(t){return t.field===e}))},t.prototype.getRowCells=function(e){return e.map((function(e){return{id:e.id,colIndex:-1,rowIndex:-1,type:ea.ROW_CELL}}))},t.prototype.showTooltip=function(e){var t=this.spreadsheet.interaction.getActiveCells();this.spreadsheet.showTooltipWithInfo(e,[],{data:{summaries:[{selectedData:t,name:"",value:null}]}})},t}(BO),$O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.bindEvents=function(){this.bindCornerCellHover(),this.bindDataCellHover(),this.bindRowCellHover(),this.bindColCellHover()},t.prototype.updateRowColCells=function(e){var t=e.rowId,n=e.colId,r=this.spreadsheet.interaction,o=r.getHoverHighlight(),i=o.rowHeader;(o.colHeader&&xx(n,r.getAllColHeaderCells(),Ji.HOVER),i&&t)&&tp(wx(t,r.getAllRowHeaderCells(),this.spreadsheet.isHierarchyTreeType()),(function(e){e.updateByState(Ji.HOVER)}))},t.prototype.changeStateToHoverFocus=function(e,t,n){var r,o=this,i=this.spreadsheet.interaction,a=this.spreadsheet.options.interaction.hoverFocus;i.clearHoverTimer();var l=function(){if(!i.hasIntercepts([ia.HOVER])){i.changeState({cells:[zS(e)],stateName:Ji.HOVER_FOCUS});var r=o.spreadsheet.isTableMode(),a={isTotals:n.isTotals,enterable:!0,hideSummary:!0,showSingleTips:r},l=i.getHoverHighlight(),s=l.rowHeader,u=l.colHeader;(s||u)&&o.updateRowColCells(n);var c=o.getCellData(n,r);o.spreadsheet.showTooltipWithInfo(t,c,a)}},s=800;if(Mv(a)||(s=null!==(r=null==a?void 0:a.duration)&&void 0!==r?r:800),0===s)l();else{var u=window.setTimeout((function(){return l()}),s);i.setHoverTimer(u)}},t.prototype.handleHeaderHover=function(e){var t=this.spreadsheet.getCell(e.target);if(!Dv(t)){var n=this.spreadsheet.interaction;n.clearHoverTimer(),n.isActiveCell(t)||(n.changeState({cells:[zS(t)],stateName:Ji.HOVER}),t.update(),this.showEllipsisTooltip(e,t))}},t.prototype.showEllipsisTooltip=function(e,t){if(t&&t.getActualText()!==t.getFieldValue()){var n=t.getMeta(),r={isTotals:n.isTotals,enterable:!0,hideSummary:!0,showSingleTips:true,enableFormat:this.spreadsheet.isPivotMode()},o=this.getCellData(n,true);this.spreadsheet.showTooltipWithInfo(e,o,r)}},t.prototype.getCellData=function(e,t){void 0===e&&(e={});var n=e.data,r=e.query,o=e.value,i=e.field,a=e.fieldValue,l=e.valueField,s=e.rowQuery,u=e.colQuery,c=n;return t?[wa(wa({},r),{value:o||a,valueField:i||l})]:[c||wa(wa({},s),u)]},t.prototype.bindDataCellHover=function(){var e=this;this.spreadsheet.on(hi.DATA_CELL_HOVER,(function(t){var n=e.spreadsheet.getCell(t.target);if(!Dv(n)){var r=e.spreadsheet,o=r.interaction,i=r.options.interaction,a=null==n?void 0:n.getMeta();if(!o.isActiveCell(n)){o.changeState({cells:[zS(n)],stateName:Ji.HOVER});var l=o.getHoverHighlight(),s=l.rowHeader,u=l.colHeader;(s||u)&&e.updateRowColCells(a),i.hoverFocus&&e.changeStateToHoverFocus(n,t,a)}}}))},t.prototype.bindRowCellHover=function(){var e=this;this.spreadsheet.on(hi.ROW_CELL_HOVER,(function(t){e.handleHeaderHover(t)}))},t.prototype.bindColCellHover=function(){var e=this;this.spreadsheet.on(hi.COL_CELL_HOVER,(function(t){e.handleHeaderHover(t)}))},t.prototype.bindCornerCellHover=function(){var e=this;this.spreadsheet.on(hi.CORNER_CELL_HOVER,(function(t){e.handleHeaderHover(t)}))},t}(BO),jO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.displayedCells=[],t.brushRangeCells=[],t.brushSelectionStage=na.UN_DRAGGED,t.brushSelectionMinimumMoveDistance=5,t.scrollAnimationComplete=!0,t.mouseMoveDistanceFromCanvas=0,t.setMoveDistanceFromCanvas=function(e,n,r){var o=0;if(n&&(o=e.x),r){var i=e.y;o=n?Math.max(i,o):i}t.mouseMoveDistanceFromCanvas=Math.abs(o)},t.formatBrushPointForScroll=function(e,n){var r,o,i,a;void 0===n&&(n=!1);var l=e.x,s=e.y,u=t.spreadsheet.facet,c=n?u.cornerBBox:u.panelBBox,d=c.minX,f=c.maxX,h=u.panelBBox,p=h.minY,v=h.maxY,g=(null===(r=t.endBrushPoint)||void 0===r?void 0:r.x)+l,m=(null===(o=t.endBrushPoint)||void 0===o?void 0:o.y)+s,y=!0,b=!0,C=null===(a=null===(i=u.vScrollBar)||void 0===i?void 0:i.getBBox())||void 0===a?void 0:a.width;return g>f?g=f-C-2:g<d?g=d+2:y=!1,m>v?m=v-2:m<=p?m=p+2:b=!1,{x:{value:g,needScroll:y},y:{value:m,needScroll:b}}},t.rectanglesIntersect=function(e,t){return e.maxX>t.minX&&e.minX<t.maxX&&e.minY<t.maxY&&e.maxY>t.minY},t.autoScrollIntervalId=null,t.autoScrollConfig=Mf(fa),t.validateYIndex=function(e){var n,r,o=t.spreadsheet.facet,i=o.frozenGroupInfo,a=0,l=null===(n=null==i?void 0:i.frozenRow)||void 0===n?void 0:n.range;if(l&&(a=l[1]+1),e<a)return null;var s=o.getCellRange().end,u=null===(r=null==i?void 0:i.frozenTrailingRow)||void 0===r?void 0:r.range;return u&&(s=u[0]-1),e>s?null:e},t.validateXIndex=function(e){var n,r,o=t.spreadsheet.facet,i=o.frozenGroupInfo,a=0,l=null===(n=null==i?void 0:i.frozenCol)||void 0===n?void 0:n.range;if(l&&(a=l[1]+1),e<a)return null;var s=o.layoutResult.colLeafNodes.length-1,u=null===(r=null==i?void 0:i.frozenTrailingCol)||void 0===r?void 0:r.range;return u&&(s=u[0]-1),e>s?null:e},t.adjustNextColIndexWithFrozen=function(e,n){var r=t.spreadsheet,o=r.facet,i=r.dataSet,a=r.options,l=i.getDisplayDataSet().length,s=o.layoutResult.colLeafNodes.length,u=fw(a,s,l),c=u.frozenTrailingColCount,d=u.frozenColCount,f=o.panelScrollGroupIndexes;return c>0&&n===ca.SCROLL_DOWN&&DC(e,c,s)?f[1]:d>0&&n===ca.SCROLL_UP&&AC(e,d)?f[0]:e},t.adjustNextRowIndexWithFrozen=function(e,n){var r=t.spreadsheet,o=r.facet,i=r.dataSet,a=r.options,l=i.getDisplayDataSet().length,s=o.layoutResult.colLeafNodes.length,u=o.getCellRange(),c=fw(a,s,l),d=c.frozenTrailingRowCount,f=c.frozenRowCount,h=o.panelScrollGroupIndexes;return d>0&&n===ca.SCROLL_DOWN&&kC(e,u.end,d)?h[3]:f>0&&n===ca.SCROLL_UP&&BC(e,u.start,f)?h[2]:e},t.getWillScrollRowIndexDiff=function(e){return e===ca.SCROLL_DOWN?da.SCROLL_DOWN:da.SCROLL_UP},t.getDefaultWillScrollToRowIndex=function(e){var n=t.adjustNextRowIndexWithFrozen(t.endBrushPoint.rowIndex,e)+t.getWillScrollRowIndexDiff(e);return t.validateYIndex(n)},t.getWillScrollToRowIndex=function(e){return t.getDefaultWillScrollToRowIndex(e)},t.getNextScrollDelta=function(e){var n=t.spreadsheet.facet.getScrollOffset(),r=n.scrollX,o=n.scrollY,i=0,a=0;if(e.y.scroll){var l=e.y.value>0?ca.SCROLL_DOWN:ca.SCROLL_UP,s=t.getWillScrollToRowIndex(l),u=ZS(s,l,t.spreadsheet)-o;a=$v(s)||$v(u)||Number.isNaN(u)?0:u}if(e.x.scroll){l=e.x.value>0?ca.SCROLL_DOWN:ca.SCROLL_UP;var c=t.adjustNextColIndexWithFrozen(t.endBrushPoint.colIndex,l),d=t.validateXIndex(c+(e.x.value>0?1:-1));i=$v(d)?0:GS(d,l,t.spreadsheet)-r}return{x:i,y:a}},t.onScrollAnimationComplete=function(){t.scrollAnimationComplete=!0,t.brushSelectionStage!==na.UN_DRAGGED&&t.renderPrepareSelected(t.endBrushPoint)},t.autoScroll=function(e){if(void 0===e&&(e=!1),t.brushSelectionStage!==na.UN_DRAGGED&&t.scrollAnimationComplete){var n=t.autoScrollConfig,r=t.spreadsheet.facet.getScrollOffset(),o=e?"rowHeaderOffsetX":"offsetX",i={rowHeaderOffsetX:{value:r.rowHeaderScrollX,animate:!0},offsetX:{value:r.scrollX,animate:!0},offsetY:{value:r.scrollY,animate:!0}},a=t.getNextScrollDelta(n),l=a.x,s=a.y;if(0!==s||0!==l){if(n.y.scroll&&(i.offsetY.value+=s),n.x.scroll){var u=i[o];u.value+=l,u.value<0&&(u.value=0)}t.scrollAnimationComplete=!1;var c=n.x.scroll?1:3,d=Math.max(16,300-t.mouseMoveDistanceFromCanvas*c);t.spreadsheet.facet.scrollWithAnimation(i,d,t.onScrollAnimationComplete)}else t.clearAutoScroll()}},t.handleScroll=By((function(e,n,r){if(void 0===r&&(r=!1),t.brushSelectionStage!==na.UN_DRAGGED){var o=t.formatBrushPointForScroll({x:e,y:n},r),i=o.x,a=i.value,l=i.needScroll,s=o.y,u=s.value,c=s.needScroll,d=t.autoScrollConfig;c&&(d.y.value=n,d.y.scroll=!0),l&&(d.x.value=e,d.x.scroll=!0),t.setMoveDistanceFromCanvas({x:e,y:n},l,c),t.renderPrepareSelected({x:a,y:u}),(c||l)&&(t.clearAutoScroll(),t.autoScroll(r),t.autoScrollIntervalId=setInterval((function(){t.autoScroll(r)}),16))}}),30),t.clearAutoScroll=function(){t.autoScrollIntervalId&&(clearInterval(t.autoScrollIntervalId),t.autoScrollIntervalId=null,t.resetScrollDelta())},t.onUpdateCells=function(e,t){return t()},t.showPrepareSelectedCells=function(){t.brushRangeCells=t.getBrushRangeCells(),t.spreadsheet.interaction.changeState({cells:Dp(t.brushRangeCells,(function(e){return zS(e)})),stateName:Ji.PREPARE_SELECT,force:!0,onUpdateCells:t.onUpdateCells})},t.renderPrepareSelected=function(e){var n=e.x,r=e.y,o=t.spreadsheet.container.getShape(n,r),i=t.spreadsheet.getCell(o);if(i&&(i instanceof Tx||i instanceof TS||i instanceof vS)){var a=i.getMeta(),l=a.rowIndex,s=a.colIndex;t.endBrushPoint={x:n,y:r,rowIndex:l,colIndex:s};var u=t.spreadsheet.interaction;u.addIntercepts([ia.HOVER]),u.clearStyleIndependent(),t.isValidBrushSelection()&&(t.showPrepareSelectedCells(),t.updatePrepareSelectMask())}},t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},t.prototype.getPrepareSelectMaskTheme=function(){var e;return null===(e=this.spreadsheet.theme)||void 0===e?void 0:e.prepareSelectMask},t.prototype.initPrepareSelectMaskShape=function(){var e=this.spreadsheet.foregroundGroup;if(e){e.removeChild(this.prepareSelectMaskShape);var t=this.getPrepareSelectMaskTheme();this.prepareSelectMaskShape=e.addShape("rect",{visible:!1,attrs:{width:0,height:0,x:0,y:0,fill:null==t?void 0:t.backgroundColor,fillOpacity:null==t?void 0:t.backgroundOpacity,zIndex:5},capture:!1})}},t.prototype.setBrushSelectionStage=function(e){this.brushSelectionStage=e},t.prototype.isPointInCanvas=function(e){var t=this.spreadsheet.facet.getCanvasHW(),n=t.height,r=t.width,o=this.spreadsheet.facet.panelBBox,i=o.minX,a=o.minY;return e.x>i&&e.x<r&&e.y>a&&e.y<n},t.prototype.resetDrag=function(){this.hidePrepareSelectMaskShape(),this.setBrushSelectionStage(na.UN_DRAGGED)},t.prototype.isValidBrushSelection=function(){var e=this.getBrushRange(),t=e.start,n=e.end;return n.x-t.x>this.brushSelectionMinimumMoveDistance||n.y-t.y>this.brushSelectionMinimumMoveDistance},t.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getPanelGroupAllDataCells()},t.prototype.updatePrepareSelectMask=function(){var e=this.getBrushRange(),t=this.getPrepareSelectMaskPosition(e),n=t.x,r=t.y;this.prepareSelectMaskShape.attr({x:n,y:r,width:e.width,height:e.height}),this.prepareSelectMaskShape.show()},t.prototype.hidePrepareSelectMaskShape=function(){var e;null===(e=this.prepareSelectMaskShape)||void 0===e||e.hide()},t.prototype.resetScrollDelta=function(){this.autoScrollConfig=Mf(fa)},t.prototype.getBrushPoint=function(e){var t=this.spreadsheet.facet.getScrollOffset(),n=t.scrollY,r=t.scrollX,o={x:null==e?void 0:e.x,y:null==e?void 0:e.y},i=this.spreadsheet.getCell(e.target).getMeta(),a=i.colIndex,l=i.rowIndex;return wa(wa({},o),{rowIndex:l,colIndex:a,scrollY:n,scrollX:r})},t.prototype.getBrushRange=function(){var e,t,n,r,o,i,a,l,s=this.spreadsheet.facet.getScrollOffset(),u=s.scrollX,c=s.scrollY,d=Math.min(this.startBrushPoint.rowIndex,null===(e=this.endBrushPoint)||void 0===e?void 0:e.rowIndex),f=Math.max(this.startBrushPoint.rowIndex,null===(t=this.endBrushPoint)||void 0===t?void 0:t.rowIndex),h=Math.min(this.startBrushPoint.colIndex,null===(n=this.endBrushPoint)||void 0===n?void 0:n.colIndex),p=Math.max(this.startBrushPoint.colIndex,null===(r=this.endBrushPoint)||void 0===r?void 0:r.colIndex),v=this.startBrushPoint.x+this.startBrushPoint.scrollX-u,g=this.startBrushPoint.y+this.startBrushPoint.scrollY-c,m=Math.min(v,null===(o=this.endBrushPoint)||void 0===o?void 0:o.x),y=Math.max(v,null===(i=this.endBrushPoint)||void 0===i?void 0:i.x),b=Math.min(g,null===(a=this.endBrushPoint)||void 0===a?void 0:a.y),C=Math.max(g,null===(l=this.endBrushPoint)||void 0===l?void 0:l.y);return{start:{rowIndex:d,colIndex:h,x:m,y:b},end:{rowIndex:f,colIndex:p,x:y,y:C},width:y-m,height:C-b}},t.prototype.getBrushRangeCells=function(){var e=this;return this.setDisplayedCells(),this.displayedCells.filter((function(t){var n=t.getMeta();return e.isInBrushRange(n)}))},t.prototype.mouseDown=function(e){var t;null===(t=null==e?void 0:e.preventDefault)||void 0===t||t.call(e),this.spreadsheet.interaction.hasIntercepts([ia.CLICK])||(this.setBrushSelectionStage(na.CLICK),this.initPrepareSelectMaskShape(),this.setDisplayedCells(),this.startBrushPoint=this.getBrushPoint(e))},t.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([ia.BRUSH_SELECTION])},t.prototype.bindMouseUp=function(e){var t=this;void 0===e&&(e=!1),this.spreadsheet.on(hi.GLOBAL_MOUSE_UP,(function(n){if(t.brushSelectionStage===na.DRAGGED){if(e&&t.clearAutoScroll(),t.isValidBrushSelection()){t.addBrushIntercepts(),t.updateSelectedCells();var r=YI(t.spreadsheet);t.spreadsheet.showTooltipWithInfo(n,r)}t.spreadsheet.interaction.getCurrentStateName()===Ji.PREPARE_SELECT&&t.spreadsheet.interaction.reset(),t.resetDrag()}else t.resetDrag()})),this.spreadsheet.on(hi.GLOBAL_CONTEXT_MENU,(function(){t.brushSelectionStage!==na.UN_DRAGGED&&(t.spreadsheet.interaction.removeIntercepts([ia.HOVER]),t.resetDrag())}))},t.prototype.autoBrushScroll=function(e,t){var n,r;if(void 0===t&&(t=!1),this.clearAutoScroll(),!this.isPointInCanvas(e)){var o=(null==e?void 0:e.x)-(null===(n=this.endBrushPoint)||void 0===n?void 0:n.x),i=(null==e?void 0:e.y)-(null===(r=this.endBrushPoint)||void 0===r?void 0:r.y);return this.handleScroll(o,i,t),!0}return!1},t.prototype.emitBrushSelectionEvent=function(e,t){this.spreadsheet.emit(e,t),this.spreadsheet.emit(hi.GLOBAL_SELECTED,t),Dv(t)&&this.spreadsheet.interaction.removeIntercepts([ia.HOVER])},t.prototype.getVisibleBrushRangeCells=function(e){return this.brushRangeCells.find((function(t){var n=t.getMeta();return(null==n?void 0:n.id)===e}))},t.prototype.isInBrushRange=function(e){return!1},t.prototype.bindMouseDown=function(){},t.prototype.bindMouseMove=function(){},t.prototype.updateSelectedCells=function(){},t.prototype.getPrepareSelectMaskPosition=function(e){return{x:e.start.x,y:e.start.y}},t}(BO),WO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.displayedCells=[],t.brushRangeCells=[],t.onUpdateCells=function(e){return e.updateCells(e.getAllColHeaderCells())},t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},t.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(hi.COL_CELL_MOUSE_DOWN,(function(n){t.spreadsheet.interaction.getBrushSelection().col&&e.prototype.mouseDown.call(t,n)}))},t.prototype.isPointInCanvas=function(e){var t=this.spreadsheet.facet.getCanvasHW().width,n=this.spreadsheet.facet.cornerBBox,r=n.width,o=n.minY,i=n.maxY;return e.x>=r&&e.x<=t&&e.y>=o&&e.y<=i},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(hi.COL_CELL_MOUSE_MOVE,(function(t){if(e.brushSelectionStage!==na.UN_DRAGGED){e.setBrushSelectionStage(na.DRAGGED);var n=e.spreadsheet.container.getPointByEvent(t.originalEvent);e.isPointInCanvas(n)&&e.renderPrepareSelected(n)}}))},t.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllColHeaderCells()},t.prototype.isInBrushRange=function(e){var t=this.getBrushRange(),n=t.start,r=t.end,o=this.spreadsheet.facet.getScrollOffset().scrollX,i=this.spreadsheet.facet.cornerBBox,a=e.x,l=void 0===a?0:a,s=e.y,u=void 0===s?0:s,c=e.width,d=void 0===c?0:c,f=e.height,h=void 0===f?0:f;return this.rectanglesIntersect({minX:n.x-i.width+o,minY:n.y,maxX:r.x-i.width+o,maxY:r.y},{minX:l,maxX:l+d,minY:u,maxY:u+h})},t.prototype.updateSelectedCells=function(){var e=this.spreadsheet.interaction;e.changeState({cells:Dp(this.brushRangeCells,zS),stateName:Ji.SELECTED,onUpdateCells:function(e){e.updateCells(e.getAllColHeaderCells())}}),this.spreadsheet.emit(hi.COL_CELL_BRUSH_SELECTION,this.brushRangeCells),this.spreadsheet.emit(hi.GLOBAL_SELECTED,this.brushRangeCells),Dv(this.brushRangeCells)&&e.removeIntercepts([ia.HOVER])},t.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([ia.COL_BRUSH_SELECTION])},t}(jO),GO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.displayedCells=[],t.brushRangeCells=[],t.getSelectedCellMetas=function(e){var n=[],r=t.spreadsheet.facet.layoutResult,o=r.rowLeafNodes,i=void 0===o?[]:o,a=r.colLeafNodes,l=void 0===a?[]:a,s=Pm(e.start.rowIndex,e.end.rowIndex+1),u=Pm(e.start.colIndex,e.end.colIndex+1);return s.forEach((function(e){u.forEach((function(r){var o=String(l[r].id),a=Dv(i)?String(e):String(i[e].id);n.push({colIndex:r,rowIndex:e,id:"".concat(a,"-").concat(o),type:ea.DATA_CELL,rowId:a,colId:o,spreadsheet:t.spreadsheet})}))})),n},t}return Ca(t,e),t.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(hi.DATA_CELL_MOUSE_DOWN,(function(n){t.spreadsheet.interaction.getBrushSelection().data&&(e.prototype.mouseDown.call(t,n),t.resetScrollDelta())}))},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_MOUSE_MOVE,(function(t){if(e.brushSelectionStage!==na.UN_DRAGGED){e.setBrushSelectionStage(na.DRAGGED);var n=e.spreadsheet.container.getPointByEvent(t);e.autoBrushScroll(n)||e.renderPrepareSelected(n)}}))},t.prototype.isInBrushRange=function(e){var t=this.getBrushRange(),n=t.start,r=t.end,o=e.rowIndex,i=e.colIndex;return o>=n.rowIndex&&o<=r.rowIndex&&i>=n.colIndex&&i<=r.colIndex},t.prototype.updateSelectedCells=function(){var e=this.getBrushRange(),t=this.getSelectedCellMetas(e);this.spreadsheet.interaction.changeState({cells:t,stateName:Ji.SELECTED,onUpdateCells:jS});var n=this.getScrollBrushRangeCells(t);this.emitBrushSelectionEvent(hi.DATA_CELL_BRUSH_SELECTION,n)},t.prototype.getScrollBrushRangeCells=function(e){var t=this;return e.map((function(e){var n=t.getVisibleBrushRangeCells(e.id);if(n)return n;var r=t.spreadsheet.facet.layoutResult.getCellMeta(e.rowIndex,e.colIndex);return new(t.spreadsheet.isTableMode()?DS:Tx)(r,t.spreadsheet)}))},t.prototype.bindMouseUp=function(){e.prototype.bindMouseUp.call(this,!0)},t.prototype.getPrepareSelectMaskPosition=function(e){var t=this.spreadsheet.facet.panelBBox,n=t.minX,r=t.minY;return{x:Math.max(e.start.x,n),y:Math.max(e.start.y,r)}},t}(jO),ZO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isInBrushRange=function(e){var n=t.getBrushRange(),r=n.start,o=n.end,i=t.spreadsheet.facet.getScrollOffset(),a=i.scrollY,l=i.rowHeaderScrollX,s=t.spreadsheet.facet.cornerBBox,u=e.x,c=void 0===u?0:u,d=e.y,f=void 0===d?0:d,h=e.width,p=void 0===h?0:h,v=e.height,g=void 0===v?0:v;return t.rectanglesIntersect({minX:r.x+l,minY:r.y-s.height+a,maxX:o.x+l,maxY:o.y-s.height+a},{minX:c,maxX:c+p,minY:f,maxY:f+g})},t.onUpdateCells=function(e){return e.updateCells(e.getAllRowHeaderCells())},t.getSelectedRowNodes=function(){return t.spreadsheet.getRowNodes().filter(t.isInBrushRange)},t.getVisibleRowLeafCellByScrollDirection=function(e){var n=t.spreadsheet.interaction.getAllRowHeaderCells();return e===ca.SCROLL_DOWN?Uh(n):n.find((function(e){return e.getMeta().isLeaf}))},t.getWillScrollToRowIndex=function(e){var n,r;if(!$v(t.endBrushPoint.rowIndex))return t.getDefaultWillScrollToRowIndex(e);var o=t.getVisibleRowLeafCellByScrollDirection(e),i=(null!==(r=null===(n=null==o?void 0:o.getMeta())||void 0===n?void 0:n.rowIndex)&&void 0!==r?r:0)+t.getWillScrollRowIndexDiff(e);return t.validateYIndex(i)},t}return Ca(t,e),t.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(hi.ROW_CELL_MOUSE_DOWN,(function(n){t.spreadsheet.interaction.getBrushSelection().row&&e.prototype.mouseDown.call(t,n)}))},t.prototype.isPointInCanvas=function(e){var t=this.spreadsheet.facet.getCanvasHW().height,n=this.spreadsheet.facet.cornerBBox,r=n.minX,o=n.height,i=n.maxX;return e.x>=r&&e.x<=i&&e.y>=o&&e.y<=t},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_MOUSE_MOVE,(function(t){if(e.brushSelectionStage!==na.UN_DRAGGED){e.setBrushSelectionStage(na.DRAGGED);var n=e.spreadsheet.container.getPointByEvent(t);e.autoBrushScroll(n,!0)||e.renderPrepareSelected(n)}}))},t.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllRowHeaderCells()},t.prototype.updateSelectedCells=function(){var e=this.getSelectedRowNodes(),t=this.getScrollBrushRangeCells(e),n=Dp(t,zS);this.spreadsheet.interaction.changeState({cells:n,stateName:Ji.SELECTED,onUpdateCells:this.onUpdateCells}),this.emitBrushSelectionEvent(hi.ROW_CELL_BRUSH_SELECTION,t)},t.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([ia.ROW_BRUSH_SELECTION])},t.prototype.getScrollBrushRangeCells=function(e){var t=this;return e.map((function(e){var n=t.getVisibleBrushRangeCells(e.id);return n||new TS(e,t.spreadsheet)}))},t.prototype.getPrepareSelectMaskPosition=function(e){var t=this.spreadsheet.facet.panelBBox.minY;return{x:e.start.x,y:Math.max(e.start.y,t)}},t}(jO),VO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isMultiSelection=!1,t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},t.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([ia.CLICK])},t.prototype.bindKeyboardDown=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_KEYBOARD_DOWN,(function(t){kS(t)&&(e.isMultiSelection=!0,e.spreadsheet.interaction.addIntercepts([ia.CLICK]))}))},t.prototype.bindKeyboardUp=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_KEYBOARD_UP,(function(t){kS(t)&&e.reset()}))},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_MOUSE_MOVE,(function(t){e.isMultiSelection&&!PS(t)&&e.reset()}))},t.prototype.getSelectedCells=function(e){var t=e.getMeta().id,n=this.spreadsheet.interaction,r=n.getCells([ea.DATA_CELL]);return n.getCurrentStateName()!==Ji.SELECTED&&(r=[]),r.find((function(e){return e.id===t}))?r.filter((function(e){return e.id!==t})):Ia(Ia([],Ea(r),!1),[zS(e)],!1)},t.prototype.bindDataCellClick=function(){var e=this;this.spreadsheet.on(hi.DATA_CELL_CLICK,(function(t){t.stopPropagation();var n=e.spreadsheet.getCell(t.target),r=n.getMeta(),o=e.spreadsheet,i=o.interaction;if(o.options,e.isMultiSelection&&r){var a=e.getSelectedCells(n);if(Dv(a))return i.clearState(),void e.spreadsheet.hideTooltip();i.addIntercepts([ia.CLICK,ia.HOVER]),e.spreadsheet.hideTooltip(),i.changeState({cells:a,stateName:Ji.SELECTED,onUpdateCells:jS}),e.spreadsheet.emit(hi.GLOBAL_SELECTED,i.getActiveCells()),e.spreadsheet.showTooltipWithInfo(t,YI(e.spreadsheet))}}))},t}(BO),UO=function(){function e(e){var t=this;this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[],this.isCanvasEffect=!1,this.isGuiIconShape=function(e){return e instanceof ko&&e.attrs.type===nw.type},this.onCanvasMousedown=function(e){if(t.target=e.target,t.spreadsheet.interaction.clearHoverTimer(),t.isResizeArea(e)){t.spreadsheet.emit(hi.LAYOUT_RESIZE_MOUSE_DOWN,e);var n=function(n){if(!t.spreadsheet.getCanvasElement())return!1;t.spreadsheet.getCanvasElement()!==n.target&&(e.clientX=n.clientX,e.clientY=n.clientY,e.originalEvent=n,t.spreadsheet.emit(hi.LAYOUT_RESIZE_MOUSE_MOVE,e))};return window.addEventListener("mousemove",n),void window.addEventListener("mouseup",(function(){window.removeEventListener("mousemove",n)}),{once:!0})}switch(t.spreadsheet.getCellType(e.target)){case ea.DATA_CELL:t.spreadsheet.emit(hi.DATA_CELL_MOUSE_DOWN,e);break;case ea.ROW_CELL:t.spreadsheet.emit(hi.ROW_CELL_MOUSE_DOWN,e);break;case ea.COL_CELL:t.spreadsheet.emit(hi.COL_CELL_MOUSE_DOWN,e);break;case ea.CORNER_CELL:t.spreadsheet.emit(hi.CORNER_CELL_MOUSE_DOWN,e);break;case ea.MERGED_CELL:t.spreadsheet.emit(hi.MERGED_CELLS_MOUSE_DOWN,e)}},this.onCanvasMousemove=function(e){if(t.canvasMousemoveEvent=e,t.isResizeArea(e))return t.activeResizeArea(e),void t.spreadsheet.emit(hi.LAYOUT_RESIZE_MOUSE_MOVE,e);t.resetResizeArea();var n=t.spreadsheet.getCell(e.target);if(n){var r=n.cellType;switch(r){case ea.DATA_CELL:t.spreadsheet.emit(hi.DATA_CELL_MOUSE_MOVE,e);break;case ea.ROW_CELL:t.spreadsheet.emit(hi.ROW_CELL_MOUSE_MOVE,e);break;case ea.COL_CELL:t.spreadsheet.emit(hi.COL_CELL_MOUSE_MOVE,e);break;case ea.CORNER_CELL:t.spreadsheet.emit(hi.CORNER_CELL_MOUSE_MOVE,e);break;case ea.MERGED_CELL:t.spreadsheet.emit(hi.MERGED_CELLS_MOUSE_MOVE,e)}if(!t.hasBrushSelectionIntercepts())switch(t.spreadsheet.emit(hi.GLOBAL_HOVER,e),r){case ea.DATA_CELL:t.spreadsheet.emit(hi.DATA_CELL_HOVER,e);break;case ea.ROW_CELL:t.spreadsheet.emit(hi.ROW_CELL_HOVER,e);break;case ea.COL_CELL:t.spreadsheet.emit(hi.COL_CELL_HOVER,e);break;case ea.CORNER_CELL:t.spreadsheet.emit(hi.CORNER_CELL_HOVER,e);break;case ea.MERGED_CELL:t.spreadsheet.emit(hi.MERGED_CELLS_HOVER,e)}}},this.onCanvasMouseup=function(e){if(t.isResizeArea(e))t.spreadsheet.emit(hi.LAYOUT_RESIZE_MOUSE_UP,e);else{var n=t.spreadsheet.getCell(e.target);if(n){var r=n.cellType;if(t.target===e.target){var o=t.isGuiIconShape(e.target);switch(r){case ea.DATA_CELL:t.spreadsheet.emit(hi.DATA_CELL_CLICK,e);break;case ea.ROW_CELL:if(o)break;t.spreadsheet.emit(hi.ROW_CELL_CLICK,e);break;case ea.COL_CELL:if(o)break;t.spreadsheet.emit(hi.COL_CELL_CLICK,e);break;case ea.CORNER_CELL:if(o)break;t.spreadsheet.emit(hi.CORNER_CELL_CLICK,e);break;case ea.MERGED_CELL:t.spreadsheet.emit(hi.MERGED_CELLS_CLICK,e)}}switch(r){case ea.DATA_CELL:t.spreadsheet.emit(hi.DATA_CELL_MOUSE_UP,e);break;case ea.ROW_CELL:t.spreadsheet.emit(hi.ROW_CELL_MOUSE_UP,e);break;case ea.COL_CELL:t.spreadsheet.emit(hi.COL_CELL_MOUSE_UP,e);break;case ea.CORNER_CELL:t.spreadsheet.emit(hi.CORNER_CELL_MOUSE_UP,e);break;case ea.MERGED_CELL:t.spreadsheet.emit(hi.MERGED_CELLS_MOUSE_UP,e)}}}},this.onCanvasClick=function(e){t.spreadsheet.emit(hi.GLOBAL_CLICK,e)},this.onCanvasDoubleClick=function(e){var n=t.spreadsheet;if(t.isResizeArea(e))n.emit(hi.LAYOUT_RESIZE_MOUSE_UP,e);else{n.emit(hi.GLOBAL_DOUBLE_CLICK,e);var r=n.getCell(e.target);if(r){var o=r.cellType;if(t.target===e.target)switch(o){case ea.DATA_CELL:n.emit(hi.DATA_CELL_DOUBLE_CLICK,e);break;case ea.ROW_CELL:n.emit(hi.ROW_CELL_DOUBLE_CLICK,e);break;case ea.COL_CELL:n.emit(hi.COL_CELL_DOUBLE_CLICK,e);break;case ea.CORNER_CELL:n.emit(hi.CORNER_CELL_DOUBLE_CLICK,e);break;case ea.MERGED_CELL:n.emit(hi.MERGED_CELLS_DOUBLE_CLICK,e)}}}},this.onCanvasMouseout=function(e){if(t.isAutoResetSheetStyle&&!(null==e?void 0:e.shape)){var n=t.spreadsheet.interaction;n.isSelectedState()||n.intercepts.size>0||n.reset()}},this.onCanvasContextMenu=function(e){var n=t.spreadsheet;if(t.isResizeArea(e))n.emit(hi.LAYOUT_RESIZE_MOUSE_UP,e);else switch(n.emit(hi.GLOBAL_CONTEXT_MENU,e),t.spreadsheet.getCellType(e.target)){case ea.DATA_CELL:t.spreadsheet.emit(hi.DATA_CELL_CONTEXT_MENU,e);break;case ea.ROW_CELL:t.spreadsheet.emit(hi.ROW_CELL_CONTEXT_MENU,e);break;case ea.COL_CELL:t.spreadsheet.emit(hi.COL_CELL_CONTEXT_MENU,e);break;case ea.CORNER_CELL:t.spreadsheet.emit(hi.CORNER_CELL_CONTEXT_MENU,e);break;case ea.MERGED_CELL:t.spreadsheet.emit(hi.MERGED_CELLS_CONTEXT_MENU,e)}},this.spreadsheet=e,this.bindEvents()}return Object.defineProperty(e.prototype,"canvasContainer",{get:function(){return this.spreadsheet.container},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAutoResetSheetStyle",{get:function(){return this.spreadsheet.options.interaction.autoResetSheetStyle},enumerable:!1,configurable:!0}),e.prototype.bindEvents=function(){var e=this;this.clearAllEvents(),this.addCanvasEvent(fi.CLICK,this.onCanvasClick),this.addCanvasEvent(fi.MOUSE_DOWN,this.onCanvasMousedown),this.addCanvasEvent(fi.MOUSE_MOVE,this.onCanvasMousemove),this.addCanvasEvent(fi.MOUSE_OUT,this.onCanvasMouseout),this.addCanvasEvent(fi.MOUSE_UP,this.onCanvasMouseup),this.addCanvasEvent(fi.DOUBLE_CLICK,this.onCanvasDoubleClick),this.addCanvasEvent(fi.CONTEXT_MENU,this.onCanvasContextMenu),this.addS2Event(hi.GLOBAL_ACTION_ICON_CLICK,(function(){e.spreadsheet.interaction.addIntercepts([ia.HOVER]),e.spreadsheet.interaction.clearState()})),this.addDomEventListener(window,fi.CLICK,(function(t){e.resetSheetStyle(t),e.isCanvasEffect=e.isMouseOnTheCanvasContainer(t)})),this.addDomEventListener(window,fi.KEY_DOWN,(function(t){e.onKeyboardCopy(t),e.onKeyboardEsc(t),e.spreadsheet.emit(hi.GLOBAL_KEYBOARD_DOWN,t)})),this.addDomEventListener(window,fi.KEY_UP,(function(t){e.spreadsheet.emit(hi.GLOBAL_KEYBOARD_UP,t)})),this.addDomEventListener(window,fi.MOUSE_UP,(function(t){e.spreadsheet.emit(hi.GLOBAL_MOUSE_UP,t)})),this.addDomEventListener(window,fi.MOUSE_MOVE,(function(t){e.spreadsheet.emit(hi.GLOBAL_MOUSE_MOVE,t)}))},e.prototype.onKeyboardCopy=function(e){if(this.isCanvasEffect&&this.spreadsheet.options.interaction.enableCopy&&Gw(e.key,ra.COPY)&&(e.metaKey||e.ctrlKey)){var t=function(e){var t,n,r=e.interaction,o=r.getState().cells||[],i=null!==(t=r.getInteractedCells())&&void 0!==t?t:[];return(n=!Dv(i)&&bp(i,(function(e){return e.cellType===ea.ROW_CELL||e.cellType===ea.COL_CELL}))?ax(i):sx(e,o))&&dx(n),ex(n,Zw.PLAIN)}(this.spreadsheet);$v(t)||this.spreadsheet.emit(hi.GLOBAL_COPIED,t)}},e.prototype.onKeyboardEsc=function(e){this.isCanvasEffect&&Gw(e.key,ra.ESC)&&this.resetSheetStyle(e)},e.prototype.resetSheetStyle=function(e){if(this.isAutoResetSheetStyle&&this.spreadsheet){var t=this.spreadsheet.interaction;t.hasIntercepts([ia.BRUSH_SELECTION,ia.COL_BRUSH_SELECTION,ia.ROW_BRUSH_SELECTION])?t.removeIntercepts([ia.BRUSH_SELECTION,ia.ROW_BRUSH_SELECTION,ia.COL_BRUSH_SELECTION]):this.isMouseOnTheTooltip(e)||this.isMouseOnTheCanvasContainer(e)||(this.spreadsheet.emit(hi.GLOBAL_RESET,e),t.reset())}},e.prototype.isMouseEvent=function(e){return th(e,"clientX")&&th(e,"clientY")},e.prototype.isMouseOnTheCanvasContainer=function(e){if(this.isMouseEvent(e)){var t=this.spreadsheet.getCanvasElement();if(!t)return!1;var n=t.getBoundingClientRect()||{},r=n.x,o=n.y,i=this.getContainerRect(),a=i.width,l=i.height;return t.contains(e.target)&&e.clientX<=r+a&&e.clientY<=o+l}return!1},e.prototype.getContainerRect=function(){var e,t=(null===(e=this.spreadsheet.facet)||void 0===e?void 0:e.panelBBox)||{},n=t.maxX,r=t.maxY,o=this.spreadsheet.options,i=o.width,a=o.height;return{width:Math.min(i,n),height:Math.min(a,r)}},e.prototype.isMouseOnTheTooltip=function(e){var t,n,r,o,i=this.spreadsheet.tooltip;if(!(null==i?void 0:i.visible))return!1;var a=(null===(r=null===(n=null===(t=this.spreadsheet.tooltip)||void 0===t?void 0:t.container)||void 0===n?void 0:n.getBoundingClientRect)||void 0===r?void 0:r.call(n))||{},l=a.x,s=a.y,u=a.width,c=a.height;return e.target instanceof Node?function(e,t){for(var n=!1,r=t;r&&r!==document.body;){if(e===r){n=!0;break}r=r.parentElement}return n}(null===(o=this.spreadsheet.tooltip)||void 0===o?void 0:o.container,e.target):!!this.isMouseEvent(e)&&(e.clientX>=l&&e.clientX<=l+u&&e.clientY>=s&&e.clientY<=s+c)},e.prototype.isResizeArea=function(e){var t=Xu(e.target,"attrs.appendInfo");return null==t?void 0:t.isResizeArea},e.prototype.activeResizeArea=function(e){this.resetResizeArea();var t=e.target;this.spreadsheet.store.set("activeResizeArea",t),t.attr(aa.backgroundOpacity,this.spreadsheet.theme.resizeArea.interactionState.hover.backgroundOpacity)},e.prototype.resetResizeArea=function(){var e=this.spreadsheet.store.get("activeResizeArea");Dv(e)||e.attr(aa.backgroundOpacity,this.spreadsheet.theme.resizeArea.backgroundOpacity),this.spreadsheet.store.set("activeResizeArea",e)},e.prototype.hasBrushSelectionIntercepts=function(){return this.spreadsheet.interaction.hasIntercepts([ia.HOVER,ia.BRUSH_SELECTION,ia.ROW_BRUSH_SELECTION,ia.COL_BRUSH_SELECTION])},e.prototype.clear=function(){this.unbindEvents()},e.prototype.unbindEvents=function(){this.clearAllEvents()},e.prototype.addCanvasEvent=function(e,t){var n;null===(n=this.canvasContainer)||void 0===n||n.on(e,t),this.canvasEventHandlers.push({type:e,handler:t})},e.prototype.addS2Event=function(e,t){this.spreadsheet.on(e,t),this.s2EventHandlers.push({type:e,handler:t})},e.prototype.addDomEventListener=function(e,t,n){if(e.addEventListener){var r=this.spreadsheet.options.interaction.eventListenerOptions;e.addEventListener(t,n,r),this.domEventListeners.push({target:e,type:t,handler:n,options:r})}else console.error("Please make sure ".concat(e," has addEventListener function"))},e.prototype.clearAllEvents=function(){var e=this;tp(this.canvasEventHandlers,(function(t){var n,r=t.type,o=t.handler;null===(n=e.canvasContainer)||void 0===n||n.off(r,o)})),tp(this.s2EventHandlers,(function(t){var n=t.type,r=t.handler;e.spreadsheet.off(n,r)})),tp(this.domEventListeners,(function(e){e.target.removeEventListener(e.type,e.handler,e.options)})),this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[]},e}(),YO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isRangeSelection=!1,t.handleColClick=function(e){e.stopPropagation();var n=t.spreadsheet.interaction,r=t.spreadsheet.getCell(e.target),o=null==r?void 0:r.getMeta();if(!$v(null==o?void 0:o.x)){n.addIntercepts([ia.HOVER]);var i=[zS(r)],a=t.spreadsheet.store.get("lastClickedCell");if(t.isRangeSelection&&a&&a.cellType===r.cellType&&a.getMeta().level===r.getMeta().level){var l=Ea([t.spreadsheet.facet.layoutResult.rowsHierarchy.maxLevel,t.spreadsheet.facet.layoutResult.colsHierarchy.maxLevel],2),s=l[0],u=l[1],c=FS(a.getMeta(),r.getMeta()),d=c.start,f=c.end;r instanceof Tx?i=t.handleSeriesNumberRowSelected(d.rowIndex,f.rowIndex,r):r.cellType===ea.ROW_CELL&&r.getMeta().level===s?i=t.handleRowSelected(d.rowIndex,f.rowIndex,r):r.cellType===ea.COL_CELL&&r.getMeta().level===u&&(i=t.handleColSelected(d.colIndex,f.colIndex,r)),n.changeState({cells:i,stateName:Ji.SELECTED})}else Dv(n.getCells())&&n.removeIntercepts([ia.HOVER]),t.spreadsheet.store.set("lastClickedCell",r);var h=i.map((function(e){return e.id}));n.updateCells(n.getRowColActiveCells(h)),t.spreadsheet.emit(hi.GLOBAL_SELECTED,n.getActiveCells())}},t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindColCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},t.prototype.reset=function(){this.isRangeSelection=!1,this.spreadsheet.interaction.removeIntercepts([ia.CLICK])},t.prototype.bindKeyboardDown=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_KEYBOARD_DOWN,(function(t){t.key===ra.SHIFT&&(e.isRangeSelection=!0,e.spreadsheet.interaction.addIntercepts([ia.CLICK]))}))},t.prototype.bindKeyboardUp=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_KEYBOARD_UP,(function(t){t.key===ra.SHIFT&&e.reset()}))},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_MOUSE_MOVE,(function(t){e.isRangeSelection&&!t.shiftKey&&e.reset()}))},t.prototype.bindColCellClick=function(){var e=this;this.spreadsheet.isTableMode()&&this.spreadsheet.on(hi.ROW_CELL_CLICK,(function(t){e.handleColClick(t)})),this.spreadsheet.on(hi.COL_CELL_CLICK,(function(t){e.handleColClick(t)}))},t.prototype.bindDataCellClick=function(){var e=this;this.spreadsheet.on(hi.DATA_CELL_CLICK,(function(t){t.stopPropagation();var n=e.spreadsheet.getCell(t.target),r=n.getMeta(),o=e.spreadsheet.interaction;if(r){var i=e.spreadsheet.store.get("lastClickedCell");if(e.isRangeSelection&&(null==i?void 0:i.cellType)===n.cellType){var a=FS(i.getMeta(),n.getMeta()),l=a.start,s=a.end,u=Pm(l.colIndex,s.colIndex+1).flatMap((function(t){var r=e.spreadsheet.facet.layoutResult.colLeafNodes[t].id;return Pm(l.rowIndex,s.rowIndex+1).map((function(o){return{id:(e.spreadsheet.facet.getSeriesNumberWidth()||e.spreadsheet.isTableMode()?String(o):e.spreadsheet.facet.layoutResult.rowLeafNodes[o].id)+"-"+r,colIndex:t,rowIndex:o,type:n.cellType}}))}));o.addIntercepts([ia.CLICK,ia.HOVER]),o.changeState({cells:u,stateName:Ji.SELECTED}),e.spreadsheet.showTooltipWithInfo(t,YI(e.spreadsheet)),e.spreadsheet.emit(hi.GLOBAL_SELECTED,o.getActiveCells())}else e.spreadsheet.store.set("lastClickedCell",n)}}))},t.prototype.handleSeriesNumberRowSelected=function(e,t,n){var r=this.spreadsheet.facet.layoutResult.colLeafNodes[0].id;return Pm(e,t+1).map((function(e){return{id:String(e)+"-"+r,colIndex:0,rowIndex:e,type:n.cellType}}))},t.prototype.handleRowSelected=function(e,t,n){return this.spreadsheet.facet.layoutResult.rowNodes.filter((function(n){return Jp(n.rowIndex,e,t+1)})).map((function(e){return{id:e.id,colIndex:e.colIndex,rowIndex:e.rowIndex,type:n.cellType}}))},t.prototype.handleColSelected=function(e,t,n){return this.spreadsheet.facet.layoutResult.colLeafNodes.filter((function(n){return Jp(n.colIndex,e,t+1)})).map((function(e){return{id:e.id,colIndex:e.colIndex,rowIndex:e.rowIndex,type:n.cellType}}))},t}(BO),XO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resizeStartPosition={},t.resizeMouseMove=function(e){var n,r;if(null===(n=t.resizeReferenceGroup)||void 0===n?void 0:n.get("visible")){null===(r=null==e?void 0:e.preventDefault)||void 0===r||r.call(e);var o=e.originalEvent,i=t.getResizeInfo(),a=t.resizeReferenceGroup.getChildren()||[];if(!Dv(a)){var l=Ea(a,2)[1],s=Ea(Tf(l.attr("path")),2),u=s[0],c=s[1];i.type===ha.Horizontal?t.updateHorizontalResizingEndGuideLinePosition(o,i,u,c):t.updateVerticalResizingEndGuideLinePosition(o,i,u,c),t.updateResizeGuideLineTheme(l),l.attr("path",[u,c])}}},t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},t.prototype.initResizeGroup=function(){if(!this.resizeReferenceGroup){this.resizeReferenceGroup=this.spreadsheet.foregroundGroup.addGroup();var e=this.spreadsheet.options,t=e.width,n=e.height,r=this.getResizeAreaTheme(),o=r.guideLineColor,i={path:"",lineDash:r.guideLineDash,stroke:o,lineWidth:r.size};this.resizeReferenceGroup.addShape("path",{id:"RESIZE_START_GUIDE_LINE",attrs:i}),this.resizeReferenceGroup.addShape("path",{id:"RESIZE_END_GUIDE_LINE",attrs:i}),this.resizeReferenceGroup.addShape("rect",{id:"RESIZE_MASK",attrs:{appendInfo:{isResizeArea:!0},x:0,y:0,width:t,height:n,fill:"transparent"}})}},t.prototype.getResizeAreaTheme=function(){return this.spreadsheet.theme.resizeArea},t.prototype.setResizeTarget=function(e){this.resizeTarget=e},t.prototype.getGuideLineWidthAndHeight=function(){var e=this.spreadsheet.options,t=e.width,n=e.height,r=this.spreadsheet.facet.panelBBox,o=r.maxY,i=r.maxX;return{width:Math.min(i,t),height:Math.min(o,n)}},t.prototype.getResizeShapes=function(){var e;return(null===(e=this.resizeReferenceGroup)||void 0===e?void 0:e.get("children"))||[]},t.prototype.setResizeMaskCursor=function(e){var t=Ea(this.getResizeShapes(),3)[2];null==t||t.attr("cursor",e)},t.prototype.updateResizeGuideLinePosition=function(e,t){var n=this.getResizeShapes();if(!Dv(n)){var r=Ea(n,2),o=r[0],i=r[1],a=t.type,l=t.offsetX,s=t.offsetY,u=t.width,c=t.height,d=this.getGuideLineWidthAndHeight(),f=d.width,h=d.height;if(this.setResizeMaskCursor("".concat(a,"-resize")),a===ha.Horizontal)return o.attr("path",[["M",l,s],["L",l,h]]),i.attr("path",[["M",l+u,s],["L",l+u,h]]),this.resizeStartPosition.offsetX=e.offsetX,void(this.resizeStartPosition.clientX=e.clientX);o.attr("path",[["M",l,s],["L",f,s]]),i.attr("path",[["M",l,s+c],["L",f,s+c]]),this.resizeStartPosition.offsetY=e.offsetY,this.resizeStartPosition.clientY=e.clientY}},t.prototype.bindMouseDown=function(){var e=this;this.spreadsheet.on(hi.LAYOUT_RESIZE_MOUSE_DOWN,(function(t){var n=t.target,r=t.originalEvent,o=e.getCellAppendInfo(t.target);e.spreadsheet.store.set("resized",!1),(null==o?void 0:o.isResizeArea)&&(e.spreadsheet.interaction.reset(),e.spreadsheet.interaction.addIntercepts([ia.RESIZE]),e.setResizeTarget(n),e.showResizeGroup(),e.updateResizeGuideLinePosition(r,o))}))},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(hi.LAYOUT_RESIZE_MOUSE_MOVE,(function(t){By(e.resizeMouseMove,33)(t)}))},t.prototype.getResizeGuideLinePosition=function(){var e=Ea(this.resizeReferenceGroup.getChildren()||[],2),t=e[0],n=e[1],r=(null==t?void 0:t.attr("path"))||[],o=(null==n?void 0:n.attr("path"))||[],i=Ea(r[0]||[],3),a=i[1],l=void 0===a?0:a,s=i[2],u=void 0===s?0:s,c=Ea(o[0]||[],3),d=c[1],f=void 0===d?0:d,h=c[2];return{start:{x:l,y:u},end:{x:f,y:void 0===h?0:h}}},t.prototype.getDisAllowResizeInfo=function(){var e,t=this.getResizeInfo(),n=this.spreadsheet.options.interaction.resize,r=t.width,o=t.height,i=t.resizedWidth,a=t.resizedHeight,l=null===(e=null==n?void 0:n.disable)||void 0===e?void 0:e.call(n,t);return{displayWidth:l?r:i,displayHeight:l?o:a,isDisabled:l}},t.prototype.getResizeWidthDetail=function(){var e,t,n=this.getResizeInfo(),r=this.getDisAllowResizeInfo().displayWidth;switch(n.effect){case pa.Field:return{eventType:hi.LAYOUT_RESIZE_ROW_WIDTH,style:{rowCfg:{widthByField:(e={},e[n.id]=r,e)}}};case pa.Tree:return{eventType:hi.LAYOUT_RESIZE_TREE_WIDTH,style:{treeRowsWidth:r,rowCfg:{treeRowsWidth:r}}};case pa.Cell:return{eventType:hi.LAYOUT_RESIZE_COL_WIDTH,style:{colCfg:{widthByFieldValue:(t={},t[n.id]=r,t)}}};case pa.Series:return{eventType:hi.LAYOUT_RESIZE_SERIES_WIDTH,seriesNumberWidth:r};default:return null}},t.prototype.getResizeHeightDetail=function(){var e,t,n,r=this.spreadsheet.options,o=r.interaction.resize,i=r.style.rowCfg.heightByField,a=this.spreadsheet.theme.rowCell.cell.padding,l=this.getResizeInfo(),s=this.getDisAllowResizeInfo().displayHeight,u=s-a.top-a.bottom;switch(l.effect){case pa.Field:return{eventType:hi.LAYOUT_RESIZE_COL_HEIGHT,style:{colCfg:{heightByField:(e={},e[l.id]=s,e)}}};case pa.Cell:return n=(null==i?void 0:i[String(l.id)])||(null==o?void 0:o.rowResizeType)===va.CURRENT?{rowCfg:{heightByField:(t={},t[l.id]=u,t)}}:{cellCfg:{height:u}},{eventType:hi.LAYOUT_RESIZE_ROW_HEIGHT,style:n};default:return null}},t.prototype.getResizeDetail=function(){return this.getResizeInfo().type===ha.Horizontal?this.getResizeWidthDetail():this.getResizeHeightDetail()},t.prototype.showResizeGroup=function(){this.initResizeGroup(),this.resizeReferenceGroup.set("visible",!0)},t.prototype.hideResizeGroup=function(){this.resizeReferenceGroup.set("visible",!1)},t.prototype.bindMouseUp=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_MOUSE_UP,(function(){var t;e.setResizeMaskCursor("default"),e.resizeReferenceGroup&&!Dv(null===(t=e.resizeReferenceGroup)||void 0===t?void 0:t.getChildren())&&(e.hideResizeGroup(),e.renderResizedResult())}))},t.prototype.updateResizeGuideLineTheme=function(e){var t=this.getResizeAreaTheme(),n=t.guideLineColor,r=t.guideLineDisableColor,o=this.getDisAllowResizeInfo().isDisabled;e.attr("stroke",o?r:n),this.setResizeMaskCursor(o?"no-drop":"default")},t.prototype.updateHorizontalResizingEndGuideLinePosition=function(e,t,n,r){var o=e.clientX-this.resizeStartPosition.clientX;t.width+o<28&&(o=-(t.width-28));var i=t.offsetX+t.width+o;n[1]=i,r[1]=i,this.resizeTarget.attr({x:i-t.size/2})},t.prototype.updateVerticalResizingEndGuideLinePosition=function(e,t,n,r){var o=e.clientY-this.resizeStartPosition.clientY;t.height+o<16&&(o=-(t.height-16));var i=t.offsetY+t.height+o;n[2]=i,r[2]=i,this.resizeTarget.attr({y:i-t.size/2})},t.prototype.renderResizedResult=function(){var e=this.getResizeInfo(),t=this.getResizeDetail()||{},n=t.style,r=t.seriesNumberWidth,o=t.eventType,i={info:e,style:n};this.spreadsheet.emit(hi.LAYOUT_RESIZE,i),this.spreadsheet.emit(o,i),n&&this.spreadsheet.setOptions({style:n}),r&&this.spreadsheet.setTheme({rowCell:{seriesNumberWidth:r}}),this.spreadsheet.store.set("resized",!0),this.render()},t.prototype.getResizeInfo=function(){var e=this.getCellAppendInfo(this.resizeTarget),t=this.getResizeGuideLinePosition(),n=t.start,r=t.end,o=Math.floor(r.x-n.x),i=Math.floor(r.y-n.y);return wa(wa({},e),{resizedWidth:o,resizedHeight:i})},t.prototype.render=function(){this.resizeStartPosition={},this.resizeTarget=null,this.resizeReferenceGroup=null,this.spreadsheet.render(!1)},t}(BO),qO=[ra.ARROW_LEFT,ra.ARROW_RIGHT,ra.ARROW_UP,ra.ARROW_DOWN],KO=function(e){function t(t){return e.call(this,t)||this}return Ca(t,e),t.prototype.isCanvasEffect=function(){return this.spreadsheet.interaction.eventController.isCanvasEffect},t.prototype.bindEvents=function(){var e=this;this.spreadsheet.on(hi.GLOBAL_KEYBOARD_DOWN,(function(t){if(e.isCanvasEffect()){var n=t.shiftKey,r=t.metaKey,o=!1,i=!1,a=!1;qO.includes(t.key)&&(r&&n?(o=!1,i=!0,a=!1):r?(o=!0,i=!0,a=!0):n?(o=!1,i=!1,a=!1):(o=!0,i=!1,a=!0),e.handleMove({event:t,changeStartCell:o,isJumpMode:i,isSingleSelection:a}))}})),this.spreadsheet.on(hi.DATA_CELL_CLICK,(function(t){var n=e.spreadsheet.getCell(t.target).getMeta();n&&(e.startCell=e.getCellMetaFromViewMeta(n),e.endCell=e.startCell)}))},t.prototype.getCellMetaFromViewMeta=function(e){return{rowIndex:e.rowIndex,colIndex:e.colIndex,id:e.id,type:ea.DATA_CELL}},t.prototype.handleMove=function(e){var t=e.event,n=e.changeStartCell,r=e.isJumpMode,o=e.isSingleSelection,i=this,a=i.spreadsheet,l=i.startCell,s=i.endCell,u=n?l:s,c=this.getMoveInfo(t.key,u,r);if(c){var d=Ea([c.row,c.col],2),f=d[0],h=d[1];this.scrollToActiveCell(a,f,h);var p=this.generateCellMeta(a,f,h),v=o?[p]:this.getRangeCells(a,l,p);!function(e,t){var n=e.interaction;n.changeState({stateName:Ji.SELECTED,cells:t}),e.emit(hi.GLOBAL_SELECTED,n.getActiveCells())}(a,v),n&&(this.startCell=p),this.endCell=p,this.spreadsheet.emit(hi.DATA_CELL_SELECT_MOVE,v)}},t.prototype.generateCellMeta=function(e,t,n){var r=e.isTableMode,o=e.facet.layoutResult,i=o.colLeafNodes,a=o.rowLeafNodes,l=r()?String(t):a[t].id,s=i[n].id;return{rowIndex:t,colIndex:n,id:Ox(l,s),type:ea.DATA_CELL}},t.prototype.getRangeCells=function(e,t,n){for(var r=FS(t,n),o=r.start,i=o.rowIndex,a=o.colIndex,l=r.end,s=l.rowIndex,u=l.colIndex,c=[],d=i;d<=s;d++)for(var f=a;f<=u;f++)c.push(this.generateCellMeta(e,d,f));return c},t.prototype.getMoveInfo=function(e,t,n){var r=this.spreadsheet,o=r.options,i=o.frozenColCount,a=void 0===i?0:i,l=o.frozenRowCount,s=void 0===l?0:l,u=o.frozenTrailingColCount,c=void 0===u?0:u,d=o.frozenTrailingRowCount,f=void 0===d?0:d,h=r.facet.layoutResult,p=h.rowLeafNodes,v=Ea([0+a,h.colLeafNodes.length-c-1],2),g=v[0],m=v[1],y=Ea([0+s,(r.isTableMode()?r.dataSet.getDisplayDataSet().length:p.length)-f-1],2),b=y[0],C=y[1];if(t)switch(e){case ra.ARROW_RIGHT:if(t.colIndex+1>m)return;return{row:t.rowIndex,col:n?m:t.colIndex+1};case ra.ARROW_LEFT:if(t.colIndex-1<g)return;return{row:t.rowIndex,col:n?g:t.colIndex-1};case ra.ARROW_UP:if(t.rowIndex-1<b)return;return{row:n?b:t.rowIndex-1,col:t.colIndex};case ra.ARROW_DOWN:if(t.rowIndex+1>C)return;return{row:n?C:t.rowIndex+1,col:t.colIndex}}},t.prototype.calculateOffset=function(e,t,n){var r=e.options,o=r.frozenRowCount,i=void 0===o?0:o,a=r.frozenTrailingRowCount,l=void 0===a?0:a,s=e.facet,u=e.frozenColGroup,c=e.frozenTrailingColGroup,d=e.frozenRowGroup,f=e.frozenTrailingRowGroup,h=s.layoutResult.colLeafNodes,p=s.getScrollOffset(),v=p.scrollX,g=p.scrollY,m=s.panelBBox,y=m.viewportHeight,b=m.viewportWidth,C=Xu(e,"theme.splitLine"),w=u?Math.floor(u.getBBox().width-C.verticalBorderWidth/2):0,x=c?Math.floor(c.getBBox().width):0,S=d?Math.floor(d.getBBox().height-C.horizontalBorderWidth/2):0,E=f?Math.floor(f.getBBox().height):0,I=PC(v,g,s.viewCellWidths,s.viewCellHeights,{width:b-w-x,height:y-S-E,x:w,y:S},s.getRealScrollX(s.cornerBBox.width)),O=-1,L=-1,_=h.find((function(e){return e.colIndex===n}));if(n<=I[0]?O=_.x-w:n>=I[1]&&n<h.length-l&&(O=_.x+_.width-b+x),t<=I[2])L=s.viewCellHeights.getCellOffsetY(t-i);else if(t>=I[3]){L=s.viewCellHeights.getCellOffsetY(t+1)+E-y}return{offsetX:O,offsetY:L}},t.prototype.scrollToActiveCell=function(e,t,n){var r=this.calculateOffset(e,t,n),o=r.offsetX,i=r.offsetY,a=e.facet,l=e.facet.getScrollOffset(),s=l.scrollX,u=l.scrollY;a.scrollWithAnimation({offsetX:{value:o>-1?o:s},offsetY:{value:i>-1?i:u}})},t}(BO),QO=function(){function e(e){var t=this;this.interactions=new Map,this.intercepts=new Set,this.hoverTimer=null,this.defaultState={cells:[],force:!1},this.onTriggerInteractionsResetEffect=function(){t.interactions.forEach((function(e){e.reset()}))},this.selectAll=function(){t.changeState({stateName:Ji.ALL_SELECTED})},this.getCellChildrenNodes=function(e){var n,r=null===(n=null==e?void 0:e.getMeta)||void 0===n?void 0:n.call(e),o=(null==e?void 0:e.cellType)===ea.ROW_CELL;return t.spreadsheet.isHierarchyTreeType()&&o?wC.getAllLeaveNodes(r).filter((function(e){return e.rowIndex===r.rowIndex})):wC.getAllChildrenNodes(r)},this.selectHeaderCell=function(e){var n;void 0===e&&(e={});var r=e.cell;if(!Dv(r)){var o=null===(n=null==r?void 0:r.getMeta)||void 0===n?void 0:n.call(r);if(o&&!$v(null==o?void 0:o.x)){t.addIntercepts([ia.HOVER]);var i=t.spreadsheet.isHierarchyTreeType(),a=(null==r?void 0:r.cellType)===ea.COL_CELL,l=t.getState(),s=t.isSelectedCell(r),u=(null==e?void 0:e.isMultiSelection)&&t.isSelectedState(),c=s?[]:t.getCellChildrenNodes(r),d=s?[]:[zS(r)];if(u&&(d=Nf(null==l?void 0:l.cells,d),c=Nf(null==l?void 0:l.nodes,c),s&&(d=d.filter((function(e){return e.id!==o.id})),c=c.filter((function(e){return!(null==e?void 0:e.id.includes(o.id))})))),Dv(d))return t.reset(),void t.spreadsheet.emit(hi.GLOBAL_SELECTED,t.getActiveCells());var f=c.filter((function(e){return null==e?void 0:e.isLeaf}));t.changeState({cells:d,nodes:f,stateName:Ji.SELECTED});var h=d.map((function(e){return e.id}));return t.updateCells(t.getRowColActiveCells(h)),i&&!a||t.highlightNodes(c),t.spreadsheet.emit(hi.GLOBAL_SELECTED,t.getActiveCells()),!0}}},this.highlightNodes=function(e){void 0===e&&(e=[]),e.forEach((function(e){var t;null===(t=null==e?void 0:e.belongsCell)||void 0===t||t.updateByState(Ji.SELECTED,e.belongsCell)}))},this.mergeCells=function(e,n){Bx(t.spreadsheet,e,n)},this.unmergeCell=function(e){kx(t.spreadsheet,e)},this.spreadsheet=e,this.registerEventController(),this.registerInteractions(),window.addEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)}return e.prototype.destroy=function(){this.interactions.clear(),this.intercepts.clear(),this.eventController.clear(),this.clearHoverTimer(),this.resetState(),window.removeEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)},e.prototype.reset=function(){this.clearState(),this.clearHoverTimer(),this.intercepts.clear(),this.spreadsheet.hideTooltip()},e.prototype.setState=function(e){!function(e,t){var n=null==t?void 0:t.stateName;e.interaction.isEqualStateName(n)||(WS(e),e.hideTooltip(),e.store.set(sa,t))}(this.spreadsheet,e)},e.prototype.getState=function(){return this.spreadsheet.store.get(sa)||this.defaultState},e.prototype.setInteractedCells=function(e){var t=this.getInteractedCells().concat([e]),n=this.getState();n.interactedCells=t,this.setState(n)},e.prototype.getInteractedCells=function(){var e=this.getState();return(null==e?void 0:e.interactedCells)||[]},e.prototype.resetState=function(){this.spreadsheet.store.set(sa,this.defaultState)},e.prototype.getCurrentStateName=function(){return this.getState().stateName},e.prototype.isEqualStateName=function(e){return this.getCurrentStateName()===e},e.prototype.isStateOf=function(e){var t=this.getState();return(null==t?void 0:t.stateName)===e},e.prototype.isSelectedState=function(){return this.isStateOf(Ji.SELECTED)},e.prototype.isAllSelectedState=function(){return this.isStateOf(Ji.ALL_SELECTED)},e.prototype.isHoverFocusState=function(){return this.isStateOf(Ji.HOVER_FOCUS)},e.prototype.isHoverState=function(){return this.isStateOf(Ji.HOVER)},e.prototype.isActiveCell=function(e){return!!this.getCells().find((function(t){return e.getMeta().id===t.id}))},e.prototype.isSelectedCell=function(e){return this.isSelectedState()&&this.isActiveCell(e)},e.prototype.getCells=function(e){var t=this.getState(),n=(null==t?void 0:t.cells)||[];return $v(e)?n:n.filter((function(t){return e.includes(t.type)}))},e.prototype.getActiveCells=function(){var e=this.getCells().map((function(e){return e.id})),t=this.getAllCells();return Dp(e,(function(e){return Op(t,(function(t){var n;return(null===(n=null==t?void 0:t.getMeta())||void 0===n?void 0:n.id)===e}))})).filter((function(e){return e}))},e.prototype.clearStyleIndependent=function(){(this.isSelectedState()||this.isHoverState()||this.isAllSelectedState())&&this.getPanelGroupAllDataCells().forEach((function(e){e.hideInteractionShape()}))},e.prototype.getPanelGroupAllUnSelectedDataCells=function(){var e=this;return this.getPanelGroupAllDataCells().filter((function(t){return!e.isActiveCell(t)}))},e.prototype.getPanelGroupAllDataCells=function(){var e;return lO(null===(e=this.spreadsheet.panelGroup)||void 0===e?void 0:e.getChildren(),Tx)},e.prototype.getAllRowHeaderCells=function(){var e,t,n=((null===(e=this.spreadsheet.foregroundGroup)||void 0===e?void 0:e.getChildren())||[]).find((function(e){return e instanceof CO})),r=(null===(t=null==n?void 0:n.cfg)||void 0===t?void 0:t.children)||[];return lO(r,TS).filter((function(e){return e.cellType===ea.ROW_CELL}))},e.prototype.getAllColHeaderCells=function(){var e,t,n=((null===(e=this.spreadsheet.foregroundGroup)||void 0===e?void 0:e.getChildren())||[]).find((function(e){return e instanceof mO})),r=(null===(t=null==n?void 0:n.cfg)||void 0===t?void 0:t.children)||[];return lO(r,vS).filter((function(e){return e.cellType===ea.COL_CELL}))},e.prototype.getRowColActiveCells=function(e){return Nf(this.getAllRowHeaderCells(),this.getAllColHeaderCells()).filter((function(t){return e.includes(t.getMeta().id)}))},e.prototype.getAllCells=function(){return Nf(this.getPanelGroupAllDataCells(),this.getAllRowHeaderCells(),this.getAllColHeaderCells())},e.prototype.hideColumns=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=!0),jx(this.spreadsheet,e,t)},e.prototype.getBrushSelectionInfo=function(e){var t,n,r;return Mv(e)?{dataBrushSelection:e,rowBrushSelection:e,colBrushSelection:e}:{dataBrushSelection:null!==(t=null==e?void 0:e.data)&&void 0!==t&&t,rowBrushSelection:null!==(n=null==e?void 0:e.row)&&void 0!==n&&n,colBrushSelection:null!==(r=null==e?void 0:e.col)&&void 0!==r&&r}},e.prototype.getDefaultInteractions=function(){var e=this.spreadsheet.options.interaction,t=e.resize,n=e.brushSelection,r=e.multiSelection,o=e.rangeSelection,i=e.selectedCellMove,a=this.getBrushSelectionInfo(n),l=a.dataBrushSelection,s=a.rowBrushSelection,u=a.colBrushSelection;return[{key:Qi.CORNER_CELL_CLICK,interaction:HO},{key:Qi.DATA_CELL_CLICK,interaction:kO},{key:Qi.ROW_COLUMN_CLICK,interaction:zO},{key:Qi.ROW_TEXT_CLICK,interaction:FO},{key:Qi.MERGED_CELLS_CLICK,interaction:PO},{key:Qi.HOVER,interaction:$O,enable:!yC()},{key:Qi.BRUSH_SELECTION,interaction:GO,enable:!yC()&&l},{key:Qi.ROW_BRUSH_SELECTION,interaction:ZO,enable:!yC()&&s},{key:Qi.COL_BRUSH_SELECTION,interaction:WO,enable:!yC()&&u},{key:Qi.COL_ROW_RESIZE,interaction:XO,enable:!yC()&&t},{key:Qi.DATA_CELL_MULTI_SELECTION,interaction:VO,enable:!yC()&&r},{key:Qi.RANGE_SELECTION,interaction:YO,enable:!yC()&&o},{key:Qi.SELECTED_CELL_MOVE,interaction:KO,enable:!yC()&&i}]},e.prototype.registerInteractions=function(){var e=this,t=this.spreadsheet.options.interaction.customInteractions;this.interactions.clear(),this.getDefaultInteractions().forEach((function(t){var n=t.key,r=t.interaction;!1!==t.enable&&e.interactions.set(n,new r(e.spreadsheet))})),Dv(t)||tp(t,(function(t){var n=t.interaction;e.interactions.set(t.key,new n(e.spreadsheet))}))},e.prototype.registerEventController=function(){this.eventController=new UO(this.spreadsheet)},e.prototype.draw=function(){this.spreadsheet.container.draw()},e.prototype.clearState=function(){WS(this.spreadsheet)&&this.draw()},e.prototype.changeState=function(e){var t=this,n=this.spreadsheet.interaction,r=e.cells,o=void 0===r?[]:r,i=e.force,a=e.stateName,l=e.onUpdateCells;if(Dv(o)&&a===Ji.SELECTED)i&&n.changeState({cells:[],stateName:Ji.UNSELECTED});else{this.getCurrentStateName()===Ji.ALL_SELECTED&&this.clearStyleIndependent(),this.clearState(),this.setState(e);var s=function(){t.updatePanelGroupAllDataCells()};l?l(this,s):s(),this.draw()}},e.prototype.updatePanelGroupAllDataCells=function(){this.updateCells(this.getPanelGroupAllDataCells())},e.prototype.updateCells=function(e){void 0===e&&(e=[]),e.forEach((function(e){e.update()}))},e.prototype.addIntercepts=function(e){var t=this;void 0===e&&(e=[]),e.forEach((function(e){t.intercepts.add(e)}))},e.prototype.hasIntercepts=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.intercepts.has(e)}))},e.prototype.removeIntercepts=function(e){var t=this;void 0===e&&(e=[]),e.forEach((function(e){t.intercepts.delete(e)}))},e.prototype.clearHoverTimer=function(){clearTimeout(this.hoverTimer)},e.prototype.setHoverTimer=function(e){this.hoverTimer=e},e.prototype.getHoverTimer=function(){return this.hoverTimer},e.prototype.getSelectedCellHighlight=function(){var e=this.spreadsheet.options.interaction.selectedCellHighlight;if(Mv(e))return{rowHeader:e,colHeader:e,currentRow:!1,currentCol:!1};var t=null!=e?e:{},n=t.rowHeader,r=void 0!==n&&n,o=t.colHeader,i=void 0!==o&&o,a=t.currentRow,l=void 0!==a&&a,s=t.currentCol;return{rowHeader:r,colHeader:i,currentRow:l,currentCol:void 0!==s&&s}},e.prototype.getHoverAfterScroll=function(){return this.spreadsheet.options.interaction.hoverAfterScroll},e.prototype.getHoverHighlight=function(){var e=this.spreadsheet.options.interaction.hoverHighlight;if(Mv(e))return{rowHeader:e,colHeader:e,currentRow:e,currentCol:e};var t=null!=e?e:{},n=t.rowHeader,r=void 0!==n&&n,o=t.colHeader,i=void 0!==o&&o,a=t.currentRow,l=void 0!==a&&a,s=t.currentCol;return{rowHeader:r,colHeader:i,currentRow:l,currentCol:void 0!==s&&s}},e.prototype.getBrushSelection=function(){var e=this.spreadsheet.options.interaction.brushSelection;if(Mv(e))return{data:e,row:e,col:e};var t=null!=e?e:{},n=t.data,r=void 0!==n&&n,o=t.row,i=void 0!==o&&o,a=t.col;return{data:r,row:i,col:void 0!==a&&a}},e}(),JO=function(){function e(e){var t=this;this.viewport=window,this.isDevicePixelRatioChange=!1,this.init=function(){t.initDevicePixelRatioListener(),t.initDeviceZoomListener()},this.destroy=function(){t.removeDevicePixelRatioListener(),t.removeDeviceZoomListener()},this.removeDevicePixelRatioListener=function(){var e;(null===(e=t.devicePixelRatioMedia)||void 0===e?void 0:e.removeEventListener)?t.devicePixelRatioMedia.removeEventListener("change",t.renderByDevicePixelRatioChanged):t.devicePixelRatioMedia.removeListener(t.renderByDevicePixelRatioChanged)},this.initDeviceZoomListener=function(){var e,n;yC()||null===(n=null===(e=t.viewport)||void 0===e?void 0:e.visualViewport)||void 0===n||n.addEventListener("resize",t.renderByZoomScaleWithoutResizeEffect)},this.removeDeviceZoomListener=function(){var e,n;yC()||null===(n=null===(e=t.viewport)||void 0===e?void 0:e.visualViewport)||void 0===n||n.removeEventListener("resize",t.renderByZoomScaleWithoutResizeEffect)},this.renderByZoomScaleWithoutResizeEffect=function(e){t.isDevicePixelRatioChange=!1,t.renderByZoomScale(e)},this.renderByDevicePixelRatioChanged=function(){t.isDevicePixelRatioChange=!0,t.renderByDevicePixelRatio()},this.renderByDevicePixelRatio=function(e){void 0===e&&(e=window.devicePixelRatio);var n=t.spreadsheet,r=n.container,o=n.options,i=o.width,a=o.height,l=o.devicePixelRatio,s=t.spreadsheet.getCanvasElement();if(r.get("pixelRatio")!==e&&s){var u=Math.max(e,l,1);r.set("pixelRatio",u),r.changeSize(i,a),t.spreadsheet.render(!1)}},this.renderByZoomScale=Eh((function(e){var n=Math.ceil(e.target.scale);n>=1&&!t.isDevicePixelRatioChange&&t.renderByDevicePixelRatio(n)}),350),this.spreadsheet=e}return e.prototype.initDevicePixelRatioListener=function(){var e;this.devicePixelRatioMedia=window.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")),(null===(e=this.devicePixelRatioMedia)||void 0===e?void 0:e.addEventListener)?this.devicePixelRatioMedia.addEventListener("change",this.renderByDevicePixelRatioChanged):this.devicePixelRatioMedia.addListener(this.renderByDevicePixelRatioChanged)},e}(),eL=function(){function e(e){this.visible=!1,this.position={x:0,y:0},this.spreadsheet=e}return e.prototype.show=function(e){var t,n,r,o=e.position,i=e.options,a=e.content,l=e.event,s=PI(i).enterable,u=this.spreadsheet.options.tooltip||{},c=u.autoAdjustBoundary,d=u.adjustPosition;this.visible=!0,this.options=e;var f=this.getContainer();this.renderContent(a);var h=function(e){var t=e.spreadsheet,n=e.position,r=e.tooltipContainer,o=e.autoAdjustBoundary,i=t.getCanvasElement(),a=n.x+gC,l=n.y+mC;if(!o||!i)return{x:a,y:l};var s="body"===o,u=t.facet.panelBBox,c=u.maxX,d=u.maxY,f=t.options,h=f.width,p=f.height,v=i.getBoundingClientRect(),g=v.top,m=v.left,y=r.getBoundingClientRect(),b=y.width,C=y.height,w=document.body.getBoundingClientRect(),x=w.width,S=w.height,E=s?x:Math.min(h,c)+m,I=s?S:Math.min(p,d)+g;return a+b>=E&&(a=E-b),l+C>=I&&(l=I-C),{x:a,y:l}}({spreadsheet:this.spreadsheet,position:o,tooltipContainer:f,autoAdjustBoundary:c}),p=h.x,v=h.y;this.position=null!==(t=null==d?void 0:d({position:{x:p,y:v},event:l}))&&void 0!==t?t:{x:p,y:v},FI(f,{style:{left:"".concat(null===(n=this.position)||void 0===n?void 0:n.x,"px"),top:"".concat(null===(r=this.position)||void 0===r?void 0:r.y,"px"),pointerEvents:s?"all":"none"},visible:!0})},e.prototype.hide=function(){this.visible=!1,this.container&&(FI(this.container,{style:{pointerEvents:"none"},visible:!1}),this.resetPosition())},e.prototype.destroy=function(){var e,t;this.visible=!1,this.container&&(this.resetPosition(),null===(t=(e=this.container).remove)||void 0===t||t.call(e),this.container=null)},e.prototype.renderContent=function(e){if(this.container){this.clearContent();var t=(this.spreadsheet.options.tooltip||{}).content,n=null!=e?e:t;$v(n)||("string"!=typeof n?n instanceof Element&&this.container.appendChild(n):this.container.innerHTML=n)}},e.prototype.clearContent=function(){this.container&&(this.container.innerHTML="")},e.prototype.disablePointerEvent=function(){this.container&&"none"!==this.container.style.pointerEvents&&FI(this.container,{style:{pointerEvents:"none"}})},e.prototype.resetPosition=function(){this.position={x:0,y:0}},e.prototype.getContainer=function(){var e;if(!this.container){var t=this.spreadsheet.options.tooltip,n=(null===(e=t.getContainer)||void 0===e?void 0:e.call(t))||document.body,r=document.createElement("div");return FI(r,{style:t.style,className:[hC].concat(t.className)}),n.appendChild(r),this.container=r,this.container}return this.container},e}(),tL=function(e){function t(t,n,r){var o=e.call(this)||this;return o.store=new rw,o.untypedOn=o.on,o.untypedEmit=o.emit,o.on=function(e,t){return o.untypedOn(e,t)},o.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o.untypedEmit.apply(o,Ia([e],Ea(t),!1))},o.initHiddenColumnsDetail=function(){var e=o.options.interaction.hiddenColumnFields,t=o.store.get("hiddenColumnsDetail");Dv(e)&&Dv(t)||jx(o,e,!0)},o.measureText=Hu((function(e,t){var n;if(void 0===e&&(e=""),!t)return null;var r=null===(n=o.getCanvasElement())||void 0===n?void 0:n.getContext("2d"),i=t,a=i.fontSize,l=i.fontFamily,s=i.fontWeight,u=i.fontStyle,c=i.fontVariant;return r.font=[u,c,s,"".concat(a,"px"),l].join(" ").trim(),r.measureText(String(e))}),(function(e,t){return Ia([e],Ea(nv(t)),!1).join("")})),o.measureTextWidth=function(e,t){void 0===e&&(e="");var n=o.measureText(e,t);return(null==n?void 0:n.width)||0},o.measureTextHeight=function(e,t){void 0===e&&(e="");var n=o.measureText(e,t);return n?n.actualBoundingBoxAscent+n.actualBoundingBoxDescent:0},o.measureTextWidthRoughly=function(e,t){var n,r;void 0===t&&(t={});var i=o.measureTextWidth("a",t),a=o.measureTextWidth("蚂",t),l=0;if(!e)return l;try{for(var s=Sa(e),u=s.next();!u.done;u=s.next()){var c=u.value.charCodeAt(0);l+=c>=0&&c<=255?i:a}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return l},o.dataCfg=YS(n),o.options=XS(r),o.dataSet=o.getDataSet(o.options),o.setDebug(),o.initTooltip(),o.initGroups(t),o.bindEvents(),o.initInteraction(),o.initTheme(),o.initHdAdapter(),o.registerIcons(),o.setOverscrollBehavior(),o}return Ca(t,e),t.prototype.setOverscrollBehavior=function(){var e=this.options.interaction.overscrollBehavior,t=window.getComputedStyle(document.body).getPropertyValue("overscroll-behavior");t&&"auto"!==t?this.store.set("initOverscrollBehavior",t):e&&(document.body.style.overscrollBehavior=e)},t.prototype.restoreOverscrollBehavior=function(){document.body.style.overscrollBehavior=this.store.get("initOverscrollBehavior")||""},t.prototype.setDebug=function(){ZC.getInstance().setDebug(this.options.debug)},t.prototype.initTheme=function(){this.setThemeCfg({name:"default"})},t.prototype.getMountContainer=function(e){var t=ev(e)?document.querySelector(e):e;if(!t)throw new Error("Target mount container is not a DOM element");return t},t.prototype.initHdAdapter=function(){this.options.hdAdapter&&(this.hdAdapter=new JO(this),this.hdAdapter.init())},t.prototype.initInteraction=function(){var e,t;null===(t=null===(e=this.interaction)||void 0===e?void 0:e.destroy)||void 0===t||t.call(e),this.interaction=new QO(this)},t.prototype.initTooltip=function(){var e,t,n,r;null===(t=null===(e=this.tooltip)||void 0===e?void 0:e.destroy)||void 0===t||t.call(e),this.tooltip=this.renderTooltip(),this.tooltip instanceof eL||console.warn("[Custom Tooltip]: ".concat(null===(r=null===(n=this.tooltip)||void 0===n?void 0:n.constructor)||void 0===r?void 0:r.toString()," should be extends from BaseTooltip"))},t.prototype.renderTooltip=function(){var e,t;return(null===(t=null===(e=this.options.tooltip)||void 0===e?void 0:e.renderTooltip)||void 0===t?void 0:t.call(e,this))||new eL(this)},t.prototype.showTooltip=function(e){var t,n,r=e.content,o=e.event,i=this.getCell(null==o?void 0:o.target),a=ll(r)?r(i,e):r;null===(n=(t=this.tooltip).show)||void 0===n||n.call(t,wa(wa({},e),{content:a}))},t.prototype.showTooltipWithInfo=function(e,t,n){var r,o=XI(this,e),i=o.showTooltip,a=o.content;if(i){var l=this.getCell(null==e?void 0:e.target),s=null!==(r=null==n?void 0:n.data)&&void 0!==r?r:UI({spreadsheet:this,cellInfos:t,targetCell:l,options:wa({enableFormat:!0},n)});this.showTooltip({data:s,position:{x:e.clientX,y:e.clientY},options:wa({enterable:!0},n),event:e,content:a})}},t.prototype.hideTooltip=function(){var e,t;null===(t=(e=this.tooltip).hide)||void 0===t||t.call(e)},t.prototype.destroyTooltip=function(){var e,t;null===(t=(e=this.tooltip).destroy)||void 0===t||t.call(e)},t.prototype.registerIcons=function(){var e=this.options.customSVGIcons;Dv(e)||tp(e,(function(e){YC(e.name,e.svg)}))},t.prototype.setDataCfg=function(e,t){this.store.set("originalDataCfg",e),this.dataCfg=t?YS(e):YS(this.dataCfg,e),this.store.set(Ui,Yi)},t.prototype.setOptions=function(e,t){var n;this.hideTooltip(),this.options=t?XS(e):VS(this.options,e),(t||(null===(n=e.tooltip)||void 0===n?void 0:n.renderTooltip))&&this.initTooltip(),this.registerIcons()},t.prototype.render=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t={}),this.getCanvasElement()){var n=t.reBuildDataSet,r=void 0!==n&&n,o=t.reBuildHiddenColumnsDetail,i=void 0===o||o;this.emit(hi.LAYOUT_BEFORE_RENDER),r&&(this.dataSet=this.getDataSet(this.options)),e&&(this.clearDrillDownData("",!0),this.dataSet.setDataCfg(this.dataCfg)),this.buildFacet(),i&&this.initHiddenColumnsDetail(),this.emit(hi.LAYOUT_AFTER_RENDER)}},t.prototype.destroy=function(){var e,t,n,r,o;this.restoreOverscrollBehavior(),this.emit(hi.LAYOUT_DESTROY),null===(e=this.facet)||void 0===e||e.destroy(),null===(t=this.hdAdapter)||void 0===t||t.destroy(),null===(n=this.interaction)||void 0===n||n.destroy(),null===(r=this.store)||void 0===r||r.clear(),this.destroyTooltip(),this.clearCanvasEvent(),null===(o=this.container)||void 0===o||o.destroy(),function(){var e;null===(e=document.getElementById(ww))||void 0===e||e.remove()}()},t.prototype.setThemeCfg=function(e){void 0===e&&(e={});var t=(null==e?void 0:e.theme)||{},n=CC(wa(wa({},e),{spreadsheet:this}));this.theme=VS(n,t)},t.prototype.setTheme=function(e){this.theme=VS(this.theme,e)},t.prototype.updatePagination=function(e){this.options=VS(this.options,{pagination:e}),this.store.set("scrollX",0),this.store.set("scrollY",0)},t.prototype.getContentHeight=function(){return this.facet.getContentHeight()},t.prototype.changeSize=function(e,t){void 0===e&&(e=this.options.width),void 0===t&&(t=this.options.height),this.changeSheetSize(e,t)},t.prototype.changeSheetSize=function(e,t){void 0===e&&(e=this.options.width),void 0===t&&(t=this.options.height);var n=this.getCanvasElement(),r=this.container.get("width"),o=this.container.get("height");(e!==r||t!==o)&&n&&(this.options=VS(this.options,{width:e,height:t}),this.container.changeSize(e,t))},t.prototype.getCanvasElement=function(){return this.container.get("el")},t.prototype.getLayoutWidthType=function(){return this.options.style.layoutWidthType},t.prototype.getRowNodes=function(e){return void 0===e&&(e=-1),-1===e?this.facet.layoutResult.rowNodes:this.facet.layoutResult.rowNodes.filter((function(t){return t.level===e}))},t.prototype.getRowLeafNodes=function(){var e;return(null===(e=this.facet)||void 0===e?void 0:e.layoutResult.rowLeafNodes)||[]},t.prototype.getColumnNodes=function(e){var t;void 0===e&&(e=-1);var n=(null===(t=this.facet)||void 0===t?void 0:t.layoutResult.colNodes)||[];return-1===e?n:n.filter((function(t){return t.level===e}))},t.prototype.getColumnLeafNodes=function(){var e;return(null===(e=this.facet)||void 0===e?void 0:e.layoutResult.colLeafNodes)||[]},t.prototype.updateScrollOffset=function(e){var t={offsetX:{value:void 0,animate:!1},offsetY:{value:void 0,animate:!1},rowHeaderOffsetX:{value:void 0,animate:!1}};this.facet.updateScrollOffset(VS(t,e))},t.prototype.getTooltipDataItemMappingCallback=function(){var e;return null===(e=this.options)||void 0===e?void 0:e.mappingDisplayDataItem},t.prototype.getCell=function(e){for(var t,n=e;n&&!(n instanceof pi);){if(n instanceof Sx)return n;n=null===(t=n.get)||void 0===t?void 0:t.call(n,"parent")}return null},t.prototype.getCellType=function(e){var t=this.getCell(e);return null==t?void 0:t.cellType},t.prototype.getTotalsConfig=function(e){var t=Xu(this.options.totals,ov(this.dataSet.fields.rows,e)?"row":"col",{});return{showSubTotals:!(!t.showSubTotals||!ov(t.subTotalsDimensions,e))&&t.showSubTotals,showGrandTotals:t.showGrandTotals,reverseLayout:t.reverseLayout,reverseSubLayout:t.reverseSubLayout,label:t.label||dC("总计"),subLabel:t.subLabel||dC("小计")}},t.prototype.initGroups=function(e){var t=this.options,n=t.width,r=t.height,o=t.supportCSSTransform,i=t.devicePixelRatio;this.container=new pi({container:this.getMountContainer(e),width:n,height:r,localRefresh:!1,supportCSSTransform:o,pixelRatio:Math.max(i,1)}),this.backgroundGroup=this.container.addGroup({name:"backGroundGroup",zIndex:0}),this.panelGroup=this.container.addGroup({name:"panelGroup",zIndex:1}),this.foregroundGroup=this.container.addGroup({name:"foreGroundGroup",zIndex:3}),this.initPanelGroupChildren(),this.updateContainerStyle()},t.prototype.updateContainerStyle=function(){var e=this.getCanvasElement();e&&(e.style.display="block")},t.prototype.initPanelGroupChildren=function(){this.panelScrollGroup=new DO({name:"panelScrollGroup",zIndex:1,s2:this}),this.panelGroup.add(this.panelScrollGroup)},t.prototype.getInitColumnLeafNodes=function(){return this.store.get("initColumnLeafNodes",[])},t.prototype.clearColumnLeafNodes=function(){this.store.set("initColumnLeafNodes",void 0)},t.prototype.clearCanvasEvent=function(){var e=this;Fp(this.getEvents(),(function(t,n){e.off(n)}))},t.prototype.updateSortMethodMap=function(e,t,n){var r;void 0===n&&(n=!1);var o=n?null:this.store.get("sortMethodMap");this.store.set("sortMethodMap",wa(wa({},o),((r={})[e]=t,r)))},t.prototype.getMenuDefaultSelectedKeys=function(e){var t=Xu(this.store.get("sortMethodMap"),e);return t?[t]:[]},t}(pe),nL=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.getDataSet=function(e){var t=e.dataSet,n=e.hierarchyType;return t?t(this):"customTree"===n?new tO(this):new JI(this)},t.prototype.getContentHeight=function(){return this.facet.getContentHeight()},t.prototype.isPivotMode=function(){return!0},t.prototype.isTableMode=function(){return!1},t.prototype.isHierarchyTreeType=function(){var e=this.options.hierarchyType;return"tree"===e||"customTree"===e},t.prototype.isScrollContainsRowHeader=function(){return!this.isFrozenRowHeader()},t.prototype.isFrozenRowHeader=function(){var e;return null===(e=this.options)||void 0===e?void 0:e.frozenRowHeader},t.prototype.isValueInCols=function(){return this.dataSet.fields.valueInCols},t.prototype.clearDrillDownData=function(e,t){this.dataSet instanceof JI&&(this.dataSet.clearDrillDownData(e),t||(this.interaction.reset(),this.render(!1)))},t.prototype.getFacetCfgFromDataSetAndOptions=function(){var e=this,t=this.dataSet,n=t.fields,r=t.meta,o=this.options,i=o.style,a=o.dataCell;return wa(wa(wa(wa({},this.options),n),i),{meta:r,spreadsheet:this,dataSet:this.dataSet,dataCell:null!=a?a:function(t){return new Tx(t,e)}})},t.prototype.buildFacet=function(){var e,t=this.getFacetCfgFromDataSetAndOptions();null===(e=this.facet)||void 0===e||e.destroy(),this.facet=new MO(t),this.facet.render()},t.prototype.bindEvents=function(){this.off(hi.ROW_CELL_COLLAPSE_TREE_ROWS),this.off(hi.LAYOUT_TREE_ROWS_COLLAPSE_ALL),this.on(hi.ROW_CELL_COLLAPSE_TREE_ROWS,this.handleRowCellCollapseTreeRows),this.on(hi.LAYOUT_TREE_ROWS_COLLAPSE_ALL,this.handleTreeRowsCollapseAll)},t.prototype.handleRowCellCollapseTreeRows=function(e){var t,n=e.id,r=e.isCollapsed,o={style:{collapsedRows:(t={},t[n]=r,t)}};this.emit(hi.LAYOUT_COLLAPSE_ROWS,{collapsedRows:o.style.collapsedRows,meta:null==e?void 0:e.node}),this.setOptions(o),this.render(!1),this.emit(hi.LAYOUT_AFTER_COLLAPSE_ROWS,{collapsedRows:o.style.collapsedRows,meta:null==e?void 0:e.node})},t.prototype.handleTreeRowsCollapseAll=function(e){var t={style:{hierarchyCollapse:!e,collapsedRows:null,rowExpandDepth:null}};this.setOptions(t),this.render(!1)},t.prototype.groupSortByMethod=function(e,t){var n=this.dataCfg.fields,r=n.rows,o=n.columns,i=this.options.style.colCfg.hideMeasureColumn,a=this.isValueInCols()?Uh(r):Uh(o),l=t.query,s=t.value,u=Tf(l),c=s;i&&this.isValueInCols()&&(c=this.dataSet.fields.values[0],u[mi]=c);var d={sortFieldId:a,sortMethod:e,sortByMeasure:c,query:u},f=this.dataCfg.sortParams.filter((function(e){return(null==e?void 0:e.sortFieldId)!==a}));this.updateSortMethodMap(t.id,e,!0);var h=Ia(Ia([],Ea(f),!1),[d],!1);this.emit(hi.RANGE_SORT,h),this.setDataCfg(wa(wa({},this.dataCfg),{sortParams:h})),this.render()},t.prototype.handleGroupSort=function(e,t){var n=this;e.stopPropagation(),this.interaction.addIntercepts([ia.HOVER]);var r=this.getMenuDefaultSelectedKeys(null==t?void 0:t.id),o={onClick:function(r){var o=r.key;n.groupSortByMethod(o,t),n.emit(hi.RANGE_SORTED,e)},menus:[{key:"asc",icon:"groupAsc",text:dC("组内升序")},{key:"desc",icon:"groupDesc",text:dC("组内降序")},{key:"none",text:dC("不排序")}],defaultSelectedKeys:r};this.showTooltipWithInfo(e,[],{operator:o,onlyMenu:!0,forceRender:!0})},t}(tL),rL=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t}(AO),oL=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSortTooltipClick=function(e,n){var r=e.key,o={sortFieldId:n.field,sortMethod:r};t.updateSortMethodMap(n.id,r),t.emit(hi.RANGE_SORT,[o])},t}return Ca(t,e),t.prototype.getDataSet=function(e){var t=e.dataSet;return t?t(this):new eO(this)},t.prototype.isPivotMode=function(){return!1},t.prototype.isTableMode=function(){return!0},t.prototype.isHierarchyTreeType=function(){return!1},t.prototype.isScrollContainsRowHeader=function(){return!1},t.prototype.isFrozenRowHeader=function(){return!1},t.prototype.clearDrillDownData=function(){},t.prototype.isValueInCols=function(){return!1},t.prototype.bindEvents=function(){},t.prototype.initPanelGroupChildren=function(){var t,n=this;e.prototype.initPanelGroupChildren.call(this);var r={zIndex:2,s2:this};t=Ea([xi,Si,Ei,Ii,Oi,Li].map((function(e){var t=new rL(wa({name:e},r));return n.panelGroup.add(t),t})),6),this.frozenRowGroup=t[0],this.frozenColGroup=t[1],this.frozenTrailingRowGroup=t[2],this.frozenTrailingColGroup=t[3],this.frozenTopGroup=t[4],this.frozenBottomGroup=t[5]},t.prototype.getFacetCfgFromDataSetAndOptions=function(){var e=this,t=this.dataSet,n=t.fields,r=t.meta,o=this.options,i=o.style,a=o.dataCell;return wa(wa(wa(wa({},this.options),n),i),{meta:r,spreadsheet:this,dataSet:this.dataSet,dataCell:null!=a?a:function(t){return e.options.showSeriesNumber&&0===t.colIndex?new BS(t,e):new DS(t,e)}})},t.prototype.buildFacet=function(){var e,t=this.getFacetCfgFromDataSetAndOptions();null===(e=this.facet)||void 0===e||e.destroy(),this.facet=new NO(t),this.facet.render()},t.prototype.clearFrozenGroups=function(){this.frozenRowGroup.set("children",[]),this.frozenColGroup.set("children",[]),this.frozenTrailingRowGroup.set("children",[]),this.frozenTrailingColGroup.set("children",[]),this.frozenTopGroup.set("children",[]),this.frozenBottomGroup.set("children",[])},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.clearFrozenGroups(),this.off(hi.RANGE_SORT),this.off(hi.RANGE_FILTER)},t.prototype.handleGroupSort=function(e,t){var n=this;e.stopPropagation(),this.interaction.addIntercepts([ia.HOVER]);var r=this.getMenuDefaultSelectedKeys(null==t?void 0:t.id),o={onClick:function(e){var r=e.key;n.onSortTooltipClick({key:r},t)},menus:[{key:"asc",icon:"groupAsc",text:dC("升序")},{key:"desc",icon:"groupDesc",text:dC("降序")},{key:"none",text:dC("不排序")}],defaultSelectedKeys:r};this.showTooltipWithInfo(e,[],{operator:o,onlyMenu:!0,forceRender:!0})},t}(tL)},49571:function(){},73360:function(e,t,n){n.d(t,{Z:function(){return fe}});var r=n(58964),o=n(87462),i=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},l=n(93771),s=function(e,t){return i.createElement(l.Z,(0,o.Z)({},e,{ref:t,icon:a}))};var u=i.forwardRef(s),c=n(94184),d=n.n(c),f=n(4942),h=n(71002),p=n(97685),v=n(91),g=n(15671),m=n(43144);function y(){return"function"==typeof BigInt}function b(e){return!e&&0!==e&&!Number.isNaN(e)||!String(e).trim()}function C(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",o=r.split("."),i=o[0]||"0",a=o[1]||"0";"0"===i&&"0"===a&&(n=!1);var l=n?"-":"";return{negative:n,negativeStr:l,trimStr:r,integerStr:i,decimalStr:a,fullStr:"".concat(l).concat(r)}}function w(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function x(e){var t=String(e);if(w(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return null!=r&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&E(t)?t.length-t.indexOf(".")-1:0}function S(e){var t=String(e);if(w(e)){if(e>Number.MAX_SAFE_INTEGER)return String(y()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(y()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(x(t))}return C(t).fullStr}function E(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var I=function(){function e(t){if((0,g.Z)(this,e),(0,f.Z)(this,"origin",""),(0,f.Z)(this,"negative",void 0),(0,f.Z)(this,"integer",void 0),(0,f.Z)(this,"decimal",void 0),(0,f.Z)(this,"decimalLen",void 0),(0,f.Z)(this,"empty",void 0),(0,f.Z)(this,"nan",void 0),b(t))this.empty=!0;else if(this.origin=String(t),"-"===t||Number.isNaN(t))this.nan=!0;else{var n=t;if(w(n)&&(n=Number(n)),E(n="string"==typeof n?n:S(n))){var r=C(n);this.negative=r.negative;var o=r.trimStr.split(".");this.integer=BigInt(o[0]);var i=o[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}}return(0,m.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,n,r){var o=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),i=n(this.alignDecimal(o),t.alignDecimal(o)).toString(),a=r(o),l=C(i),s=l.negativeStr,u=l.trimStr,c="".concat(s).concat(u.padStart(a+1,"0"));return new e("".concat(c.slice(0,-a),".").concat(c.slice(-a)))}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);return n.isInvalidate()?this:this.cal(n,(function(e,t){return e+t}),(function(e){return e}))}},{key:"multi",value:function(t){var n=new e(t);return this.isInvalidate()||n.isInvalidate()?new e(NaN):this.cal(n,(function(e,t){return e*t}),(function(e){return 2*e}))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null==e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":C("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),O=function(){function e(t){(0,g.Z)(this,e),(0,f.Z)(this,"origin",""),(0,f.Z)(this,"number",void 0),(0,f.Z)(this,"empty",void 0),b(t)?this.empty=!0:(this.origin=String(t),this.number=Number(t))}return(0,m.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(x(this.number),x(n));return new e(r.toFixed(o))}},{key:"multi",value:function(t){var n=Number(t);if(this.isInvalidate()||Number.isNaN(n))return new e(NaN);var r=this.number*n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(x(this.number),x(n));return new e(r.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null==e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":S(this.number):this.origin}}]),e}();function L(e){return y()?new I(e):new O(e)}function _(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var o=C(e),i=o.negativeStr,a=o.integerStr,l=o.decimalStr,s="".concat(t).concat(l),u="".concat(i).concat(a);if(n>=0){var c=Number(l[n]);if(c>=5&&!r){var d=L(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-c));return _(d.toString(),t,n,r)}return 0===n?u:"".concat(u).concat(t).concat(l.padEnd(n,"0").slice(0,n))}return".0"===s?u:"".concat(u).concat(s)}var T=L,M=n(67656),R=n(8410),N=n(42550),A=n(80334);var D=n(31131),B=function(){var e=(0,i.useState)(!1),t=(0,p.Z)(e,2),n=t[0],r=t[1];return(0,R.Z)((function(){r((0,D.Z)())}),[]),n},k=n(75164);function P(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,a=e.upDisabled,l=e.downDisabled,s=e.onStep,u=i.useRef(),c=i.useRef([]),h=i.useRef();h.current=s;var p=function(){clearTimeout(u.current)},v=function(e,t){e.preventDefault(),p(),h.current(t),u.current=setTimeout((function e(){h.current(t),u.current=setTimeout(e,200)}),600)};if(i.useEffect((function(){return function(){p(),c.current.forEach((function(e){return k.Z.cancel(e)}))}}),[]),B())return null;var g="".concat(t,"-handler"),m=d()(g,"".concat(g,"-up"),(0,f.Z)({},"".concat(g,"-up-disabled"),a)),y=d()(g,"".concat(g,"-down"),(0,f.Z)({},"".concat(g,"-down-disabled"),l)),b=function(){return c.current.push((0,k.Z)(p))},C={unselectable:"on",role:"button",onMouseUp:b,onMouseLeave:b};return i.createElement("div",{className:"".concat(g,"-wrap")},i.createElement("span",(0,o.Z)({},C,{onMouseDown:function(e){v(e,!0)},"aria-label":"Increase Value","aria-disabled":a,className:m}),n||i.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),i.createElement("span",(0,o.Z)({},C,{onMouseDown:function(e){v(e,!1)},"aria-label":"Decrease Value","aria-disabled":l,className:y}),r||i.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function z(e){var t="number"==typeof e?S(e):C(e).fullStr;return t.includes(".")?C(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var F=n(87887),H=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],$=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","classes","className","classNames"],j=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},W=function(e){var t=T(e);return t.isInvalidate()?null:t},G=i.forwardRef((function(e,t){var n,r=e.prefixCls,a=void 0===r?"rc-input-number":r,l=e.className,s=e.style,u=e.min,c=e.max,g=e.step,m=void 0===g?1:g,y=e.defaultValue,b=e.value,C=e.disabled,w=e.readOnly,I=e.upHandler,O=e.downHandler,L=e.keyboard,M=e.controls,D=void 0===M||M,B=e.classNames,F=e.stringMode,$=e.parser,G=e.formatter,Z=e.precision,V=e.decimalSeparator,U=e.onChange,Y=e.onInput,X=e.onPressEnter,q=e.onStep,K=(0,v.Z)(e,H),Q="".concat(a,"-input"),J=i.useRef(null),ee=i.useState(!1),te=(0,p.Z)(ee,2),ne=te[0],re=te[1],oe=i.useRef(!1),ie=i.useRef(!1),ae=i.useRef(!1),le=i.useState((function(){return T(null!=b?b:y)})),se=(0,p.Z)(le,2),ue=se[0],ce=se[1];var de=i.useCallback((function(e,t){if(!t)return Z>=0?Z:Math.max(x(e),x(m))}),[Z,m]),fe=i.useCallback((function(e){var t=String(e);if($)return $(t);var n=t;return V&&(n=n.replace(V,".")),n.replace(/[^\w.-]+/g,"")}),[$,V]),he=i.useRef(""),pe=i.useCallback((function(e,t){if(G)return G(e,{userTyping:t,input:String(he.current)});var n="number"==typeof e?S(e):e;if(!t){var r=de(n,t);if(E(n)&&(V||r>=0))n=_(n,V||".",r)}return n}),[G,de,V]),ve=i.useState((function(){var e=null!=y?y:b;return ue.isInvalidate()&&["string","number"].includes((0,h.Z)(e))?Number.isNaN(e)?"":e:pe(ue.toString(),!1)})),ge=(0,p.Z)(ve,2),me=ge[0],ye=ge[1];function be(e,t){ye(pe(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}he.current=me;var Ce,we,xe,Se,Ee,Ie=i.useMemo((function(){return W(c)}),[c,Z]),Oe=i.useMemo((function(){return W(u)}),[u,Z]),Le=i.useMemo((function(){return!(!Ie||!ue||ue.isInvalidate())&&Ie.lessEquals(ue)}),[Ie,ue]),_e=i.useMemo((function(){return!(!Oe||!ue||ue.isInvalidate())&&ue.lessEquals(Oe)}),[Oe,ue]),Te=(Ce=J.current,we=ne,xe=(0,i.useRef)(null),[function(){try{var e=Ce.selectionStart,t=Ce.selectionEnd,n=Ce.value,r=n.substring(0,e),o=n.substring(t);xe.current={start:e,end:t,value:n,beforeTxt:r,afterTxt:o}}catch(e){}},function(){if(Ce&&xe.current&&we)try{var e=Ce.value,t=xe.current,n=t.beforeTxt,r=t.afterTxt,o=t.start,i=e.length;if(e.endsWith(r))i=e.length-xe.current.afterTxt.length;else if(e.startsWith(n))i=n.length;else{var a=n[o-1],l=e.indexOf(a,o-1);-1!==l&&(i=l+1)}Ce.setSelectionRange(i,i)}catch(e){(0,A.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(e.message))}}]),Me=(0,p.Z)(Te,2),Re=Me[0],Ne=Me[1],Ae=function(e){return Ie&&!e.lessEquals(Ie)?Ie:Oe&&!Oe.lessEquals(e)?Oe:null},De=function(e){return!Ae(e)},Be=function(e,t){var n,r=e,o=De(r)||r.isEmpty();if(r.isEmpty()||t||(r=Ae(r)||r,o=!0),!w&&!C&&o){var i=r.toString(),a=de(i,t);return a>=0&&(r=T(_(i,".",a)),De(r)||(r=T(_(i,".",a,!0)))),r.equals(ue)||(n=r,void 0===b&&ce(n),null==U||U(r.isEmpty()?null:j(F,r)),void 0===b&&be(r,t)),r}return ue},ke=(Se=(0,i.useRef)(0),Ee=function(){k.Z.cancel(Se.current)},(0,i.useEffect)((function(){return Ee}),[]),function(e){Ee(),Se.current=(0,k.Z)((function(){e()}))}),Pe=function e(t){if(Re(),he.current=t,ye(t),!ie.current){var n=fe(t),r=T(n);r.isNaN()||Be(r,!0)}null==Y||Y(t),ke((function(){var n=t;$||(n=t.replace(/。/g,".")),n!==t&&e(n)}))},ze=function(e){var t;if(!(e&&Le||!e&&_e)){oe.current=!1;var n=T(ae.current?z(m):m);e||(n=n.negate());var r=(ue||T(0)).add(n.toString()),o=Be(r,!1);null==q||q(j(F,o),{offset:ae.current?z(m):m,type:e?"up":"down"}),null===(t=J.current)||void 0===t||t.focus()}},Fe=function(e){var t=T(fe(me)),n=t;n=t.isNaN()?Be(ue,e):Be(t,e),void 0!==b?be(ue,!1):n.isNaN()||be(n,!1)};return(0,R.o)((function(){ue.isInvalidate()||be(ue,!1)}),[Z]),(0,R.o)((function(){var e=T(b);ce(e);var t=T(fe(me));e.equals(t)&&oe.current&&!G||be(e,oe.current)}),[b]),(0,R.o)((function(){G&&Ne()}),[me]),i.createElement("div",{className:d()(a,null==B?void 0:B.input,l,(n={},(0,f.Z)(n,"".concat(a,"-focused"),ne),(0,f.Z)(n,"".concat(a,"-disabled"),C),(0,f.Z)(n,"".concat(a,"-readonly"),w),(0,f.Z)(n,"".concat(a,"-not-a-number"),ue.isNaN()),(0,f.Z)(n,"".concat(a,"-out-of-range"),!ue.isInvalidate()&&!De(ue)),n)),style:s,onFocus:function(){re(!0)},onBlur:function(){Fe(!1),re(!1),oe.current=!1},onKeyDown:function(e){var t=e.key,n=e.shiftKey;oe.current=!0,ae.current=n,"Enter"===t&&(ie.current||(oe.current=!1),Fe(!1),null==X||X(e)),!1!==L&&!ie.current&&["Up","ArrowUp","Down","ArrowDown"].includes(t)&&(ze("Up"===t||"ArrowUp"===t),e.preventDefault())},onKeyUp:function(){oe.current=!1,ae.current=!1},onCompositionStart:function(){ie.current=!0},onCompositionEnd:function(){ie.current=!1,Pe(J.current.value)},onBeforeInput:function(){oe.current=!0}},D&&i.createElement(P,{prefixCls:a,upNode:I,downNode:O,upDisabled:Le,downDisabled:_e,onStep:ze}),i.createElement("div",{className:"".concat(Q,"-wrap")},i.createElement("input",(0,o.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":u,"aria-valuemax":c,"aria-valuenow":ue.isInvalidate()?null:ue.toString(),step:m},K,{ref:(0,N.sQ)(J,t),className:Q,value:me,onChange:function(e){Pe(e.target.value)},disabled:C,readOnly:w}))))})),Z=i.forwardRef((function(e,t){var n=e.disabled,r=e.style,a=e.prefixCls,l=e.value,s=e.prefix,u=e.suffix,c=e.addonBefore,d=e.addonAfter,f=e.classes,h=e.className,p=e.classNames,g=(0,v.Z)(e,$),m=i.useRef(null);return i.createElement(M.Q,{inputElement:i.createElement(G,(0,o.Z)({prefixCls:a,disabled:n,classNames:p,ref:(0,N.sQ)(m,t)},g)),className:h,triggerFocus:function(e){m.current&&(0,F.nH)(m.current,e)},prefixCls:a,value:l,disabled:n,style:r,prefix:s,suffix:u,addonAfter:d,addonBefore:c,classes:f,classNames:p,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"}})}));Z.displayName="InputNumber";var V=Z,U=n(9708),Y=n(53124),X=n(94740),q=n(98866),K=n(98675),Q=n(65223),J=n(4173),ee=n(47673),te=n(14747),ne=n(80110),re=n(67968),oe=n(45503);const ie=(e,t)=>{let{componentCls:n,borderRadiusSM:r,borderRadiusLG:o}=e;const i="lg"===t?o:r;return{[`&-${t}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:i,borderEndEndRadius:i},[`${n}-handler-up`]:{borderStartEndRadius:i},[`${n}-handler-down`]:{borderEndEndRadius:i}}}},ae=e=>{const{componentCls:t,lineWidth:n,lineType:r,colorBorder:o,borderRadius:i,fontSizeLG:a,controlHeightLG:l,controlHeightSM:s,colorError:u,paddingInlineSM:c,colorTextDescription:d,motionDurationMid:f,handleHoverColor:h,paddingInline:p,paddingBlock:v,handleBg:g,handleActiveBg:m,colorTextDisabled:y,borderRadiusSM:b,borderRadiusLG:C,controlWidth:w,handleVisible:x,handleBorderColor:S}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,te.Wf)(e)),(0,ee.ik)(e)),(0,ee.bi)(e,t)),{display:"inline-block",width:w,margin:0,padding:0,border:`${n}px ${r} ${o}`,borderRadius:i,"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:a,borderRadius:C,[`input${t}-input`]:{height:l-2*n}},"&-sm":{padding:0,borderRadius:b,[`input${t}-input`]:{height:s-2*n,padding:`0 ${c}px`}},"&:hover":Object.assign({},(0,ee.pU)(e)),"&-focused":Object.assign({},(0,ee.M1)(e)),"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:u}}},"&-group":Object.assign(Object.assign(Object.assign({},(0,te.Wf)(e)),(0,ee.s7)(e)),{"&-wrapper":{display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:C,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:b}},[`${t}-wrapper-disabled > ${t}-group-addon`]:Object.assign({},(0,ee.Xy)(e))}}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},(0,te.Wf)(e)),{width:"100%",padding:`${v}px ${p}px`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:i,outline:0,transition:`all ${f} linear`,appearance:"textfield",fontSize:"inherit"}),(0,ee.nz)(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[t]:Object.assign(Object.assign(Object.assign({[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{opacity:1},[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleWidth,height:"100%",background:g,borderStartStartRadius:0,borderStartEndRadius:i,borderEndEndRadius:i,borderEndStartRadius:0,opacity:!0===x?1:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${f} linear ${f}`,[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`\n              ${t}-handler-up-inner,\n              ${t}-handler-down-inner\n            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:d,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${n}px ${r} ${S}`,transition:`all ${f} linear`,"&:active":{background:m},"&:hover":{height:"60%",[`\n              ${t}-handler-up-inner,\n              ${t}-handler-down-inner\n            `]:{color:h}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},(0,te.Ro)()),{color:d,transition:`all ${f} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:i},[`${t}-handler-down`]:{borderBlockStart:`${n}px ${r} ${S}`,borderEndEndRadius:i}},ie(e,"lg")),ie(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`\n          ${t}-handler-up-disabled,\n          ${t}-handler-down-disabled\n        `]:{cursor:"not-allowed"},[`\n          ${t}-handler-up-disabled:hover &-handler-up-inner,\n          ${t}-handler-down-disabled:hover &-handler-down-inner\n        `]:{color:y}})},{[`${t}-borderless`]:{borderColor:"transparent",boxShadow:"none",[`${t}-handler-down`]:{borderBlockStartWidth:0}}}]},le=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:o,controlWidth:i,borderRadiusLG:a,borderRadiusSM:l}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign(Object.assign({},(0,ee.ik)(e)),(0,ee.bi)(e,`${t}-affix-wrapper`)),{position:"relative",display:"inline-flex",width:i,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:a},"&-sm":{borderRadius:l},[`&:not(${t}-affix-wrapper-disabled):hover`]:Object.assign(Object.assign({},(0,ee.pU)(e)),{zIndex:1}),"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},[`input${t}-input`]:{padding:`${n}px 0`},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:o},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:r,marginInlineStart:o}}})}};var se=(0,re.Z)("InputNumber",(e=>{const t=(0,oe.TS)(e,(0,ee.e5)(e));return[ae(t),le(t),(0,ne.c)(t)]}),(e=>Object.assign(Object.assign({},(0,ee.TM)(e)),{controlWidth:90,handleWidth:e.controlHeightSM-2*e.lineWidth,handleFontSize:e.fontSize/2,handleVisible:"auto",handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder}))),ue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const ce=i.forwardRef(((e,t)=>{const{getPrefixCls:n,direction:o}=i.useContext(Y.E_),a=i.useRef(null);i.useImperativeHandle(t,(()=>a.current));const{className:l,rootClassName:s,size:c,disabled:f,prefixCls:h,addonBefore:p,addonAfter:v,prefix:g,bordered:m=!0,readOnly:y,status:b,controls:C}=e,w=ue(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),x=n("input-number",h),[S,E]=se(x),{compactSize:I,compactItemClassnames:O}=(0,J.ri)(x,o);let L=i.createElement(u,{className:`${x}-handler-up-inner`}),_=i.createElement(r.Z,{className:`${x}-handler-down-inner`});const T="boolean"==typeof C?C:void 0;"object"==typeof C&&(L=void 0===C.upIcon?L:i.createElement("span",{className:`${x}-handler-up-inner`},C.upIcon),_=void 0===C.downIcon?_:i.createElement("span",{className:`${x}-handler-down-inner`},C.downIcon));const{hasFeedback:M,status:R,isFormItemInput:N,feedbackIcon:A}=i.useContext(Q.aM),D=(0,U.F)(R,b),B=(0,K.Z)((e=>{var t;return null!==(t=null!=c?c:I)&&void 0!==t?t:e})),k=i.useContext(q.Z),P=null!=f?f:k,z=d()({[`${x}-lg`]:"large"===B,[`${x}-sm`]:"small"===B,[`${x}-rtl`]:"rtl"===o,[`${x}-borderless`]:!m,[`${x}-in-form-item`]:N},(0,U.Z)(x,D),O,E),F=`${x}-group`;return S(i.createElement(V,Object.assign({ref:a,disabled:P,className:d()(l,s),upHandler:L,downHandler:_,prefixCls:x,readOnly:y,controls:T,prefix:g,suffix:M&&A,addonAfter:v&&i.createElement(J.BR,null,i.createElement(Q.Ux,{override:!0,status:!0},v)),addonBefore:p&&i.createElement(J.BR,null,i.createElement(Q.Ux,{override:!0,status:!0},p)),classNames:{input:z},classes:{affixWrapper:d()((0,U.Z)(`${x}-affix-wrapper`,D,M),{[`${x}-affix-wrapper-sm`]:"small"===B,[`${x}-affix-wrapper-lg`]:"large"===B,[`${x}-affix-wrapper-rtl`]:"rtl"===o,[`${x}-affix-wrapper-borderless`]:!m},E),wrapper:d()({[`${F}-rtl`]:"rtl"===o,[`${x}-wrapper-disabled`]:P},E),group:d()({[`${x}-group-wrapper-sm`]:"small"===B,[`${x}-group-wrapper-lg`]:"large"===B,[`${x}-group-wrapper-rtl`]:"rtl"===o},(0,U.Z)(`${x}-group-wrapper`,D,M),E)}},w)))})),de=ce;de._InternalPanelDoNotUseOrYouWillBeFired=e=>i.createElement(X.ZP,{theme:{components:{InputNumber:{handleVisible:!0}}}},i.createElement(ce,Object.assign({},e)));var fe=de},71338:function(e,t,n){n.d(t,{Z:function(){return J}});var r=n(67294),o=n(94184),i=n.n(o),a=n(4942),l=n(74902),s=n(97685),u=n(71002),c=n(91881),d=n(21770),f=n(87462),h=n(91),p=n(1413),v=n(15105),g=r.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0});function m(e,t,n){return(e-t)/(n-t)}function y(e,t,n,r){var o=m(t,n,r),i={};switch(e){case"rtl":i.right="".concat(100*o,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(100*o,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(100*o,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(100*o,"%"),i.transform="translateX(-50%)"}return i}function b(e,t){return Array.isArray(e)?e[t]:e}var C=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],w=r.forwardRef((function(e,t){var n,o,l=e.prefixCls,s=e.value,u=e.valueIndex,c=e.onStartMove,d=e.style,m=e.render,w=e.dragging,x=e.onOffsetChange,S=(0,h.Z)(e,C),E=r.useContext(g),I=E.min,O=E.max,L=E.direction,_=E.disabled,T=E.keyboard,M=E.range,R=E.tabIndex,N=E.ariaLabelForHandle,A=E.ariaLabelledByForHandle,D=E.ariaValueTextFormatterForHandle,B="".concat(l,"-handle"),k=function(e){_||c(e,u)},P=y(L,s,I,O),z=r.createElement("div",(0,f.Z)({ref:t,className:i()(B,(n={},(0,a.Z)(n,"".concat(B,"-").concat(u+1),M),(0,a.Z)(n,"".concat(B,"-dragging"),w),n)),style:(0,p.Z)((0,p.Z)({},P),d),onMouseDown:k,onTouchStart:k,onKeyDown:function(e){if(!_&&T){var t=null;switch(e.which||e.keyCode){case v.Z.LEFT:t="ltr"===L||"btt"===L?-1:1;break;case v.Z.RIGHT:t="ltr"===L||"btt"===L?1:-1;break;case v.Z.UP:t="ttb"!==L?1:-1;break;case v.Z.DOWN:t="ttb"!==L?-1:1;break;case v.Z.HOME:t="min";break;case v.Z.END:t="max";break;case v.Z.PAGE_UP:t=2;break;case v.Z.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),x(t,u))}},tabIndex:_?null:b(R,u),role:"slider","aria-valuemin":I,"aria-valuemax":O,"aria-valuenow":s,"aria-disabled":_,"aria-label":b(N,u),"aria-labelledby":b(A,u),"aria-valuetext":null===(o=b(D,u))||void 0===o?void 0:o(s),"aria-orientation":"ltr"===L||"rtl"===L?"horizontal":"vertical"},S));return m&&(z=m(z,{index:u,prefixCls:l,value:s,dragging:w})),z}));var x=w,S=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],E=r.forwardRef((function(e,t){var n=e.prefixCls,o=e.style,i=e.onStartMove,a=e.onOffsetChange,l=e.values,s=e.handleRender,u=e.draggingIndex,c=(0,h.Z)(e,S),d=r.useRef({});return r.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=d.current[e])||void 0===t||t.focus()}}})),r.createElement(r.Fragment,null,l.map((function(e,t){return r.createElement(x,(0,f.Z)({ref:function(e){e?d.current[t]=e:delete d.current[t]},dragging:u===t,prefixCls:n,style:b(o,t),key:t,value:e,valueIndex:t,onStartMove:i,onOffsetChange:a,render:s},c))})))}));var I=E;function O(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function L(e){var t,n=e.prefixCls,o=e.style,l=e.start,s=e.end,u=e.index,c=e.onStartMove,d=r.useContext(g),f=d.direction,h=d.min,v=d.max,y=d.disabled,b=d.range,C="".concat(n,"-track"),w=m(l,h,v),x=m(s,h,v),S=function(e){!y&&c&&c(e,-1)},E={};switch(f){case"rtl":E.right="".concat(100*w,"%"),E.width="".concat(100*x-100*w,"%");break;case"btt":E.bottom="".concat(100*w,"%"),E.height="".concat(100*x-100*w,"%");break;case"ttb":E.top="".concat(100*w,"%"),E.height="".concat(100*x-100*w,"%");break;default:E.left="".concat(100*w,"%"),E.width="".concat(100*x-100*w,"%")}return r.createElement("div",{className:i()(C,(t={},(0,a.Z)(t,"".concat(C,"-").concat(u+1),b),(0,a.Z)(t,"".concat(n,"-track-draggable"),c),t)),style:(0,p.Z)((0,p.Z)({},E),o),onMouseDown:S,onTouchStart:S})}function _(e){var t=e.prefixCls,n=e.style,o=e.values,i=e.startPoint,a=e.onStartMove,l=r.useContext(g),s=l.included,u=l.range,c=l.min,d=r.useMemo((function(){if(!u){if(0===o.length)return[];var e=null!=i?i:c,t=o[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<o.length-1;r+=1)n.push({start:o[r],end:o[r+1]});return n}),[o,u,i,c]);return s?d.map((function(e,o){var i=e.start,l=e.end;return r.createElement(L,{index:o,prefixCls:t,style:b(n,o),start:i,end:l,key:o,onStartMove:a})})):null}function T(e){var t=e.prefixCls,n=e.style,o=e.children,l=e.value,s=e.onClick,u=r.useContext(g),c=u.min,d=u.max,f=u.direction,h=u.includedStart,v=u.includedEnd,m=u.included,b="".concat(t,"-text"),C=y(f,l,c,d);return r.createElement("span",{className:i()(b,(0,a.Z)({},"".concat(b,"-active"),m&&h<=l&&l<=v)),style:(0,p.Z)((0,p.Z)({},C),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){s(l)}},o)}function M(e){var t=e.prefixCls,n=e.marks,o=e.onClick,i="".concat(t,"-mark");return n.length?r.createElement("div",{className:i},n.map((function(e){var t=e.value,n=e.style,a=e.label;return r.createElement(T,{key:t,prefixCls:i,style:n,value:t,onClick:o},a)}))):null}function R(e){var t=e.prefixCls,n=e.value,o=e.style,l=e.activeStyle,s=r.useContext(g),u=s.min,c=s.max,d=s.direction,f=s.included,h=s.includedStart,v=s.includedEnd,m="".concat(t,"-dot"),b=f&&h<=n&&n<=v,C=(0,p.Z)((0,p.Z)({},y(d,n,u,c)),"function"==typeof o?o(n):o);return b&&(C=(0,p.Z)((0,p.Z)({},C),"function"==typeof l?l(n):l)),r.createElement("span",{className:i()(m,(0,a.Z)({},"".concat(m,"-active"),b)),style:C})}function N(e){var t=e.prefixCls,n=e.marks,o=e.dots,i=e.style,a=e.activeStyle,l=r.useContext(g),s=l.min,u=l.max,c=l.step,d=r.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),o&&null!==c)for(var t=s;t<=u;)e.add(t),t+=c;return Array.from(e)}),[s,u,c,o,n]);return r.createElement("div",{className:"".concat(t,"-step")},d.map((function(e){return r.createElement(R,{prefixCls:t,key:e,value:e,style:i,activeStyle:a})})))}n(80334);var A=r.forwardRef((function(e,t){var n,o=e.prefixCls,f=void 0===o?"rc-slider":o,h=e.className,p=e.style,v=e.disabled,m=void 0!==v&&v,y=e.keyboard,b=void 0===y||y,C=e.autoFocus,w=e.onFocus,x=e.onBlur,S=e.min,E=void 0===S?0:S,L=e.max,T=void 0===L?100:L,R=e.step,A=void 0===R?1:R,D=e.value,B=e.defaultValue,k=e.range,P=e.count,z=e.onChange,F=e.onBeforeChange,H=e.onAfterChange,$=e.allowCross,j=void 0===$||$,W=e.pushable,G=void 0!==W&&W,Z=e.draggableTrack,V=e.reverse,U=e.vertical,Y=e.included,X=void 0===Y||Y,q=e.startPoint,K=e.trackStyle,Q=e.handleStyle,J=e.railStyle,ee=e.dotStyle,te=e.activeDotStyle,ne=e.marks,re=e.dots,oe=e.handleRender,ie=e.tabIndex,ae=void 0===ie?0:ie,le=e.ariaLabelForHandle,se=e.ariaLabelledByForHandle,ue=e.ariaValueTextFormatterForHandle,ce=r.useRef(),de=r.useRef(),fe=r.useMemo((function(){return U?V?"ttb":"btt":V?"rtl":"ltr"}),[V,U]),he=r.useMemo((function(){return isFinite(E)?E:0}),[E]),pe=r.useMemo((function(){return isFinite(T)?T:100}),[T]),ve=r.useMemo((function(){return null!==A&&A<=0?1:A}),[A]),ge=r.useMemo((function(){return"boolean"==typeof G?!!G&&ve:G>=0&&G}),[G,ve]),me=r.useMemo((function(){return Object.keys(ne||{}).map((function(e){var t=ne[e],n={value:Number(e)};return t&&"object"===(0,u.Z)(t)&&!r.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"==typeof t})).sort((function(e,t){return e.value-t.value}))}),[ne]),ye=function(e,t,n,o,i,a){var s=r.useCallback((function(n){var r=isFinite(n)?n:e;return r=Math.min(t,n),Math.max(e,r)}),[e,t]),u=r.useCallback((function(r){if(null!==n){var o=e+Math.round((s(r)-e)/n)*n,i=function(e){return(String(e).split(".")[1]||"").length},a=Math.max(i(n),i(t),i(e)),l=Number(o.toFixed(a));return e<=l&&l<=t?l:null}return null}),[n,e,t,s]),c=r.useCallback((function(r){var i=s(r),a=o.map((function(e){return e.value}));null!==n&&a.push(u(r)),a.push(e,t);var l=a[0],c=t-e;return a.forEach((function(e){var t=Math.abs(i-e);t<=c&&(l=e,c=t)})),l}),[e,t,o,n,s,u]),d=function r(i,a,s){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof a){var d,f=i[s],h=f+a,p=[];o.forEach((function(e){p.push(e.value)})),p.push(e,t),p.push(u(f));var v=a>0?1:-1;"unit"===c?p.push(u(f+v*n)):p.push(u(h)),p=p.filter((function(e){return null!==e})).filter((function(e){return a<0?e<=f:e>=f})),"unit"===c&&(p=p.filter((function(e){return e!==f})));var g="unit"===c?f:h;d=p[0];var m=Math.abs(d-g);if(p.forEach((function(e){var t=Math.abs(e-g);t<m&&(d=e,m=t)})),void 0===d)return a<0?e:t;if("dist"===c)return d;if(Math.abs(a)>1){var y=(0,l.Z)(i);return y[s]=d,r(y,a-v,s,c)}return d}return"min"===a?e:"max"===a?t:void 0},f=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e[n],i=d(e,t,n,r);return{value:i,changed:i!==o}},h=function(e){return null===a&&0===e||"number"==typeof a&&e<a};return[c,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e.map(c),l=o[n],s=d(o,t,n,r);if(o[n]=s,!1===i){var u=a||0;n>0&&o[n-1]!==l&&(o[n]=Math.max(o[n],o[n-1]+u)),n<o.length-1&&o[n+1]!==l&&(o[n]=Math.min(o[n],o[n+1]-u))}else if("number"==typeof a||null===a){for(var p=n+1;p<o.length;p+=1)for(var v=!0;h(o[p]-o[p-1])&&v;){var g=f(o,1,p);o[p]=g.value,v=g.changed}for(var m=n;m>0;m-=1)for(var y=!0;h(o[m]-o[m-1])&&y;){var b=f(o,-1,m-1);o[m-1]=b.value,y=b.changed}for(var C=o.length-1;C>0;C-=1)for(var w=!0;h(o[C]-o[C-1])&&w;){var x=f(o,-1,C-1);o[C-1]=x.value,w=x.changed}for(var S=0;S<o.length-1;S+=1)for(var E=!0;h(o[S+1]-o[S])&&E;){var I=f(o,1,S+1);o[S+1]=I.value,E=I.changed}}return{value:o[n],values:o}}]}(he,pe,ve,me,j,ge),be=(0,s.Z)(ye,2),Ce=be[0],we=be[1],xe=(0,d.Z)(B,{value:D}),Se=(0,s.Z)(xe,2),Ee=Se[0],Ie=Se[1],Oe=r.useMemo((function(){var e=null==Ee?[]:Array.isArray(Ee)?Ee:[Ee],t=(0,s.Z)(e,1)[0],n=null===Ee?[]:[void 0===t?he:t];if(k){if(n=(0,l.Z)(e),P||void 0===Ee){var r=P>=0?P+1:2;for(n=n.slice(0,r);n.length<r;){var o;n.push(null!==(o=n[n.length-1])&&void 0!==o?o:he)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=Ce(e)})),n}),[Ee,k,he,P,Ce]),Le=r.useRef(Oe);Le.current=Oe;var _e=function(e){return k?e:e[0]},Te=function(e){var t=(0,l.Z)(e).sort((function(e,t){return e-t}));z&&!(0,c.Z)(t,Le.current,!0)&&z(_e(t)),Ie(t)},Me=function(e){if(!m){var t=0,n=pe-he;Oe.forEach((function(r,o){var i=Math.abs(e-r);i<=n&&(n=i,t=o)}));var r=(0,l.Z)(Oe);r[t]=e,k&&!Oe.length&&void 0===P&&r.push(e),null==F||F(_e(r)),Te(r),null==H||H(_e(r))}},Re=r.useState(null),Ne=(0,s.Z)(Re,2),Ae=Ne[0],De=Ne[1];r.useEffect((function(){if(null!==Ae){var e=Oe.indexOf(Ae);e>=0&&ce.current.focus(e)}De(null)}),[Ae]);var Be=r.useMemo((function(){return(!Z||null!==ve)&&Z}),[Z,ve]),ke=function(e,t,n,o,i,a,u,c,d){var f=r.useState(null),h=(0,s.Z)(f,2),p=h[0],v=h[1],g=r.useState(-1),m=(0,s.Z)(g,2),y=m[0],b=m[1],C=r.useState(n),w=(0,s.Z)(C,2),x=w[0],S=w[1],E=r.useState(n),I=(0,s.Z)(E,2),L=I[0],_=I[1],T=r.useRef(null),M=r.useRef(null);r.useEffect((function(){-1===y&&S(n)}),[n,y]),r.useEffect((function(){return function(){document.removeEventListener("mousemove",T.current),document.removeEventListener("mouseup",M.current),document.removeEventListener("touchmove",T.current),document.removeEventListener("touchend",M.current)}}),[]);var R=function(e,t){x.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&v(t),S(e),u(e))},N=function(e,t){if(-1===e){var n=L[0],r=L[L.length-1],s=o-n,u=i-r,c=t*(i-o);c=Math.max(c,s),c=Math.min(c,u);var f=a(n+c);c=f-n;var h=L.map((function(e){return e+c}));R(h)}else{var p=(i-o)*t,v=(0,l.Z)(x);v[e]=L[e];var g=d(v,p,e,"dist");R(g.values,g.value)}},A=r.useRef(N);A.current=N;var D=r.useMemo((function(){var e=(0,l.Z)(n).sort((function(e,t){return e-t})),t=(0,l.Z)(x).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?x:n}),[n,x]);return[y,p,D,function(r,o){r.stopPropagation();var i=n[o];b(o),v(i),_(n);var a=O(r),l=a.pageX,s=a.pageY,u=function(n){n.preventDefault();var r,i=O(n),a=i.pageX,u=i.pageY,c=a-l,d=u-s,f=e.current.getBoundingClientRect(),h=f.width,p=f.height;switch(t){case"btt":r=-d/p;break;case"ttb":r=d/p;break;case"rtl":r=-c/h;break;default:r=c/h}A.current(o,r)},d=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",u),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",u),T.current=null,M.current=null,b(-1),c()};document.addEventListener("mouseup",d),document.addEventListener("mousemove",u),document.addEventListener("touchend",d),document.addEventListener("touchmove",u),T.current=u,M.current=d}]}(de,fe,Oe,he,pe,Ce,Te,(function(){null==H||H(_e(Le.current))}),we),Pe=(0,s.Z)(ke,4),ze=Pe[0],Fe=Pe[1],He=Pe[2],$e=Pe[3],je=function(e,t){$e(e,t),null==F||F(_e(Le.current))},We=-1!==ze;r.useEffect((function(){if(!We){var e=Oe.lastIndexOf(Fe);ce.current.focus(e)}}),[We]);var Ge=r.useMemo((function(){return(0,l.Z)(He).sort((function(e,t){return e-t}))}),[He]),Ze=r.useMemo((function(){return k?[Ge[0],Ge[Ge.length-1]]:[he,Ge[0]]}),[Ge,k,he]),Ve=(0,s.Z)(Ze,2),Ue=Ve[0],Ye=Ve[1];r.useImperativeHandle(t,(function(){return{focus:function(){ce.current.focus(0)},blur:function(){var e=document.activeElement;de.current.contains(e)&&(null==e||e.blur())}}})),r.useEffect((function(){C&&ce.current.focus(0)}),[]);var Xe=r.useMemo((function(){return{min:he,max:pe,direction:fe,disabled:m,keyboard:b,step:ve,included:X,includedStart:Ue,includedEnd:Ye,range:k,tabIndex:ae,ariaLabelForHandle:le,ariaLabelledByForHandle:se,ariaValueTextFormatterForHandle:ue}}),[he,pe,fe,m,b,ve,X,Ue,Ye,k,ae,le,se,ue]);return r.createElement(g.Provider,{value:Xe},r.createElement("div",{ref:de,className:i()(f,h,(n={},(0,a.Z)(n,"".concat(f,"-disabled"),m),(0,a.Z)(n,"".concat(f,"-vertical"),U),(0,a.Z)(n,"".concat(f,"-horizontal"),!U),(0,a.Z)(n,"".concat(f,"-with-marks"),me.length),n)),style:p,onMouseDown:function(e){e.preventDefault();var t,n=de.current.getBoundingClientRect(),r=n.width,o=n.height,i=n.left,a=n.top,l=n.bottom,s=n.right,u=e.clientX,c=e.clientY;switch(fe){case"btt":t=(l-c)/o;break;case"ttb":t=(c-a)/o;break;case"rtl":t=(s-u)/r;break;default:t=(u-i)/r}Me(Ce(he+t*(pe-he)))}},r.createElement("div",{className:"".concat(f,"-rail"),style:J}),r.createElement(_,{prefixCls:f,style:K,values:Ge,startPoint:q,onStartMove:Be?je:null}),r.createElement(N,{prefixCls:f,marks:me,dots:re,style:ee,activeStyle:te}),r.createElement(I,{ref:ce,prefixCls:f,style:Q,values:He,draggingIndex:ze,onStartMove:je,onOffsetChange:function(e,t){if(!m){var n=we(Oe,e,t);null==F||F(_e(Oe)),Te(n.values),null==H||H(_e(n.values)),De(n.value)}},onFocus:w,onBlur:x,handleRender:oe}),r.createElement(M,{prefixCls:f,marks:me,onClick:Me})))}));var D=A,B=n(53124),k=n(98866),P=n(75164),z=n(42550),F=n(61781);var H=r.forwardRef(((e,t)=>{const{open:n}=e,o=(0,r.useRef)(null),i=(0,r.useRef)(null);function a(){P.Z.cancel(i.current),i.current=null}return r.useEffect((()=>(n?i.current=(0,P.Z)((()=>{var e;null===(e=o.current)||void 0===e||e.forceAlign(),i.current=null})):a(),a)),[n,e.title]),r.createElement(F.Z,Object.assign({ref:(0,z.sQ)(o,t)},e))})),$=n(10274),j=n(14747),W=n(67968),G=n(45503);const Z=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:o,marginFull:i,marginPart:a,colorFillContentHover:l}=e;return{[t]:Object.assign(Object.assign({},(0,j.Wf)(e)),{position:"relative",height:r,margin:`${a}px ${i}px`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${i}px ${a}px`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${e.motionDurationMid}`},[`${t}-track`]:{position:"absolute",backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS,transition:`background-color ${e.motionDurationMid}`},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:l},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${e.handleLineWidth}px ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:e.handleSize,height:e.handleSize,outline:"none",[`${t}-dragging`]:{zIndex:1},"&::before":{content:'""',position:"absolute",insetInlineStart:-e.handleLineWidth,insetBlockStart:-e.handleLineWidth,width:e.handleSize+2*e.handleLineWidth,height:e.handleSize+2*e.handleLineWidth,backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:e.handleSize,height:e.handleSize,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${e.handleLineWidth}px ${e.handleColor}`,borderRadius:"50%",cursor:"pointer",transition:`\n            inset-inline-start ${e.motionDurationMid},\n            inset-block-start ${e.motionDurationMid},\n            width ${e.motionDurationMid},\n            height ${e.motionDurationMid},\n            box-shadow ${e.motionDurationMid}\n          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:-((e.handleSizeHover-e.handleSize)/2+e.handleLineWidthHover),insetBlockStart:-((e.handleSizeHover-e.handleSize)/2+e.handleLineWidthHover),width:e.handleSizeHover+2*e.handleLineWidthHover,height:e.handleSizeHover+2*e.handleLineWidthHover},"&::after":{boxShadow:`0 0 0 ${e.handleLineWidthHover}px ${e.handleActiveColor}`,width:e.handleSizeHover,height:e.handleSizeHover,insetInlineStart:(e.handleSize-e.handleSizeHover)/2,insetBlockStart:(e.handleSize-e.handleSizeHover)/2}}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:e.colorBgElevated,border:`${e.handleLineWidth}px solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`\n          ${t}-dot\n        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:e.handleSize,height:e.handleSize,boxShadow:`0 0 0 ${e.handleLineWidth}px ${new $.C(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexShortString()}`,insetInlineStart:0,insetBlockStart:0},[`\n          ${t}-mark-text,\n          ${t}-dot\n        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},V=(e,t)=>{const{componentCls:n,railSize:r,handleSize:o,dotSize:i}=e,a=t?"width":"height",l=t?"height":"width",s=t?"insetBlockStart":"insetInlineStart",u=t?"top":"insetInlineStart",c=(3*r-o)/2,d=(o-r)/2,f=t?{borderWidth:`${d}px 0`,transform:`translateY(-${d}px)`}:{borderWidth:`0 ${d}px`,transform:`translateX(-${d}px)`};return{[t?"paddingBlock":"paddingInline"]:r,[l]:3*r,[`${n}-rail`]:{[a]:"100%",[l]:r},[`${n}-track`]:{[l]:r},[`${n}-track-draggable`]:Object.assign({},f),[`${n}-handle`]:{[s]:c},[`${n}-mark`]:{insetInlineStart:0,top:0,[u]:3*r+(t?0:e.marginFull),[a]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[u]:r,[a]:"100%",[l]:r},[`${n}-dot`]:{position:"absolute",[s]:(r-i)/2}}},U=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},V(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},Y=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},V(e,!1)),{height:"100%"})}};var X=(0,W.Z)("Slider",(e=>{const t=(0,G.TS)(e,{marginPart:(e.controlHeight-e.controlSize)/2,marginFull:e.controlSize/2,marginPartWithMark:e.controlHeightLG-e.controlSize});return[Z(t),U(t),Y(t)]}),(e=>{const t=e.controlHeightLG/4;return{controlSize:t,railSize:4,handleSize:t,handleSizeHover:e.controlHeightSM/2,dotSize:8,handleLineWidth:e.lineWidth+1,handleLineWidthHover:e.lineWidth+3,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:e.colorPrimary,dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}})),q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const K=e=>"number"==typeof e?e.toString():"",Q=r.forwardRef(((e,t)=>{const{prefixCls:n,range:o,className:a,rootClassName:l,style:s,disabled:u,tooltipPrefixCls:c,tipFormatter:d,tooltipVisible:f,getTooltipPopupContainer:h,tooltipPlacement:p}=e,v=q(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement"]),{direction:g,slider:m,getPrefixCls:y,getPopupContainer:b}=r.useContext(B.E_),C=r.useContext(k.Z),w=null!=u?u:C,[x,S]=r.useState({}),E=(e,t)=>{S((n=>Object.assign(Object.assign({},n),{[e]:t})))},I=(e,t)=>e||(t?"rtl"===g?"left":"right":"top"),O=y("slider",n),[L,_]=X(O),T=i()(a,null==m?void 0:m.className,l,{[`${O}-rtl`]:"rtl"===g},_);"rtl"!==g||v.vertical||(v.reverse=!v.reverse);const[M,R]=r.useMemo((()=>o?"object"==typeof o?[!0,o.draggableTrack]:[!0,!1]:[!1]),[o]);const N=Object.assign(Object.assign({},null==m?void 0:m.style),s);return L(r.createElement(D,Object.assign({},v,{step:v.step,range:M,draggableTrack:R,className:T,style:N,disabled:w,ref:t,prefixCls:O,handleRender:(t,n)=>{var o;const{index:i,dragging:a}=n,{tooltip:l={},vertical:s}=e,u=Object.assign({},l),{open:v,placement:g,getPopupContainer:m,prefixCls:C,formatter:w}=u;let S;S=w||null===w?w:d||null===d?d:K;const L=!!S&&(x[i]||a),_=null!==(o=null!=v?v:f)&&void 0!==o?o:void 0===v&&L,T=Object.assign(Object.assign({},t.props),{onMouseEnter:()=>E(i,!0),onMouseLeave:()=>E(i,!1)}),M=y("tooltip",null!=C?C:c);return r.createElement(H,Object.assign({},u,{prefixCls:M,title:S?S(n.value):"",open:_,placement:I(null!=g?g:p,s),key:i,overlayClassName:`${O}-tooltip`,getPopupContainer:m||h||b}),r.cloneElement(t,T))}})))}));var J=Q}}]);