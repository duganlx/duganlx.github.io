"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[435],{8147:function(e,t,n){n.d(t,{dZ:function(){return Hb}});var r=n(14334),o=n(68508),i=n(85418),a=n(2453),l=n(94184),s=n.n(l),u=n(98423),c=n(67294),d=n(53124),h=n(98675),f=n(99559),p=n(48096),v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var g=e=>{var{prefixCls:t,className:n,hoverable:r=!0}=e,o=v(e,["prefixCls","className","hoverable"]);const{getPrefixCls:i}=c.useContext(d.E_),a=i("card",t),l=s()(`${a}-grid`,n,{[`${a}-grid-hoverable`]:r});return c.createElement("div",Object.assign({},o,{className:l}))},m=n(14747),y=n(67968),b=n(45503);const C=e=>{const{antCls:t,componentCls:n,headerHeight:r,cardPaddingBase:o,tabsMarginBottom:i}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${o}px`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},(0,m.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},m.vS),{[`\n          > ${n}-typography,\n          > ${n}-typography-edit-content\n        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:i,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`}}})},x=e=>{const{cardPaddingBase:t,colorBorderSecondary:n,cardShadow:r,lineWidth:o}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`\n      ${o}px 0 0 0 ${n},\n      0 ${o}px 0 0 ${n},\n      ${o}px ${o}px 0 0 ${n},\n      ${o}px 0 0 0 ${n} inset,\n      0 ${o}px 0 0 ${n} inset;\n    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},w=e=>{const{componentCls:t,iconCls:n,actionsLiMargin:r,cardActionsIconSize:o,colorBorderSecondary:i,actionsBg:a}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:a,borderTop:`${e.lineWidth}px ${e.lineType} ${i}`,display:"flex",borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px `},(0,m.dF)()),{"& > li":{margin:r,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:2*e.cardActionsIconSize,fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:e.fontSize*e.lineHeight+"px",transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${n}`]:{fontSize:o,lineHeight:o*e.lineHeight+"px"}},"&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${i}`}}})},S=e=>Object.assign(Object.assign({margin:`-${e.marginXXS}px 0`,display:"flex"},(0,m.dF)()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},m.vS),"&-description":{color:e.colorTextDescription}}),E=e=>{const{componentCls:t,cardPaddingBase:n,colorFillAlter:r}=e;return{[`${t}-head`]:{padding:`0 ${n}px`,background:r,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${e.padding}px ${n}px`}}},O=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},I=e=>{const{antCls:t,componentCls:n,cardShadow:r,cardHeadPadding:o,colorBorderSecondary:i,boxShadowTertiary:a,cardPaddingBase:l,extraColor:s}=e;return{[n]:Object.assign(Object.assign({},(0,m.Wf)(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${n}-bordered)`]:{boxShadow:a},[`${n}-head`]:C(e),[`${n}-extra`]:{marginInlineStart:"auto",color:s,fontWeight:"normal",fontSize:e.fontSize},[`${n}-body`]:Object.assign({padding:l,borderRadius:` 0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},(0,m.dF)()),[`${n}-grid`]:x(e),[`${n}-cover`]:{"> *":{display:"block",width:"100%"},[`img, img + ${t}-image-mask`]:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`}},[`${n}-actions`]:w(e),[`${n}-meta`]:S(e)}),[`${n}-bordered`]:{border:`${e.lineWidth}px ${e.lineType} ${i}`,[`${n}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${n}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:r}},[`${n}-contain-grid`]:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0 `,[`${n}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${n}-loading) ${n}-body`]:{marginBlockStart:-e.lineWidth,marginInlineStart:-e.lineWidth,padding:0}},[`${n}-contain-tabs`]:{[`> ${n}-head`]:{[`${n}-head-title, ${n}-extra`]:{paddingTop:o}}},[`${n}-type-inner`]:E(e),[`${n}-loading`]:O(e),[`${n}-rtl`]:{direction:"rtl"}}},L=e=>{const{componentCls:t,cardPaddingSM:n,headerHeightSM:r,headerFontSizeSM:o}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:r,padding:`0 ${n}px`,fontSize:o,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:n}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{minHeight:r,paddingTop:0,display:"flex",alignItems:"center"}}}}};var _=(0,y.Z)("Card",(e=>{const t=(0,b.TS)(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[I(t),L(t)]}),(e=>({headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+2*e.padding,headerHeightSM:e.fontSize*e.lineHeight+2*e.paddingXS,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText}))),T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const M=c.forwardRef(((e,t)=>{const{prefixCls:n,className:r,rootClassName:o,style:i,extra:a,headStyle:l={},bodyStyle:v={},title:m,loading:y,bordered:b=!0,size:C,type:x,cover:w,actions:S,tabList:E,children:O,activeTabKey:I,defaultActiveTabKey:L,tabBarExtraContent:M,hoverable:R,tabProps:A={}}=e,N=T(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),{getPrefixCls:B,direction:D,card:k}=c.useContext(d.E_),P=c.useMemo((()=>{let e=!1;return c.Children.forEach(O,(t=>{t&&t.type&&t.type===g&&(e=!0)})),e}),[O]),z=B("card",n),[F,H]=_(z),$=c.createElement(f.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1},O),j=void 0!==I,W=Object.assign(Object.assign({},A),{[j?"activeKey":"defaultActiveKey"]:j?I:L,tabBarExtraContent:M});let G;const V=(0,h.Z)(C),U=V&&"default"!==V?V:"large",Z=E?c.createElement(p.Z,Object.assign({size:U},W,{className:`${z}-head-tabs`,onChange:t=>{var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)},items:E.map((e=>{var{tab:t}=e,n=T(e,["tab"]);return Object.assign({label:t},n)}))})):null;(m||a||Z)&&(G=c.createElement("div",{className:`${z}-head`,style:l},c.createElement("div",{className:`${z}-head-wrapper`},m&&c.createElement("div",{className:`${z}-head-title`},m),a&&c.createElement("div",{className:`${z}-extra`},a)),Z));const Y=w?c.createElement("div",{className:`${z}-cover`},w):null,X=c.createElement("div",{className:`${z}-body`,style:v},y?$:O),q=S&&S.length?c.createElement("ul",{className:`${z}-actions`},function(e){return e.map(((t,n)=>c.createElement("li",{style:{width:100/e.length+"%"},key:`action-${n}`},c.createElement("span",null,t))))}(S)):null,K=(0,u.Z)(N,["onTabChange"]),Q=s()(z,null==k?void 0:k.className,{[`${z}-loading`]:y,[`${z}-bordered`]:b,[`${z}-hoverable`]:R,[`${z}-contain-grid`]:P,[`${z}-contain-tabs`]:E&&E.length,[`${z}-${V}`]:V,[`${z}-type-${x}`]:!!x,[`${z}-rtl`]:"rtl"===D},r,o,H),J=Object.assign(Object.assign({},null==k?void 0:k.style),i);return F(c.createElement("div",Object.assign({ref:t},K,{className:Q,style:J}),G,Y,X,q))}));var R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var A=e=>{const{prefixCls:t,className:n,avatar:r,title:o,description:i}=e,a=R(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:l}=c.useContext(d.E_),u=l("card",t),h=s()(`${u}-meta`,n),f=r?c.createElement("div",{className:`${u}-meta-avatar`},r):null,p=o?c.createElement("div",{className:`${u}-meta-title`},o):null,v=i?c.createElement("div",{className:`${u}-meta-description`},i):null,g=p||v?c.createElement("div",{className:`${u}-meta-detail`},p,v):null;return c.createElement("div",Object.assign({},a,{className:h}),f,g)};const N=M;N.Grid=g,N.Meta=A;var B=N,D=n(97183),k=n(74902),P=n(82225),z=n(33603),F=n(65223);function H(e){const[t,n]=c.useState(e);return c.useEffect((()=>{const t=setTimeout((()=>{n(e)}),e.length?0:10);return()=>{clearTimeout(t)}}),[e]),t}var $=n(50438),j=n(33507);var W=e=>{const{componentCls:t}=e,n=`${t}-show-help-item`;return{[`${t}-show-help`]:{transition:`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[n]:{overflow:"hidden",transition:`height ${e.motionDurationSlow} ${e.motionEaseInOut},\n                     opacity ${e.motionDurationSlow} ${e.motionEaseInOut},\n                     transform ${e.motionDurationSlow} ${e.motionEaseInOut} !important`,[`&${n}-appear, &${n}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${n}-leave-active`]:{transform:"translateY(-5px)"}}}}};const G=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},label:{fontSize:e.fontSize},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),V=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},U=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},(0,m.Wf)(e)),G(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},V(e,e.controlHeightSM)),"&-large":Object.assign({},V(e,e.controlHeightLG))})}},Z=e=>{const{formItemCls:t,iconCls:n,componentCls:r,rootPrefixCls:o,labelRequiredMarkColor:i,labelColor:a,labelFontSize:l,labelHeight:s,labelColonMarginInlineStart:u,labelColonMarginInlineEnd:c,itemMarginBottom:d}=e;return{[t]:Object.assign(Object.assign({},(0,m.Wf)(e)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,\n        &-hidden.${o}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:`${e.lineHeight} - 0.25em`,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:s,color:a,fontSize:l,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required:not(${t}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:e.marginXXS,color:i,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${r}-hide-required-mark &`]:{display:"none"}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`${r}-hide-required-mark &`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:u,marginInlineEnd:c},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${o}-col-'"]):not([class*="' ${o}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:$.kr,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},Y=e=>{const{componentCls:t,formItemCls:n}=e;return{[`${t}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},X=e=>{const{componentCls:t,formItemCls:n}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:0,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,\n        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},q=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),K=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:q(e),[t]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},Q=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${t}-vertical`]:{[n]:{"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"},[`${t}-item-control`]:{width:"100%"}}},[`${t}-vertical ${n}-label,\n      .${r}-col-24${n}-label,\n      .${r}-col-xl-24${n}-label`]:q(e),[`@media (max-width: ${e.screenXSMax}px)`]:[K(e),{[t]:{[`.${r}-col-xs-24${n}-label`]:q(e)}}],[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{[`.${r}-col-sm-24${n}-label`]:q(e)}},[`@media (max-width: ${e.screenMDMax}px)`]:{[t]:{[`.${r}-col-md-24${n}-label`]:q(e)}},[`@media (max-width: ${e.screenLGMax}px)`]:{[t]:{[`.${r}-col-lg-24${n}-label`]:q(e)}}}},J=(e,t)=>(0,b.TS)(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t});var ee=(0,y.Z)("Form",((e,t)=>{let{rootPrefixCls:n}=t;const r=J(e,n);return[U(r),Z(r),W(r),Y(r),X(r),Q(r),(0,j.Z)(r),$.kr]}),(e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0})),{order:-1e3});const te=[];function ne(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"==typeof e?e:`${t}-${r}`,error:e,errorStatus:n}}var re=e=>{let{help:t,helpStatus:n,errors:r=te,warnings:o=te,className:i,fieldId:a,onVisibleChanged:l}=e;const{prefixCls:u}=c.useContext(F.Rk),d=`${u}-item-explain`,[,h]=ee(u),f=(0,c.useMemo)((()=>(0,z.Z)(u)),[u]),p=H(r),v=H(o),g=c.useMemo((()=>null!=t?[ne(t,"help",n)]:[].concat((0,k.Z)(p.map(((e,t)=>ne(e,"error","error",t)))),(0,k.Z)(v.map(((e,t)=>ne(e,"warning","warning",t)))))),[t,n,p,v]),m={};return a&&(m.id=`${a}_help`),c.createElement(P.ZP,{motionDeadline:f.motionDeadline,motionName:`${u}-show-help`,visible:!!g.length,onVisibleChanged:l},(e=>{const{className:t,style:n}=e;return c.createElement("div",Object.assign({},m,{className:s()(d,t,i,h),style:n,role:"alert"}),c.createElement(P.V4,Object.assign({keys:g},(0,z.Z)(u),{motionName:`${u}-show-help-item`,component:!1}),(e=>{const{key:t,error:n,errorStatus:r,className:o,style:i}=e;return c.createElement("div",{key:t,className:s()(o,{[`${d}-${r}`]:r}),style:i},n)})))}))},oe=n(43589),ie=n(98866),ae=n(97647);const le=e=>"object"==typeof e&&null!=e&&1===e.nodeType,se=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,ue=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return se(n.overflowY,t)||se(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},ce=(e,t,n,r,o,i,a,l)=>i<e&&a>t||i>e&&a<t?0:i<=e&&l<=n||a>=t&&l>=n?i-e-r:a>t&&l<n||i<e&&l>n?a-t+o:0,de=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},he=(e,t)=>{var n,r,o,i;if("undefined"==typeof document)return[];const{scrollMode:a,block:l,inline:s,boundary:u,skipOverflowHiddenElements:c}=t,d="function"==typeof u?u:e=>e!==u;if(!le(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,f=[];let p=e;for(;le(p)&&d(p);){if(p=de(p),p===h){f.push(p);break}null!=p&&p===document.body&&ue(p)&&!ue(document.documentElement)||null!=p&&ue(p,c)&&f.push(p)}const v=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,g=null!=(i=null==(o=window.visualViewport)?void 0:o.height)?i:innerHeight,{scrollX:m,scrollY:y}=window,{height:b,width:C,top:x,right:w,bottom:S,left:E}=e.getBoundingClientRect();let O="start"===l||"nearest"===l?x:"end"===l?S:x+b/2,I="center"===s?E+C/2:"end"===s?w:E;const L=[];for(let e=0;e<f.length;e++){const t=f[e],{height:n,width:r,top:o,right:i,bottom:u,left:c}=t.getBoundingClientRect();if("if-needed"===a&&x>=0&&E>=0&&S<=g&&w<=v&&x>=o&&S<=u&&E>=c&&w<=i)return L;const d=getComputedStyle(t),p=parseInt(d.borderLeftWidth,10),_=parseInt(d.borderTopWidth,10),T=parseInt(d.borderRightWidth,10),M=parseInt(d.borderBottomWidth,10);let R=0,A=0;const N="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-T:0,B="offsetHeight"in t?t.offsetHeight-t.clientHeight-_-M:0,D="offsetWidth"in t?0===t.offsetWidth?0:r/t.offsetWidth:0,k="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(h===t)R="start"===l?O:"end"===l?O-g:"nearest"===l?ce(y,y+g,g,_,M,y+O,y+O+b,b):O-g/2,A="start"===s?I:"center"===s?I-v/2:"end"===s?I-v:ce(m,m+v,v,p,T,m+I,m+I+C,C),R=Math.max(0,R+y),A=Math.max(0,A+m);else{R="start"===l?O-o-_:"end"===l?O-u+M+B:"nearest"===l?ce(o,u,n,_,M+B,O,O+b,b):O-(o+n/2)+B/2,A="start"===s?I-c-p:"center"===s?I-(c+r/2)+N/2:"end"===s?I-i+T+N:ce(c,i,r,p,T+N,I,I+C,C);const{scrollLeft:e,scrollTop:a}=t;R=Math.max(0,Math.min(a+R/k,t.scrollHeight-n/k+B)),A=Math.max(0,Math.min(e+A/D,t.scrollWidth-r/D+N)),O+=a-R,I+=e-A}L.push({el:t,top:R,left:A})}return L};function fe(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(he(e,t));const r="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:o,top:i,left:a}of he(e,(e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"})(t))){const e=i-n.top+n.bottom,t=a-n.left+n.right;o.scroll({top:e,left:t,behavior:r})}}const pe=["parentNode"];function ve(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function ge(e,t){if(!e.length)return;const n=e.join("_");if(t)return`${t}_${n}`;return pe.includes(n)?`form_item_${n}`:n}function me(e,t,n,r,o,i){let a=r;return void 0!==i?a=i:n.validating?a="validating":e.length?a="error":t.length?a="warning":(n.touched||o&&n.validated)&&(a="success"),a}function ye(e){return ve(e).join("_")}function be(e){const[t]=(0,oe.cI)(),n=c.useRef({}),r=c.useMemo((()=>null!=e?e:Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:e=>t=>{const r=ye(e);t?n.current[r]=t:delete n.current[r]}},scrollToField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ve(e),o=ge(n,r.__INTERNAL__.name),i=o?document.getElementById(o):null;i&&fe(i,Object.assign({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:e=>{const t=ye(e);return n.current[t]}})),[e,t]);return[r]}var Ce=n(37920),xe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const we=(e,t)=>{const n=c.useContext(ie.Z),{getPrefixCls:r,direction:o,form:i}=c.useContext(d.E_),{prefixCls:a,className:l,rootClassName:u,size:f,disabled:p=n,form:v,colon:g,labelAlign:m,labelWrap:y,labelCol:b,wrapperCol:C,hideRequiredMark:x,layout:w="horizontal",scrollToFirstError:S,requiredMark:E,onFinishFailed:O,name:I,style:L,feedbackIcons:_}=e,T=xe(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons"]),M=(0,h.Z)(f),R=c.useContext(Ce.Z);const A=(0,c.useMemo)((()=>void 0!==E?E:i&&void 0!==i.requiredMark?i.requiredMark:!x),[x,E,i]),N=null!=g?g:null==i?void 0:i.colon,B=r("form",a),[D,k]=ee(B),P=s()(B,`${B}-${w}`,{[`${B}-hide-required-mark`]:!1===A,[`${B}-rtl`]:"rtl"===o,[`${B}-${M}`]:M},k,null==i?void 0:i.className,l,u),[z]=be(v),{__INTERNAL__:H}=z;H.name=I;const $=(0,c.useMemo)((()=>({name:I,labelAlign:m,labelCol:b,labelWrap:y,wrapperCol:C,vertical:"vertical"===w,colon:N,requiredMark:A,itemRef:H.itemRef,form:z,feedbackIcons:_})),[I,m,b,C,w,N,A,z,_]);c.useImperativeHandle(t,(()=>z));const j=(e,t)=>{if(e){let n={block:"nearest"};"object"==typeof e&&(n=e),z.scrollToField(t,n)}};return D(c.createElement(ie.n,{disabled:p},c.createElement(ae.q,{size:M},c.createElement(F.RV,Object.assign({},{validateMessages:R}),c.createElement(F.q3.Provider,{value:$},c.createElement(oe.ZP,Object.assign({id:I},T,{name:I,onFinishFailed:e=>{if(null==O||O(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==S)return void j(S,t);i&&void 0!==i.scrollToFirstError&&j(i.scrollToFirstError,t)}},form:z,style:Object.assign(Object.assign({},null==i?void 0:i.style),L),className:P})))))))};var Se=c.forwardRef(we),Ee=n(30470),Oe=n(42550),Ie=n(96159),Le=n(27288),_e=n(50344);const Te=()=>{const{status:e,errors:t=[],warnings:n=[]}=(0,c.useContext)(F.aM);return{status:e,errors:t,warnings:n}};Te.Context=F.aM;var Me=Te,Re=n(75164);var Ae=n(5110),Ne=n(8410),Be=n(74443);var De=(0,c.createContext)({});const ke=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Pe=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},ze=(e,t)=>((e,t)=>{const{componentCls:n,gridColumns:r}=e,o={};for(let e=r;e>=0;e--)0===e?(o[`${n}${t}-${e}`]={display:"none"},o[`${n}-push-${e}`]={insetInlineStart:"auto"},o[`${n}-pull-${e}`]={insetInlineEnd:"auto"},o[`${n}${t}-push-${e}`]={insetInlineStart:"auto"},o[`${n}${t}-pull-${e}`]={insetInlineEnd:"auto"},o[`${n}${t}-offset-${e}`]={marginInlineStart:0},o[`${n}${t}-order-${e}`]={order:0}):(o[`${n}${t}-${e}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${e/r*100}%`,maxWidth:e/r*100+"%"}],o[`${n}${t}-push-${e}`]={insetInlineStart:e/r*100+"%"},o[`${n}${t}-pull-${e}`]={insetInlineEnd:e/r*100+"%"},o[`${n}${t}-offset-${e}`]={marginInlineStart:e/r*100+"%"},o[`${n}${t}-order-${e}`]={order:e});return o})(e,t),Fe=(0,y.Z)("Grid",(e=>[ke(e)])),He=(0,y.Z)("Grid",(e=>{const t=(0,b.TS)(e,{gridColumns:24}),n={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[Pe(t),ze(t,""),ze(t,"-xs"),Object.keys(n).map((e=>((e,t,n)=>({[`@media (min-width: ${t}px)`]:Object.assign({},ze(e,n))}))(t,n[e],e))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})]}));var $e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function je(e,t){const[n,r]=c.useState("string"==typeof e?e:"");return c.useEffect((()=>{(()=>{if("string"==typeof e&&r(e),"object"==typeof e)for(let n=0;n<Be.c4.length;n++){const o=Be.c4[n];if(!t[o])continue;const i=e[o];if(void 0!==i)return void r(i)}})()}),[JSON.stringify(e),t]),n}const We=c.forwardRef(((e,t)=>{const{prefixCls:n,justify:r,align:o,className:i,style:a,children:l,gutter:u=0,wrap:h}=e,f=$e(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:p,direction:v}=c.useContext(d.E_),[g,m]=c.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[y,b]=c.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),C=je(o,y),x=je(r,y),w=c.useRef(u),S=(0,Be.ZP)();c.useEffect((()=>{const e=S.subscribe((e=>{b(e);const t=w.current||0;(!Array.isArray(t)&&"object"==typeof t||Array.isArray(t)&&("object"==typeof t[0]||"object"==typeof t[1]))&&m(e)}));return()=>S.unsubscribe(e)}),[]);const E=p("row",n),[O,I]=Fe(E),L=(()=>{const e=[void 0,void 0];return(Array.isArray(u)?u:[u,void 0]).forEach(((t,n)=>{if("object"==typeof t)for(let r=0;r<Be.c4.length;r++){const o=Be.c4[r];if(g[o]&&void 0!==t[o]){e[n]=t[o];break}}else e[n]=t})),e})(),_=s()(E,{[`${E}-no-wrap`]:!1===h,[`${E}-${x}`]:x,[`${E}-${C}`]:C,[`${E}-rtl`]:"rtl"===v},i,I),T={},M=null!=L[0]&&L[0]>0?L[0]/-2:void 0;M&&(T.marginLeft=M,T.marginRight=M),[,T.rowGap]=L;const[R,A]=L,N=c.useMemo((()=>({gutter:[R,A],wrap:h})),[R,A,h]);return O(c.createElement(De.Provider,{value:N},c.createElement("div",Object.assign({},f,{className:_,style:Object.assign(Object.assign({},T),a),ref:t}),l)))}));var Ge=We,Ve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Ue=["xs","sm","md","lg","xl","xxl"],Ze=c.forwardRef(((e,t)=>{const{getPrefixCls:n,direction:r}=c.useContext(d.E_),{gutter:o,wrap:i}=c.useContext(De),{prefixCls:a,span:l,order:u,offset:h,push:f,pull:p,className:v,children:g,flex:m,style:y}=e,b=Ve(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),C=n("col",a),[x,w]=He(C);let S={};Ue.forEach((t=>{let n={};const o=e[t];"number"==typeof o?n.span=o:"object"==typeof o&&(n=o||{}),delete b[t],S=Object.assign(Object.assign({},S),{[`${C}-${t}-${n.span}`]:void 0!==n.span,[`${C}-${t}-order-${n.order}`]:n.order||0===n.order,[`${C}-${t}-offset-${n.offset}`]:n.offset||0===n.offset,[`${C}-${t}-push-${n.push}`]:n.push||0===n.push,[`${C}-${t}-pull-${n.pull}`]:n.pull||0===n.pull,[`${C}-${t}-flex-${n.flex}`]:n.flex||"auto"===n.flex,[`${C}-rtl`]:"rtl"===r})}));const E=s()(C,{[`${C}-${l}`]:void 0!==l,[`${C}-order-${u}`]:u,[`${C}-offset-${h}`]:h,[`${C}-push-${f}`]:f,[`${C}-pull-${p}`]:p},v,S,w),O={};if(o&&o[0]>0){const e=o[0]/2;O.paddingLeft=e,O.paddingRight=e}return m&&(O.flex=function(e){return"number"==typeof e?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}(m),!1!==i||O.minWidth||(O.minWidth=0)),x(c.createElement("div",Object.assign({},b,{style:Object.assign(Object.assign({},O),y),className:E,ref:t}),g))}));var Ye=Ze;const Xe=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}};var qe=(0,y.b)(["Form","item-item"],((e,t)=>{let{rootPrefixCls:n}=t;const r=J(e,n);return[Xe(r)]}));var Ke=e=>{const{prefixCls:t,status:n,wrapperCol:r,children:o,errors:i,warnings:a,_internalItemRender:l,extra:u,help:d,fieldId:h,marginBottom:f,onErrorVisibleChanged:p}=e,v=`${t}-item`,g=c.useContext(F.q3),m=r||g.wrapperCol||{},y=s()(`${v}-control`,m.className),b=c.useMemo((()=>Object.assign({},g)),[g]);delete b.labelCol,delete b.wrapperCol;const C=c.createElement("div",{className:`${v}-control-input`},c.createElement("div",{className:`${v}-control-input-content`},o)),x=c.useMemo((()=>({prefixCls:t,status:n})),[t,n]),w=null!==f||i.length||a.length?c.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},c.createElement(F.Rk.Provider,{value:x},c.createElement(re,{fieldId:h,errors:i,warnings:a,help:d,helpStatus:n,className:`${v}-explain-connected`,onVisibleChanged:p})),!!f&&c.createElement("div",{style:{width:0,height:f}})):null,S={};h&&(S.id=`${h}_extra`);const E=u?c.createElement("div",Object.assign({},S,{className:`${v}-extra`}),u):null,O=l&&"pro_table_render"===l.mark&&l.render?l.render(e,{input:C,errorList:w,extra:E}):c.createElement(c.Fragment,null,C,w,E);return c.createElement(F.q3.Provider,{value:b},c.createElement(Ye,Object.assign({},m,{className:y}),O),c.createElement(qe,{prefixCls:t}))},Qe=n(87462),Je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},et=n(93771),tt=function(e,t){return c.createElement(et.Z,(0,Qe.Z)({},e,{ref:t,icon:Je}))};var nt=c.forwardRef(tt),rt=n(24457),ot=n(10110),it=n(61781),at=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var lt=e=>{let{prefixCls:t,label:n,htmlFor:r,labelCol:o,labelAlign:i,colon:a,required:l,requiredMark:u,tooltip:d}=e;var h;const[f]=(0,ot.Z)("Form"),{vertical:p,labelAlign:v,labelCol:g,labelWrap:m,colon:y}=c.useContext(F.q3);if(!n)return null;const b=o||g||{},C=i||v,x=`${t}-item-label`,w=s()(x,"left"===C&&`${x}-left`,b.className,{[`${x}-wrap`]:!!m});let S=n;const E=!0===a||!1!==y&&!1!==a;E&&!p&&"string"==typeof n&&""!==n.trim()&&(S=n.replace(/[:|：]\s*$/,""));const O=function(e){return e?"object"!=typeof e||c.isValidElement(e)?{title:e}:e:null}(d);if(O){const{icon:e=c.createElement(nt,null)}=O,n=at(O,["icon"]),r=c.createElement(it.Z,Object.assign({},n),c.cloneElement(e,{className:`${t}-item-tooltip`,title:""}));S=c.createElement(c.Fragment,null,S,r)}const I="optional"===u,L="function"==typeof u;L?S=u(S,{required:!!l}):I&&!l&&(S=c.createElement(c.Fragment,null,S,c.createElement("span",{className:`${t}-item-optional`,title:""},(null==f?void 0:f.optional)||(null===(h=rt.Z.Form)||void 0===h?void 0:h.optional))));const _=s()({[`${t}-item-required`]:l,[`${t}-item-required-mark-optional`]:I||L,[`${t}-item-no-colon`]:!E});return c.createElement(Ye,Object.assign({},b,{className:w}),c.createElement("label",{htmlFor:r,className:_,title:"string"==typeof n?n:""},S))},st=n(76278),ut=n(41322),ct=n(26702),dt=n(22508);const ht={success:st.Z,warning:ct.Z,error:ut.Z,validating:dt.Z};function ft(e){let{children:t,errors:n,warnings:r,hasFeedback:o,validateStatus:i,prefixCls:a,meta:l,noStyle:u}=e;const d=`${a}-item`,{feedbackIcons:h}=c.useContext(F.q3),f=me(n,r,l,null,!!o,i),{isFormItemInput:p,status:v}=c.useContext(F.aM),g=c.useMemo((()=>{var e;let t;if(o){const i=!0!==o&&o.icons||h,a=f&&(null===(e=null==i?void 0:i({status:f,errors:n,warnings:r}))||void 0===e?void 0:e[f]),l=f&&ht[f];t=!1!==a&&l?c.createElement("span",{className:s()(`${d}-feedback-icon`,`${d}-feedback-icon-${f}`)},a||c.createElement(l,null)):null}let i=!0,a=f||"";return u&&(i=p,a=(null!=f?f:v)||""),{status:a,errors:n,warnings:r,hasFeedback:!!o,feedbackIcon:t,isFormItemInput:i}}),[f,o,u,p,v]);return c.createElement(F.aM.Provider,{value:g},t)}var pt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function vt(e){const{prefixCls:t,className:n,rootClassName:r,style:o,help:i,errors:a,warnings:l,validateStatus:d,meta:h,hasFeedback:f,hidden:p,children:v,fieldId:g,required:m,isRequired:y,onSubItemMetaChange:b}=e,C=pt(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange"]),x=`${t}-item`,{requiredMark:w}=c.useContext(F.q3),S=c.useRef(null),E=H(a),O=H(l),I=null!=i,L=!!(I||a.length||l.length),_=!!S.current&&(0,Ae.Z)(S.current),[T,M]=c.useState(null);(0,Ne.Z)((()=>{if(L&&S.current){const e=getComputedStyle(S.current);M(parseInt(e.marginBottom,10))}}),[L,_]);const R=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=e?E:h.errors,n=e?O:h.warnings;return me(t,n,h,"",!!f,d)}(),A=s()(x,n,r,{[`${x}-with-help`]:I||E.length||O.length,[`${x}-has-feedback`]:R&&f,[`${x}-has-success`]:"success"===R,[`${x}-has-warning`]:"warning"===R,[`${x}-has-error`]:"error"===R,[`${x}-is-validating`]:"validating"===R,[`${x}-hidden`]:p});return c.createElement("div",{className:A,style:o,ref:S},c.createElement(Ge,Object.assign({className:`${x}-row`},(0,u.Z)(C,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),c.createElement(lt,Object.assign({htmlFor:g},e,{requiredMark:w,required:null!=m?m:y,prefixCls:t})),c.createElement(Ke,Object.assign({},e,h,{errors:E,warnings:O,prefixCls:t,status:R,help:i,marginBottom:T,onErrorVisibleChanged:e=>{e||M(null)}}),c.createElement(F.qI.Provider,{value:b},c.createElement(ft,{prefixCls:t,meta:h,errors:h.errors,warnings:h.warnings,hasFeedback:f,validateStatus:R},v)))),!!T&&c.createElement("div",{className:`${x}-margin-offset`,style:{marginBottom:-T}}))}const gt=c.memo((e=>{let{children:t}=e;return t}),((e,t)=>e.value===t.value&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every(((e,n)=>e===t.childProps[n]))));const mt=function(e){const{name:t,noStyle:n,className:r,dependencies:o,prefixCls:i,shouldUpdate:a,rules:l,children:u,required:h,label:f,messageVariables:p,trigger:v="onChange",validateTrigger:g,hidden:m,help:y}=e,{getPrefixCls:b}=c.useContext(d.E_),{name:C}=c.useContext(F.q3),x=function(e){if("function"==typeof e)return e;const t=(0,_e.Z)(e);return t.length<=1?t[0]:t}(u),w="function"==typeof x,S=c.useContext(F.qI),{validateTrigger:E}=c.useContext(oe.zb),O=void 0!==g?g:E,I=!(null==t),L=b("form",i),[_,T]=ee(L);(0,Le.ln)("Form.Item");const M=c.useContext(oe.ZM),R=c.useRef(),[A,N]=function(e){const[t,n]=c.useState(e),r=(0,c.useRef)(null),o=(0,c.useRef)([]),i=(0,c.useRef)(!1);return c.useEffect((()=>(i.current=!1,()=>{i.current=!0,Re.Z.cancel(r.current),r.current=null})),[]),[t,function(e){i.current||(null===r.current&&(o.current=[],r.current=(0,Re.Z)((()=>{r.current=null,n((e=>{let t=e;return o.current.forEach((e=>{t=e(t)})),t}))}))),o.current.push(e))}]}({}),[B,D]=(0,Ee.Z)((()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}))),P=(e,t)=>{N((n=>{const r=Object.assign({},n),o=[].concat((0,k.Z)(e.name.slice(0,-1)),(0,k.Z)(t)).join("__SPLIT__");return e.destroy?delete r[o]:r[o]=e,r}))},[z,H]=c.useMemo((()=>{const e=(0,k.Z)(B.errors),t=(0,k.Z)(B.warnings);return Object.values(A).forEach((n=>{e.push.apply(e,(0,k.Z)(n.errors||[])),t.push.apply(t,(0,k.Z)(n.warnings||[]))})),[e,t]}),[A,B.errors,B.warnings]),$=function(){const{itemRef:e}=c.useContext(F.q3),t=c.useRef({});return function(n,r){const o=r&&"object"==typeof r&&r.ref,i=n.join("_");return t.current.name===i&&t.current.originRef===o||(t.current.name=i,t.current.originRef=o,t.current.ref=(0,Oe.sQ)(e(n),o)),t.current.ref}}();function j(t,o,i){return n&&!m?c.createElement(ft,{prefixCls:L,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:B,errors:z,warnings:H,noStyle:!0},t):c.createElement(vt,Object.assign({key:"row"},e,{className:s()(r,T),prefixCls:L,fieldId:o,isRequired:i,errors:z,warnings:H,meta:B,onSubItemMetaChange:P}),t)}if(!I&&!w&&!o)return _(j(x));let W={};return"string"==typeof f?W.label=f:t&&(W.label=String(t)),p&&(W=Object.assign(Object.assign({},W),p)),_(c.createElement(oe.gN,Object.assign({},e,{messageVariables:W,trigger:v,validateTrigger:O,onMetaChange:e=>{const t=null==M?void 0:M.getKey(e.name);if(D(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),n&&!1!==y&&S){let n=e.name;if(e.destroy)n=R.current||n;else if(void 0!==t){const[e,r]=t;n=[e].concat((0,k.Z)(r)),R.current=n}S(e,n)}}}),((n,r,i)=>{const s=ve(t).length&&r?r.name:[],u=ge(s,C),d=void 0!==h?h:!(!l||!l.some((e=>{if(e&&"object"==typeof e&&e.required&&!e.warningOnly)return!0;if("function"==typeof e){const t=e(i);return t&&t.required&&!t.warningOnly}return!1}))),f=Object.assign({},n);let p=null;if(Array.isArray(x)&&I)p=x;else if(w&&(!a&&!o||I));else if(!o||w||I)if((0,Ie.l$)(x)){const t=Object.assign(Object.assign({},x.props),f);if(t.id||(t.id=u),y||z.length>0||H.length>0||e.extra){const n=[];(y||z.length>0)&&n.push(`${u}_help`),e.extra&&n.push(`${u}_extra`),t["aria-describedby"]=n.join(" ")}z.length>0&&(t["aria-invalid"]="true"),d&&(t["aria-required"]="true"),(0,Oe.Yr)(x)&&(t.ref=$(s,x));new Set([].concat((0,k.Z)(ve(v)),(0,k.Z)(ve(O)))).forEach((e=>{t[e]=function(){for(var t,n,r,o,i,a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];null===(r=f[e])||void 0===r||(t=r).call.apply(t,[f].concat(l)),null===(i=(o=x.props)[e])||void 0===i||(n=i).call.apply(n,[o].concat(l))}}));const n=[t["aria-required"],t["aria-invalid"],t["aria-describedby"]];p=c.createElement(gt,{value:f[e.valuePropName||"value"],update:x,childProps:n},(0,Ie.Tm)(x,t))}else p=w&&(a||o)&&!I?x(i):x;else;return j(p,u,d)})))};mt.useStatus=Me;var yt=mt,bt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var Ct=e=>{var{prefixCls:t,children:n}=e,r=bt(e,["prefixCls","children"]);const{getPrefixCls:o}=c.useContext(d.E_),i=o("form",t),a=c.useMemo((()=>({prefixCls:i,status:"error"})),[i]);return c.createElement(oe.aV,Object.assign({},r),((e,t,r)=>c.createElement(F.Rk.Provider,{value:a},n(e.map((e=>Object.assign(Object.assign({},e),{fieldKey:e.key}))),t,{errors:r.errors,warnings:r.warnings}))))};const xt=Se;xt.Item=yt,xt.List=Ct,xt.ErrorList=re,xt.useForm=be,xt.useFormInstance=function(){const{form:e}=(0,c.useContext)(F.q3);return e},xt.useWatch=oe.qo,xt.Provider=F.RV,xt.create=()=>{};var wt=xt,St=n(83863),Et=n(62946),Ot=n(68843),It=n(97685),Lt=n(91),_t=n(4942),Tt=n(1413),Mt=n(71002),Rt=n(21770),At=n(80334),Nt=n(31131),Bt=n(15105),Dt=function(e){var t,n=e.className,r=e.customizeIcon,o=e.customizeIconProps,i=e.onMouseDown,a=e.onClick,l=e.children;return t="function"==typeof r?r(o):r,c.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),i&&i(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==t?t:c.createElement("span",{className:s()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},l))};var kt=c.createContext(null);function Pt(){return c.useContext(kt)}function zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=c.useRef(null),n=c.useRef(null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return c.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var Ft=n(64217),Ht=n(39983),$t=function(e,t){var n,r,o=e.prefixCls,i=e.id,a=e.inputElement,l=e.disabled,u=e.tabIndex,d=e.autoFocus,h=e.autoComplete,f=e.editable,p=e.activeDescendantId,v=e.value,g=e.maxLength,m=e.onKeyDown,y=e.onMouseDown,b=e.onChange,C=e.onPaste,x=e.onCompositionStart,w=e.onCompositionEnd,S=e.open,E=e.attrs,O=a||c.createElement("input",null),I=O,L=I.ref,_=I.props,T=_.onKeyDown,M=_.onChange,R=_.onMouseDown,A=_.onCompositionStart,N=_.onCompositionEnd,B=_.style;return(0,At.Kp)(!("maxLength"in O.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),O=c.cloneElement(O,(0,Tt.Z)((0,Tt.Z)((0,Tt.Z)({type:"search"},_),{},{id:i,ref:(0,Oe.sQ)(t,L),disabled:l,tabIndex:u,autoComplete:h||"off",autoFocus:d,className:s()("".concat(o,"-selection-search-input"),null===(n=O)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),role:"combobox","aria-label":"Search","aria-expanded":S||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":S?p:void 0},E),{},{value:f?v:"",maxLength:g,readOnly:!f,unselectable:f?null:"on",style:(0,Tt.Z)((0,Tt.Z)({},B),{},{opacity:f?null:0}),onKeyDown:function(e){m(e),T&&T(e)},onMouseDown:function(e){y(e),R&&R(e)},onChange:function(e){b(e),M&&M(e)},onCompositionStart:function(e){x(e),A&&A(e)},onCompositionEnd:function(e){w(e),N&&N(e)},onPaste:C}))},jt=c.forwardRef($t);jt.displayName="Input";var Wt=jt;function Gt(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var Vt="undefined"!=typeof window&&window.document&&window.document.documentElement;function Ut(e){return["string","number"].includes((0,Mt.Z)(e))}function Zt(e){var t=void 0;return e&&(Ut(e.title)?t=e.title.toString():Ut(e.label)&&(t=e.label.toString())),t}function Yt(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var Xt=function(e){e.preventDefault(),e.stopPropagation()},qt=function(e){var t,n,r=e.id,o=e.prefixCls,i=e.values,a=e.open,l=e.searchValue,u=e.autoClearSearchValue,d=e.inputRef,h=e.placeholder,f=e.disabled,p=e.mode,v=e.showSearch,g=e.autoFocus,m=e.autoComplete,y=e.activeDescendantId,b=e.tabIndex,C=e.removeIcon,x=e.maxTagCount,w=e.maxTagTextLength,S=e.maxTagPlaceholder,E=void 0===S?function(e){return"+ ".concat(e.length," ...")}:S,O=e.tagRender,I=e.onToggleOpen,L=e.onRemove,_=e.onInputChange,T=e.onInputPaste,M=e.onInputKeyDown,R=e.onInputMouseDown,A=e.onInputCompositionStart,N=e.onInputCompositionEnd,B=c.useRef(null),D=(0,c.useState)(0),k=(0,It.Z)(D,2),P=k[0],z=k[1],F=(0,c.useState)(!1),H=(0,It.Z)(F,2),$=H[0],j=H[1],W="".concat(o,"-selection"),G=a||"multiple"===p&&!1===u||"tags"===p?l:"",V="tags"===p||"multiple"===p&&!1===u||v&&(a||$);function U(e,t,n,r,o){return c.createElement("span",{className:s()("".concat(W,"-item"),(0,_t.Z)({},"".concat(W,"-item-disabled"),n)),title:Zt(e)},c.createElement("span",{className:"".concat(W,"-item-content")},t),r&&c.createElement(Dt,{className:"".concat(W,"-item-remove"),onMouseDown:Xt,onClick:o,customizeIcon:C},"×"))}t=function(){z(B.current.scrollWidth)},n=[G],Vt?c.useLayoutEffect(t,n):c.useEffect(t,n);var Z=c.createElement("div",{className:"".concat(W,"-search"),style:{width:P},onFocus:function(){j(!0)},onBlur:function(){j(!1)}},c.createElement(Wt,{ref:d,open:a,prefixCls:o,id:r,inputElement:null,disabled:f,autoFocus:g,autoComplete:m,editable:V,activeDescendantId:y,value:G,onKeyDown:M,onMouseDown:R,onChange:_,onPaste:T,onCompositionStart:A,onCompositionEnd:N,tabIndex:b,attrs:(0,Ft.Z)(e,!0)}),c.createElement("span",{ref:B,className:"".concat(W,"-search-mirror"),"aria-hidden":!0},G," ")),Y=c.createElement(Ht.Z,{prefixCls:"".concat(W,"-overflow"),data:i,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,o=!f&&!t,i=n;if("number"==typeof w&&("string"==typeof n||"number"==typeof n)){var l=String(i);l.length>w&&(i="".concat(l.slice(0,w),"..."))}var s=function(t){t&&t.stopPropagation(),L(e)};return"function"==typeof O?function(e,t,n,r,o){return c.createElement("span",{onMouseDown:function(e){Xt(e),I(!a)}},O({label:t,value:e,disabled:n,closable:r,onClose:o}))}(r,i,t,o,s):U(e,i,t,o,s)},renderRest:function(e){var t="function"==typeof E?E(e):E;return U({title:t},t,!1)},suffix:Z,itemKey:Yt,maxCount:x});return c.createElement(c.Fragment,null,Y,!i.length&&!G&&c.createElement("span",{className:"".concat(W,"-placeholder")},h))},Kt=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,o=e.inputRef,i=e.disabled,a=e.autoFocus,l=e.autoComplete,s=e.activeDescendantId,u=e.mode,d=e.open,h=e.values,f=e.placeholder,p=e.tabIndex,v=e.showSearch,g=e.searchValue,m=e.activeValue,y=e.maxLength,b=e.onInputKeyDown,C=e.onInputMouseDown,x=e.onInputChange,w=e.onInputPaste,S=e.onInputCompositionStart,E=e.onInputCompositionEnd,O=e.title,I=c.useState(!1),L=(0,It.Z)(I,2),_=L[0],T=L[1],M="combobox"===u,R=M||v,A=h[0],N=g||"";M&&m&&!_&&(N=m),c.useEffect((function(){M&&T(!1)}),[M,m]);var B=!("combobox"!==u&&!d&&!v)&&!!N,D=void 0===O?Zt(A):O;return c.createElement(c.Fragment,null,c.createElement("span",{className:"".concat(n,"-selection-search")},c.createElement(Wt,{ref:o,prefixCls:n,id:r,open:d,inputElement:t,disabled:i,autoFocus:a,autoComplete:l,editable:R,activeDescendantId:s,value:N,onKeyDown:b,onMouseDown:C,onChange:function(e){T(!0),x(e)},onPaste:w,onCompositionStart:S,onCompositionEnd:E,tabIndex:p,attrs:(0,Ft.Z)(e,!0),maxLength:M?y:void 0})),!M&&A?c.createElement("span",{className:"".concat(n,"-selection-item"),title:D,style:B?{visibility:"hidden"}:void 0},A.label):null,function(){if(A)return null;var e=B?{visibility:"hidden"}:void 0;return c.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},f)}())};var Qt=function(e,t){var n=(0,c.useRef)(null),r=(0,c.useRef)(!1),o=e.prefixCls,i=e.open,a=e.mode,l=e.showSearch,s=e.tokenWithEnter,u=e.autoClearSearchValue,d=e.onSearch,h=e.onSearchSubmit,f=e.onToggleOpen,p=e.onInputKeyDown,v=e.domRef;c.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var g=zt(0),m=(0,It.Z)(g,2),y=m[0],b=m[1],C=(0,c.useRef)(null),x=function(e){!1!==d(e,!0,r.current)&&f(!0)},w={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==Bt.Z.UP&&n!==Bt.Z.DOWN||e.preventDefault(),p&&p(e),n!==Bt.Z.ENTER||"tags"!==a||r.current||i||null==h||h(e.target.value),t=n,[Bt.Z.ESC,Bt.Z.SHIFT,Bt.Z.BACKSPACE,Bt.Z.TAB,Bt.Z.WIN_KEY,Bt.Z.ALT,Bt.Z.META,Bt.Z.WIN_KEY_RIGHT,Bt.Z.CTRL,Bt.Z.SEMICOLON,Bt.Z.EQUALS,Bt.Z.CAPS_LOCK,Bt.Z.CONTEXT_MENU,Bt.Z.F1,Bt.Z.F2,Bt.Z.F3,Bt.Z.F4,Bt.Z.F5,Bt.Z.F6,Bt.Z.F7,Bt.Z.F8,Bt.Z.F9,Bt.Z.F10,Bt.Z.F11,Bt.Z.F12].includes(t)||f(!0)},onInputMouseDown:function(){b(!0)},onInputChange:function(e){var t=e.target.value;if(s&&C.current&&/[\r\n]/.test(C.current)){var n=C.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,C.current)}C.current=null,x(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");C.current=t},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==a&&x(e.target.value)}},S="multiple"===a||"tags"===a?c.createElement(qt,(0,Qe.Z)({},e,w)):c.createElement(Kt,(0,Qe.Z)({},e,w));return c.createElement("div",{ref:v,className:"".concat(o,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=y();e.target===n.current||t||"combobox"===a||e.preventDefault(),("combobox"===a||l&&t)&&i||(i&&!1!==u&&d("",!0,!1),f())}},S)},Jt=c.forwardRef(Qt);Jt.displayName="Selector";var en=Jt,tn=n(40228),nn=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],rn=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),o=e.children,i=e.popupElement,a=e.animation,l=e.transitionName,u=e.dropdownStyle,d=e.dropdownClassName,h=e.direction,f=void 0===h?"ltr":h,p=e.placement,v=e.builtinPlacements,g=e.dropdownMatchSelectWidth,m=e.dropdownRender,y=e.dropdownAlign,b=e.getPopupContainer,C=e.empty,x=e.getTriggerDOMNode,w=e.onPopupVisibleChange,S=e.onPopupMouseEnter,E=(0,Lt.Z)(e,nn),O="".concat(n,"-dropdown"),I=i;m&&(I=m(i));var L=c.useMemo((function(){return v||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(g)}),[v,g]),_=a?"".concat(O,"-").concat(a):l,T="number"==typeof g,M=c.useMemo((function(){return T?null:!1===g?"minWidth":"width"}),[g,T]),R=u;T&&(R=(0,Tt.Z)((0,Tt.Z)({},R),{},{width:g}));var A=c.useRef(null);return c.useImperativeHandle(t,(function(){return{getPopupElement:function(){return A.current}}})),c.createElement(tn.Z,(0,Qe.Z)({},E,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:p||("rtl"===f?"bottomRight":"bottomLeft"),builtinPlacements:L,prefixCls:O,popupTransitionName:_,popup:c.createElement("div",{ref:A,onMouseEnter:S},I),stretch:M,popupAlign:y,popupVisible:r,getPopupContainer:b,popupClassName:s()(d,(0,_t.Z)({},"".concat(O,"-empty"),C)),popupStyle:R,getTriggerDOMNode:x,onPopupVisibleChange:w}),o)},on=c.forwardRef(rn);on.displayName="SelectTrigger";var an=on,ln=n(84506);function sn(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!=r?r:void 0!==n?n:"rc-index-key-".concat(t)}function un(e,t){var n=e||{},r=n.label||(t?"children":"label");return{label:r,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||r}}function cn(e){var t=(0,Tt.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,At.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var dn=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],hn=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function fn(e){return"tags"===e||"multiple"===e}var pn=c.forwardRef((function(e,t){var n,r,o=e.id,i=e.prefixCls,a=e.className,l=e.showSearch,u=e.tagRender,d=e.direction,h=e.omitDomProps,f=e.displayValues,p=e.onDisplayValuesChange,v=e.emptyOptions,g=e.notFoundContent,m=void 0===g?"Not Found":g,y=e.onClear,b=e.mode,C=e.disabled,x=e.loading,w=e.getInputElement,S=e.getRawInputElement,E=e.open,O=e.defaultOpen,I=e.onDropdownVisibleChange,L=e.activeValue,_=e.onActiveValueChange,T=e.activeDescendantId,M=e.searchValue,R=e.autoClearSearchValue,A=e.onSearch,N=e.onSearchSplit,B=e.tokenSeparators,D=e.allowClear,P=e.suffixIcon,z=e.clearIcon,F=e.OptionList,H=e.animation,$=e.transitionName,j=e.dropdownStyle,W=e.dropdownClassName,G=e.dropdownMatchSelectWidth,V=e.dropdownRender,U=e.dropdownAlign,Z=e.placement,Y=e.builtinPlacements,X=e.getPopupContainer,q=e.showAction,K=void 0===q?[]:q,Q=e.onFocus,J=e.onBlur,ee=e.onKeyUp,te=e.onKeyDown,ne=e.onMouseDown,re=(0,Lt.Z)(e,dn),oe=fn(b),ie=(void 0!==l?l:oe)||"combobox"===b,ae=(0,Tt.Z)({},re);hn.forEach((function(e){delete ae[e]})),null==h||h.forEach((function(e){delete ae[e]}));var le=c.useState(!1),se=(0,It.Z)(le,2),ue=se[0],ce=se[1];c.useEffect((function(){ce((0,Nt.Z)())}),[]);var de=c.useRef(null),he=c.useRef(null),fe=c.useRef(null),pe=c.useRef(null),ve=c.useRef(null),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=c.useState(!1),n=(0,It.Z)(t,2),r=n[0],o=n[1],i=c.useRef(null),a=function(){window.clearTimeout(i.current)};return c.useEffect((function(){return a}),[]),[r,function(t,n){a(),i.current=window.setTimeout((function(){o(t),n&&n()}),e)},a]}(),me=(0,It.Z)(ge,3),ye=me[0],be=me[1],Ce=me[2];c.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=pe.current)||void 0===e?void 0:e.focus,blur:null===(t=pe.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=ve.current)||void 0===t?void 0:t.scrollTo(e)}}}));var xe=c.useMemo((function(){var e;if("combobox"!==b)return M;var t=null===(e=f[0])||void 0===e?void 0:e.value;return"string"==typeof t||"number"==typeof t?String(t):""}),[M,b,f]),we="combobox"===b&&"function"==typeof w&&w()||null,Se="function"==typeof S&&S(),Ee=(0,Oe.x1)(he,null==Se||null===(n=Se.props)||void 0===n?void 0:n.ref),Ie=c.useState(!1),Le=(0,It.Z)(Ie,2),_e=Le[0],Te=Le[1];(0,Ne.Z)((function(){Te(!0)}),[]);var Me=(0,Rt.Z)(!1,{defaultValue:O,value:E}),Re=(0,It.Z)(Me,2),Ae=Re[0],Be=Re[1],De=!!_e&&Ae,ke=!m&&v;(C||ke&&De&&"combobox"===b)&&(De=!1);var Pe=!ke&&De,ze=c.useCallback((function(e){var t=void 0!==e?e:!De;C||(Be(t),De!==t&&(null==I||I(t)))}),[C,De,Be,I]),Fe=c.useMemo((function(){return(B||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[B]),He=function(e,t,n){var r=!0,o=e;null==_||_(null);var i=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var o=(0,ln.Z)(r),i=o[0],a=o.slice(1);if(!i)return[t];var l=t.split(i);return n=n||l.length>1,l.reduce((function(t,n){return[].concat((0,k.Z)(t),(0,k.Z)(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,B);return"combobox"!==b&&i&&(o="",null==N||N(i),ze(!1),r=!1),A&&xe!==o&&A(o,{source:t?"typing":"effect"}),r};c.useEffect((function(){De||oe||"combobox"===b||He("",!1,!1)}),[De]),c.useEffect((function(){Ae&&C&&Be(!1),C&&be(!1)}),[C]);var $e=zt(),je=(0,It.Z)($e,2),We=je[0],Ge=je[1],Ve=c.useRef(!1),Ue=[];c.useEffect((function(){return function(){Ue.forEach((function(e){return clearTimeout(e)})),Ue.splice(0,Ue.length)}}),[]);var Ze,Ye=c.useState({}),Xe=(0,It.Z)(Ye,2)[1];Se&&(Ze=function(e){ze(e)}),function(e,t,n,r){var o=c.useRef(null);o.current={open:t,triggerOpen:n,customizedTrigger:r},c.useEffect((function(){function t(t){var n;if(null===(n=o.current)||void 0===n||!n.customizedTrigger){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),o.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[de.current,null===(e=fe.current)||void 0===e?void 0:e.getPopupElement()]}),Pe,ze,!!Se);var qe,Ke=c.useMemo((function(){return(0,Tt.Z)((0,Tt.Z)({},e),{},{notFoundContent:m,open:De,triggerOpen:Pe,id:o,showSearch:ie,multiple:oe,toggleOpen:ze})}),[e,m,Pe,De,o,ie,oe,ze]),Je=!!P||x;Je&&(qe=c.createElement(Dt,{className:s()("".concat(i,"-arrow"),(0,_t.Z)({},"".concat(i,"-arrow-loading"),x)),customizeIcon:P,customizeIconProps:{loading:x,searchValue:xe,open:De,focused:ye,showSearch:ie}}));var et,tt=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,s=c.useMemo((function(){return"object"===(0,Mt.Z)(r)?r.clearIcon:o||void 0}),[r,o]),u=c.useMemo((function(){return!(i||!r||!n.length&&!a||"combobox"===l&&""===a)}),[r,i,n.length,a,l]);return{allowClear:u,clearIcon:c.createElement(Dt,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:s},"×")}}(i,(function(){var e;null==y||y(),null===(e=pe.current)||void 0===e||e.focus(),p([],{type:"clear",values:f}),He("",!1,!1)}),f,D,z,C,xe,b),nt=tt.allowClear,rt=tt.clearIcon,ot=c.createElement(F,{ref:ve}),it=s()(i,a,(r={},(0,_t.Z)(r,"".concat(i,"-focused"),ye),(0,_t.Z)(r,"".concat(i,"-multiple"),oe),(0,_t.Z)(r,"".concat(i,"-single"),!oe),(0,_t.Z)(r,"".concat(i,"-allow-clear"),D),(0,_t.Z)(r,"".concat(i,"-show-arrow"),Je),(0,_t.Z)(r,"".concat(i,"-disabled"),C),(0,_t.Z)(r,"".concat(i,"-loading"),x),(0,_t.Z)(r,"".concat(i,"-open"),De),(0,_t.Z)(r,"".concat(i,"-customize-input"),we),(0,_t.Z)(r,"".concat(i,"-show-search"),ie),r)),at=c.createElement(an,{ref:fe,disabled:C,prefixCls:i,visible:Pe,popupElement:ot,animation:H,transitionName:$,dropdownStyle:j,dropdownClassName:W,direction:d,dropdownMatchSelectWidth:G,dropdownRender:V,dropdownAlign:U,placement:Z,builtinPlacements:Y,getPopupContainer:X,empty:v,getTriggerDOMNode:function(){return he.current},onPopupVisibleChange:Ze,onPopupMouseEnter:function(){Xe({})}},Se?c.cloneElement(Se,{ref:Ee}):c.createElement(en,(0,Qe.Z)({},e,{domRef:he,prefixCls:i,inputElement:we,ref:pe,id:o,showSearch:ie,autoClearSearchValue:R,mode:b,activeDescendantId:T,tagRender:u,values:f,open:De,onToggleOpen:ze,activeValue:L,searchValue:xe,onSearch:He,onSearchSubmit:function(e){e&&e.trim()&&A(e,{source:"submit"})},onRemove:function(e){var t=f.filter((function(t){return t!==e}));p(t,{type:"remove",values:[e]})},tokenWithEnter:Fe})));return et=Se?at:c.createElement("div",(0,Qe.Z)({className:it},ae,{ref:de,onMouseDown:function(e){var t,n=e.target,r=null===(t=fe.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var o=setTimeout((function(){var e,t=Ue.indexOf(o);-1!==t&&Ue.splice(t,1),Ce(),ue||r.contains(document.activeElement)||null===(e=pe.current)||void 0===e||e.focus()}));Ue.push(o)}for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];null==ne||ne.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=We(),r=e.which;if(r===Bt.Z.ENTER&&("combobox"!==b&&e.preventDefault(),De||ze(!0)),Ge(!!xe),r===Bt.Z.BACKSPACE&&!n&&oe&&!xe&&f.length){for(var o=(0,k.Z)(f),i=null,a=o.length-1;a>=0;a-=1){var l=o[a];if(!l.disabled){o.splice(a,1),i=l;break}}i&&p(o,{type:"remove",values:[i]})}for(var s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];De&&ve.current&&(t=ve.current).onKeyDown.apply(t,[e].concat(u)),null==te||te.apply(void 0,[e].concat(u))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;De&&ve.current&&(o=ve.current).onKeyUp.apply(o,[e].concat(n)),null==ee||ee.apply(void 0,[e].concat(n))},onFocus:function(){be(!0),C||(Q&&!Ve.current&&Q.apply(void 0,arguments),K.includes("focus")&&ze(!0)),Ve.current=!0},onBlur:function(){be(!1,(function(){Ve.current=!1,ze(!1)})),C||(xe&&("tags"===b?A(xe,{source:"submit"}):"multiple"===b&&A("",{source:"blur"})),J&&J.apply(void 0,arguments))}}),ye&&!De&&c.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(f.map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,Mt.Z)(t))?t:n})).join(", "))),at,qe,nt&&rt),c.createElement(kt.Provider,{value:Ke},et)}));var vn=pn;function gn(e,t){return Gt(e).join("").toUpperCase().includes(t)}var mn=n(98924),yn=0,bn=(0,mn.Z)();function Cn(e){var t=c.useState(),n=(0,It.Z)(t,2),r=n[0],o=n[1];return c.useEffect((function(){var e;o("rc_select_".concat((bn?(e=yn,yn+=1):e="TEST_OR_SSR",e)))}),[]),e||r}var xn=["children","value"],wn=["children"];function Sn(e){var t=e,n=t.key,r=t.props,o=r.children,i=r.value,a=(0,Lt.Z)(r,xn);return(0,Tt.Z)({key:n,value:void 0!==i?i:n,children:o},a)}function En(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,_e.Z)(e).map((function(e,n){if(!c.isValidElement(e)||!e.type)return null;var r=e,o=r.type.isSelectOptGroup,i=r.key,a=r.props,l=a.children,s=(0,Lt.Z)(a,wn);return t||!o?Sn(e):(0,Tt.Z)((0,Tt.Z)({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},s),{},{options:En(l)})})).filter((function(e){return e}))}function On(e,t,n,r,o){return c.useMemo((function(){var i=e;!e&&(i=En(t));var a=new Map,l=new Map,s=function(e,t,n){n&&"string"==typeof n&&e.set(t[n],t)};return function e(t){for(var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=0;u<t.length;u+=1){var c=t[u];!c[n.options]||i?(a.set(c[n.value],c),s(l,c,n.label),s(l,c,r),s(l,c,o)):e(c[n.options],!0)}}(i),{options:i,valueOptions:a,labelOptions:l}}),[e,t,n,r,o])}function In(e){var t=c.useRef();t.current=e;var n=c.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var Ln=function(){return null};Ln.isSelectOptGroup=!0;var _n=Ln,Tn=function(){return null};Tn.isSelectOption=!0;var Mn=Tn,Rn=n(56982),An=n(85344),Nn=c.createContext(null);var Bn=["disabled","title","children","style","className"];function Dn(e){return"string"==typeof e||"number"==typeof e}var kn=function(e,t){var n=Pt(),r=n.prefixCls,o=n.id,i=n.open,a=n.multiple,l=n.mode,d=n.searchValue,h=n.toggleOpen,f=n.notFoundContent,p=n.onPopupScroll,v=c.useContext(Nn),g=v.flattenOptions,m=v.onActiveValue,y=v.defaultActiveFirstOption,b=v.onSelect,C=v.menuItemSelectedIcon,x=v.rawValues,w=v.fieldNames,S=v.virtual,E=v.direction,O=v.listHeight,I=v.listItemHeight,L="".concat(r,"-item"),_=(0,Rn.Z)((function(){return g}),[i,g],(function(e,t){return t[0]&&e[1]!==t[1]})),T=c.useRef(null),M=function(e){e.preventDefault()},R=function(e){T.current&&T.current.scrollTo("number"==typeof e?{index:e}:e)},A=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=_.length,r=0;r<n;r+=1){var o=(e+r*t+n)%n,i=_[o],a=i.group,l=i.data;if(!a&&!l.disabled)return o}return-1},N=c.useState((function(){return A(0)})),B=(0,It.Z)(N,2),D=B[0],P=B[1],z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];P(e);var n={source:t?"keyboard":"mouse"},r=_[e];r?m(r.value,e,n):m(null,-1,n)};(0,c.useEffect)((function(){z(!1!==y?A(0):-1)}),[_.length,d]);var F=c.useCallback((function(e){return x.has(e)&&"combobox"!==l}),[l,(0,k.Z)(x).toString(),x.size]);(0,c.useEffect)((function(){var e,t=setTimeout((function(){if(!a&&i&&1===x.size){var e=Array.from(x)[0],t=_.findIndex((function(t){return t.data.value===e}));-1!==t&&(z(t),R(t))}}));i&&(null===(e=T.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[i,d,g.length]);var H=function(e){void 0!==e&&b(e,{selected:!x.has(e)}),a||h(!1)};if(c.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Bt.Z.N:case Bt.Z.P:case Bt.Z.UP:case Bt.Z.DOWN:var r=0;if(t===Bt.Z.UP?r=-1:t===Bt.Z.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Bt.Z.N?r=1:t===Bt.Z.P&&(r=-1)),0!==r){var o=A(D+r,r);R(o),z(o,!0)}break;case Bt.Z.ENTER:var a=_[D];a&&!a.data.disabled?H(a.value):H(void 0),i&&e.preventDefault();break;case Bt.Z.ESC:h(!1),i&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){R(e)}}})),0===_.length)return c.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(L,"-empty"),onMouseDown:M},f);var $=Object.keys(w).map((function(e){return w[e]})),j=function(e){return e.label};function W(e,t){return{role:e.group?"presentation":"option",id:"".concat(o,"_list_").concat(t)}}var G=function(e){var t=_[e];if(!t)return null;var n=t.data||{},r=n.value,o=t.group,i=(0,Ft.Z)(n,!0),a=j(t);return t?c.createElement("div",(0,Qe.Z)({"aria-label":"string"!=typeof a||o?null:a},i,{key:e},W(t,e),{"aria-selected":F(r)}),r):null},V={role:"listbox",id:"".concat(o,"_list")};return c.createElement(c.Fragment,null,S&&c.createElement("div",(0,Qe.Z)({},V,{style:{height:0,width:0,overflow:"hidden"}}),G(D-1),G(D),G(D+1)),c.createElement(An.Z,{itemKey:"key",ref:T,data:_,height:O,itemHeight:I,fullHeight:!1,onMouseDown:M,onScroll:p,virtual:S,direction:E,innerProps:S?null:V},(function(e,t){var n,r=e.group,o=e.groupOption,i=e.data,a=e.label,l=e.value,d=i.key;if(r){var h,f=null!==(h=i.title)&&void 0!==h?h:Dn(a)?a.toString():void 0;return c.createElement("div",{className:s()(L,"".concat(L,"-group")),title:f},void 0!==a?a:d)}var p=i.disabled,v=i.title,g=(i.children,i.style),m=i.className,y=(0,Lt.Z)(i,Bn),b=(0,u.Z)(y,$),x=F(l),w="".concat(L,"-option"),E=s()(L,w,m,(n={},(0,_t.Z)(n,"".concat(w,"-grouped"),o),(0,_t.Z)(n,"".concat(w,"-active"),D===t&&!p),(0,_t.Z)(n,"".concat(w,"-disabled"),p),(0,_t.Z)(n,"".concat(w,"-selected"),x),n)),O=j(e),I=!C||"function"==typeof C||x,_="number"==typeof O?O:O||l,T=Dn(_)?_.toString():void 0;return void 0!==v&&(T=v),c.createElement("div",(0,Qe.Z)({},(0,Ft.Z)(b),S?{}:W(e,t),{"aria-selected":x,className:E,title:T,onMouseMove:function(){D===t||p||z(t)},onClick:function(){p||H(l)},style:g}),c.createElement("div",{className:"".concat(w,"-content")},_),c.isValidElement(C)||x,I&&c.createElement(Dt,{className:"".concat(L,"-option-state"),customizeIcon:C,customizeIconProps:{isSelected:x}},x?"✓":null))})))},Pn=c.forwardRef(kn);Pn.displayName="OptionList";var zn=Pn;var Fn=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],Hn=["inputValue"];var $n=c.forwardRef((function(e,t){var n=e.id,r=e.mode,o=e.prefixCls,i=void 0===o?"rc-select":o,a=e.backfill,l=e.fieldNames,s=e.inputValue,u=e.searchValue,d=e.onSearch,h=e.autoClearSearchValue,f=void 0===h||h,p=e.onSelect,v=e.onDeselect,g=e.dropdownMatchSelectWidth,m=void 0===g||g,y=e.filterOption,b=e.filterSort,C=e.optionFilterProp,x=e.optionLabelProp,w=e.options,S=e.children,E=e.defaultActiveFirstOption,O=e.menuItemSelectedIcon,I=e.virtual,L=e.direction,_=e.listHeight,T=void 0===_?200:_,M=e.listItemHeight,R=void 0===M?20:M,A=e.value,N=e.defaultValue,B=e.labelInValue,D=e.onChange,P=(0,Lt.Z)(e,Fn),z=Cn(n),F=fn(r),H=!(w||!S),$=c.useMemo((function(){return(void 0!==y||"combobox"!==r)&&y}),[y,r]),j=c.useMemo((function(){return un(l,H)}),[JSON.stringify(l),H]),W=(0,Rt.Z)("",{value:void 0!==u?u:s,postState:function(e){return e||""}}),G=(0,It.Z)(W,2),V=G[0],U=G[1],Z=On(w,S,j,C,x),Y=Z.valueOptions,X=Z.labelOptions,q=Z.options,K=c.useCallback((function(e){return Gt(e).map((function(e){var t,n,r,o,i,a;(function(e){return!e||"object"!==(0,Mt.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:r);var l,s=Y.get(t);s&&(void 0===n&&(n=null==s?void 0:s[x||j.label]),void 0===r&&(r=null!==(l=null==s?void 0:s.key)&&void 0!==l?l:t),o=null==s?void 0:s.disabled,i=null==s?void 0:s.title);return{label:n,value:t,key:r,disabled:o,title:i}}))}),[j,x,Y]),Q=(0,Rt.Z)(N,{value:A}),J=(0,It.Z)(Q,2),ee=J[0],te=J[1],ne=c.useMemo((function(){var e,t=K(ee);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t}),[ee,K,r]),re=function(e,t){var n=c.useRef({values:new Map,options:new Map});return[c.useMemo((function(){var r=n.current,o=r.values,i=r.options,a=e.map((function(e){var t;return void 0===e.label?(0,Tt.Z)((0,Tt.Z)({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e})),l=new Map,s=new Map;return a.forEach((function(e){l.set(e.value,e),s.set(e.value,t.get(e.value)||i.get(e.value))})),n.current.values=l,n.current.options=s,a}),[e,t]),c.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(ne,Y),oe=(0,It.Z)(re,2),ie=oe[0],ae=oe[1],le=c.useMemo((function(){if(!r&&1===ie.length){var e=ie[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ie.map((function(e){var t;return(0,Tt.Z)((0,Tt.Z)({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[r,ie]),se=c.useMemo((function(){return new Set(ie.map((function(e){return e.value})))}),[ie]);c.useEffect((function(){if("combobox"===r){var e,t=null===(e=ie[0])||void 0===e?void 0:e.value;U(function(e){return null!=e}(t)?String(t):"")}}),[ie]);var ue=In((function(e,t){var n,r=null!=t?t:e;return n={},(0,_t.Z)(n,j.value,e),(0,_t.Z)(n,j.label,r),n})),ce=c.useMemo((function(){if("tags"!==r)return q;var e=(0,k.Z)(q);return(0,k.Z)(ie).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return Y.has(e)})(n)||e.push(ue(n,t.label))})),e}),[ue,q,Y,ie,r]),de=function(e,t,n,r,o){return c.useMemo((function(){if(!n||!1===r)return e;var i=t.options,a=t.label,l=t.value,s=[],u="function"==typeof r,c=n.toUpperCase(),d=u?r:function(e,t){return o?gn(t[o],c):t[i]?gn(t["children"!==a?a:"label"],c):gn(t[l],c)},h=u?function(e){return cn(e)}:function(e){return e};return e.forEach((function(e){if(e[i])if(d(n,h(e)))s.push(e);else{var t=e[i].filter((function(e){return d(n,h(e))}));t.length&&s.push((0,Tt.Z)((0,Tt.Z)({},e),{},(0,_t.Z)({},i,t)))}else d(n,h(e))&&s.push(e)})),s}),[e,r,o,n,t])}(ce,j,V,$,C),he=c.useMemo((function(){return"tags"!==r||!V||de.some((function(e){return e[C||"value"]===V}))||de.some((function(e){return e[j.value]===V}))?de:[ue(V)].concat((0,k.Z)(de))}),[ue,C,r,de,V,j]),fe=c.useMemo((function(){return b?(0,k.Z)(he).sort((function(e,t){return b(e,t)})):he}),[he,b]),pe=c.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,o=[],i=un(n,!1),a=i.label,l=i.value,s=i.options,u=i.groupLabel;function c(e,t){e.forEach((function(e){if(t||!(s in e)){var n=e[l];o.push({key:sn(e,o.length),groupOption:t,data:e,label:e[a],value:n})}else{var i=e[u];void 0===i&&r&&(i=e.label),o.push({key:sn(e,o.length),group:!0,data:e,label:i}),c(e[s],!0)}}))}return c(e,!1),o}(fe,{fieldNames:j,childrenAsData:H})}),[fe,j,H]),ve=function(e){var t=K(e);if(te(t),D&&(t.length!==ie.length||t.some((function(e,t){var n;return(null===(n=ie[t])||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)})))){var n=B?t:t.map((function(e){return e.value})),r=t.map((function(e){return cn(ae(e.value))}));D(F?n:n[0],F?r:r[0])}},ge=c.useState(null),me=(0,It.Z)(ge,2),ye=me[0],be=me[1],Ce=c.useState(0),xe=(0,It.Z)(Ce,2),we=xe[0],Se=xe[1],Ee=void 0!==E?E:"combobox"!==r,Oe=c.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.source,i=void 0===o?"keyboard":o;Se(t),a&&"combobox"===r&&null!==e&&"keyboard"===i&&be(String(e))}),[a,r]),Ie=function(e,t,n){var r=function(){var t,n=ae(e);return[B?{label:null==n?void 0:n[j.label],value:e,key:null!==(t=null==n?void 0:n.key)&&void 0!==t?t:e}:e,cn(n)]};if(t&&p){var o=r(),i=(0,It.Z)(o,2),a=i[0],l=i[1];p(a,l)}else if(!t&&v&&"clear"!==n){var s=r(),u=(0,It.Z)(s,2),c=u[0],d=u[1];v(c,d)}},Le=In((function(e,t){var n,o=!F||t.selected;n=o?F?[].concat((0,k.Z)(ie),[e]):[e]:ie.filter((function(t){return t.value!==e})),ve(n),Ie(e,o),"combobox"===r?be(""):fn&&!f||(U(""),be(""))})),_e=c.useMemo((function(){var e=!1!==I&&!1!==m;return(0,Tt.Z)((0,Tt.Z)({},Z),{},{flattenOptions:pe,onActiveValue:Oe,defaultActiveFirstOption:Ee,onSelect:Le,menuItemSelectedIcon:O,rawValues:se,fieldNames:j,virtual:e,direction:L,listHeight:T,listItemHeight:R,childrenAsData:H})}),[Z,pe,Oe,Ee,Le,O,se,j,I,m,T,R,H]);return c.createElement(Nn.Provider,{value:_e},c.createElement(vn,(0,Qe.Z)({},P,{id:z,prefixCls:i,ref:t,omitDomProps:Hn,mode:r,displayValues:le,onDisplayValuesChange:function(e,t){ve(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach((function(e){Ie(e.value,!1,n)}))},direction:L,searchValue:V,onSearch:function(e,t){if(U(e),be(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&ve(e),null==d||d(e));else{var n=(e||"").trim();if(n){var o=Array.from(new Set([].concat((0,k.Z)(se),[n])));ve(o),Ie(n,!0),U("")}}},autoClearSearchValue:f,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=X.get(e);return null==t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,k.Z)(se),(0,k.Z)(t))));ve(n),n.forEach((function(e){Ie(e,!0)}))},dropdownMatchSelectWidth:m,OptionList:zn,emptyOptions:!pe.length,activeValue:ye,activeDescendantId:"".concat(z,"_list_").concat(we)})))}));var jn=$n;jn.Option=Mn,jn.OptGroup=_n;function Wn(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function Gn(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,o=t.checkable;return!(!n&&!r)||!1===o}function Vn(e,t,n,r){var o,i=[];o=r||Gn;var a,l=new Set(e.filter((function(e){var t=!!n[e];return t||i.push(e),t}))),s=new Map,u=0;return Object.keys(n).forEach((function(e){var t=n[e],r=t.level,o=s.get(r);o||(o=new Set,s.set(r,o)),o.add(t),u=Math.max(u,r)})),(0,At.ZP)(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),a=!0===t?function(e,t,n,r){for(var o=new Set(e),i=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach((function(e){var t=e.key,n=e.node,i=e.children,a=void 0===i?[]:i;o.has(t)&&!r(n)&&a.filter((function(e){return!r(e.node)})).forEach((function(e){o.add(e.key)}))}));for(var l=new Set,s=n;s>=0;s-=1)(t.get(s)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!l.has(e.parent.key))if(r(e.parent.node))l.add(t.key);else{var a=!0,s=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);a&&!n&&(a=!1),s||!n&&!i.has(t)||(s=!0)})),a&&o.add(t.key),s&&i.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Wn(i,o))}}(l,s,u,o):function(e,t,n,r,o){for(var i=new Set(e),a=new Set(t),l=0;l<=r;l+=1)(n.get(l)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,l=void 0===r?[]:r;i.has(t)||a.has(t)||o(n)||l.filter((function(e){return!o(e.node)})).forEach((function(e){i.delete(e.key)}))}));a=new Set;for(var s=new Set,u=r;u>=0;u-=1)(n.get(u)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!s.has(e.parent.key))if(o(e.parent.node))s.add(t.key);else{var r=!0,l=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,n=i.has(t);r&&!n&&(r=!1),l||!n&&!a.has(t)||(l=!0)})),r||i.delete(t.key),l&&a.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(Wn(a,i))}}(l,t.halfCheckedKeys,s,u,o),a}var Un=n(66680),Zn=c.createContext(null),Yn="__rc_cascader_search_mark__",Xn=function(e,t,n){var r=n.label;return t.some((function(t){return String(t[r]).toLowerCase().includes(e.toLowerCase())}))},qn=function(e,t,n,r){return t.map((function(e){return e[r.label]})).join(" / ")},Kn="__RC_CASCADER_SPLIT__",Qn="SHOW_PARENT",Jn="SHOW_CHILD";function er(e){return e.join(Kn)}function tr(e){return e.map(er)}function nr(e,t){var n,r;return null!==(n=e.isLeaf)&&void 0!==n?n:!(null!==(r=e[t.children])&&void 0!==r&&r.length)}function rr(e){var t=e.parentElement;if(t){var n=e.offsetTop-t.offsetTop;n-t.scrollTop<0?t.scrollTo({top:n}):n+e.offsetHeight-t.scrollTop>t.offsetHeight&&t.scrollTo({top:n+e.offsetHeight-t.offsetHeight})}}function or(e,t){return e.map((function(e){var n;return null===(n=e[Yn])||void 0===n?void 0:n.map((function(e){return e[t.value]}))}))}function ir(e,t,n){var r=new Set(e),o=t();return e.filter((function(e){var t=o[e],i=t?t.parent:null,a=t?t.children:null;return!(!t||!t.node.disabled)||(n===Jn?!(a&&a.some((function(e){return e.key&&r.has(e.key)}))):!(i&&!i.node.disabled&&r.has(i.key)))}))}function ar(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t,i=[],a=function(){var t,a,s,u=e[l],c=null===(t=o)||void 0===t?void 0:t.findIndex((function(e){var t=e[n.value];return r?String(t)===String(u):t===u})),d=-1!==c?null===(a=o)||void 0===a?void 0:a[c]:null;i.push({value:null!==(s=null==d?void 0:d[n.value])&&void 0!==s?s:u,index:c,option:d}),o=null==d?void 0:d[n.children]},l=0;l<e.length;l+=1)a();return i}function lr(e,t){return"".concat(e,"-").concat(t)}function sr(e,t){return null!=e?e:t}function ur(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function cr(e,t,n){var r,o=("object"===(0,Mt.Z)(n)?n:{externalGetKey:n})||{},i=o.childrenPropName,a=o.externalGetKey,l=ur(o.fieldNames),s=l.key,u=l.children,c=i||u;a?"string"==typeof a?r=function(e){return e[a]}:"function"==typeof a&&(r=function(e){return a(e)}):r=function(e,t){return sr(e[s],t)},function n(o,i,a,l){var s=o?o[c]:e,u=o?lr(a.pos,i):"0",d=o?[].concat((0,k.Z)(l),[o]):[];if(o){var h=r(o,u),f={node:o,index:i,pos:u,key:h,parentPos:a.node?a.pos:null,level:a.level+1,nodes:d};t(f)}s&&s.forEach((function(e,t){n(e,t,{node:o,pos:u,level:a?a.level+1:-1},d)}))}(null)}var dr=function(e,t){var n=c.useRef({options:null,info:null}),r=c.useCallback((function(){return n.current.options!==e&&(n.current.options=e,n.current.info=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,o=t.onProcessFinished,i=t.externalGetKey,a=t.childrenPropName,l=t.fieldNames,s=arguments.length>2?arguments[2]:void 0,u=i||s,c={},d={},h={posEntities:c,keyEntities:d};return n&&(h=n(h)||h),cr(e,(function(e){var t=e.node,n=e.index,o=e.pos,i=e.key,a=e.parentPos,l=e.level,s={node:t,nodes:e.nodes,index:n,key:i,pos:o,level:l},u=sr(i,o);c[o]=s,d[u]=s,s.parent=c[a],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s)),r&&r(s,h)}),{externalGetKey:u,childrenPropName:a,fieldNames:l}),o&&o(h),h}(e,{fieldNames:t,initWrapper:function(e){return(0,Tt.Z)((0,Tt.Z)({},e),{},{pathKeyEntities:{}})},processEntity:function(e,n){var r=e.nodes.map((function(e){return e[t.value]})).join(Kn);n.pathKeyEntities[r]=e,e.key=r}})),n.current.info.pathKeyEntities}),[t,e]);return r};var hr=c.memo((function(e){return e.children}),(function(e,t){return!t.open}));function fr(e){var t,n=e.prefixCls,r=e.checked,o=e.halfChecked,i=e.disabled,a=e.onClick,l=e.disableCheckbox,u=c.useContext(Zn).checkable,d="boolean"!=typeof u?u:null;return c.createElement("span",{className:s()("".concat(n),(t={},(0,_t.Z)(t,"".concat(n,"-checked"),r),(0,_t.Z)(t,"".concat(n,"-indeterminate"),!r&&o),(0,_t.Z)(t,"".concat(n,"-disabled"),i||l),t)),onClick:a},d)}var pr="__cascader_fix_label__";function vr(e){var t=e.prefixCls,n=e.multiple,r=e.options,o=e.activeValue,i=e.prevValuePath,a=e.onToggleOpen,l=e.onSelect,u=e.onActive,d=e.checkedSet,h=e.halfCheckedSet,f=e.loadingKeys,p=e.isSelectable,v=e.searchValue,g="".concat(t,"-menu"),m="".concat(t,"-menu-item"),y=c.useContext(Zn),b=y.fieldNames,C=y.changeOnSelect,x=y.expandTrigger,w=y.expandIcon,S=y.loadingIcon,E=y.dropdownMenuColumnStyle,O="hover"===x,I=c.useMemo((function(){return r.map((function(e){var t,n=e.disabled,r=e.disableCheckbox,o=e[Yn],a=null!==(t=e[pr])&&void 0!==t?t:e[b.label],l=e[b.value],s=nr(e,b),u=o?o.map((function(e){return e[b.value]})):[].concat((0,k.Z)(i),[l]),c=er(u);return{disabled:n,label:a,value:l,isLeaf:s,isLoading:f.includes(c),checked:d.has(c),halfChecked:h.has(c),option:e,disableCheckbox:r,fullPath:u,fullPathKey:c}}))}),[r,d,b,h,f,i]);return c.createElement("ul",{className:g,role:"menu"},I.map((function(e){var r,i,d=e.disabled,h=e.label,f=e.value,g=e.isLeaf,y=e.isLoading,b=e.checked,x=e.halfChecked,I=e.option,L=e.fullPath,_=e.fullPathKey,T=e.disableCheckbox,M=function(){if(!d&&!v){var e=(0,k.Z)(L);O&&g&&e.pop(),u(e)}},R=function(){p(I)&&l(L,g)};return"string"==typeof I.title?i=I.title:"string"==typeof h&&(i=h),c.createElement("li",{key:_,className:s()(m,(r={},(0,_t.Z)(r,"".concat(m,"-expand"),!g),(0,_t.Z)(r,"".concat(m,"-active"),o===f||o===_),(0,_t.Z)(r,"".concat(m,"-disabled"),d),(0,_t.Z)(r,"".concat(m,"-loading"),y),r)),style:E,role:"menuitemcheckbox",title:i,"aria-checked":b,"data-path-key":_,onClick:function(){M(),T||n&&!g||R()},onDoubleClick:function(){C&&a(!1)},onMouseEnter:function(){O&&M()},onMouseDown:function(e){e.preventDefault()}},n&&c.createElement(fr,{prefixCls:"".concat(t,"-checkbox"),checked:b,halfChecked:x,disabled:d||T,disableCheckbox:T,onClick:function(e){T||(e.stopPropagation(),R())}}),c.createElement("div",{className:"".concat(m,"-content")},h),!y&&w&&!g&&c.createElement("div",{className:"".concat(m,"-expand-icon")},w),y&&S&&c.createElement("div",{className:"".concat(m,"-loading-icon")},S))})))}var gr=function(e,t,n,r,o,i){var a=Pt(),l=a.direction,s=a.searchValue,u=a.toggleOpen,d=a.open,h="rtl"===l,f=c.useMemo((function(){for(var e=-1,o=t,i=[],a=[],l=r.length,s=or(t,n),u=function(t){var l=o.findIndex((function(e,o){return(s[o]?er(s[o]):e[n.value])===r[t]}));if(-1===l)return"break";e=l,i.push(e),a.push(r[t]),o=o[e][n.children]},c=0;c<l&&o;c+=1){if("break"===u(c))break}for(var d=t,h=0;h<i.length-1;h+=1)d=d[i[h]][n.children];return[a,e,d,s]}),[r,n,t]),p=(0,It.Z)(f,4),v=p[0],g=p[1],m=p[2],y=p[3],b=function(e){o(e)},C=function(){if(v.length>1){var e=v.slice(0,-1);b(e)}else u(!1)},x=function(){var e,t=((null===(e=m[g])||void 0===e?void 0:e[n.children])||[]).find((function(e){return!e.disabled}));if(t){var r=[].concat((0,k.Z)(v),[t[n.value]]);b(r)}};c.useImperativeHandle(e,(function(){return{onKeyDown:function(e){var t=e.which;switch(t){case Bt.Z.UP:case Bt.Z.DOWN:var r=0;t===Bt.Z.UP?r=-1:t===Bt.Z.DOWN&&(r=1),0!==r&&function(e){var t=m.length,r=g;-1===r&&e<0&&(r=t);for(var o=0;o<t;o+=1){var i=m[r=(r+e+t)%t];if(i&&!i.disabled){var a=v.slice(0,-1).concat(y[r]?er(y[r]):i[n.value]);return void b(a)}}}(r);break;case Bt.Z.LEFT:if(s)break;h?x():C();break;case Bt.Z.RIGHT:if(s)break;h?C():x();break;case Bt.Z.BACKSPACE:s||C();break;case Bt.Z.ENTER:if(v.length){var o=m[g],a=(null==o?void 0:o[Yn])||[];a.length?i(a.map((function(e){return e[n.value]})),a[a.length-1]):i(v,m[g])}break;case Bt.Z.ESC:u(!1),d&&e.stopPropagation()}},onKeyUp:function(){}}}))},mr=c.forwardRef((function(e,t){var n,r,o,i,a=Pt(),l=a.prefixCls,u=a.multiple,d=a.searchValue,h=a.toggleOpen,f=a.notFoundContent,p=a.direction,v=a.open,g=c.useRef(),m="rtl"===p,y=c.useContext(Zn),b=y.options,C=y.values,x=y.halfValues,w=y.fieldNames,S=y.changeOnSelect,E=y.onSelect,O=y.searchOptions,I=y.dropdownPrefixCls,L=y.loadData,_=y.expandTrigger,T=I||l,M=c.useState([]),R=(0,It.Z)(M,2),A=R[0],N=R[1];c.useEffect((function(){A.length&&A.forEach((function(e){var t=ar(e.split(Kn),b,w,!0).map((function(e){return e.option})),n=t[t.length-1];(!n||n[w.children]||nr(n,w))&&N((function(t){return t.filter((function(t){return t!==e}))}))}))}),[b,A,w]);var B=c.useMemo((function(){return new Set(tr(C))}),[C]),D=c.useMemo((function(){return new Set(tr(x))}),[x]),P=function(){var e=Pt(),t=e.multiple,n=e.open,r=c.useContext(Zn).values,o=c.useState([]),i=(0,It.Z)(o,2),a=i[0],l=i[1];return c.useEffect((function(){if(n&&!t){var e=r[0];l(e||[])}}),[n]),[a,l]}(),z=(0,It.Z)(P,2),F=z[0],H=z[1],$=function(e){H(e),function(e){if(L&&!d){var t=ar(e,b,w).map((function(e){return e.option})),n=t[t.length-1];if(n&&!nr(n,w)){var r=er(e);N((function(e){return[].concat((0,k.Z)(e),[r])})),L(t)}}}(e)},j=function(e){var t=e.disabled,n=nr(e,w);return!t&&(n||S||u)},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];E(e),!u&&(t||S&&("hover"===_||n))&&h(!1)},G=c.useMemo((function(){return d?O:b}),[d,O,b]),V=c.useMemo((function(){for(var e=[{options:G}],t=G,n=or(t,w),r=function(){var r=F[o],i=t.find((function(e,t){return(n[t]?er(n[t]):e[w.value])===r})),a=null==i?void 0:i[w.children];if(null==a||!a.length)return"break";t=a,e.push({options:a})},o=0;o<F.length;o+=1){if("break"===r())break}return e}),[G,F,w]);gr(t,G,w,F,$,(function(e,t){j(t)&&W(e,nr(t,w),!0)})),c.useEffect((function(){for(var e=0;e<F.length;e+=1){var t,n=er(F.slice(0,e+1)),r=null===(t=g.current)||void 0===t?void 0:t.querySelector('li[data-path-key="'.concat(n.replace(/\\{0,2}"/g,'\\"'),'"]'));r&&rr(r)}}),[F]);var U=!(null!==(n=V[0])&&void 0!==n&&null!==(r=n.options)&&void 0!==r&&r.length),Z=[(o={},(0,_t.Z)(o,w.value,"__EMPTY__"),(0,_t.Z)(o,pr,f),(0,_t.Z)(o,"disabled",!0),o)],Y=(0,Tt.Z)((0,Tt.Z)({},e),{},{multiple:!U&&u,onSelect:W,onActive:$,onToggleOpen:h,checkedSet:B,halfCheckedSet:D,loadingKeys:A,isSelectable:j}),X=(U?[{options:Z}]:V).map((function(e,t){var n=F.slice(0,t),r=F[t];return c.createElement(vr,(0,Qe.Z)({key:t},Y,{searchValue:d,prefixCls:T,options:e.options,prevValuePath:n,activeValue:r}))}));return c.createElement(hr,{open:v},c.createElement("div",{className:s()("".concat(T,"-menus"),(i={},(0,_t.Z)(i,"".concat(T,"-menu-empty"),U),(0,_t.Z)(i,"".concat(T,"-rtl"),m),i)),ref:g},X))})),yr=mr;var br=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","autoClearSearchValue","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy"];function Cr(e){return e?function(e){return Array.isArray(e)&&Array.isArray(e[0])}(e)?e:(0===e.length?[]:[e]).map((function(e){return Array.isArray(e)?e:[e]})):[]}var xr=c.forwardRef((function(e,t){var n=e.id,r=e.prefixCls,o=void 0===r?"rc-cascader":r,i=e.fieldNames,a=e.defaultValue,l=e.value,s=e.changeOnSelect,u=e.onChange,d=e.displayRender,h=e.checkable,f=e.autoClearSearchValue,p=void 0===f||f,v=e.searchValue,g=e.onSearch,m=e.showSearch,y=e.expandTrigger,b=e.options,C=e.dropdownPrefixCls,x=e.loadData,w=e.popupVisible,S=e.open,E=e.popupClassName,O=e.dropdownClassName,I=e.dropdownMenuColumnStyle,L=e.popupPlacement,_=e.placement,T=e.onDropdownVisibleChange,M=e.onPopupVisibleChange,R=e.expandIcon,A=void 0===R?">":R,N=e.loadingIcon,B=e.children,D=e.dropdownMatchSelectWidth,P=void 0!==D&&D,z=e.showCheckedStrategy,F=void 0===z?Qn:z,H=(0,Lt.Z)(e,br),$=Cn(n),j=!!h,W=(0,Rt.Z)(a,{value:l,postState:Cr}),G=(0,It.Z)(W,2),V=G[0],U=G[1],Z=c.useMemo((function(){return function(e){var t=e||{},n=t.label,r=t.value||"value";return{label:n||"label",value:r,key:r,children:t.children||"children"}}(i)}),[JSON.stringify(i)]),Y=c.useMemo((function(){return b||[]}),[b]),X=dr(Y,Z),q=c.useCallback((function(e){var t=X();return e.map((function(e){return t[e].nodes.map((function(e){return e[Z.value]}))}))}),[X,Z]),K=(0,Rt.Z)("",{value:v,postState:function(e){return e||""}}),Q=(0,It.Z)(K,2),J=Q[0],ee=Q[1],te=function(e){return c.useMemo((function(){if(!e)return[!1,{}];var t={matchInputWidth:!0,limit:50};return e&&"object"===(0,Mt.Z)(e)&&(t=(0,Tt.Z)((0,Tt.Z)({},t),e)),t.limit<=0&&delete t.limit,[!0,t]}),[e])}(m),ne=(0,It.Z)(te,2),re=ne[0],oe=ne[1],ie=function(e,t,n,r,o,i){var a=o.filter,l=void 0===a?Xn:a,s=o.render,u=void 0===s?qn:s,d=o.limit,h=void 0===d?50:d,f=o.sort;return c.useMemo((function(){var o=[];return e?(function t(a,s){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.forEach((function(a){if(!(!f&&!1!==h&&h>0&&o.length>=h)){var d,p=[].concat((0,k.Z)(s),[a]),v=a[n.children],g=c||a.disabled;v&&0!==v.length&&!i||l(e,p,{label:n.label})&&o.push((0,Tt.Z)((0,Tt.Z)({},a),{},(d={disabled:g},(0,_t.Z)(d,n.label,u(e,p,r,n)),(0,_t.Z)(d,Yn,p),(0,_t.Z)(d,n.children,void 0),d))),v&&t(a[n.children],p,g)}}))}(t,[]),f&&o.sort((function(t,r){return f(t[Yn],r[Yn],e,n)})),!1!==h&&h>0?o.slice(0,h):o):[]}),[e,t,n,r,u,i,l,f,h])}(J,Y,Z,C||o,oe,s),ae=function(e,t){return c.useCallback((function(n){var r=[],o=[];return n.forEach((function(n){ar(n,e,t).every((function(e){return e.option}))?o.push(n):r.push(n)})),[o,r]}),[e,t])}(Y,Z),le=c.useMemo((function(){var e=ae(V),t=(0,It.Z)(e,2),n=t[0],r=t[1];if(!j||!V.length)return[n,[],r];var o=Vn(tr(n),!0,X()),i=o.checkedKeys,a=o.halfCheckedKeys;return[q(i),q(a),r]}),[j,V,X,q,ae]),se=(0,It.Z)(le,3),ue=se[0],ce=se[1],de=se[2],he=function(e,t,n,r,o){return c.useMemo((function(){var i=o||function(e){var t=r?e.slice(-1):e;return t.every((function(e){return["string","number"].includes((0,Mt.Z)(e))}))?t.join(" / "):t.reduce((function(e,t,n){var r=c.isValidElement(t)?c.cloneElement(t,{key:n}):t;return 0===n?[r]:[].concat((0,k.Z)(e),[" / ",r])}),[])};return e.map((function(e){var r,o,a=ar(e,t,n),l=i(a.map((function(e){var t,r=e.option,o=e.value;return null!==(t=null==r?void 0:r[n.label])&&void 0!==t?t:o})),a.map((function(e){return e.option}))),s=er(e);return{label:l,value:s,key:s,valueCells:e,disabled:null===(r=a[a.length-1])||void 0===r||null===(o=r.option)||void 0===o?void 0:o.disabled}}))}),[e,t,n,o,r])}(c.useMemo((function(){var e=ir(tr(ue),X,F);return[].concat((0,k.Z)(de),(0,k.Z)(q(e)))}),[ue,X,q,de,F]),Y,Z,j,d),fe=(0,Un.Z)((function(e){if(U(e),u){var t=Cr(e),n=t.map((function(e){return ar(e,Y,Z).map((function(e){return e.option}))})),r=j?t:t[0],o=j?n:n[0];u(r,o)}})),pe=(0,Un.Z)((function(e){if(j&&!p||ee(""),j){var t=er(e),n=tr(ue),r=tr(ce),o=n.includes(t),i=de.some((function(e){return er(e)===t})),a=ue,l=de;if(i&&!o)l=de.filter((function(e){return er(e)!==t}));else{var s,u=o?n.filter((function(e){return e!==t})):[].concat((0,k.Z)(n),[t]),c=X();if(o)s=Vn(u,{checked:!1,halfCheckedKeys:r},c).checkedKeys;else s=Vn(u,!0,c).checkedKeys;var d=ir(s,X,F);a=q(d)}fe([].concat((0,k.Z)(l),(0,k.Z)(a)))}else fe(e)})),ve=void 0!==S?S:w,ge=O||E,me=_||L;var ye=c.useMemo((function(){return{options:Y,fieldNames:Z,values:ue,halfValues:ce,changeOnSelect:s,onSelect:pe,checkable:h,searchOptions:ie,dropdownPrefixCls:C,loadData:x,expandTrigger:y,expandIcon:A,loadingIcon:N,dropdownMenuColumnStyle:I}}),[Y,Z,ue,ce,s,pe,h,ie,C,x,y,A,N,I]),be=!(J?ie:Y).length,Ce=J&&oe.matchInputWidth||be?{}:{minWidth:"auto"};return c.createElement(Zn.Provider,{value:ye},c.createElement(vn,(0,Qe.Z)({},H,{ref:t,id:$,prefixCls:o,autoClearSearchValue:p,dropdownMatchSelectWidth:P,dropdownStyle:Ce,displayValues:he,onDisplayValuesChange:function(e,t){if("clear"!==t.type){var n=t.values[0].valueCells;pe(n)}else fe([])},mode:j?"multiple":void 0,searchValue:J,onSearch:function(e,t){ee(e),"blur"!==t.source&&g&&g(e)},showSearch:re,OptionList:yr,emptyOptions:be,open:ve,dropdownClassName:ge,placement:me,onDropdownVisibleChange:function(e){null==T||T(e),null==M||M(e)},getRawInputElement:function(){return B}})))}));xr.SHOW_PARENT=Qn,xr.SHOW_CHILD=Jn;var wr=xr,Sr=n(8745),Er=n(9708),Or=n(88258),Ir=n(87244),Lr=n(13458),_r=n(78642),Tr=n(64200),Mr=n(4173);const Rr=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},(0,m.Wf)(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},(0,m.Wf)(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},(0,m.Wf)(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},(0,m.oN)(e))},[`${t}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:`${e.lineWidthBold}px solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`\n        ${n}:not(${n}-disabled),\n        ${t}:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${t}-checked:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function Ar(e,t){const n=(0,b.TS)(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[Rr(n)]}var Nr=(0,y.Z)("Checkbox",((e,t)=>{let{prefixCls:n}=t;return[Ar(n,e)]})),Br=n(80110);const Dr=e=>{const{prefixCls:t,componentCls:n,antCls:r}=e,o=`${n}-menu-item`,i=`\n    &${o}-expand ${o}-expand-icon,\n    ${o}-loading-icon\n  `;return[{[n]:{width:e.controlWidth}},{[`${n}-dropdown`]:[Ar(`${t}-checkbox`,e),{[`&${r}-select-dropdown`]:{padding:0}},{[n]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${n}-menu-empty`]:{[`${n}-menu`]:{width:"100%",height:"auto",[o]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.menuPadding,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},"&-item":Object.assign(Object.assign({},m.vS),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:e.optionPadding,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[i]:{color:e.colorTextDisabled}},[`&-active:not(${o}-disabled)`]:{"&, &:hover":{fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg}},"&-content":{flex:"auto"},[i]:{marginInlineStart:e.paddingXXS,color:e.colorTextDescription,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]},{[`${n}-dropdown-rtl`]:{direction:"rtl"}},(0,Br.c)(e)]};var kr=(0,y.Z)("Cascader",(e=>[Dr(e)]),(e=>{const t=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return{controlWidth:184,controlItemWidth:111,dropdownHeight:180,optionSelectedBg:e.controlItemBgActive,optionSelectedFontWeight:e.fontWeightStrong,optionPadding:`${t}px ${e.paddingSM}px`,menuPadding:e.paddingXXS}})),Pr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const{SHOW_CHILD:zr,SHOW_PARENT:Fr}=wr;const Hr=(e,t,n,r)=>{const o=[],i=e.toLowerCase();return t.forEach(((e,t)=>{0!==t&&o.push(" / ");let a=e[r.label];const l=typeof a;"string"!==l&&"number"!==l||(a=function(e,t,n){const r=e.toLowerCase().split(t).reduce(((e,n,r)=>0===r?[n]:[].concat((0,k.Z)(e),[t,n])),[]),o=[];let i=0;return r.forEach(((t,r)=>{const a=i+t.length;let l=e.slice(i,a);i=a,r%2==1&&(l=c.createElement("span",{className:`${n}-menu-item-keyword`,key:`separator-${r}`},l)),o.push(l)})),o}(String(a),i,n)),o.push(a)})),o},$r=c.forwardRef(((e,t)=>{const{prefixCls:n,size:r,disabled:o,className:i,rootClassName:a,multiple:l,bordered:f=!0,transitionName:p,choiceTransitionName:v="",popupClassName:g,dropdownClassName:m,expandIcon:y,placement:b,showSearch:C,allowClear:x=!0,notFoundContent:w,direction:S,getPopupContainer:E,status:O,showArrow:I,builtinPlacements:L,style:_}=e,T=Pr(e,["prefixCls","size","disabled","className","rootClassName","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow","builtinPlacements","style"]),M=(0,u.Z)(T,["suffixIcon"]),{getPopupContainer:R,getPrefixCls:A,renderEmpty:N,direction:B,popupOverflow:D,cascader:k}=c.useContext(d.E_),P=S||B,H="rtl"===P,{status:$,hasFeedback:j,isFormItemInput:W,feedbackIcon:G}=c.useContext(F.aM),V=(0,Er.F)($,O);const U=w||(null==N?void 0:N("Cascader"))||c.createElement(Or.Z,{componentName:"Cascader"}),Z=A(),Y=A("select",n),X=A("cascader",n),[q,K]=(0,Ir.Z)(Y),[Q]=kr(X),{compactSize:J,compactItemClassnames:ee}=(0,Mr.ri)(Y,S),te=s()(g||m,`${X}-dropdown`,{[`${X}-dropdown-rtl`]:"rtl"===P},a,K),ne=c.useMemo((()=>{if(!C)return C;let e={render:Hr};return"object"==typeof C&&(e=Object.assign(Object.assign({},e),C)),e}),[C]),re=(0,h.Z)((e=>{var t;return null!==(t=null!=r?r:J)&&void 0!==t?t:e})),oe=c.useContext(ie.Z),ae=null!=o?o:oe;let le=y;y||(le=H?c.createElement(Et.Z,null):c.createElement(Ot.Z,null));const se=c.createElement("span",{className:`${Y}-menu-item-loading-icon`},c.createElement(dt.Z,{spin:!0})),ue=c.useMemo((()=>!!l&&c.createElement("span",{className:`${X}-checkbox-inner`})),[l]),ce=(0,_r.Z)(e.suffixIcon,I),{suffixIcon:de,removeIcon:he,clearIcon:fe}=(0,Tr.Z)(Object.assign(Object.assign({},e),{hasFeedback:j,feedbackIcon:G,showSuffixIcon:ce,multiple:l,prefixCls:Y,componentName:"Cascader"})),pe=c.useMemo((()=>void 0!==b?b:H?"bottomRight":"bottomLeft"),[b,H]),ve=(0,Lr.Z)(L,D),ge=!0===x?{clearIcon:fe}:x;return Q(q(c.createElement(wr,Object.assign({prefixCls:Y,className:s()(!n&&X,{[`${Y}-lg`]:"large"===re,[`${Y}-sm`]:"small"===re,[`${Y}-rtl`]:H,[`${Y}-borderless`]:!f,[`${Y}-in-form-item`]:W},(0,Er.Z)(Y,V,j),ee,null==k?void 0:k.className,i,a,K),disabled:ae,style:Object.assign(Object.assign({},null==k?void 0:k.style),_)},M,{builtinPlacements:ve,direction:P,placement:pe,notFoundContent:U,allowClear:ge,showSearch:ne,expandIcon:le,suffixIcon:de,removeIcon:he,loadingIcon:se,checkable:ue,dropdownClassName:te,dropdownPrefixCls:n||X,choiceTransitionName:(0,z.m)(Z,"",v),transitionName:(0,z.m)(Z,"slide-up",p),getPopupContainer:E||R,ref:t}))))}));const jr=(0,Sr.Z)($r);$r.SHOW_PARENT=Fr,$r.SHOW_CHILD=zr,$r._InternalPanelDoNotUseOrYouWillBeFired=jr;var Wr=$r;const Gr=c.createContext(null),Vr=Gr.Provider;var Ur=Gr;const Zr=c.createContext(null),Yr=Zr.Provider;var Xr=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],qr=(0,c.forwardRef)((function(e,t){var n,r=e.prefixCls,o=void 0===r?"rc-checkbox":r,i=e.className,a=e.style,l=e.checked,u=e.disabled,d=e.defaultChecked,h=void 0!==d&&d,f=e.type,p=void 0===f?"checkbox":f,v=e.title,g=e.onChange,m=(0,Lt.Z)(e,Xr),y=(0,c.useRef)(null),b=(0,Rt.Z)(h,{value:l}),C=(0,It.Z)(b,2),x=C[0],w=C[1];(0,c.useImperativeHandle)(t,(function(){return{focus:function(){var e;null===(e=y.current)||void 0===e||e.focus()},blur:function(){var e;null===(e=y.current)||void 0===e||e.blur()},input:y.current}}));var S=s()(o,i,(n={},(0,_t.Z)(n,"".concat(o,"-checked"),x),(0,_t.Z)(n,"".concat(o,"-disabled"),u),n));return c.createElement("span",{className:S,title:v,style:a},c.createElement("input",(0,Qe.Z)({},m,{className:"".concat(o,"-input"),ref:y,onChange:function(t){u||("checked"in e||w(t.target.checked),null==g||g({target:(0,Tt.Z)((0,Tt.Z)({},e),{},{type:p,checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t.nativeEvent}))},disabled:u,checked:!!x,type:p})),c.createElement("span",{className:"".concat(o,"-inner")}))})),Kr=qr,Qr=n(45353),Jr=n(17415);const eo=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-group`;return{[r]:Object.assign(Object.assign({},(0,m.Wf)(e)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},to=e=>{const{componentCls:t,wrapperMarginInlineEnd:n,colorPrimary:r,radioSize:o,motionDurationSlow:i,motionDurationMid:a,motionEaseInOutCirc:l,colorBgContainer:s,colorBorder:u,lineWidth:c,dotSize:d,colorBgContainerDisabled:h,colorTextDisabled:f,paddingXS:p,dotColorDisabled:v,lineType:g,radioDotDisabledSize:y,wireframe:b,colorWhite:C}=e,x=`${t}-inner`;return{[`${t}-wrapper`]:Object.assign(Object.assign({},(0,m.Wf)(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer",[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${c}px ${g} ${r}`,borderRadius:"50%",visibility:"hidden",content:'""'},[t]:Object.assign(Object.assign({},(0,m.Wf)(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,\n        &:hover ${x}`]:{borderColor:r},[`${t}-input:focus-visible + ${x}`]:Object.assign({},(0,m.oN)(e)),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:o,height:o,marginBlockStart:o/-2,marginInlineStart:o/-2,backgroundColor:b?r:C,borderBlockStart:0,borderInlineStart:0,borderRadius:o,transform:"scale(0)",opacity:0,transition:`all ${i} ${l}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:o,height:o,backgroundColor:s,borderColor:u,borderStyle:"solid",borderWidth:c,borderRadius:"50%",transition:`all ${a}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[x]:{borderColor:r,backgroundColor:b?s:r,"&::after":{transform:`scale(${d/o})`,opacity:1,transition:`all ${i} ${l}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[x]:{backgroundColor:h,borderColor:u,cursor:"not-allowed","&::after":{backgroundColor:v}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:f,cursor:"not-allowed"},[`&${t}-checked`]:{[x]:{"&::after":{transform:`scale(${y/o})`}}}},[`span${t} + *`]:{paddingInlineStart:p,paddingInlineEnd:p}})}},no=e=>{const{buttonColor:t,controlHeight:n,componentCls:r,lineWidth:o,lineType:i,colorBorder:a,motionDurationSlow:l,motionDurationMid:s,buttonPaddingInline:u,fontSize:c,buttonBg:d,fontSizeLG:h,controlHeightLG:f,controlHeightSM:p,paddingXS:v,borderRadius:g,borderRadiusSM:y,borderRadiusLG:b,buttonCheckedBg:C,buttonSolidCheckedColor:x,colorTextDisabled:w,colorBgContainerDisabled:S,buttonCheckedBgDisabled:E,buttonCheckedColorDisabled:O,colorPrimary:I,colorPrimaryHover:L,colorPrimaryActive:_,buttonSolidCheckedBg:T,buttonSolidCheckedHoverBg:M,buttonSolidCheckedActiveBg:R}=e;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:u,paddingBlock:0,color:t,fontSize:c,lineHeight:n-2*o+"px",background:d,border:`${o}px ${i} ${a}`,borderBlockStartWidth:o+.02,borderInlineStartWidth:0,borderInlineEndWidth:o,cursor:"pointer",transition:[`color ${s}`,`background ${s}`,`box-shadow ${s}`].join(","),a:{color:t},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:-o,insetInlineStart:-o,display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:o,paddingInline:0,backgroundColor:a,transition:`background-color ${l}`,content:'""'}},"&:first-child":{borderInlineStart:`${o}px ${i} ${a}`,borderStartStartRadius:g,borderEndStartRadius:g},"&:last-child":{borderStartEndRadius:g,borderEndEndRadius:g},"&:first-child:last-child":{borderRadius:g},[`${r}-group-large &`]:{height:f,fontSize:h,lineHeight:f-2*o+"px","&:first-child":{borderStartStartRadius:b,borderEndStartRadius:b},"&:last-child":{borderStartEndRadius:b,borderEndEndRadius:b}},[`${r}-group-small &`]:{height:p,paddingInline:v-o,paddingBlock:0,lineHeight:p-2*o+"px","&:first-child":{borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y}},"&:hover":{position:"relative",color:I},"&:has(:focus-visible)":Object.assign({},(0,m.oN)(e)),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:I,background:C,borderColor:I,"&::before":{backgroundColor:I},"&:first-child":{borderColor:I},"&:hover":{color:L,borderColor:L,"&::before":{backgroundColor:L}},"&:active":{color:_,borderColor:_,"&::before":{backgroundColor:_}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:x,background:T,borderColor:T,"&:hover":{color:x,background:M,borderColor:M},"&:active":{color:x,background:R,borderColor:R}},"&-disabled":{color:w,backgroundColor:S,borderColor:a,cursor:"not-allowed","&:first-child, &:hover":{color:w,backgroundColor:S,borderColor:a}},[`&-disabled${r}-button-wrapper-checked`]:{color:O,backgroundColor:E,borderColor:a,boxShadow:"none"}}}},ro=e=>e-8;var oo=(0,y.Z)("Radio",(e=>{const{controlOutline:t,controlOutlineWidth:n,radioSize:r}=e,o=`0 0 0 ${n}px ${t}`,i=o,a=ro(r),l=(0,b.TS)(e,{radioDotDisabledSize:a,radioFocusShadow:o,radioButtonFocusShadow:i});return[eo(l),to(l),no(l)]}),(e=>{const{wireframe:t,padding:n,marginXS:r,lineWidth:o,fontSizeLG:i,colorText:a,colorBgContainer:l,colorTextDisabled:s,controlItemBgActiveDisabled:u,colorTextLightSolid:c,colorPrimary:d,colorPrimaryHover:h,colorPrimaryActive:f}=e,p=i;return{radioSize:p,dotSize:t?ro(p):p-2*(4+o),dotColorDisabled:s,buttonSolidCheckedColor:c,buttonSolidCheckedBg:d,buttonSolidCheckedHoverBg:h,buttonSolidCheckedActiveBg:f,buttonBg:l,buttonCheckedBg:l,buttonColor:a,buttonCheckedBgDisabled:u,buttonCheckedColorDisabled:s,buttonPaddingInline:n-o,wrapperMarginInlineEnd:r}})),io=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const ao=(e,t)=>{var n,r;const o=c.useContext(Ur),i=c.useContext(Zr),{getPrefixCls:a,direction:l,radio:u}=c.useContext(d.E_),h=c.useRef(null),f=(0,Oe.sQ)(t,h),{isFormItemInput:p}=c.useContext(F.aM);const v=t=>{var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null==o?void 0:o.onChange)||void 0===r||r.call(o,t)},{prefixCls:g,className:m,rootClassName:y,children:b,style:C}=e,x=io(e,["prefixCls","className","rootClassName","children","style"]),w=a("radio",g),S="button"===((null==o?void 0:o.optionType)||i),E=S?`${w}-button`:w,[O,I]=oo(w),L=Object.assign({},x),_=c.useContext(ie.Z);o&&(L.name=o.name,L.onChange=v,L.checked=e.value===o.value,L.disabled=null!==(n=L.disabled)&&void 0!==n?n:o.disabled),L.disabled=null!==(r=L.disabled)&&void 0!==r?r:_;const T=s()(`${E}-wrapper`,{[`${E}-wrapper-checked`]:L.checked,[`${E}-wrapper-disabled`]:L.disabled,[`${E}-wrapper-rtl`]:"rtl"===l,[`${E}-wrapper-in-form-item`]:p},null==u?void 0:u.className,m,y,I);return O(c.createElement(Qr.Z,{component:"Radio",disabled:L.disabled},c.createElement("label",{className:T,style:Object.assign(Object.assign({},null==u?void 0:u.style),C),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},c.createElement(Kr,Object.assign({},L,{className:s()(L.className,!S&&Jr.A),type:"radio",prefixCls:E,ref:f})),void 0!==b?c.createElement("span",null,b):null)))};var lo=c.forwardRef(ao);const so=c.forwardRef(((e,t)=>{const{getPrefixCls:n,direction:r}=c.useContext(d.E_),[o,i]=(0,Rt.Z)(e.defaultValue,{value:e.value}),{prefixCls:a,className:l,rootClassName:u,options:f,buttonStyle:p="outline",disabled:v,children:g,size:m,style:y,id:b,onMouseEnter:C,onMouseLeave:x,onFocus:w,onBlur:S}=e,E=n("radio",a),O=`${E}-group`,[I,L]=oo(E);let _=g;f&&f.length>0&&(_=f.map((e=>"string"==typeof e||"number"==typeof e?c.createElement(lo,{key:e.toString(),prefixCls:E,disabled:v,value:e,checked:o===e},e):c.createElement(lo,{key:`radio-group-value-options-${e.value}`,prefixCls:E,disabled:e.disabled||v,value:e.value,checked:o===e.value,title:e.title,style:e.style},e.label))));const T=(0,h.Z)(m),M=s()(O,`${O}-${p}`,{[`${O}-${T}`]:T,[`${O}-rtl`]:"rtl"===r},l,u,L);return I(c.createElement("div",Object.assign({},(0,Ft.Z)(e,{aria:!0,data:!0}),{className:M,style:y,onMouseEnter:C,onMouseLeave:x,onFocus:w,onBlur:S,id:b,ref:t}),c.createElement(Vr,{value:{onChange:t=>{const n=o,r=t.target.value;"value"in e||i(r);const{onChange:a}=e;a&&r!==n&&a(t)},value:o,disabled:e.disabled,name:e.name,optionType:e.optionType}},_)))}));var uo=c.memo(so),co=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const ho=(e,t)=>{const{getPrefixCls:n}=c.useContext(d.E_),{prefixCls:r}=e,o=co(e,["prefixCls"]),i=n("radio",r);return c.createElement(Yr,{value:"button"},c.createElement(lo,Object.assign({prefixCls:i},o,{type:"radio",ref:t})))};var fo=c.forwardRef(ho);const po=lo;po.Button=fo,po.Group=uo,po.__ANT_RADIO=!0;var vo=po,go=n(15867),mo=n(85096);var yo=c.createContext(null),bo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Co=(e,t)=>{var n;const{prefixCls:r,className:o,rootClassName:i,children:a,indeterminate:l=!1,style:u,onMouseEnter:h,onMouseLeave:f,skipGroup:p=!1,disabled:v}=e,g=bo(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:m,direction:y,checkbox:b}=c.useContext(d.E_),C=c.useContext(yo),{isFormItemInput:x}=c.useContext(F.aM),w=c.useContext(ie.Z),S=null!==(n=(null==C?void 0:C.disabled)||v)&&void 0!==n?n:w,E=c.useRef(g.value);c.useEffect((()=>{null==C||C.registerValue(g.value)}),[]),c.useEffect((()=>{if(!p)return g.value!==E.current&&(null==C||C.cancelValue(E.current),null==C||C.registerValue(g.value),E.current=g.value),()=>null==C?void 0:C.cancelValue(g.value)}),[g.value]);const O=m("checkbox",r),[I,L]=Nr(O),_=Object.assign({},g);C&&!p&&(_.onChange=function(){g.onChange&&g.onChange.apply(g,arguments),C.toggleOption&&C.toggleOption({label:a,value:g.value})},_.name=C.name,_.checked=C.value.includes(g.value));const T=s()(`${O}-wrapper`,{[`${O}-rtl`]:"rtl"===y,[`${O}-wrapper-checked`]:_.checked,[`${O}-wrapper-disabled`]:S,[`${O}-wrapper-in-form-item`]:x},null==b?void 0:b.className,o,i,L),M=s()({[`${O}-indeterminate`]:l},Jr.A,L),R=l?"mixed":void 0;return I(c.createElement(Qr.Z,{component:"Checkbox",disabled:S},c.createElement("label",{className:T,style:Object.assign(Object.assign({},null==b?void 0:b.style),u),onMouseEnter:h,onMouseLeave:f},c.createElement(Kr,Object.assign({"aria-checked":R},_,{prefixCls:O,className:M,disabled:S,ref:t})),void 0!==a&&c.createElement("span",null,a))))};var xo=c.forwardRef(Co),wo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const So=(e,t)=>{const{defaultValue:n,children:r,options:o=[],prefixCls:i,className:a,rootClassName:l,style:h,onChange:f}=e,p=wo(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:v,direction:g}=c.useContext(d.E_),[m,y]=c.useState(p.value||n||[]),[b,C]=c.useState([]);c.useEffect((()=>{"value"in p&&y(p.value||[])}),[p.value]);const x=c.useMemo((()=>o.map((e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e))),[o]),w=v("checkbox",i),S=`${w}-group`,[E,O]=Nr(w),I=(0,u.Z)(p,["value","disabled"]),L=o.length?x.map((e=>c.createElement(xo,{prefixCls:w,key:e.value.toString(),disabled:"disabled"in e?e.disabled:p.disabled,value:e.value,checked:m.includes(e.value),onChange:e.onChange,className:`${S}-item`,style:e.style,title:e.title},e.label))):r,_={toggleOption:e=>{const t=m.indexOf(e.value),n=(0,k.Z)(m);-1===t?n.push(e.value):n.splice(t,1),"value"in p||y(n),null==f||f(n.filter((e=>b.includes(e))).sort(((e,t)=>x.findIndex((t=>t.value===e))-x.findIndex((e=>e.value===t)))))},value:m,disabled:p.disabled,name:p.name,registerValue:e=>{C((t=>[].concat((0,k.Z)(t),[e])))},cancelValue:e=>{C((t=>t.filter((t=>t!==e))))}},T=s()(S,{[`${S}-rtl`]:"rtl"===g},a,l,O);return E(c.createElement("div",Object.assign({className:T,style:h},I,{ref:t}),c.createElement(yo.Provider,{value:_},L)))},Eo=c.forwardRef(So);var Oo=c.memo(Eo);const Io=xo;Io.Group=Oo,Io.__ANT_CHECKBOX=!0;var Lo=Io,_o=n(74627),To=n(78957),Mo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},Ro=function(e,t){return c.createElement(et.Z,(0,Qe.Z)({},e,{ref:t,icon:Mo}))};var Ao=c.forwardRef(Ro),No={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},Bo=function(e,t){return c.createElement(et.Z,(0,Qe.Z)({},e,{ref:t,icon:No}))};var Do=c.forwardRef(Bo),ko=n(15671),Po=n(43144),zo=n(32531),Fo=n(73568),Ho={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},$o=n(81626),jo=function(e){(0,zo.Z)(n,e);var t=(0,Fo.Z)(n);function n(){var e;(0,ko.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={goInputText:""},e.getValidValue=function(){var t=e.state.goInputText;return!t||Number.isNaN(t)?void 0:Number(t)},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,r=n.goButton,o=n.quickGo,i=n.rootPrefixCls,a=e.state.goInputText;r||""===a||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(i,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(i,"-item"))>=0)||o(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==Ho.ENTER&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return(0,Po.Z)(n,[{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(Number.isNaN(Number(e))?0:Number(e))-(Number.isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,r=t.locale,o=t.rootPrefixCls,i=t.changeSize,a=t.quickGo,l=t.goButton,s=t.selectComponentClass,u=t.buildOptionText,d=t.selectPrefixCls,h=t.disabled,f=this.state.goInputText,p="".concat(o,"-options"),v=s,g=null,m=null,y=null;if(!i&&!a)return null;var b=this.getPageSizeOptions();if(i&&v){var C=b.map((function(t,n){return c.createElement(v.Option,{key:n,value:t.toString()},(u||e.buildOptionText)(t))}));g=c.createElement(v,{disabled:h,prefixCls:d,showSearch:!1,className:"".concat(p,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(n||b[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":r.page_size,defaultOpen:!1},C)}return a&&(l&&(y="boolean"==typeof l?c.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:h,className:"".concat(p,"-quick-jumper-button")},r.jump_to_confirm):c.createElement("span",{onClick:this.go,onKeyUp:this.go},l)),m=c.createElement("div",{className:"".concat(p,"-quick-jumper")},r.jump_to,c.createElement("input",{disabled:h,type:"text",value:f,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":r.page}),r.page,y)),c.createElement("li",{className:"".concat(p)},g,m)}}]),n}(c.Component);jo.defaultProps={pageSizeOptions:["10","20","50","100"]};var Wo=jo,Go=function(e){var t,n=e.rootPrefixCls,r=e.page,o=e.active,i=e.className,a=e.showTitle,l=e.onClick,u=e.onKeyPress,d=e.itemRender,h="".concat(n,"-item"),f=s()(h,"".concat(h,"-").concat(r),(t={},(0,_t.Z)(t,"".concat(h,"-active"),o),(0,_t.Z)(t,"".concat(h,"-disabled"),!r),(0,_t.Z)(t,e.className,i),t)),p=d(r,"page",c.createElement("a",{rel:"nofollow"},r));return p?c.createElement("li",{title:a?r.toString():null,className:f,onClick:function(){l(r)},onKeyPress:function(e){u(e,l,r)},tabIndex:0},p):null};function Vo(){}function Uo(e){var t=Number(e);return"number"==typeof t&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Zo(e,t,n){var r=void 0===e?t.pageSize:e;return Math.floor((n.total-1)/r)+1}var Yo=function(e){(0,zo.Z)(n,e);var t=(0,Fo.Z)(n);function n(e){var r;(0,ko.Z)(this,n),(r=t.call(this,e)).paginationNode=c.createRef(),r.getJumpPrevPage=function(){return Math.max(1,r.state.current-(r.props.showLessItems?3:5))},r.getJumpNextPage=function(){return Math.min(Zo(void 0,r.state,r.props),r.state.current+(r.props.showLessItems?3:5))},r.getItemIcon=function(e,t){var n=r.props.prefixCls,o=e||c.createElement("button",{type:"button","aria-label":t,className:"".concat(n,"-item-link")});return"function"==typeof e&&(o=c.createElement(e,(0,Tt.Z)({},r.props))),o},r.isValid=function(e){var t=r.props.total;return Uo(e)&&e!==r.state.current&&Uo(t)&&t>0},r.shouldDisplayQuickJumper=function(){var e=r.props,t=e.showQuickJumper;return!(e.total<=r.state.pageSize)&&t},r.handleKeyDown=function(e){e.keyCode!==Ho.ARROW_UP&&e.keyCode!==Ho.ARROW_DOWN||e.preventDefault()},r.handleKeyUp=function(e){var t=r.getValidValue(e);t!==r.state.currentInputValue&&r.setState({currentInputValue:t}),e.keyCode===Ho.ENTER?r.handleChange(t):e.keyCode===Ho.ARROW_UP?r.handleChange(t-1):e.keyCode===Ho.ARROW_DOWN&&r.handleChange(t+1)},r.handleBlur=function(e){var t=r.getValidValue(e);r.handleChange(t)},r.changePageSize=function(e){var t=r.state.current,n=Zo(e,r.state,r.props);t=t>n?n:t,0===n&&(t=r.state.current),"number"==typeof e&&("pageSize"in r.props||r.setState({pageSize:e}),"current"in r.props||r.setState({current:t,currentInputValue:t})),r.props.onShowSizeChange(t,e),"onChange"in r.props&&r.props.onChange&&r.props.onChange(t,e)},r.handleChange=function(e){var t=r.props,n=t.disabled,o=t.onChange,i=r.state,a=i.pageSize,l=i.current,s=i.currentInputValue;if(r.isValid(e)&&!n){var u=Zo(void 0,r.state,r.props),c=e;return e>u?c=u:e<1&&(c=1),"current"in r.props||r.setState({current:c}),c!==s&&r.setState({currentInputValue:c}),o(c,a),c}return l},r.prev=function(){r.hasPrev()&&r.handleChange(r.state.current-1)},r.next=function(){r.hasNext()&&r.handleChange(r.state.current+1)},r.jumpPrev=function(){r.handleChange(r.getJumpPrevPage())},r.jumpNext=function(){r.handleChange(r.getJumpNextPage())},r.hasPrev=function(){return r.state.current>1},r.hasNext=function(){return r.state.current<Zo(void 0,r.state,r.props)},r.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];t.apply(void 0,r)}},r.runIfEnterPrev=function(e){r.runIfEnter(e,r.prev)},r.runIfEnterNext=function(e){r.runIfEnter(e,r.next)},r.runIfEnterJumpPrev=function(e){r.runIfEnter(e,r.jumpPrev)},r.runIfEnterJumpNext=function(e){r.runIfEnter(e,r.jumpNext)},r.handleGoTO=function(e){e.keyCode!==Ho.ENTER&&"click"!==e.type||r.handleChange(r.state.currentInputValue)},r.renderPrev=function(e){var t=r.props,n=t.prevIcon,o=(0,t.itemRender)(e,"prev",r.getItemIcon(n,"prev page")),i=!r.hasPrev();return(0,c.isValidElement)(o)?(0,c.cloneElement)(o,{disabled:i}):o},r.renderNext=function(e){var t=r.props,n=t.nextIcon,o=(0,t.itemRender)(e,"next",r.getItemIcon(n,"next page")),i=!r.hasNext();return(0,c.isValidElement)(o)?(0,c.cloneElement)(o,{disabled:i}):o};var o=e.onChange!==Vo;"current"in e&&!o&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var i=e.defaultCurrent;"current"in e&&(i=e.current);var a=e.defaultPageSize;return"pageSize"in e&&(a=e.pageSize),i=Math.min(i,Zo(a,void 0,e)),r.state={current:i,currentInputValue:i,pageSize:a},r}return(0,Po.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode.current){var r,o=this.paginationNode.current.querySelector(".".concat(n,"-item-").concat(t.current));if(o&&document.activeElement===o)null==o||null===(r=o.blur)||void 0===r||r.call(o)}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=Zo(void 0,this.state,this.props),r=this.state.currentInputValue;return""===t?t:Number.isNaN(Number(t))?r:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,r=e.totalBoundaryShowSizeChanger;return void 0!==t?t:n>r}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.style,o=e.disabled,i=e.hideOnSinglePage,a=e.total,l=e.locale,u=e.showQuickJumper,d=e.showLessItems,h=e.showTitle,f=e.showTotal,p=e.simple,v=e.itemRender,g=e.showPrevNextJumpers,m=e.jumpPrevIcon,y=e.jumpNextIcon,b=e.selectComponentClass,C=e.selectPrefixCls,x=e.pageSizeOptions,w=this.state,S=w.current,E=w.pageSize,O=w.currentInputValue;if(!0===i&&a<=E)return null;var I=Zo(void 0,this.state,this.props),L=[],_=null,T=null,M=null,R=null,A=null,N=u&&u.goButton,B=d?1:2,D=S-1>0?S-1:0,k=S+1<I?S+1:I,P=(0,Ft.Z)(this.props,{aria:!0,data:!0}),z=f&&c.createElement("li",{className:"".concat(t,"-total-text")},f(a,[0===a?0:(S-1)*E+1,S*E>a?a:S*E]));if(p){N&&(A="boolean"==typeof N?c.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},l.jump_to_confirm):c.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},N),A=c.createElement("li",{title:h?"".concat(l.jump_to).concat(S,"/").concat(I):null,className:"".concat(t,"-simple-pager")},A));var F=this.renderPrev(D);return c.createElement("ul",(0,Qe.Z)({className:s()(t,"".concat(t,"-simple"),(0,_t.Z)({},"".concat(t,"-disabled"),o),n),style:r,ref:this.paginationNode},P),z,F?c.createElement("li",{title:h?l.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:s()("".concat(t,"-prev"),(0,_t.Z)({},"".concat(t,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},F):null,c.createElement("li",{title:h?"".concat(S,"/").concat(I):null,className:"".concat(t,"-simple-pager")},c.createElement("input",{type:"text",value:O,disabled:o,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),c.createElement("span",{className:"".concat(t,"-slash")},"/"),I),c.createElement("li",{title:h?l.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:s()("".concat(t,"-next"),(0,_t.Z)({},"".concat(t,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(k)),A)}if(I<=3+2*B){var H={locale:l,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:h,itemRender:v};I||L.push(c.createElement(Go,(0,Qe.Z)({},H,{key:"noPager",page:1,className:"".concat(t,"-item-disabled")})));for(var $=1;$<=I;$+=1){var j=S===$;L.push(c.createElement(Go,(0,Qe.Z)({},H,{key:$,page:$,active:j})))}}else{var W=d?l.prev_3:l.prev_5,G=d?l.next_3:l.next_5,V=v(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(m,"prev page")),U=v(this.getJumpNextPage(),"jump-next",this.getItemIcon(y,"next page"));g&&(_=V?c.createElement("li",{title:h?W:null,key:"prev",onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:s()("".concat(t,"-jump-prev"),(0,_t.Z)({},"".concat(t,"-jump-prev-custom-icon"),!!m))},V):null,T=U?c.createElement("li",{title:h?G:null,key:"next",tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:s()("".concat(t,"-jump-next"),(0,_t.Z)({},"".concat(t,"-jump-next-custom-icon"),!!y))},U):null),R=c.createElement(Go,{locale:l,last:!0,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:I,page:I,active:!1,showTitle:h,itemRender:v}),M=c.createElement(Go,{locale:l,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:h,itemRender:v});var Z=Math.max(1,S-B),Y=Math.min(S+B,I);S-1<=B&&(Y=1+2*B),I-S<=B&&(Z=I-2*B);for(var X=Z;X<=Y;X+=1){var q=S===X;L.push(c.createElement(Go,{locale:l,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:X,page:X,active:q,showTitle:h,itemRender:v}))}S-1>=2*B&&3!==S&&(L[0]=(0,c.cloneElement)(L[0],{className:"".concat(t,"-item-after-jump-prev")}),L.unshift(_)),I-S>=2*B&&S!==I-2&&(L[L.length-1]=(0,c.cloneElement)(L[L.length-1],{className:"".concat(t,"-item-before-jump-next")}),L.push(T)),1!==Z&&L.unshift(M),Y!==I&&L.push(R)}var K=!this.hasPrev()||!I,Q=!this.hasNext()||!I,J=this.renderPrev(D),ee=this.renderNext(k);return c.createElement("ul",(0,Qe.Z)({className:s()(t,n,(0,_t.Z)({},"".concat(t,"-disabled"),o)),style:r,ref:this.paginationNode},P),z,J?c.createElement("li",{title:h?l.prev_page:null,onClick:this.prev,tabIndex:K?null:0,onKeyPress:this.runIfEnterPrev,className:s()("".concat(t,"-prev"),(0,_t.Z)({},"".concat(t,"-disabled"),K)),"aria-disabled":K},J):null,L,ee?c.createElement("li",{title:h?l.next_page:null,onClick:this.next,tabIndex:Q?null:0,onKeyPress:this.runIfEnterNext,className:s()("".concat(t,"-next"),(0,_t.Z)({},"".concat(t,"-disabled"),Q)),"aria-disabled":Q},ee):null,c.createElement(Wo,{disabled:o,locale:l,rootPrefixCls:t,selectComponentClass:b,selectPrefixCls:C,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:S,pageSize:E,pageSizeOptions:x,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:N}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var r=t.current,o=Zo(e.pageSize,t,e);r=r>o?o:r,"current"in e||(n.current=r,n.currentInputValue=r),n.pageSize=e.pageSize}return n}}]),n}(c.Component);Yo.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Vo,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Vo,locale:$o.Z,style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var Xo=Yo,qo=n(62906),Ko=n(68821);const Qo=e=>c.createElement(St.Z,Object.assign({},e,{showSearch:!0,size:"small"})),Jo=e=>c.createElement(St.Z,Object.assign({},e,{showSearch:!0,size:"middle"}));Qo.Option=St.Z.Option,Jo.Option=St.Z.Option;var ei=n(47673);const ti=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}},[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{[`&${t}-disabled ${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},ni=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:`${e.itemSizeSM}px`},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:e.itemSizeSM-2+"px"},[`&${t}-mini:not(${t}-disabled) ${t}-item:not(${t}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:`${e.itemSizeSM}px`},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`\n    &${t}-mini ${t}-prev ${t}-item-link,\n    &${t}-mini ${t}-next ${t}-item-link\n    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:`${e.itemSizeSM}px`}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:`${e.itemSizeSM}px`},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:`${e.itemSizeSM}px`,input:Object.assign(Object.assign({},(0,ei.x0)(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},ri=e=>{const{componentCls:t}=e;return{[`\n    &${t}-simple ${t}-prev,\n    &${t}-simple ${t}-next\n    `]:{height:e.itemSizeSM,lineHeight:`${e.itemSizeSM}px`,verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:`${e.itemSizeSM}px`}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:e.marginXS,padding:`0 ${e.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${e.inputOutlineOffset}px 0 ${e.controlOutlineWidth}px ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},oi=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`\n    ${t}-prev,\n    ${t}-jump-prev,\n    ${t}-jump-next\n    `]:{marginInlineEnd:e.marginXS},[`\n    ${t}-prev,\n    ${t}-next,\n    ${t}-jump-prev,\n    ${t}-jump-next\n    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:`${e.itemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:`${e.controlHeight}px`,verticalAlign:"top",input:Object.assign(Object.assign({},(0,ei.ik)(e)),{width:1.25*e.controlHeightLG,height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},ii=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:e.itemSize-2+"px",textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${e.paginationItemPaddingInline}px`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},ai=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,m.Wf)(e)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:e.itemSize-2+"px",verticalAlign:"middle"}}),ii(e)),oi(e)),ri(e)),ni(e)),ti(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},li=e=>{const{componentCls:t}=e;return{[`${t}${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}},si=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},(0,m.Qy)(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},(0,m.oN)(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Object.assign({},(0,m.oN)(e))}}}};var ui=(0,y.Z)("Pagination",(e=>{const t=(0,b.TS)(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.marginXXS/2,paginationMiniQuickJumperInputWidth:1.1*e.controlHeightLG,paginationItemPaddingInline:1.5*e.marginXXS,paginationEllipsisLetterSpacing:e.marginXXS/2,paginationSlashMarginInlineStart:e.marginXXS,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},(0,ei.e5)(e),(0,ei.TM)(e));return[ai(t),si(t),e.wireframe&&li(t)]}),(e=>({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0}))),ci=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var di=e=>{const{prefixCls:t,selectPrefixCls:n,className:r,rootClassName:o,style:i,size:a,locale:l,selectComponentClass:u,responsive:f,showSizeChanger:p}=e,v=ci(e,["prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:g}=(0,Ko.Z)(f),{getPrefixCls:m,direction:y,pagination:b={}}=c.useContext(d.E_),C=m("pagination",t),[x,w]=ui(C),S=null!=p?p:b.showSizeChanger,E=c.useMemo((()=>{const e=c.createElement("span",{className:`${C}-item-ellipsis`},"•••");return{prevIcon:c.createElement("button",{className:`${C}-item-link`,type:"button",tabIndex:-1},"rtl"===y?c.createElement(Ot.Z,null):c.createElement(Et.Z,null)),nextIcon:c.createElement("button",{className:`${C}-item-link`,type:"button",tabIndex:-1},"rtl"===y?c.createElement(Et.Z,null):c.createElement(Ot.Z,null)),jumpPrevIcon:c.createElement("a",{className:`${C}-item-link`},c.createElement("div",{className:`${C}-item-container`},"rtl"===y?c.createElement(Do,{className:`${C}-item-link-icon`}):c.createElement(Ao,{className:`${C}-item-link-icon`}),e)),jumpNextIcon:c.createElement("a",{className:`${C}-item-link`},c.createElement("div",{className:`${C}-item-container`},"rtl"===y?c.createElement(Ao,{className:`${C}-item-link-icon`}):c.createElement(Do,{className:`${C}-item-link-icon`}),e))}}),[y,C]),[O]=(0,ot.Z)("Pagination",qo.Z),I=Object.assign(Object.assign({},O),l),L=(0,h.Z)(a),_="small"===L||!(!g||L||!f),T=m("select",n),M=s()({[`${C}-mini`]:_,[`${C}-rtl`]:"rtl"===y},null==b?void 0:b.className,r,o,w),R=Object.assign(Object.assign({},null==b?void 0:b.style),i);return x(c.createElement(Xo,Object.assign({},E,v,{style:R,prefixCls:C,selectPrefixCls:T,className:M,selectComponentClass:u||(_?Qo:Jo),locale:I,showSizeChanger:S})))},hi=di,fi=n(75081),pi=n(94740),vi=n(45626),gi=n(32983),mi=n(73935),yi=n(48689),bi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},Ci=n(91146),xi=function(e,t){return c.createElement(Ci.Z,(0,Tt.Z)((0,Tt.Z)({},e),{},{ref:t,icon:bi}))};xi.displayName="ReloadOutlined";var wi=c.forwardRef(xi),Si=n(37029);e=n.hmd(e);var Ei=Object.defineProperty,Oi=Object.defineProperties,Ii=Object.getOwnPropertyDescriptors,Li=Object.getOwnPropertySymbols,_i=Object.prototype.hasOwnProperty,Ti=Object.prototype.propertyIsEnumerable,Mi=(e,t,n)=>t in e?Ei(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ri=(e,t)=>{for(var n in t||(t={}))_i.call(t,n)&&Mi(e,n,t[n]);if(Li)for(var n of Li(t))Ti.call(t,n)&&Mi(e,n,t[n]);return e},Ai=(e,t)=>Oi(e,Ii(t)),Ni=(e,t)=>{var n={};for(var r in e)_i.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Li)for(var r of Li(e))t.indexOf(r)<0&&Ti.call(e,r)&&(n[r]=e[r]);return n};const Bi={zh_CN:{"选择分析信息":"选择分析信息","切换指标":"切换指标","确定":"确定","取消":"取消","重置":"重置","请输入关键字搜索":"请输入关键字搜索","搜索":"搜索","恢复":"恢复","已选 {} 项":"已选 {} 项","所选项":"所选项","选择下钻维度":"选择下钻维度","恢复默认":"恢复默认","搜索字段":"搜索字段","行列切换":"行列切换","行头":"行头","列头":"列头","值":"值","展开子项":"展开子项","首字母":"首字母","手动排序":"手动排序","其他字段":"其他字段","高级排序":"高级排序","设置顺序":"设置顺序","可选字段":"可选字段","按以下规则进行排序（优先级由低到高）":"按以下规则进行排序（优先级由低到高）","按":"按","说明":"说明","复制原始数据":"复制原始数据","复制格式化数据":"复制格式化数据","下载原始数据":"下载原始数据","下载格式化数据":"下载格式化数据","操作成功":"操作成功","操作失败":"操作失败","时间":"时间","指标":"指标","目标值":"目标值"},en_US:{"选择分析信息":"Select Analysis Information","切换指标":"Switch indicator","确定":"Ok","取消":"Cancel","重置":"Reset","请输入关键字搜索":"Please enter a keyword search","搜索":"Search","恢复":"Recover","已选 {} 项":"selected {} item","所选项":"selected items","选择下钻维度":"Select drill down dimension","恢复默认":"Restore default","搜索字段":"Search field","行列切换":"Switch Dimensions","行头":"Rows","列头":"Cols","值":"Values","展开子项":"Expand Children","首字母":"Alphabetical order","手动排序":"Custom order","其他字段":"Other field","高级排序":"Advanced order","设置顺序":"SetManual","可选字段":"Fields","按以下规则进行排序（优先级由低到高）":"Order according to the following rules (from low to high priority)","按":"By","说明":"Description","复制原始数据":"Copy raw data","复制格式化数据":"Copy formatted data","下载原始数据":"Download raw data","下载格式化数据":"Download formatted data","操作成功":"Operation successful","操作失败":"Operation failed","时间":"Date","指标":"Measure","目标值":"Target Value"}},Di={tooltip:{showTooltip:!0,autoAdjustBoundary:"body",operation:{hiddenColumns:!0,trend:!1,sort:!0}},showDefaultHeaderActionIcon:!0},ki=()=>[{name:(0,r.agQ)("升序"),value:"ASC"},{name:(0,r.agQ)("降序"),value:"DESC"}],Pi=()=>[{label:(0,r.agQ)("首字母"),value:"sortMethod"},{label:(0,r.agQ)("手动排序"),value:"sortBy"},{label:(0,r.agQ)("其他字段"),value:"sortByMeasure",children:[]}],zi="antv-s2-advanced-sort",Fi="s2-drill-down",Hi="s2-strategy-sheet-tooltip",$i=e=>e?`${Hi}-${e}`:Hi;var ji="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Wi="object"==typeof self&&self&&self.Object===Object&&self,Gi=ji||Wi||Function("return this")(),Vi=Gi.Symbol,Ui=Object.prototype,Zi=Ui.hasOwnProperty,Yi=Ui.toString,Xi=Vi?Vi.toStringTag:void 0;var qi=Object.prototype.toString;var Ki=Vi?Vi.toStringTag:void 0;function Qi(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ki&&Ki in Object(e)?function(e){var t=Zi.call(e,Xi),n=e[Xi];try{e[Xi]=void 0;var r=!0}catch(e){}var o=Yi.call(e);return r&&(t?e[Xi]=n:delete e[Xi]),o}(e):function(e){return qi.call(e)}(e)}function Ji(e){return null!=e&&"object"==typeof e}function ea(e){return"symbol"==typeof e||Ji(e)&&"[object Symbol]"==Qi(e)}function ta(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var na=Array.isArray,ra=Vi?Vi.prototype:void 0,oa=ra?ra.toString:void 0;function ia(e){if("string"==typeof e)return e;if(na(e))return ta(e,ia)+"";if(ea(e))return oa?oa.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var aa=/\s/;var la=/^\s+/;function sa(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&aa.test(e.charAt(t)););return t}(e)+1).replace(la,""):e}function ua(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var ca=/^[-+]0x[0-9a-f]+$/i,da=/^0b[01]+$/i,ha=/^0o[0-7]+$/i,fa=parseInt;function pa(e){if("number"==typeof e)return e;if(ea(e))return NaN;if(ua(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ua(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=sa(e);var n=da.test(e);return n||ha.test(e)?fa(e.slice(2),n?2:8):ca.test(e)?NaN:+e}var va=1/0;function ga(e){var t=function(e){return e?(e=pa(e))===va||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),n=t%1;return t==t?n?t-n:t:0}function ma(e){return e}function ya(e){if(!ua(e))return!1;var t=Qi(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var ba,Ca=Gi["__core-js_shared__"],xa=(ba=/[^.]+$/.exec(Ca&&Ca.keys&&Ca.keys.IE_PROTO||""))?"Symbol(src)_1."+ba:"";var wa=Function.prototype.toString;function Sa(e){if(null!=e){try{return wa.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Ea=/^\[object .+?Constructor\]$/,Oa=Function.prototype,Ia=Object.prototype,La=Oa.toString,_a=Ia.hasOwnProperty,Ta=RegExp("^"+La.call(_a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ma(e){return!(!ua(e)||(t=e,xa&&xa in t))&&(ya(e)?Ta:Ea).test(Sa(e));var t}function Ra(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ma(n)?n:void 0}var Aa=Ra(Gi,"WeakMap"),Na=Object.create,Ba=function(){function e(){}return function(t){if(!ua(t))return{};if(Na)return Na(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Da(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ka(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Pa=Date.now;var za,Fa,Ha,$a=function(){try{var e=Ra(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),ja=$a,Wa=ja?function(e,t){return ja(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:ma,Ga=(za=Wa,Fa=0,Ha=0,function(){var e=Pa(),t=16-(e-Ha);if(Ha=e,t>0){if(++Fa>=800)return arguments[0]}else Fa=0;return za.apply(void 0,arguments)}),Va=Ga;function Ua(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Za(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Ya(e){return e!=e}function Xa(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Za(e,Ya,n)}function qa(e,t){return!!(null==e?0:e.length)&&Xa(e,t,0)>-1}var Ka=/^(?:0|[1-9]\d*)$/;function Qa(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ka.test(e))&&e>-1&&e%1==0&&e<t}function Ja(e,t,n){"__proto__"==t&&ja?ja(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function el(e,t){return e===t||e!=e&&t!=t}var tl=Object.prototype.hasOwnProperty;function nl(e,t,n){var r=e[t];tl.call(e,t)&&el(r,n)&&(void 0!==n||t in e)||Ja(e,t,n)}function rl(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=r?r(n[l],e[l],l,n,e):void 0;void 0===s&&(s=e[l]),o?Ja(n,l,s):nl(n,l,s)}return n}var ol=Math.max;function il(e,t,n){return t=ol(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=ol(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),Da(e,this,l)}}function al(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ll(e){return null!=e&&al(e.length)&&!ya(e)}var sl=Object.prototype;function ul(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||sl)}function cl(e){return Ji(e)&&"[object Arguments]"==Qi(e)}var dl=Object.prototype,hl=dl.hasOwnProperty,fl=dl.propertyIsEnumerable,pl=cl(function(){return arguments}())?cl:function(e){return Ji(e)&&hl.call(e,"callee")&&!fl.call(e,"callee")},vl=pl;var gl="object"==typeof exports&&exports&&!exports.nodeType&&exports,ml=gl&&e&&!e.nodeType&&e,yl=ml&&ml.exports===gl?Gi.Buffer:void 0,bl=(yl?yl.isBuffer:void 0)||function(){return!1},Cl={};function xl(e){return function(t){return e(t)}}Cl["[object Float32Array]"]=Cl["[object Float64Array]"]=Cl["[object Int8Array]"]=Cl["[object Int16Array]"]=Cl["[object Int32Array]"]=Cl["[object Uint8Array]"]=Cl["[object Uint8ClampedArray]"]=Cl["[object Uint16Array]"]=Cl["[object Uint32Array]"]=!0,Cl["[object Arguments]"]=Cl["[object Array]"]=Cl["[object ArrayBuffer]"]=Cl["[object Boolean]"]=Cl["[object DataView]"]=Cl["[object Date]"]=Cl["[object Error]"]=Cl["[object Function]"]=Cl["[object Map]"]=Cl["[object Number]"]=Cl["[object Object]"]=Cl["[object RegExp]"]=Cl["[object Set]"]=Cl["[object String]"]=Cl["[object WeakMap]"]=!1;var wl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Sl=wl&&e&&!e.nodeType&&e,El=Sl&&Sl.exports===wl&&ji.process,Ol=function(){try{var e=Sl&&Sl.require&&Sl.require("util").types;return e||El&&El.binding&&El.binding("util")}catch(e){}}(),Il=Ol&&Ol.isTypedArray,Ll=Il?xl(Il):function(e){return Ji(e)&&al(e.length)&&!!Cl[Qi(e)]},_l=Object.prototype.hasOwnProperty;function Tl(e,t){var n=na(e),r=!n&&vl(e),o=!n&&!r&&bl(e),i=!n&&!r&&!o&&Ll(e),a=n||r||o||i,l=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=l.length;for(var u in e)!t&&!_l.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Qa(u,s))||l.push(u);return l}function Ml(e,t){return function(n){return e(t(n))}}var Rl=Ml(Object.keys,Object),Al=Object.prototype.hasOwnProperty;function Nl(e){if(!ul(e))return Rl(e);var t=[];for(var n in Object(e))Al.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Bl(e){return ll(e)?Tl(e):Nl(e)}var Dl=Object.prototype.hasOwnProperty;function kl(e){if(!ua(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ul(e),n=[];for(var r in e)("constructor"!=r||!t&&Dl.call(e,r))&&n.push(r);return n}function Pl(e){return ll(e)?Tl(e,!0):kl(e)}var zl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fl=/^\w*$/;function Hl(e,t){if(na(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ea(e))||(Fl.test(e)||!zl.test(e)||null!=t&&e in Object(t))}var $l=Ra(Object,"create");var jl=Object.prototype.hasOwnProperty;var Wl=Object.prototype.hasOwnProperty;function Gl(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vl(e,t){for(var n=e.length;n--;)if(el(e[n][0],t))return n;return-1}Gl.prototype.clear=function(){this.__data__=$l?$l(null):{},this.size=0},Gl.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gl.prototype.get=function(e){var t=this.__data__;if($l){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return jl.call(t,e)?t[e]:void 0},Gl.prototype.has=function(e){var t=this.__data__;return $l?void 0!==t[e]:Wl.call(t,e)},Gl.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$l&&void 0===t?"__lodash_hash_undefined__":t,this};var Ul=Array.prototype.splice;function Zl(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zl.prototype.clear=function(){this.__data__=[],this.size=0},Zl.prototype.delete=function(e){var t=this.__data__,n=Vl(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ul.call(t,n,1),--this.size,!0)},Zl.prototype.get=function(e){var t=this.__data__,n=Vl(t,e);return n<0?void 0:t[n][1]},Zl.prototype.has=function(e){return Vl(this.__data__,e)>-1},Zl.prototype.set=function(e,t){var n=this.__data__,r=Vl(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Yl=Ra(Gi,"Map");function Xl(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ql(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ql.prototype.clear=function(){this.size=0,this.__data__={hash:new Gl,map:new(Yl||Zl),string:new Gl}},ql.prototype.delete=function(e){var t=Xl(this,e).delete(e);return this.size-=t?1:0,t},ql.prototype.get=function(e){return Xl(this,e).get(e)},ql.prototype.has=function(e){return Xl(this,e).has(e)},ql.prototype.set=function(e,t){var n=Xl(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Kl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Kl.Cache||ql),n}Kl.Cache=ql;var Ql=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jl=/\\(\\)?/g,es=function(e){var t=Kl(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ql,(function(e,n,r,o){t.push(r?o.replace(Jl,"$1"):n||e)})),t})),ts=es;function ns(e){return null==e?"":ia(e)}function rs(e,t){return na(e)?e:Hl(e,t)?[e]:ts(ns(e))}function os(e){if("string"==typeof e||ea(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function is(e,t){for(var n=0,r=(t=rs(t,e)).length;null!=e&&n<r;)e=e[os(t[n++])];return n&&n==r?e:void 0}function as(e,t,n){var r=null==e?void 0:is(e,t);return void 0===r?n:r}function ls(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var ss=Vi?Vi.isConcatSpreadable:void 0;function us(e){return na(e)||vl(e)||!!(ss&&e&&e[ss])}function cs(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=us),o||(o=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?cs(l,t-1,n,r,o):ls(o,l):r||(o[o.length]=l)}return o}function ds(e){return(null==e?0:e.length)?cs(e,1):[]}var hs=Ml(Object.getPrototypeOf,Object),fs=Function.prototype,ps=Object.prototype,vs=fs.toString,gs=ps.hasOwnProperty,ms=vs.call(Object);var ys=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function bs(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Cs(e){var t=this.__data__=new Zl(e);this.size=t.size}Cs.prototype.clear=function(){this.__data__=new Zl,this.size=0},Cs.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Cs.prototype.get=function(e){return this.__data__.get(e)},Cs.prototype.has=function(e){return this.__data__.has(e)},Cs.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Zl){var r=n.__data__;if(!Yl||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ql(r)}return n.set(e,t),this.size=n.size,this};var xs="object"==typeof exports&&exports&&!exports.nodeType&&exports,ws=xs&&e&&!e.nodeType&&e,Ss=ws&&ws.exports===xs?Gi.Buffer:void 0,Es=Ss?Ss.allocUnsafe:void 0;function Os(e,t){if(t)return e.slice();var n=e.length,r=Es?Es(n):new e.constructor(n);return e.copy(r),r}function Is(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Ls(){return[]}var _s=Object.prototype.propertyIsEnumerable,Ts=Object.getOwnPropertySymbols,Ms=Ts?function(e){return null==e?[]:(e=Object(e),Is(Ts(e),(function(t){return _s.call(e,t)})))}:Ls;var Rs=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ls(t,Ms(e)),e=hs(e);return t}:Ls;function As(e,t,n){var r=t(e);return na(e)?r:ls(r,n(e))}function Ns(e){return As(e,Bl,Ms)}function Bs(e){return As(e,Pl,Rs)}var Ds=Ra(Gi,"DataView"),ks=Ra(Gi,"Promise"),Ps=Ra(Gi,"Set"),zs="[object Map]",Fs="[object Promise]",Hs="[object Set]",$s="[object WeakMap]",js="[object DataView]",Ws=Sa(Ds),Gs=Sa(Yl),Vs=Sa(ks),Us=Sa(Ps),Zs=Sa(Aa),Ys=Qi;(Ds&&Ys(new Ds(new ArrayBuffer(1)))!=js||Yl&&Ys(new Yl)!=zs||ks&&Ys(ks.resolve())!=Fs||Ps&&Ys(new Ps)!=Hs||Aa&&Ys(new Aa)!=$s)&&(Ys=function(e){var t=Qi(e),n="[object Object]"==t?e.constructor:void 0,r=n?Sa(n):"";if(r)switch(r){case Ws:return js;case Gs:return zs;case Vs:return Fs;case Us:return Hs;case Zs:return $s}return t});var Xs=Ys,qs=Object.prototype.hasOwnProperty;var Ks=Gi.Uint8Array;function Qs(e){var t=new e.constructor(e.byteLength);return new Ks(t).set(new Ks(e)),t}var Js=/\w*$/;var eu=Vi?Vi.prototype:void 0,tu=eu?eu.valueOf:void 0;function nu(e,t){var n=t?Qs(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ru(e,t,n){var r,o,i,a=e.constructor;switch(t){case"[object ArrayBuffer]":return Qs(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return function(e,t){var n=t?Qs(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return nu(e,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return(i=new(o=e).constructor(o.source,Js.exec(o))).lastIndex=o.lastIndex,i;case"[object Symbol]":return r=e,tu?Object(tu.call(r)):{}}}function ou(e){return"function"!=typeof e.constructor||ul(e)?{}:Ba(hs(e))}var iu=Ol&&Ol.isMap,au=iu?xl(iu):function(e){return Ji(e)&&"[object Map]"==Xs(e)};var lu=Ol&&Ol.isSet,su=lu?xl(lu):function(e){return Ji(e)&&"[object Set]"==Xs(e)},uu="[object Arguments]",cu="[object Function]",du="[object Object]",hu={};function fu(e,t,n,r,o,i){var a,l=1&t,s=2&t,u=4&t;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!ua(e))return e;var c=na(e);if(c){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&qs.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return ka(e,a)}else{var d=Xs(e),h=d==cu||"[object GeneratorFunction]"==d;if(bl(e))return Os(e,l);if(d==du||d==uu||h&&!o){if(a=s||h?{}:ou(e),!l)return s?function(e,t){return rl(e,Rs(e),t)}(e,function(e,t){return e&&rl(t,Pl(t),e)}(a,e)):function(e,t){return rl(e,Ms(e),t)}(e,function(e,t){return e&&rl(t,Bl(t),e)}(a,e))}else{if(!hu[d])return o?e:{};a=ru(e,d,l)}}i||(i=new Cs);var f=i.get(e);if(f)return f;i.set(e,a),su(e)?e.forEach((function(r){a.add(fu(r,t,n,r,e,i))})):au(e)&&e.forEach((function(r,o){a.set(o,fu(r,t,n,o,e,i))}));var p=c?void 0:(u?s?Bs:Ns:s?Pl:Bl)(e);return Ua(p||e,(function(r,o){p&&(r=e[o=r]),nl(a,o,fu(r,t,n,o,e,i))})),a}hu[uu]=hu["[object Array]"]=hu["[object ArrayBuffer]"]=hu["[object DataView]"]=hu["[object Boolean]"]=hu["[object Date]"]=hu["[object Float32Array]"]=hu["[object Float64Array]"]=hu["[object Int8Array]"]=hu["[object Int16Array]"]=hu["[object Int32Array]"]=hu["[object Map]"]=hu["[object Number]"]=hu[du]=hu["[object RegExp]"]=hu["[object Set]"]=hu["[object String]"]=hu["[object Symbol]"]=hu["[object Uint8Array]"]=hu["[object Uint8ClampedArray]"]=hu["[object Uint16Array]"]=hu["[object Uint32Array]"]=!0,hu["[object Error]"]=hu[cu]=hu["[object WeakMap]"]=!1;function pu(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ql;++t<n;)this.add(e[t])}function vu(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function gu(e,t){return e.has(t)}pu.prototype.add=pu.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},pu.prototype.has=function(e){return this.__data__.has(e)};function mu(e,t,n,r,o,i){var a=1&n,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,f=2&n?new pu:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var p=e[d],v=t[d];if(r)var g=a?r(v,p,d,t,e,i):r(p,v,d,e,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!vu(t,(function(e,t){if(!gu(f,t)&&(p===e||o(p,e,n,r,i)))return f.push(t)}))){h=!1;break}}else if(p!==v&&!o(p,v,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function yu(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function bu(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Cu=Vi?Vi.prototype:void 0,xu=Cu?Cu.valueOf:void 0;var wu=Object.prototype.hasOwnProperty;var Su="[object Arguments]",Eu="[object Array]",Ou="[object Object]",Iu=Object.prototype.hasOwnProperty;function Lu(e,t,n,r,o,i){var a=na(e),l=na(t),s=a?Eu:Xs(e),u=l?Eu:Xs(t),c=(s=s==Su?Ou:s)==Ou,d=(u=u==Su?Ou:u)==Ou,h=s==u;if(h&&bl(e)){if(!bl(t))return!1;a=!0,c=!1}if(h&&!c)return i||(i=new Cs),a||Ll(e)?mu(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Ks(e),new Ks(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return el(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=yu;case"[object Set]":var s=1&r;if(l||(l=bu),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=mu(l(e),l(t),r,o,i,a);return a.delete(e),c;case"[object Symbol]":if(xu)return xu.call(e)==xu.call(t)}return!1}(e,t,s,n,r,o,i);if(!(1&n)){var f=c&&Iu.call(e,"__wrapped__"),p=d&&Iu.call(t,"__wrapped__");if(f||p){var v=f?e.value():e,g=p?t.value():t;return i||(i=new Cs),o(v,g,n,r,i)}}return!!h&&(i||(i=new Cs),function(e,t,n,r,o,i){var a=1&n,l=Ns(e),s=l.length;if(s!=Ns(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:wu.call(t,c)))return!1}var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var f=!0;i.set(e,t),i.set(t,e);for(var p=a;++u<s;){var v=e[c=l[u]],g=t[c];if(r)var m=a?r(g,v,c,t,e,i):r(v,g,c,e,t,i);if(!(void 0===m?v===g||o(v,g,n,r,i):m)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,o,i))}function _u(e,t,n,r,o){return e===t||(null==e||null==t||!Ji(e)&&!Ji(t)?e!=e&&t!=t:Lu(e,t,n,r,_u,o))}function Tu(e){return e==e&&!ua(e)}function Mu(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function Ru(e){var t=function(e){for(var t=Bl(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Tu(o)]}return t}(e);return 1==t.length&&t[0][2]?Mu(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var s=(l=n[o])[0],u=e[s],c=l[1];if(a&&l[2]){if(void 0===u&&!(s in e))return!1}else{var d=new Cs;if(r)var h=r(u,c,s,e,t,d);if(!(void 0===h?_u(c,u,3,r,d):h))return!1}}return!0}(n,e,t)}}function Au(e,t){return null!=e&&t in Object(e)}function Nu(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=rs(t,e)).length,i=!1;++r<o;){var a=os(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&al(o)&&Qa(a,o)&&(na(e)||vl(e))}(e,t,Au)}function Bu(e){return function(t){return null==t?void 0:t[e]}}function Du(e){return Hl(e)?Bu(os(e)):function(e){return function(t){return is(t,e)}}(e)}function ku(e){return"function"==typeof e?e:null==e?ma:"object"==typeof e?na(e)?(t=e[0],n=e[1],Hl(t)&&Tu(n)?Mu(os(t),n):function(e){var r=as(e,t);return void 0===r&&r===n?Nu(e,t):_u(n,r,3)}):Ru(e):Du(e);var t,n}var Pu,zu=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var l=i[Pu?a:++r];if(!1===t(o[l],l,o))break}return e};function Fu(e,t){return e&&zu(e,t,Bl)}var Hu=function(e,t){return function(n,r){if(null==n)return n;if(!ll(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}(Fu),$u=Hu,ju=function(){return Gi.Date.now()},Wu=Math.max,Gu=Math.min;function Vu(e,t,n){var r,o,i,a,l,s,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function p(e){return u=e,l=setTimeout(g,t),c?f(e):a}function v(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-u>=i}function g(){var e=ju();if(v(e))return m(e);l=setTimeout(g,function(e){var n=t-(e-s);return d?Gu(n,i-(e-u)):n}(e))}function m(e){return l=void 0,h&&r?f(e):(r=o=void 0,a)}function y(){var e=ju(),n=v(e);if(r=arguments,o=this,s=e,n){if(void 0===l)return p(s);if(d)return clearTimeout(l),l=setTimeout(g,t),f(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=pa(t)||0,ua(n)&&(c=!!n.leading,i=(d="maxWait"in n)?Wu(pa(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=s=o=l=void 0},y.flush=function(){return void 0===l?a:m(ju())},y}function Uu(e,t,n){(void 0!==n&&!el(e[t],n)||void 0===n&&!(t in e))&&Ja(e,t,n)}function Zu(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function Yu(e,t,n,r,o,i,a){var l=Zu(e,n),s=Zu(t,n),u=a.get(s);if(u)Uu(e,n,u);else{var c,d=i?i(l,s,n+"",e,t,a):void 0,h=void 0===d;if(h){var f=na(s),p=!f&&bl(s),v=!f&&!p&&Ll(s);d=s,f||p||v?na(l)?d=l:Ji(c=l)&&ll(c)?d=ka(l):p?(h=!1,d=Os(s,!0)):v?(h=!1,d=nu(s,!0)):d=[]:function(e){if(!Ji(e)||"[object Object]"!=Qi(e))return!1;var t=hs(e);if(null===t)return!0;var n=gs.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&vs.call(n)==ms}(s)||vl(s)?(d=l,vl(l)?d=function(e){return rl(e,Pl(e))}(l):ua(l)&&!ya(l)||(d=ou(s))):h=!1}h&&(a.set(s,d),o(d,s,r,i,a),a.delete(s)),Uu(e,n,d)}}function Xu(e,t,n,r,o){e!==t&&zu(t,(function(i,a){if(o||(o=new Cs),ua(i))Yu(e,t,a,n,Xu,r,o);else{var l=r?r(Zu(e,a),i,a+"",e,t,o):void 0;void 0===l&&(l=i),Uu(e,a,l)}}),Pl)}function qu(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Ku(e){return"function"==typeof e?e:ma}function Qu(e,t){return(na(e)?Ua:$u)(e,Ku(t))}function Ju(e,t){var n=[];return $u(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function ec(e,t){return(na(e)?Is:Ju)(e,ku(t))}var tc=Math.max;var nc,rc=(nc=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ga(n);return o<0&&(o=tc(r+o,0)),Za(e,ku(t),o)},function(e,t,n){var r=Object(e);if(!ll(e)){var o=ku(t);e=Bl(e),t=function(e){return o(r[e],e,r)}}var i=nc(e,t,n);return i>-1?r[o?e[i]:i]:void 0});function oc(e){return e&&e.length?e[0]:void 0}function ic(e,t){var n=-1,r=ll(e)?Array(e.length):[];return $u(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function ac(e,t){return(na(e)?ta:ic)(e,ku(t))}function lc(e){return"string"==typeof e||!na(e)&&Ji(e)&&"[object String]"==Qi(e)}function sc(e){return null==e?[]:function(e,t){return ta(t,(function(t){return e[t]}))}(e,Bl(e))}var uc=Math.max;var cc=Object.prototype.hasOwnProperty;function dc(e){if(null==e)return!0;if(ll(e)&&(na(e)||"string"==typeof e||"function"==typeof e.splice||bl(e)||Ll(e)||vl(e)))return!e.length;var t=Xs(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(ul(e))return!Nl(e).length;for(var n in e)if(cc.call(e,n))return!1;return!0}function hc(e,t){return _u(e,t)}function fc(e){return null==e}var pc,vc=(pc=function(e,t,n){Xu(e,t,n)},function(e,t){return Va(il(e,t,ma),e+"")}((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=pc.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!ua(n))return!1;var r=typeof t;return!!("number"==r?ll(n)&&Qa(t,n.length):"string"==r&&t in n)&&el(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&pc(e,a,n,o)}return e}))),gc=vc;function mc(e,t,n,r){if(!ua(e))return e;for(var o=-1,i=(t=rs(t,e)).length,a=i-1,l=e;null!=l&&++o<i;){var s=os(t[o]),u=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(o!=a){var c=l[s];void 0===(u=r?r(c,s,l):void 0)&&(u=ua(c)?c:Qa(t[o+1])?[]:{})}nl(l,s,u),l=l[s]}return e}var yc=Bu("length"),bc="\\ud800-\\udfff",Cc="["+bc+"]",xc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",wc="\\ud83c[\\udffb-\\udfff]",Sc="[^"+bc+"]",Ec="(?:\\ud83c[\\udde6-\\uddff]){2}",Oc="[\\ud800-\\udbff][\\udc00-\\udfff]",Ic="(?:"+xc+"|"+wc+")"+"?",Lc="[\\ufe0e\\ufe0f]?",_c=Lc+Ic+("(?:\\u200d(?:"+[Sc,Ec,Oc].join("|")+")"+Lc+Ic+")*"),Tc="(?:"+[Sc+xc+"?",xc,Ec,Oc,Cc].join("|")+")",Mc=RegExp(wc+"(?="+wc+")|"+Tc+_c,"g");function Rc(e){return function(e){return ys.test(e)}(e)?function(e){for(var t=Mc.lastIndex=0;Mc.test(e);)++t;return t}(e):yc(e)}function Ac(e,t){return function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],l=is(e,a);n(l,a)&&mc(i,rs(a,e),l)}return i}(e,t,(function(t,n){return Nu(e,n)}))}var Nc=function(e){return Va(il(e,void 0,ds),e+"")}((function(e,t){return null==e?{}:Ac(e,t)})),Bc=Nc;function Dc(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function kc(e){if(null==e)return 0;if(ll(e))return lc(e)?Rc(e):e.length;var t=Xs(e);return"[object Map]"==t||"[object Set]"==t?e.size:Nl(e).length}var Pc=Ps&&1/bu(new Ps([,-0]))[1]==1/0?function(e){return new Ps(e)}:function(){};function zc(e){return e&&e.length?function(e,t,n){var r=-1,o=qa,i=e.length,a=!0,l=[],s=l;if(n)a=!1,o=qu;else if(i>=200){var u=t?null:Pc(e);if(u)return bu(u);a=!1,o=gu,s=new pu}else s=t?[]:l;e:for(;++r<i;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var h=s.length;h--;)if(s[h]===d)continue e;t&&s.push(d),l.push(c)}else o(s,d,n)||(s!==l&&s.push(d),l.push(c))}return l}(e):[]}const Fc=(e,t)=>{var n,r,o,i;return!0===(i=t)||!1===i||Ji(i)&&"[object Boolean]"==Qi(i)?{container:e,adaptiveWidth:!0,adaptiveHeight:!1}:{container:(null==(n=null==t?void 0:t.getContainer)?void 0:n.call(t))||e,adaptiveWidth:null==(r=null==t?void 0:t.width)||r,adaptiveHeight:null==(o=null==t?void 0:t.height)||o}},Hc=e=>{let t=!0;const{s2:n,adaptive:r,container:o,wrapper:i}=e,{container:a,adaptiveWidth:l,adaptiveHeight:s}=Fc(i,r);if(!(a&&o&&r&&n))return;const u=(e,t)=>{null==n||n.changeSheetSize(e,t),null==n||n.render(!1)},c=Vu(u,200),d=new ResizeObserver((([e]=[])=>{e&&(()=>{const{clientWidth:e,clientHeight:r}=o,i=l?Math.floor(null!=e?e:n.options.width):n.options.width,a=s?Math.floor(null!=r?r:n.options.height):n.options.height;if(l||s)t?(u(i,a),t=!1):c(i,a)})()}));return d.observe(a,{box:"border-box"}),()=>{d.unobserve(a)}},$c=(e,t)=>{const n=e.store.get("drillDownDataCache",[]),r=n.find((e=>e.rowId===t.id));return{drillDownDataCache:n,drillDownCurrentCache:r}},jc=e=>{var t;const n=e.spreadsheet,{fields:r}=n.dataCfg,o=(null==(t=r.rows)?void 0:t.length)-1,i=!!dc(r.values)||n.isValueInCols();return o<=e.level&&n.isHierarchyTreeType()&&i&&!e.isGrandTotals},Wc=(e,t,n)=>{var o;const i=(null==(o=null==e?void 0:e.headerActionIcons)?void 0:o.length)?[...e.headerActionIcons]:[];if(!dc(t)){const e={belongsCell:"rowCell",iconNames:["DrillDownIcon"],defaultHide:!0,displayCondition:t.displayCondition||jc,action:e=>{const{iconName:t,meta:o,event:i}=e;"DrillDownIcon"===t&&(o.spreadsheet.store.set("drillDownNode",o),(e=>{const{meta:t,event:n,callback:o}=e,{spreadsheet:i}=t;i.store.set("drillDownNode",t);const{drillDownDataCache:a,drillDownCurrentCache:l}=$c(i,t),s=(null==l?void 0:l.drillField)?[null==l?void 0:l.drillField]:[],u=[];a.forEach((e=>{t.id.includes(e.rowId)&&t.id!==e.rowId&&u.push(e.drillField)})),n&&i.emit(r.ch4.GLOBAL_ACTION_ICON_CLICK,n),o({sheetInstance:i,cacheDrillFields:s,disabledFields:u,event:n})})({meta:o,event:i,callback:n}))}};i.push(e)}return Ai(Ri({},e),{headerActionIcons:i})},Gc=e=>{const{fetchData:t,spreadsheet:n,drillFields:r,drillItemsNum:o=-1}=e;n.store.set("drillItemsNum",o);const i=n.store.get("drillDownNode"),{drillDownDataCache:a,drillDownCurrentCache:l}=$c(n,i);let s=fu(a,4);l&&(s=ec(a,(e=>e.rowId!==i.id))),t&&t(i,r).then((e=>{const{drillData:t,drillField:r}=e;if(n.dataSet.transformDrillDownData(r,t,i),!dc(t)){const e=i.level+1,o={rowId:i.id,drillLevel:e,drillData:t,drillField:r};s.push(o),n.store.set("drillDownDataCache",s)}n.interaction.reset(),n.render(!1)}))};(0,r.AfN)(Bi);var Vc,Uc=(Vc=c.useEffect,function(e,t){var n=(0,c.useRef)(!1);Vc((function(){return function(){n.current=!1}}),[]),Vc((function(){if(n.current)return e();n.current=!0}),t)});var Zc,Yc=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Xc=function(){var e=Yc((0,c.useState)({}),2)[1];return(0,c.useCallback)((function(){return e({})}),[])},qc={exports:{}};Zc=qc,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)n.push(o);else if(Array.isArray(o)){if(o.length){var a=t.apply(null,o);a&&n.push(a)}}else if("object"===i)if(o.toString===Object.prototype.toString)for(var l in o)e.call(o,l)&&o[l]&&n.push(l);else n.push(o.toString())}}return n.join(" ")}Zc.exports?(t.default=t,Zc.exports=t):window.classNames=t}();var Kc=qc.exports;const Qc=e=>{const{style:t={},width:n,height:o,className:i,name:a}=e,l=Ri({},t);return n&&(l.width=`${n}px`),o&&(l.height=`${o}px`),c.createElement("span",{style:l,className:Kc(`${r.vhY}-html-icon`,i),dangerouslySetInnerHTML:{__html:(0,r.q7_)(a)}})},Jc=e=>{const{style:t={},className:n,content:o}=e,i={style:t,className:Kc(`${r.vhY}-react-element`,n)};if(c.isValidElement(o))return c.createElement("span",Ri({},i),c.createElement(c.Fragment,null,o));const a="string"!=typeof o?null==o?void 0:o.innerHTML:o;return c.createElement("span",Ai(Ri({},i),{dangerouslySetInnerHTML:{__html:a}}))},ed=e=>{const t=e,{icon:n}=t,o=Ni(t,["icon"]);if(!n)return null;if((0,r.q7_)(n)){const e=n;return c.createElement(Qc,Ri({name:e},o))}return c.createElement(Jc,Ri({content:n},o))},td=e=>{const{list:t=[]}=e;return c.createElement("div",{className:`${r.NO_}-detail-list`},t.map(((e,t)=>{const{name:n,value:o,icon:i}=e;return c.createElement("div",{key:`${o}-${t}`,className:`${r.NO_}-detail-item`},c.createElement("span",{className:`${r.NO_}-detail-item-key`},n),c.createElement("span",{className:`${r.NO_}-detail-item-val ${r.NO_}-highlight`},i?c.createElement(ed,{icon:i,width:8,height:7}):null,o))})))},nd=e=>{var t,n;const{rows:o=[],cols:i=[]}=e;return c.createElement("div",{className:`${r.NO_}-head-info-list`},null==(t=i.map((e=>e.value)))?void 0:t.join("/"),i.length>0&&o.length>0&&"，",null==(n=o.map((e=>e.value)))?void 0:n.join("/"))},rd=e=>{const{infos:t=""}=e;return c.createElement("div",{className:`${r.NO_}-infos`},t)},od=e=>{const{name:t,icon:n,text:o,render:i}=e;return c.createElement("div",{className:`${r.NO_}-interpretation`},c.createElement("div",{className:`${r.NO_}-interpretation-head`},c.createElement(ed,{icon:n,className:`${r.NO_}-interpretation-icon`}),t&&c.createElement("span",{className:`${r.NO_}-interpretation-name`},t)),o&&c.createElement("div",null,o),c.createElement(Jc,{content:i}))};const id=c.memo((e=>{const{menus:t,onlyMenu:n,onClick:a,cell:l,defaultSelectedKeys:s}=e,u=e=>c.createElement("span",{onClick:()=>{var t;return null==(t=e.onClick)?void 0:t.call(e,l)}},c.createElement(ed,{icon:e.icon,className:`${r.NO_}-operator-icon`}),c.createElement("span",{className:`${r.NO_}-operator-text`},e.text)),d=e=>{const{key:t,text:n,children:i,onClick:a}=e;return dc(i)?c.createElement(o.Z.Item,{title:n,key:t},u(e)):c.createElement(o.Z.SubMenu,{title:u(e),key:t,popupClassName:`${r.NO_}-operator-submenu-popup`,onTitleClick:()=>null==a?void 0:a(l)},ac(i,(e=>d(e))))};return dc(t)?null:c.createElement("div",{className:`${r.NO_}-operator`},n?c.createElement(o.Z,{className:`${r.NO_}-operator-menus`,onClick:a,defaultSelectedKeys:s},ac(t,(e=>d(e)))):ac(t,(e=>{const{key:t,children:n}=e,l=dc(n)?c.createElement(c.Fragment,null):c.createElement(o.Z,{className:`${r.NO_}-operator-menus`,onClick:a,key:t,defaultSelectedKeys:s},ac(n,(e=>d(e))));return c.createElement(i.Z,{key:t,overlay:l},u(e))})))})),ad=e=>{const{tips:t="",name:n=""}=e;return c.createElement(c.Fragment,null,n&&c.createElement("div",{className:`${r.NO_}-name`},n),t&&c.createElement("div",{className:`${r.NO_}-tips`},t))},ld=c.memo((e=>{const{summaries:t=[]}=e;return c.createElement("div",{className:`${r.NO_}-summary`},(()=>{const e=(o=e=>kc(null==e?void 0:e.selectedData),(n=t)&&n.length?function(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}(n,ku(o)):0);var n,o;return c.createElement("div",{className:`${r.NO_}-summary-item`},c.createElement("span",{className:`${r.NO_}-selected`},e," ",(0,r.agQ)("项")),(0,r.agQ)("已选择"))})(),null==t?void 0:t.map((e=>{const{name:t="",value:n}=e||{};if(t||n)return c.createElement("div",{key:`${t}-${n}`,className:`${r.NO_}-summary-item`},t?c.createElement("span",{className:`${r.NO_}-summary-key`},t," （",(0,r.agQ)("总和"),")"):c.createElement("span",{className:`${r.NO_}-summary-key`}," "),c.createElement("span",{className:Kc(`${r.NO_}-summary-val`,`${r.NO_}-bold`)},n))})))})),sd=({description:e})=>c.createElement(c.Fragment,null,e&&c.createElement("div",{className:`${r.NO_}-description`},(0,r.agQ)("说明"),"：",e));const ud=e=>{const{data:t,options:n,content:o,cell:i}=e,a=(e,t)=>e&&c.createElement(id,Ai(Ri({},e),{onlyMenu:t,cell:i}));return(()=>{const{operator:e,onlyMenu:i}=(0,r.IZo)(n),{summaries:l,headInfo:s,details:u,interpretation:d,infos:h,tips:f,name:p,description:v}=t||{},g={name:p,tips:f};if(i)return a(e,!0);const m=c.createElement(c.Fragment,null,(e=>{const{name:t,tips:n}=e||{};return c.createElement(ad,{name:t,tips:n})})(g),(e=>!dc(e)&&c.createElement(ld,{summaries:e}))(l),(e=>e&&c.createElement(od,Ri({},e)))(d),(e=>{const{cols:t,rows:n}=e||{};return(!dc(t)||!dc(n))&&c.createElement(nd,{cols:t,rows:n})})(s),(e=>!dc(e)&&c.createElement(td,{list:e}))(u),(e=>e&&c.createElement(rd,{infos:e}))(h),(e=>c.createElement(sd,{description:e}))(v));return c.createElement(c.Fragment,null,a(e),null!=o?o:m)})()};class cd extends r.N6r{constructor(e){super(e)}renderContent(){var e,t,n;const{content:r}=this.spreadsheet.options.tooltip,o=this.options,i=this.spreadsheet.getCell(null==(e=o.event)?void 0:e.target),a=null!=(t=o.content)?t:r,l=Ai(Ri({},o),{cell:i,content:a});(null==(n=o.options)?void 0:n.forceRender)&&this.unmountComponentAtNode(),mi.render(c.createElement(ud,Ai(Ri({},l),{content:a})),this.container)}destroy(){super.destroy(),this.unmountComponentAtNode()}unmountComponentAtNode(){this.container&&mi.unmountComponentAtNode(this.container)}}const dd={tooltip:{renderTooltip:e=>new cd(e)}},hd=(...e)=>((...e)=>(0,r._Ge)(r.WNh,Di,...e))(dd,...e),fd=(e,t,n)=>{c.useEffect((()=>{const o=e=>{null==t||t((0,r.c8d)(e))};return null==n||n.on(e,o),()=>{null==n||n.off(e,o)}}),[n,t,e])},pd=(e,t,n,r=!1)=>{c.useEffect((()=>{const o=e=>{null==t||t(e)};return null==n||n.on(e,o),()=>{r&&(null==n||n.emit(e)),null==n||n.off(e,o)}}),[n,t,e])};function vd(e){const t=Xc(),n=c.useRef(),o=c.useRef(),i=c.useRef(),{spreadsheet:a,dataCfg:l,options:s,themeCfg:u,sheetType:d,onSheetUpdate:h=ma}=e,f=c.useRef([l,s,u]),{loading:p,setLoading:v}=((e,t)=>{const[n,o]=c.useState(t);return c.useEffect((()=>{null==e||e.on(r.ch4.LAYOUT_BEFORE_RENDER,(()=>{o(!0)})),null==e||e.on(r.ch4.LAYOUT_AFTER_RENDER,(()=>{o(!1)}))}),[e]),{loading:null!=t?t:n,setLoading:o}})(n.current,e.loading),g=((e,t)=>{const{options:{pagination:n},showPagination:o}=t,[i,a]=c.useState({total:0,current:(null==n?void 0:n.current)||1,pageSize:(null==n?void 0:n.pageSize)||10});return Uc((()=>{e&&!dc(n)&&(e.updatePagination({current:i.current,pageSize:i.pageSize}),e.render(!1))}),[i.current,i.pageSize,e]),Uc((()=>{var t,r;a({total:null!=(r=null==(t=null==e?void 0:e.facet)?void 0:t.viewCellHeights.getTotalLength())?r:0,current:(null==n?void 0:n.current)||1,pageSize:(null==n?void 0:n.pageSize)||10})}),[n,e]),Uc((()=>{if(!e||dc(n))return;const t=e=>{a((t=>Ai(Ri({},t),{total:e.total})))};return e.on(r.ch4.LAYOUT_PAGINATION,t),()=>{e.off(r.ch4.LAYOUT_PAGINATION,t)}}),[n,e]),{showPagination:Boolean(o),pagination:Ri(Ri({},n),i),onShowSizeChange:(e,t)=>{var r;const i=null!=(r=as(o,"onShowSizeChange"))?r:null==n?void 0:n.onShowSizeChange;null==i||i(e,t)},onChange:(e,t)=>{var r;a(Ai(Ri({},i),{current:e,pageSize:t}));const l=null!=(r=as(o,"onChange"))?r:null==n?void 0:n.onChange;null==l||l(e,t)}}})(n.current,e);!function(e,t){fd(r.ch4.ROW_CELL_HOVER,e.onRowCellHover,t),fd(r.ch4.ROW_CELL_CLICK,e.onRowCellClick,t),fd(r.ch4.ROW_CELL_DOUBLE_CLICK,e.onRowCellDoubleClick,t),fd(r.ch4.ROW_CELL_CONTEXT_MENU,e.onRowCellContextMenu,t),fd(r.ch4.ROW_CELL_MOUSE_DOWN,e.onRowCellMouseDown,t),fd(r.ch4.ROW_CELL_MOUSE_UP,e.onRowCellMouseUp,t),fd(r.ch4.ROW_CELL_MOUSE_MOVE,e.onRowCellMouseMove,t),pd(r.ch4.ROW_CELL_COLLAPSE_TREE_ROWS,e.onRowCellCollapseTreeRows,t),pd(r.ch4.ROW_CELL_SCROLL,e.onRowCellScroll,t),fd(r.ch4.COL_CELL_HOVER,e.onColCellHover,t),fd(r.ch4.COL_CELL_CLICK,e.onColCellClick,t),fd(r.ch4.COL_CELL_DOUBLE_CLICK,e.onColCellDoubleClick,t),fd(r.ch4.COL_CELL_CONTEXT_MENU,e.onColCellContextMenu,t),fd(r.ch4.COL_CELL_MOUSE_DOWN,e.onColCellMouseDown,t),fd(r.ch4.COL_CELL_MOUSE_UP,e.onColCellMouseUp,t),fd(r.ch4.COL_CELL_MOUSE_MOVE,e.onColCellMouseMove,t),fd(r.ch4.DATA_CELL_HOVER,e.onDataCellHover,t),fd(r.ch4.DATA_CELL_CLICK,e.onDataCellClick,t),fd(r.ch4.DATA_CELL_DOUBLE_CLICK,e.onDataCellDoubleClick,t),fd(r.ch4.DATA_CELL_CONTEXT_MENU,e.onDataCellContextMenu,t),fd(r.ch4.DATA_CELL_MOUSE_DOWN,e.onDataCellMouseDown,t),fd(r.ch4.DATA_CELL_MOUSE_UP,e.onDataCellMouseUp,t),fd(r.ch4.DATA_CELL_MOUSE_MOVE,e.onDataCellMouseMove,t),pd(r.ch4.DATA_CELL_TREND_ICON_CLICK,e.onDataCellTrendIconClick,t),pd(r.ch4.DATA_CELL_BRUSH_SELECTION,e.onDataCellBrushSelection,t),pd(r.ch4.DATA_CELL_SELECT_MOVE,e.onDataCellSelectMove,t),fd(r.ch4.CORNER_CELL_HOVER,e.onCornerCellHover,t),fd(r.ch4.CORNER_CELL_CLICK,e.onCornerCellClick,t),fd(r.ch4.CORNER_CELL_DOUBLE_CLICK,e.onCornerCellDoubleClick,t),fd(r.ch4.CORNER_CELL_CONTEXT_MENU,e.onCornerCellContextMenu,t),fd(r.ch4.CORNER_CELL_MOUSE_DOWN,e.onCornerCellMouseDown,t),fd(r.ch4.CORNER_CELL_MOUSE_UP,e.onCornerCellMouseUp,t),fd(r.ch4.CORNER_CELL_MOUSE_MOVE,e.onCornerCellMouseMove,t),fd(r.ch4.MERGED_CELLS_HOVER,e.onMergedCellsHover,t),fd(r.ch4.MERGED_CELLS_CLICK,e.onMergedCellsClick,t),fd(r.ch4.MERGED_CELLS_DOUBLE_CLICK,e.onMergedCellsDoubleClick,t),fd(r.ch4.MERGED_CELLS_CONTEXT_MENU,e.onMergedCellsContextMenu,t),fd(r.ch4.MERGED_CELLS_MOUSE_DOWN,e.onMergedCellsMouseDown,t),fd(r.ch4.MERGED_CELLS_MOUSE_UP,e.onMergedCellsMouseUp,t),fd(r.ch4.MERGED_CELLS_MOUSE_MOVE,e.onMergedCellsMouseMove,t),pd(r.ch4.RANGE_SORT,e.onRangeSort,t),pd(r.ch4.RANGE_SORTED,e.onRangeSorted,t),pd(r.ch4.RANGE_FILTER,e.onRangeFilter,t),pd(r.ch4.RANGE_FILTERED,e.onRangeFiltered,t),pd(r.ch4.LAYOUT_AFTER_HEADER_LAYOUT,e.onLayoutAfterHeaderLayout,t),pd(r.ch4.LAYOUT_PAGINATION,e.onLayoutPagination,t),pd(r.ch4.LAYOUT_CELL_SCROLL,e.onLayoutCellScroll,t),pd(r.ch4.LAYOUT_AFTER_COLLAPSE_ROWS,e.onLayoutAfterCollapseRows,t),pd(r.ch4.LAYOUT_TREE_ROWS_COLLAPSE_ALL,e.onCollapseRowsAll,t),pd(r.ch4.LAYOUT_COLS_EXPANDED,e.onLayoutColsExpanded,t),pd(r.ch4.LAYOUT_COLS_HIDDEN,e.onLayoutColsHidden,t),pd(r.ch4.LAYOUT_BEFORE_RENDER,e.onBeforeRender,t),pd(r.ch4.LAYOUT_AFTER_RENDER,e.onAfterRender,t),pd(r.ch4.LAYOUT_DESTROY,e.onDestroy,t,!0),pd(r.ch4.LAYOUT_RESIZE,e.onLayoutResize,t),pd(r.ch4.LAYOUT_RESIZE_SERIES_WIDTH,e.onLayoutResizeSeriesWidth,t),pd(r.ch4.LAYOUT_RESIZE_ROW_WIDTH,e.onLayoutResizeRowWidth,t),pd(r.ch4.LAYOUT_RESIZE_ROW_HEIGHT,e.onLayoutResizeRowHeight,t),pd(r.ch4.LAYOUT_RESIZE_COL_WIDTH,e.onLayoutResizeColWidth,t),pd(r.ch4.LAYOUT_RESIZE_COL_HEIGHT,e.onLayoutResizeColHeight,t),pd(r.ch4.LAYOUT_RESIZE_TREE_WIDTH,e.onLayoutResizeTreeWidth,t),pd(r.ch4.LAYOUT_RESIZE_MOUSE_DOWN,e.onLayoutResizeMouseDown,t),pd(r.ch4.LAYOUT_RESIZE_MOUSE_UP,e.onLayoutResizeMouseUp,t),pd(r.ch4.LAYOUT_RESIZE_MOUSE_MOVE,e.onLayoutResizeMouseMove,t),pd(r.ch4.GLOBAL_KEYBOARD_DOWN,e.onKeyBoardDown,t),pd(r.ch4.GLOBAL_KEYBOARD_UP,e.onKeyBoardUp,t),pd(r.ch4.GLOBAL_COPIED,e.onCopied,t),pd(r.ch4.GLOBAL_ACTION_ICON_HOVER,e.onActionIconHover,t),pd(r.ch4.GLOBAL_ACTION_ICON_CLICK,e.onActionIconClick,t),pd(r.ch4.GLOBAL_CONTEXT_MENU,e.onContextMenu,t),pd(r.ch4.GLOBAL_HOVER,e.onMouseHover,t),pd(r.ch4.GLOBAL_CLICK,e.onClick,t),pd(r.ch4.GLOBAL_DOUBLE_CLICK,e.onDoubleClick,t),pd(r.ch4.GLOBAL_SELECTED,e.onSelected,t),pd(r.ch4.GLOBAL_MOUSE_UP,e.onMouseUp,t),pd(r.ch4.GLOBAL_RESET,e.onReset,t),pd(r.ch4.GLOBAL_LINK_FIELD_JUMP,e.onLinkFieldJump,t),pd(r.ch4.GLOBAL_SCROLL,e.onScroll,t),pd(r.ch4.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,e.onLayoutAfterRealDataCellRender,t),pd(r.ch4.ROW_CELL_BRUSH_SELECTION,e.onRowCellBrushSelection,t),pd(r.ch4.COL_CELL_BRUSH_SELECTION,e.onColCellBrushSelection,t)}(e,n.current);const m=c.useCallback((e=>{const t=hd(s);return a?a(e,l,t):"table"===d?new r.HZt(e,l,t):new r.TA7(e,l,t)}),[d,s,l,a]),y=c.useCallback((()=>{var r;v(!0),n.current=m(o.current),n.current.setThemeCfg(e.themeCfg),n.current.render(),v(!1),t(),e.getSpreadSheet&&(console.warn("[SheetComponent] `getSpreadSheet` is deprecated. Please use `onMounted` instead."),e.getSpreadSheet(n.current)),null==(r=e.onMounted)||r.call(e,n.current)}),[e,m,v,t]);return c.useEffect((()=>(y(),()=>{var e,t;null==(t=(e=n.current).destroy)||t.call(e)})),[]),Uc((()=>{var e,t,r,o,i,a,c,d,p,v,g;const[m,y,b]=f.current;f.current=[l,s,u];let C=!1,x=!1;Object.is(m,l)||((null==(t=null==(e=null==m?void 0:m.fields)?void 0:e.columns)?void 0:t.length)!==(null==(o=null==(r=null==l?void 0:l.fields)?void 0:r.columns)?void 0:o.length)&&(null==(i=n.current)||i.clearColumnLeafNodes()),C=!0,null==(a=n.current)||a.setDataCfg(l)),Object.is(y,s)||(Object.is(null==y?void 0:y.hierarchyType,null==s?void 0:s.hierarchyType)||(x=!0,C=!0,null==(c=n.current)||c.setDataCfg(l)),null==(d=n.current)||d.setOptions(s),null==(p=n.current)||p.changeSheetSize(s.width,s.height)),Object.is(b,u)||null==(v=n.current)||v.setThemeCfg(u);const w=h({reloadData:C,reBuildDataSet:x});null==(g=n.current)||g.render(w.reloadData,{reBuildDataSet:w.reBuildDataSet})}),[l,s,u,h]),(e=>{const{s2:t,adaptive:n,container:r,wrapper:o}=e;c.useLayoutEffect((()=>Hc({s2:t,adaptive:n,wrapper:o,container:r})),[t,o,r,n])})({s2:n.current,container:o.current,wrapper:i.current,adaptive:e.adaptive}),{s2Ref:n,containerRef:o,wrapperRef:i,loading:p,setLoading:v,pagination:g}}const gd=c.createContext(null);function md(){return c.useContext(gd)}const yd=e=>c.createElement("svg",Ri({className:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:12.6,height:12.6},e),c.createElement("path",{d:"M950.016 898.016l-206.016-204.992Q832 586.016 832 448.032q0-159.008-112.512-271.488T448 64.032 176.512 176.544 64 448.032t112.512 271.488T448 832.032q138.016 0 244.992-88l206.016 206.016q10.016 10.016 24.992 10.016t26.016-10.016q10.016-11.008 10.016-26.016t-10.016-26.016zM568.992 736Q512 760 448 760T327.008 736q-56-24-99.488-67.488t-66.496-99.488q-24.992-56.992-24.992-120.992t24.992-120.992q23.008-56 66.496-99.488t99.488-67.488Q384 136.064 448 136.064t120.992 24q56 24 99.488 67.488t67.488 99.488q24 56.992 24 120.992t-24 120.992q-24 56-67.488 99.488T568.992 736z",fill:"currentColor"})),bd=e=>c.createElement("svg",Ri({viewBox:"0 0 1024 1024",width:16,height:16,className:"antv-s2-icon"},e),c.createElement("defs",null,c.createElement("style",{type:"text/css"})),c.createElement("path",{d:"M441.6 249.6c0 38.4 32 70.4 70.4 70.4s70.4-32 70.4-70.4c0-38.4-32-70.4-70.4-70.4s-70.4 25.6-70.4 70.4z m0 262.4c0 38.4 32 70.4 70.4 70.4s70.4-32 70.4-70.4c0-38.4-32-70.4-70.4-70.4s-70.4 32-70.4 70.4z m0 262.4c0 38.4 32 70.4 70.4 70.4s70.4-32 70.4-70.4c0-38.4-32-70.4-70.4-70.4s-70.4 32-70.4 70.4z",fill:"currentColor","p-id":22217})),Cd=e=>c.createElement("svg",Ri({className:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:12.6,height:12.6},e),c.createElement("path",{d:"M511.804 222.338c-57.117 0-105.737 20.061-145.86 60.184-40.122 40.123-60.184 88.569-60.184 145.337 0 56.769 20.062 105.214 60.185 145.337 40.122 40.123 88.742 60.185 145.859 60.185 57.116 0 105.736-20.062 145.859-60.185 40.123-40.123 60.184-88.568 60.184-145.337 0-56.768-20.061-105.214-60.184-145.337-40.123-40.123-88.743-60.184-145.86-60.184z m0 338.619c-36.729 0-68.007-12.925-93.835-38.774-25.827-25.85-38.752-57.127-38.773-93.834-0.022-36.707 12.902-68.16 38.773-94.357 25.872-26.197 57.15-39.285 93.835-39.263 36.685 0.022 67.963 13.11 93.834 39.263 25.871 26.154 38.796 57.606 38.774 94.357-0.022 36.75-12.946 68.028-38.774 93.834-25.828 25.806-57.106 38.73-93.834 38.774z m366.165-295.766c-21.084-42.168-50.327-79.223-87.73-111.165-37.404-31.941-79.898-57.105-127.484-75.491C614.472 60.845 564.155 52 511.804 52c-52.352 0-103.006 8.845-151.963 26.535-46.911 18.364-89.069 43.528-126.472 75.491-37.403 31.964-66.647 69.019-87.731 111.165C123.879 308.71 113 353.923 113 400.835c0 65.95 15.982 132.924 47.945 200.92 26.524 56.441 63.58 112.198 111.165 167.27 62.556 73.435 134.632 138.71 216.227 195.827 6.81 4.765 14.459 7.148 22.945 7.148 8.485 0 16.47-2.383 23.956-7.148 81.595-57.79 153.67-123.067 216.227-195.828 47.608-55.767 84.663-111.524 111.165-167.27 31.963-67.995 47.945-134.969 47.945-200.919 0-46.912-10.88-92.126-32.638-135.644h0.032z m-40.797 136.656c0 55.07-13.6 111.513-40.798 169.326-23.129 49.631-56.452 99.948-99.97 150.95-52.351 61.208-113.885 117.65-184.6 169.326-70.716-51.676-132.25-108.118-184.6-169.326-42.844-51.002-76.167-101.319-99.971-150.95-27.198-57.791-40.797-114.57-40.797-170.338 0-36.032 8.159-70.716 24.478-104.05 16.994-32.638 40.45-61.882 70.368-87.73 30.592-26.525 65.276-47.26 104.05-62.209 40.797-14.97 82.954-22.455 126.472-22.455 43.517 0 85.675 7.485 126.472 22.455 38.752 14.97 73.436 35.706 104.05 62.208 30.593 25.85 54.048 55.093 70.367 87.731 16.32 34.009 24.479 69.03 24.479 105.062z",fill:"currentColor"})),xd=e=>c.createElement("svg",Ri({className:"antv-s2-icon",width:"16px",height:"16px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),c.createElement("path",{d:"M18.0047888,16.4055 C18.1082888,16.4055 18.1922888,16.4895 18.1922888,16.593 L18.1922888,17.9055 C18.1922888,18.0090534 18.1083422,18.093 18.0047888,18.093 L9.37978883,18.093 C9.27623544,18.093 9.19228883,18.0090534 9.19228883,17.9055 L9.19228883,16.593 C9.19228883,16.4895 9.27628883,16.4055 9.37978883,16.4055 L18.0047888,16.4055 Z M4.41328883,1.6665 L4.46428883,1.7115 L7.08928883,5.0385 C7.17478883,5.1435 7.12078883,5.2935 7.00528883,5.3325 L6.94228883,5.343 L5.16028883,5.343 L5.16028883,14.25 L6.94228883,14.25 C7.09978883,14.25 7.18828883,14.433 7.08928883,14.5545 L4.46428883,17.88 C4.42872537,17.9249155 4.37457895,17.9511073 4.31728883,17.9511073 C4.25999871,17.9511073 4.20585229,17.9249155 4.17028883,17.88 L1.54528883,14.5545 C1.50119832,14.4981177 1.49305316,14.4215528 1.52429494,14.3571564 C1.55553672,14.2927601 1.62071465,14.2517677 1.69228883,14.2515 L3.47428883,14.2515 L3.47428883,5.343 L1.69228883,5.343 C1.63110128,5.34394015 1.57330492,5.31496201 1.53745415,5.26536844 C1.50160338,5.21577487 1.49220972,5.15180683 1.51228883,5.094 L1.54528883,5.0385 L4.17028883,1.713 C4.22854609,1.63918993 4.33246412,1.61994585 4.41328883,1.668 L4.41328883,1.6665 Z M15.7547888,11.4375 C15.8582888,11.4375 15.9422888,11.5215 15.9422888,11.625 L15.9422888,12.9375 C15.9422888,13.0410534 15.8583422,13.125 15.7547888,13.125 L9.37978883,13.125 C9.33006074,13.125 9.28236938,13.1052456 9.24720631,13.0700825 C9.21204324,13.0349195 9.19228883,12.9872281 9.19228883,12.9375 L9.19228883,11.625 C9.19228883,11.5215 9.27628883,11.4375 9.37978883,11.4375 L15.7547888,11.4375 Z M21.7547888,6.468 C21.8582888,6.468 21.9422888,6.5535 21.9422888,6.6555 L21.9422888,7.968 C21.9422888,8.07155339 21.8583422,8.1555 21.7547888,8.1555 L9.37978883,8.1555 C9.33006074,8.1555 9.28236938,8.13574559 9.24720631,8.10058252 C9.21204324,8.06541945 9.19228883,8.01772809 9.19228883,7.968 L9.19228883,6.6555 C9.19228883,6.5535 9.27628883,6.468 9.37978883,6.468 L21.7547888,6.468 Z M13.5047888,1.5 C13.6082888,1.5 13.6922888,1.584 13.6922888,1.6875 L13.6922888,3 C13.6922888,3.10355339 13.6083422,3.1875 13.5047888,3.1875 L9.37978883,3.1875 C9.33006074,3.1875 9.28236938,3.16774559 9.24720631,3.13258252 C9.21204324,3.09741945 9.19228883,3.04972809 9.19228883,3 L9.19228883,1.6875 C9.19228883,1.584 9.27628883,1.5 9.37978883,1.5 L13.5047888,1.5 Z",fill:"currentColor"})),wd=e=>c.createElement("svg",Ri({width:"12px",height:"12px",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",className:"antv-s2-icon"},e),c.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(-153.000000, -608.000000)",fill:"currentColor"},c.createElement("g",{transform:"translate(127.000000, 549.000000)"},c.createElement("g",{transform:"translate(24.000000, 57.000000)"},c.createElement("g",{transform:"translate(2.000000, 2.000000)"},c.createElement("path",{d:"M0.771428571,3.77142857 L3.77142857,3.77142857 L3.77142857,5.65714286 L0.771428571,5.65714286 L0.771428571,3.77142857 Z M0.771428571,6.34285714 L3.77142857,6.34285714 L3.77142857,8.57142857 L0.771428571,8.57142857 L0.771428571,6.34285714 Z M0.771428571,9 L3.77142857,9 L3.77142857,11.2285714 L0.771428571,11.2285714 L0.771428571,9 Z"}),c.createElement("path",{d:"M0.771428571,9 L0.771428571,11.2285714 L11.2285714,11.2285714 L11.2285714,3.77142857 L0.771428571,3.77142857 L0.771428571,5.65714286 L3.77142857,5.65714286 L3.77142857,3.77142857 L4.54285714,3.77142857 L4.54285714,11.3142857 L3.77142857,11.3142857 L3.77142857,9.08571429 L0.771428571,9.08571429 L0.771428571,9 Z M0.771428571,8.22857143 L3.77142857,8.22857143 L3.77142857,6.34285714 L0.771428571,6.34285714 L0.771428571,8.22857143 L0.771428571,8.22857143 Z M11.2285714,3 L11.2285714,0.771428571 L0.771428571,0.771428571 L0.771428571,3 L11.2285714,3 Z M12,0 L12,12 L0,12 L0,0 L12,0 Z"}))))))),Sd=e=>c.createElement("svg",Ri({width:"12px",height:"12px",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",className:"antv-s2-icon"},e),c.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(-153.000000, -814.000000)",fill:"currentColor",fillRule:"nonzero"},c.createElement("g",{transform:"translate(127.000000, 549.000000)"},c.createElement("g",{transform:"translate(24.000000, 55.000000)"},c.createElement("g",{transform:"translate(0.000000, 208.000000)"},c.createElement("g",{transform:"translate(2.000000, 2.000000)"},c.createElement("path",{d:"M4.45714286,11.2285714 L11.2285714,11.2285714 L11.2285714,3.77142857 L4.45714286,3.77142857 L4.45714286,11.2285714 Z M3.77142857,11.2285714 L3.77142857,3.77142857 L0.771428571,3.77142857 L0.771428571,11.3142857 L3.77142857,11.3142857 L3.77142857,11.2285714 Z M11.2285714,3 L11.2285714,0.771428571 L0.771428571,0.771428571 L0.771428571,3 L11.2285714,3 Z M12,0 L12,12 L0,12 L0,0 L12,0 Z"}),c.createElement("polygon",{points:"0.771428571 0.771428571 11.2285714 0.771428571 11.2285714 3 0.771428571 3"})))))))),Ed=e=>c.createElement("svg",Ri({width:"12px",height:"12px",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",className:"antv-s2-icon"},e),c.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(-365.000000, -624.000000)",fill:"currentColor"},c.createElement("g",{transform:"translate(127.000000, 549.000000)"},c.createElement("g",{transform:"translate(236.000000, 71.000000)"},c.createElement("g",{transform:"translate(0.000000, 2.000000)"},c.createElement("g",{transform:"translate(2.000000, 2.000000)"},c.createElement("polygon",{points:"4.22857143 3.77142857 11.2285714 3.77142857 11.2285714 11.7714286 4.22857143 11.7714286"}),c.createElement("path",{d:"M4.45714286,11.2285714 L11.2285714,11.2285714 L11.2285714,3.77142857 L4.45714286,3.77142857 L4.45714286,11.2285714 Z M3.77142857,11.2285714 L3.77142857,3.77142857 L0.771428571,3.77142857 L0.771428571,11.3142857 L3.77142857,11.3142857 L3.77142857,11.2285714 Z M11.2285714,3 L11.2285714,0.771428571 L0.771428571,0.771428571 L0.771428571,3 L11.2285714,3 Z M12,0 L12,12 L0,12 L0,0 L12,0 Z"})))))))),Od=e=>c.createElement("svg",Ri({className:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:12.6,height:12.6},e),c.createElement("path",{d:"M950.016 898.016l-206.016-204.992Q832 586.016 832 448.032q0-159.008-112.512-271.488T448 64.032 176.512 176.544 64 448.032t112.512 271.488T448 832.032q138.016 0 244.992-88l206.016 206.016q10.016 10.016 24.992 10.016t26.016-10.016q10.016-11.008 10.016-26.016t-10.016-26.016zM568.992 736Q512 760 448 760T327.008 736q-56-24-99.488-67.488t-66.496-99.488q-24.992-56.992-24.992-120.992t24.992-120.992q23.008-56 66.496-99.488t99.488-67.488Q384 136.064 448 136.064t120.992 24q56 24 99.488 67.488t67.488 99.488q24 56.992 24 120.992t-24 120.992q-24 56-67.488 99.488T568.992 736z",fill:"currentColor"})),Id=e=>c.createElement("svg",Ri({className:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:12.6,height:12.6},e),c.createElement("path",{d:"M86.016 805.888H0L143.872 275.968h79.36l144.896 529.92H276.992l-29.696-109.056H115.2s-29.696 109.056-29.184 109.056zM225.28 613.376L181.248 455.68 138.24 613.376h87.04zM519.168 430.08c24.576-16.384 47.616-25.088 69.12-25.088 30.72 0 58.368 14.848 81.92 44.032 24.064 29.184 35.328 72.192 35.328 128.512 0 44.032-7.168 83.456-22.528 118.272-14.848 34.816-35.328 62.976-60.416 83.456-26.112 20.992-57.856 31.232-95.232 31.232-15.36-0.512-31.232-1.536-46.592-3.584-4.096-0.512-8.704-1.024-12.8-1.536h-66.56V256h81.92v206.336c11.264-12.8 23.04-23.552 35.84-32.256z m-35.328 157.184v135.168c13.824 3.072 26.112 4.608 37.376 4.608 27.648 0 50.176-11.776 69.12-36.352 19.456-25.088 28.672-59.392 28.672-104.96 0-32.256-5.12-55.296-14.848-70.144-9.216-13.824-18.432-19.968-28.672-19.968-12.288 0-27.136 7.68-44.544 24.064-16.896 16.896-32.768 39.424-47.104 67.584zM1013.76 794.624c-36.864 14.336-71.68 20.992-104.96 20.992-32.768 0.512-64.512-9.216-91.648-27.136-27.136-18.432-48.64-44.032-62.464-73.728-14.848-30.72-22.528-65.536-22.528-104.448 0-58.88 16.896-108.032 51.2-146.944 33.792-38.912 75.264-58.88 123.392-58.88 34.304 0 70.144 7.168 108.032 21.504l10.24 4.096v95.232l-20.992-10.752c-34.816-17.92-65.536-26.624-92.16-26.624-16.896 0-32.768 4.608-47.104 13.824-13.824 8.704-25.088 23.04-32.768 42.496-8.192 19.968-12.288 41.472-12.288 63.488 0 28.672 7.68 55.808 24.064 82.432 14.848 24.576 37.888 36.352 71.168 36.352 10.752 0 21.504-1.024 31.744-2.56 9.728-1.536 29.696-8.192 58.88-18.944l19.456-7.68v92.672l-11.264 4.608z",fill:"currentColor"})),Ld=e=>c.createElement("svg",Ri({className:"antv-s2-icon",width:"16px",height:"16px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),c.createElement("g",{transform:"translate(8.056364, 8.000227) rotate(-270.000000) translate(-8.056364, -8.000227) translate(3.057045, 3.070227)",fill:"currentColor"},c.createElement("path",{d:"M0.482272727,3.55181818 C0.472878788,3.55181818 0.468181818,3.54939394 0.468181818,3.54454545 C0.468181818,3.53969697 0.465757576,3.53727273 0.460909091,3.53727273 L0.396818182,3.53727273 L0.382727273,3.52318182 L0.34,3.52318182 L0.325909091,3.50909091 L0.311818182,3.50909091 L0.297727273,3.495 L0.269090909,3.495 L0.269090909,3.48090909 L0.255,3.48090909 L0.240909091,3.46681818 L0.226818182,3.46681818 L0.226818182,3.45272727 L0.212727273,3.45272727 L0.184090909,3.42409091 L0.17,3.42409091 C0.160606061,3.405 0.151060606,3.39075758 0.141363636,3.38136364 C0.131969697,3.38136364 0.127272727,3.37893939 0.127272727,3.37409091 L0.127272727,3.36681818 L0.113181818,3.35272727 L0.113181818,3.33863636 L0.0990909091,3.33863636 L0.0990909091,3.32454545 L0.085,3.31045455 L0.085,3.30318182 L0.0777272727,3.29590909 L0.0704545455,3.29590909 L0.0704545455,3.28181818 L0.0563636364,3.26772727 L0.0563636364,3.24636364 L0.0490909091,3.23909091 L0.0418181818,3.23909091 L0.0418181818,3.225 C0.0418181818,3.21560606 0.0393939394,3.21090909 0.0345454545,3.21090909 C0.0296969697,3.21090909 0.0272727273,3.20848485 0.0272727273,3.20363636 L0.0272727273,3.15409091 L0.0131818182,3.14 L0.0131818182,2.94090909 L0.0272727273,2.92681818 L0.0272727273,2.88409091 C0.0366666667,2.87469697 0.0413636364,2.86757576 0.0413636364,2.86272727 L0.0413636364,2.84136364 L0.0554545455,2.82727273 L0.0554545455,2.81318182 L0.0695454545,2.79909091 L0.0695454545,2.79181818 L0.0768181818,2.77772727 L0.0840909091,2.77045455 L0.0840909091,2.76318182 L0.0913636364,2.75590909 L0.0986363636,2.74863636 L0.0986363636,2.74136364 L0.112727273,2.72727273 C0.112727273,2.71787879 0.117424242,2.71318182 0.126818182,2.71318182 L0.126818182,2.69909091 L0.140909091,2.69909091 L2.68363636,0.156363636 C2.77848485,0.0521212121 2.89681818,0 3.03863636,0 C3.18045455,0 3.29878788,0.0521212121 3.39363636,0.156363636 C3.49787879,0.260606061 3.55,0.381363636 3.55,0.518636364 C3.55,0.655909091 3.49787879,0.776666667 3.39363636,0.880909091 L1.74590909,2.52863636 L9.48727273,2.52863636 C9.62939394,2.52863636 9.75015152,2.57833333 9.84954545,2.67772727 C9.94893939,2.77712121 9.99863636,2.89787879 9.99863636,3.04 C9.99863636,3.18212121 9.94893939,3.30287879 9.84954545,3.40227273 C9.75015152,3.50166667 9.62939394,3.55136364 9.48727273,3.55136364 L0.481363636,3.55136364 L0.482272727,3.55181818 Z M9.51636364,6.30727273 C9.52575758,6.30727273 9.53045455,6.30969697 9.53045455,6.31454545 C9.53045455,6.31939394 9.53287879,6.32181818 9.53772727,6.32181818 L9.60181818,6.32181818 L9.61590909,6.33590909 L9.65863636,6.33590909 L9.65863636,6.35 L9.68727273,6.35 L9.70136364,6.36409091 L9.73,6.36409091 L9.73,6.37818182 L9.74409091,6.37818182 L9.75818182,6.39227273 L9.77227273,6.39227273 L9.77227273,6.40636364 L9.78636364,6.40636364 L9.815,6.435 L9.82909091,6.435 C9.83848485,6.45409091 9.8480303,6.46833333 9.85772727,6.47772727 C9.86712121,6.47772727 9.87181818,6.48015152 9.87181818,6.485 L9.87181818,6.49227273 L9.88590909,6.50636364 L9.88590909,6.52045455 L9.9,6.52045455 L9.9,6.53454545 L9.90727273,6.53454545 L9.91454545,6.54181818 L9.91454545,6.55590909 L9.92181818,6.56318182 L9.92909091,6.57045455 L9.92909091,6.57772727 L9.94318182,6.59181818 L9.94318182,6.61318182 L9.95045455,6.62045455 L9.95772727,6.62045455 L9.95772727,6.64909091 L9.965,6.65636364 L9.97227273,6.67045455 L9.97227273,6.70590909 L9.98636364,6.72 L9.98636364,6.91909091 L9.97227273,6.93318182 L9.97227273,6.97590909 L9.95818182,6.99 L9.95818182,7.01863636 L9.94409091,7.03272727 L9.94409091,7.04681818 L9.93,7.06090909 L9.93,7.06818182 L9.92272727,7.08227273 L9.91545455,7.08954545 L9.91545455,7.09681818 L9.90818182,7.10409091 L9.90090909,7.11136364 L9.90090909,7.11863636 L9.88681818,7.13272727 C9.88681818,7.14212121 9.88439394,7.14681818 9.87954545,7.14681818 L9.87227273,7.14681818 L9.87227273,7.16090909 L9.85818182,7.16090909 L9.85090909,7.16818182 L9.84363636,7.18954545 L7.32954545,9.70363636 C7.22530303,9.80787879 7.10212121,9.86 6.96,9.86 C6.81787879,9.86 6.69954545,9.80787879 6.605,9.70363636 C6.50075758,9.60878788 6.44863636,9.49045455 6.44863636,9.34863636 C6.44863636,9.20681818 6.50075758,9.08363636 6.605,8.97909091 L8.25272727,7.33136364 L0.511363636,7.33136364 C0.378636364,7.33136364 0.26030303,7.28166667 0.156363636,7.18227273 C0.0524242424,7.08287879 0.000303030303,6.96212121 4.54747351e-13,6.82 C4.54747351e-13,6.67787879 0.0521212121,6.55712121 0.156363636,6.45772727 C0.260606061,6.35833333 0.378939394,6.30863636 0.511363636,6.30863636 L9.51727273,6.30863636 L9.51636364,6.30727273 Z"}))),_d=c.memo((e=>{const t=e,{className:n,icon:l,syncCopy:s=!1,copyOriginalText:u=(0,r.agQ)("复制原始数据"),copyFormatText:d=(0,r.agQ)("复制格式化数据"),downloadOriginalText:h=(0,r.agQ)("下载原始数据"),downloadFormatText:f=(0,r.agQ)("下载格式化数据"),successText:p=(0,r.agQ)("操作成功"),errorText:v=(0,r.agQ)("操作失败"),sheet:g,fileName:m,open:y,dropdown:b}=t,C=Ni(t,["className","icon","syncCopy","copyOriginalText","copyFormatText","downloadOriginalText","downloadFormatText","successText","errorText","sheet","fileName","open","dropdown"]),x=`${r.vhY}-export`,w=e=>{const t=(0,r.F1h)(g,"\t",e);(0,r.vQq)(t,s).then((()=>{a.ZP.success(p)})).catch((e=>{console.log("copy failed: ",e),a.ZP.error(v)}))},S=e=>{const t=(0,r.F1h)(g,",",e);try{(0,r.LRf)(t,m),a.ZP.success(p)}catch(e){a.ZP.error(v)}},E=c.createElement(o.Z,null,c.createElement(o.Z.Item,{key:"copyOriginal",onClick:()=>w(!1)},u),c.createElement(o.Z.Item,{key:"copyFormat",onClick:()=>w(!0)},d),c.createElement(o.Z.Item,{key:"downloadOriginal",onClick:()=>S(!1)},h),c.createElement(o.Z.Item,{key:"downloadFormat",onClick:()=>S(!0)},f));return c.createElement(i.Z,Ri(Ri({overlay:E,trigger:["click"],className:Kc(x,n)},C),b),c.createElement("a",{className:"ant-dropdown-link",key:"export",onClick:e=>e.preventDefault()},l||c.createElement(bd,null)))}));_d.displayName="Export",_d.defaultProps={syncCopy:!1,fileName:"sheet"};const Td=e=>{const{splitOrders:t=[],setSplitOrders:n}=e,r=e=>c.createElement(c.Fragment,null,c.createElement("span",{className:"split-text"},e),c.createElement("span",{className:`${zi}-split-icon`,onClick:()=>{(e=>{const r=t.concat();r.splice(r.indexOf(e),1),r.unshift(e),n(r)})(e)}},c.createElement(Qc,{name:"groupAsc"})),c.createElement("span",{className:`${zi}-split-icon`,onClick:()=>{(e=>{const r=t.concat();let o=r.indexOf(e);r.splice(r.indexOf(e),1),r.splice(o+=1,0,e),n(r)})(e)}},c.createElement(Qc,{name:"groupDesc"})),c.createElement("span",{className:`${zi}-split-icon`,onClick:()=>{(e=>{const r=t.concat();let o=r.indexOf(e);o>0&&(r.splice(r.indexOf(e),1),r.splice(o-=1,0,e),n(r))})(e)}},c.createElement(Qc,{name:"globalAsc"})));return c.createElement(B,{className:`${zi}-card-content`},t.map((e=>c.createElement("li",{key:e,className:`${zi}-split-value`,title:e},r(e)))))};const{Sider:Md,Content:Rd}=D.default,Ad=({sheet:e,className:t,icon:n,text:o,ruleText:i,dimensions:a,ruleOptions:l,sortParams:s,onSortOpen:u,onSortConfirm:d})=>{const[h,f]=(0,c.useState)(!1),[p,v]=(0,c.useState)(!1),[g,m]=(0,c.useState)([]),[y,b]=(0,c.useState)([]),[C,x]=(0,c.useState)([]),[w,S]=(0,c.useState)([]),[E,O]=(0,c.useState)([]),[I,L]=(0,c.useState)(),[_]=wt.useForm(),T=c.useMemo(Pi,[]),M=c.useMemo(ki,[]),R=()=>{f(!h)},A=()=>{v(!p)};return(0,c.useEffect)((()=>{if(h){const t=ac(s,(t=>{const{sortFieldId:n,sortMethod:r,sortBy:o,sortByMeasure:i}=t;let a;return a=o?["sortBy"]:i?["sortByMeasure",i]:["sortMethod"],{field:n,name:e.dataSet.getFieldName(n),rule:a,sortMethod:r,sortBy:o,sortByMeasure:i}})),n=(()=>{if(a)return a;const{fields:t={}}=e.dataCfg||{},{rows:n=[],columns:r=[]}=t;return ac([...n,...r],(t=>{const n="string"==typeof t?t:t.key;return{field:t,name:e.dataSet.getFieldName(n),list:e.dataSet.getDimensionValues(n)}}))})(),r=ec(n,(e=>!rc(s,(t=>t.sortFieldId===e.field)))),o=l||ac(T,(t=>{if("sortByMeasure"===t.value){const{values:n}=e.dataCfg.fields||{};t.children=ac(n,(t=>({label:e.dataSet.getFieldName(t),value:t})))}return t}));m(t),x(n),S(r),b(o)}}),[h]),c.createElement("div",{className:Kc(zi,t)},c.createElement(go.ZP,{onClick:()=>{u&&u(),R()},icon:n||c.createElement(xd,null),size:"small",className:`${zi}-btn`},o||(0,r.agQ)("高级排序")),c.createElement(mo.Z,{title:o||(0,r.agQ)("高级排序"),visible:h,onOk:()=>{const t=_.getFieldsValue(),{values:n=[]}=e.dataCfg.fields,o=[],i=[];Qu(Bl(t),(e=>{const{sortMethod:a,rule:l=[],sortBy:s}=t[e],u={sortFieldId:e};"sortByMeasure"===l[0]||l[1]?(!function(e,t,n,r){e=ll(e)?e:sc(e),n=n&&!r?ga(n):0;var o=e.length;return n<0&&(n=uc(o+n,0)),lc(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Xa(e,t,n)>-1}(n,l[1])?u.sortByMeasure=r.Teh:u.sortByMeasure=l[1],u.sortMethod=a,u.query={$$extra$$:l[1]}):"sortBy"===l[0]?u.sortBy=s:u.sortMethod=a,o.push(Ri({field:e},t[e])),i.push(u)})),d&&d(o,i),R()},onCancel:R,okText:(0,r.agQ)("确定"),cancelText:(0,r.agQ)("取消"),destroyOnClose:!0,className:`${zi}-modal`},c.createElement(D.default,null,c.createElement(Md,{width:120,className:`${zi}-sider-layout`},c.createElement("div",{className:`${zi}-title`},(0,r.agQ)("可选字段")),c.createElement("div",null,ac(w,(e=>c.createElement("div",{className:`${zi}-dimension-item`,key:e.field,onClick:()=>{var t;t=e,rc(g,(e=>e.field===t.field))||(L(t),m([...g,t])),S(ec(w,(e=>e.field!==t.field)))}},e.name))))),c.createElement(Rd,{className:`${zi}-content-layout`},c.createElement("div",{className:`${zi}-title`},i||(0,r.agQ)("按以下规则进行排序（优先级由低到高）")),c.createElement(wt,{form:_,name:"form",className:`${zi}-custom-form`},ac(g,(e=>{const{field:t,name:n,rule:o,sortMethod:i,sortBy:a}=e||{};return c.createElement(wt.Item,{name:t,key:t},c.createElement(wt.Item,{name:[t,"name"],initialValue:n,noStyle:!0},c.createElement(St.Z,{className:`${zi}-select`,size:"small"})),c.createElement("span",{className:`${zi}-field-prefix`},(0,r.agQ)("按")),c.createElement(wt.Item,{name:[t,"rule"],initialValue:o||["sortMethod"],noStyle:!0},c.createElement(Wr,{options:y,expandTrigger:"hover",size:"small",allowClear:!1})),c.createElement(wt.Item,{shouldUpdate:!0,noStyle:!0},(({getFieldValue:n})=>{return hc(n([t,"rule"]),["sortBy"])?c.createElement(c.Fragment,null,c.createElement("a",{className:`${zi}-rule-end`,onClick:()=>{var t,n,r;t=e,n=a,A(),L(t),O(zc(n||(null==(r=rc(C,(e=>e.field===t.field)))?void 0:r.list)||[]))}},(0,r.agQ)("设置顺序")),c.createElement(wt.Item,{noStyle:!0,name:[t,"sortBy"],initialValue:a})):c.createElement(wt.Item,{shouldUpdate:!0,noStyle:!0,name:[t,"sortMethod"],initialValue:(o=i,ns(o).toUpperCase()||"ASC")},c.createElement(vo.Group,{className:`${zi}-rule-end`},ac(M,(e=>c.createElement(vo,{value:e.value,key:e.value},e.name)))));var o})),c.createElement(yi.Z,{className:`${zi}-rule-end-delete`,onClick:()=>{var t;t=e,m(ec(g,(e=>e.field!==t.field))),S([...w,t])}}))})))))),c.createElement(mo.Z,{title:(0,r.agQ)("手动排序"),visible:p,onOk:()=>{A();const e=_.getFieldsValue([null==I?void 0:I.field]);e.sortBy=E,_.setFieldsValue({[null==I?void 0:I.field]:e});const t=ac(g,(e=>e.field===(null==I?void 0:I.field)?Ai(Ri({},e),{rule:"sortBy",sortBy:E,sortMethod:"",sortByMeasure:""}):e));m(t)},onCancel:()=>{A()},okText:(0,r.agQ)("确定"),cancelText:(0,r.agQ)("取消"),destroyOnClose:!0,className:`${zi}-custom-modal`},c.createElement(Td,{splitOrders:E,setSplitOrders:O})))};var Nd=(e=>(e.Rows="rows",e.Cols="columns",e.Values="values",e))(Nd||{}),Bd=(e=>(e.Dimensions="dimensions",e.Measures="measures",e.Rows="rows",e.Cols="cols",e))(Bd||{});const Dd=["rows","columns","values"],kd=e=>e instanceof r.HZt?"table":"pivot",Pd=(e,{fields:t={},meta:n=[]}={},o=[])=>Dd.reduce(((i,a)=>{const l=t[a];if(dc(l))return i;const s=ac(l,(e=>{const t="string"==typeof e?e:e.key,r=rc(n,["field",t]);return{id:t,displayName:null==r?void 0:r.name,checked:!o.includes(t)}}));return i[a]=Ri({items:s},((e,t)=>({selectable:e instanceof r.TA7&&t===Nd.Values||e instanceof r.HZt&&t===Nd.Cols,expandable:e instanceof r.TA7&&t===Nd.Values}))(e,a)),i}),{}),zd=e=>function(e,t,n){var r=na(e)?bs:Dc,o=arguments.length<3;return r(e,ku(t),n,o,$u)}(e,((e,t,n)=>(e.fields[n]=ac(t.items,"id"),e.hiddenFields.push(...ac(t.hideItems,"id")),e)),{fields:{},hiddenFields:[]});function Fd(e,t){return(Fd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hd(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fd(e,t)}function $d(){return $d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$d.apply(this,arguments)}function jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wd(Object(n),!0).forEach((function(t){jd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vd(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ud="function"==typeof Symbol&&Symbol.observable||"@@observable",Zd=function(){return Math.random().toString(36).substring(7).split("").join(".")},Yd={INIT:"@@redux/INIT"+Zd(),REPLACE:"@@redux/REPLACE"+Zd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Zd()}};function Xd(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function qd(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Vd(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Vd(1));return n(qd)(e,t)}if("function"!=typeof e)throw new Error(Vd(2));var o=e,i=t,a=[],l=a,s=!1;function u(){l===a&&(l=a.slice())}function c(){if(s)throw new Error(Vd(3));return i}function d(e){if("function"!=typeof e)throw new Error(Vd(4));if(s)throw new Error(Vd(5));var t=!0;return u(),l.push(e),function(){if(t){if(s)throw new Error(Vd(6));t=!1,u();var n=l.indexOf(e);l.splice(n,1),a=null}}}function h(e){if(!Xd(e))throw new Error(Vd(7));if(void 0===e.type)throw new Error(Vd(8));if(s)throw new Error(Vd(9));try{s=!0,i=o(i,e)}finally{s=!1}for(var t=a=l,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!=typeof e)throw new Error(Vd(10));o=e,h({type:Yd.REPLACE})}function p(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Vd(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Ud]=function(){return this},e}return h({type:Yd.INIT}),(r={dispatch:h,subscribe:d,getState:c,replaceReducer:f})[Ud]=p,r}function Kd(e,t){return function(){return t(e.apply(this,arguments))}}function Qd(e,t){if("function"==typeof e)return Kd(e,t);if("object"!=typeof e||null===e)throw new Error(Vd(16));var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=Kd(o,t))}return n}function Jd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var eh=c.createContext(null);var th=function(e){e()};function nh(){var e=th,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var rh={notify:function(){},get:function(){return[]}};function oh(e,t){var n,r=rh;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=nh())}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=rh)},getListeners:function(){return r}};return a}var ih="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?c.useLayoutEffect:c.useEffect;function ah(e){var t=e.store,n=e.context,r=e.children,o=(0,c.useMemo)((function(){var e=oh(t);return{store:t,subscription:e}}),[t]),i=(0,c.useMemo)((function(){return t.getState()}),[t]);ih((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var a=n||eh;return c.createElement(a.Provider,{value:o},r)}function lh(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var sh={exports:{}},uh={},ch="function"==typeof Symbol&&Symbol.for,dh=ch?Symbol.for("react.element"):60103,hh=ch?Symbol.for("react.portal"):60106,fh=ch?Symbol.for("react.fragment"):60107,ph=ch?Symbol.for("react.strict_mode"):60108,vh=ch?Symbol.for("react.profiler"):60114,gh=ch?Symbol.for("react.provider"):60109,mh=ch?Symbol.for("react.context"):60110,yh=ch?Symbol.for("react.async_mode"):60111,bh=ch?Symbol.for("react.concurrent_mode"):60111,Ch=ch?Symbol.for("react.forward_ref"):60112,xh=ch?Symbol.for("react.suspense"):60113,wh=ch?Symbol.for("react.suspense_list"):60120,Sh=ch?Symbol.for("react.memo"):60115,Eh=ch?Symbol.for("react.lazy"):60116,Oh=ch?Symbol.for("react.block"):60121,Ih=ch?Symbol.for("react.fundamental"):60117,Lh=ch?Symbol.for("react.responder"):60118,_h=ch?Symbol.for("react.scope"):60119;function Th(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case dh:switch(e=e.type){case yh:case bh:case fh:case vh:case ph:case xh:return e;default:switch(e=e&&e.$$typeof){case mh:case Ch:case Eh:case Sh:case gh:return e;default:return t}}case hh:return t}}}function Mh(e){return Th(e)===bh}uh.AsyncMode=yh,uh.ConcurrentMode=bh,uh.ContextConsumer=mh,uh.ContextProvider=gh,uh.Element=dh,uh.ForwardRef=Ch,uh.Fragment=fh,uh.Lazy=Eh,uh.Memo=Sh,uh.Portal=hh,uh.Profiler=vh,uh.StrictMode=ph,uh.Suspense=xh,uh.isAsyncMode=function(e){return Mh(e)||Th(e)===yh},uh.isConcurrentMode=Mh,uh.isContextConsumer=function(e){return Th(e)===mh},uh.isContextProvider=function(e){return Th(e)===gh},uh.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===dh},uh.isForwardRef=function(e){return Th(e)===Ch},uh.isFragment=function(e){return Th(e)===fh},uh.isLazy=function(e){return Th(e)===Eh},uh.isMemo=function(e){return Th(e)===Sh},uh.isPortal=function(e){return Th(e)===hh},uh.isProfiler=function(e){return Th(e)===vh},uh.isStrictMode=function(e){return Th(e)===ph},uh.isSuspense=function(e){return Th(e)===xh},uh.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===fh||e===bh||e===vh||e===ph||e===xh||e===wh||"object"==typeof e&&null!==e&&(e.$$typeof===Eh||e.$$typeof===Sh||e.$$typeof===gh||e.$$typeof===mh||e.$$typeof===Ch||e.$$typeof===Ih||e.$$typeof===Lh||e.$$typeof===_h||e.$$typeof===Oh)},uh.typeOf=Th,sh.exports=uh;var Rh=sh.exports,Ah={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Nh={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Bh={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Dh={};function kh(e){return Rh.isMemo(e)?Bh:Dh[e.$$typeof]||Ah}Dh[Rh.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Dh[Rh.Memo]=Bh;var Ph=Object.defineProperty,zh=Object.getOwnPropertyNames,Fh=Object.getOwnPropertySymbols,Hh=Object.getOwnPropertyDescriptor,$h=Object.getPrototypeOf,jh=Object.prototype;var Wh=function e(t,n,r){if("string"!=typeof n){if(jh){var o=$h(n);o&&o!==jh&&e(t,o,r)}var i=zh(n);Fh&&(i=i.concat(Fh(n)));for(var a=kh(t),l=kh(n),s=0;s<i.length;++s){var u=i[s];if(!(Nh[u]||r&&r[u]||l&&l[u]||a&&a[u])){var c=Hh(n,u);try{Ph(t,u,c)}catch(e){}}}}return t},Gh={exports:{}},Vh={},Uh=60103,Zh=60106,Yh=60107,Xh=60108,qh=60114,Kh=60109,Qh=60110,Jh=60112,ef=60113,tf=60120,nf=60115,rf=60116,of=60121,af=60122,lf=60117,sf=60129,uf=60131;if("function"==typeof Symbol&&Symbol.for){var cf=Symbol.for;Uh=cf("react.element"),Zh=cf("react.portal"),Yh=cf("react.fragment"),Xh=cf("react.strict_mode"),qh=cf("react.profiler"),Kh=cf("react.provider"),Qh=cf("react.context"),Jh=cf("react.forward_ref"),ef=cf("react.suspense"),tf=cf("react.suspense_list"),nf=cf("react.memo"),rf=cf("react.lazy"),of=cf("react.block"),af=cf("react.server.block"),lf=cf("react.fundamental"),sf=cf("react.debug_trace_mode"),uf=cf("react.legacy_hidden")}function df(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Uh:switch(e=e.type){case Yh:case qh:case Xh:case ef:case tf:return e;default:switch(e=e&&e.$$typeof){case Qh:case Jh:case rf:case nf:case Kh:return e;default:return t}}case Zh:return t}}}var hf=Kh,ff=Uh,pf=Jh,vf=Yh,gf=rf,mf=nf,yf=Zh,bf=qh,Cf=Xh,xf=ef;Vh.ContextConsumer=Qh,Vh.ContextProvider=hf,Vh.Element=ff,Vh.ForwardRef=pf,Vh.Fragment=vf,Vh.Lazy=gf,Vh.Memo=mf,Vh.Portal=yf,Vh.Profiler=bf,Vh.StrictMode=Cf,Vh.Suspense=xf,Vh.isAsyncMode=function(){return!1},Vh.isConcurrentMode=function(){return!1},Vh.isContextConsumer=function(e){return df(e)===Qh},Vh.isContextProvider=function(e){return df(e)===Kh},Vh.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Uh},Vh.isForwardRef=function(e){return df(e)===Jh},Vh.isFragment=function(e){return df(e)===Yh},Vh.isLazy=function(e){return df(e)===rf},Vh.isMemo=function(e){return df(e)===nf},Vh.isPortal=function(e){return df(e)===Zh},Vh.isProfiler=function(e){return df(e)===qh},Vh.isStrictMode=function(e){return df(e)===Xh},Vh.isSuspense=function(e){return df(e)===ef},Vh.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Yh||e===qh||e===sf||e===Xh||e===ef||e===tf||e===uf||"object"==typeof e&&null!==e&&(e.$$typeof===rf||e.$$typeof===nf||e.$$typeof===Kh||e.$$typeof===Qh||e.$$typeof===Jh||e.$$typeof===lf||e.$$typeof===of||e[0]===af)},Vh.typeOf=df,Gh.exports=Vh;var wf=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Sf=["reactReduxForwardedRef"],Ef=[],Of=[null,null];function If(e,t){var n=e[1];return[t.payload,n+1]}function Lf(e,t,n){ih((function(){return e.apply(void 0,t)}),n)}function _f(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function Tf(e,t,n,r,o,i,a,l,s,u){if(e){var c=!1,d=null,h=function(){if(!c){var e,n,h=t.getState();try{e=r(h,o.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?a.current||s():(i.current=e,l.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Mf=function(){return[null,0]};function Rf(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,a=void 0===i?"connectAdvanced":i,l=n.renderCountProp,s=void 0===l?void 0:l,u=n.shouldHandleStateChanges,d=void 0===u||u,h=n.storeKey,f=void 0===h?"store":h;n.withRef;var p=n.forwardRef,v=void 0!==p&&p,g=n.context,m=void 0===g?eh:g,y=lh(n,wf),b=m;return function(t){var n=t.displayName||t.name||"Component",r=o(n),i=$d({},y,{getDisplayName:o,methodName:a,renderCountProp:s,shouldHandleStateChanges:d,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=y.pure;var u=l?c.useMemo:function(e){return e()};function h(n){var r=(0,c.useMemo)((function(){var e=n.reactReduxForwardedRef,t=lh(n,Sf);return[n.context,e,t]}),[n]),o=r[0],a=r[1],l=r[2],s=(0,c.useMemo)((function(){return o&&o.Consumer&&Gh.exports.isContextConsumer(c.createElement(o.Consumer,null))?o:b}),[o,b]),h=(0,c.useContext)(s),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var p=f?n.store:h.store,v=(0,c.useMemo)((function(){return function(t){return e(t.dispatch,i)}(p)}),[p]),g=(0,c.useMemo)((function(){if(!d)return Of;var e=oh(p,f?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,f,h]),m=g[0],y=g[1],C=(0,c.useMemo)((function(){return f?h:$d({},h,{subscription:m})}),[f,h,m]),x=(0,c.useReducer)(If,Ef,Mf),w=x[0][0],S=x[1];if(w&&w.error)throw w.error;var E=(0,c.useRef)(),O=(0,c.useRef)(l),I=(0,c.useRef)(),L=(0,c.useRef)(!1),_=u((function(){return I.current&&l===O.current?I.current:v(p.getState(),l)}),[p,w,l]);Lf(_f,[O,E,L,l,_,I,y]),Lf(Tf,[d,p,m,v,O,E,L,I,y,S],[p,m,v]);var T=(0,c.useMemo)((function(){return c.createElement(t,$d({},_,{ref:a}))}),[a,t,_]);return(0,c.useMemo)((function(){return d?c.createElement(s.Provider,{value:C},T):T}),[s,T,C])}var p=l?c.memo(h):h;if(p.WrappedComponent=t,p.displayName=h.displayName=r,v){var g=c.forwardRef((function(e,t){return c.createElement(p,$d({},e,{reactReduxForwardedRef:t}))}));return g.displayName=r,g.WrappedComponent=t,Wh(g,t)}return Wh(p,t)}}function Af(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Nf(e,t){if(Af(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Af(e[n[o]],t[n[o]]))return!1;return!0}function Bf(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function Df(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function kf(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Df(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=Df(o),o=r(t,n)),o},r}}var Pf=[function(e){return"function"==typeof e?kf(e):void 0},function(e){return e?void 0:Bf((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?Bf((function(t){return function(e,t){var n={},r=function(r){var o=e[r];"function"==typeof o&&(n[r]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)r(o);return n}(e,t)})):void 0}];var zf=[function(e){return"function"==typeof e?kf(e):void 0},function(e){return e?void 0:Bf((function(){return{}}))}];function Ff(e,t,n){return $d({},n,e,t)}var Hf=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,l){var s=e(t,n,l);return a?o&&i(s,r)||(r=s):(a=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return Ff}}],$f=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function jf(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function Wf(e,t,n,r,o){var i,a,l,s,u,c=o.areStatesEqual,d=o.areOwnPropsEqual,h=o.areStatePropsEqual,f=!1;function p(o,f){var p,v,g=!d(f,a),m=!c(o,i);return i=o,a=f,g&&m?(l=e(i,a),t.dependsOnOwnProps&&(s=t(r,a)),u=n(l,s,a)):g?(e.dependsOnOwnProps&&(l=e(i,a)),t.dependsOnOwnProps&&(s=t(r,a)),u=n(l,s,a)):m?(p=e(i,a),v=!h(p,l),l=p,v&&(u=n(l,s,a)),u):u}return function(o,c){return f?p(o,c):(l=e(i=o,a=c),s=t(r,a),u=n(l,s,a),f=!0,u)}}function Gf(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=lh(t,$f),a=n(e,i),l=r(e,i),s=o(e,i);return(i.pure?Wf:jf)(a,l,s,e,i)}var Vf=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Uf(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Zf(e,t){return e===t}function Yf(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Rf:n,o=t.mapStateToPropsFactories,i=void 0===o?zf:o,a=t.mapDispatchToPropsFactories,l=void 0===a?Pf:a,s=t.mergePropsFactories,u=void 0===s?Hf:s,c=t.selectorFactory,d=void 0===c?Gf:c;return function(e,t,n,o){void 0===o&&(o={});var a=o,s=a.pure,c=void 0===s||s,h=a.areStatesEqual,f=void 0===h?Zf:h,p=a.areOwnPropsEqual,v=void 0===p?Nf:p,g=a.areStatePropsEqual,m=void 0===g?Nf:g,y=a.areMergedPropsEqual,b=void 0===y?Nf:y,C=lh(a,Vf),x=Uf(e,i,"mapStateToProps"),w=Uf(t,l,"mapDispatchToProps"),S=Uf(n,u,"mergeProps");return r(d,$d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:w,initMergeProps:S,pure:c,areStatesEqual:f,areOwnPropsEqual:v,areStatePropsEqual:m,areMergedPropsEqual:b},C))}}var Xf,qf=Yf();function Kf(e,t){var n=(0,c.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,c.useRef)(!0),o=(0,c.useRef)(n),i=r.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs)),a=i?o.current:{inputs:t,result:e()};return(0,c.useEffect)((function(){r.current=!1,o.current=a}),[a]),a.result}Xf=mi.unstable_batchedUpdates,th=Xf;var Qf=Kf,Jf=function(e,t){return Kf((function(){return e}),t)},ep="Invariant failed";var tp=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},np=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},rp=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},op={top:0,right:0,bottom:0,left:0},ip=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?op:n,o=e.border,i=void 0===o?op:o,a=e.padding,l=void 0===a?op:a,s=tp(np(t,r)),u=tp(rp(t,i)),c=tp(rp(u,l));return{marginBox:s,borderBox:tp(t),paddingBox:u,contentBox:c,margin:r,border:i,padding:l}},ap=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){if(!e)throw new Error(ep)}(!1),n},lp=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,l=e.padding,s=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return ip({borderBox:s,border:i,margin:a,padding:l})},sp=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),lp(e,t)},up=function(e,t){var n={top:ap(t.marginTop),right:ap(t.marginRight),bottom:ap(t.marginBottom),left:ap(t.marginLeft)},r={top:ap(t.paddingTop),right:ap(t.paddingRight),bottom:ap(t.paddingBottom),left:ap(t.paddingLeft)},o={top:ap(t.borderTopWidth),right:ap(t.borderRightWidth),bottom:ap(t.borderBottomWidth),left:ap(t.borderLeftWidth)};return ip({borderBox:e,margin:n,padding:r,border:o})},cp=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return up(t,n)},dp=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function hp(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||dp(r)&&dp(o)))return!1;var r,o;return!0}function fp(e,t){var n;void 0===t&&(t=hp);var r,o=[],i=!1;return function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}}var pp=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function vp(e,t){}function gp(){}function mp(e,t,n){var r=t.map((function(t){var r,o,i=(r=n,o=t.options,$d({},r,{},o));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){r.forEach((function(e){e()}))}}vp.bind(null,"warn"),vp.bind(null,"error");function yp(e){this.message=e}function bp(e,t){if(!e)throw new yp("Invariant failed")}yp.prototype.toString=function(){return this.message};var Cp=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=gp,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof yp&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}Hd(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=mp(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof yp))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(c.Component),xp=function(e){return e+1},wp=function(e,t){var n=e.droppableId===t.droppableId,r=xp(e.index),o=xp(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},Sp=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Ep=function(e){return"\n  The item has returned to its starting position\n  of "+xp(e.index)+"\n"},Op="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Ip=function(e){return"\n  You have lifted an item in position "+xp(e.source.index)+"\n"},Lp=function(e){var t=e.destination;if(t)return wp(e.source,t);var n=e.combine;return n?Sp(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},_p=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Ep(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+wp(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Sp(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Ep(e.source)+"\n  "},Tp={x:0,y:0},Mp=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Rp=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Ap=function(e,t){return e.x===t.x&&e.y===t.y},Np=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Bp=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Dp=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},kp=function(e,t){return Math.min.apply(Math,t.map((function(t){return Dp(e,t)})))},Pp=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},zp=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Fp=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Hp=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=tp({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):tp(e)},$p=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,o=e.frame,i=function(e,t){return t?zp(e,t.scroll.diff.displacement):e}(t.marginBox,o),a=function(e,t,n){var r;return n&&n.increasedBy?$d({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:Hp(a,o)}},jp=function(e,t){e.frame||bp(!1);var n=e.frame,r=Rp(t,n.scroll.initial),o=Np(r),i=$d({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}});return $d({},e,{frame:i,subject:$p({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function Wp(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Gp(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Vp(e,t){if(e.find)return e.find(t);var n=Gp(e,t);return-1!==n?e[n]:void 0}function Up(e){return Array.prototype.slice.call(e)}var Zp=fp((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Yp=fp((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Xp=fp((function(e){return Wp(e)})),qp=fp((function(e){return Wp(e)})),Kp=fp((function(e,t){return qp(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))}));function Qp(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Jp(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var ev=fp((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),tv=function(e,t){return e.descriptor.droppableId===t.descriptor.id},nv={point:Tp,value:0},rv={invisible:{},visible:{},all:[]},ov={displaced:rv,displacedBy:nv,at:null},iv=function(e,t){return function(n){return e<=n&&n<=t}},av=function(e){var t=iv(e.top,e.bottom),n=iv(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;var a=r.top<e.top&&r.bottom>e.bottom,l=r.left<e.left&&r.right>e.right;return!(!a||!l)||(a&&i||l&&o)}},lv=function(e){var t=iv(e.top,e.bottom),n=iv(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},sv={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},uv={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},cv=function(e){var t=e.target,n=e.destination,r=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Tp;return zp(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,i)&&function(e,t,n){return n(t)(e)}(a,r,i)},dv=function(e){return cv($d({},e,{isVisibleThroughFrameFn:lv}))};function hv(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var l=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return tp(np(n,r))}(t,r),s=t.descriptor.id;if(e.all.push(s),!cv($d({},{target:l,destination:n,viewport:o,withDroppableDisplacement:!0},{isVisibleThroughFrameFn:av})))return e.invisible[t.descriptor.id]=!0,e;var u=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,o=t.visible;if(r[e])return!1;var i=o[e];return!i||i.shouldAnimate}(s,a,i),c={draggableId:s,shouldAnimate:u};return e.visible[s]=c,e}),{all:[],visible:{},invisible:{}})}function fv(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:rv,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function pv(e){var t=e.draggable,n=e.insideDestination,r=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,l=e.index,s=e.forceShouldAnimate,u=tv(t,r);if(null==l)return fv({insideDestination:n,inHomeList:u,displacedBy:i,destination:r});var c=Vp(n,(function(e){return e.descriptor.index===l}));if(!c)return fv({insideDestination:n,inHomeList:u,displacedBy:i,destination:r});var d=ev(t,n),h=n.indexOf(c);return{displaced:hv({afterDragging:d.slice(h),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:s}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function vv(e,t){return Boolean(t.effected[e])}var gv=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,l=e.previousImpact,s=e.viewport,u=e.afterCritical,c=l.at;if(c||bp(!1),"REORDER"===c.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,o=e.location;if(!r.length)return null;var i=o.index,a=t?i+1:i-1,l=r[0].descriptor.index,s=r[r.length-1].descriptor.index;return a<l||a>(n?s:s+1)?null:a}({isMovingForward:t,isInHomeList:n,location:c.destination,insideDestination:a});return null==d?null:pv({draggable:r,insideDestination:a,destination:i,viewport:s,last:l.displaced,displacedBy:l.displacedBy,index:d})}var h=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,o=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var a=o.draggableId,l=r[a].descriptor.index;return vv(a,i)?t?l:l-1:t?l+1:l}({isMovingForward:t,destination:i,displaced:l.displaced,draggables:o,combine:c.combine,afterCritical:u});return null==h?null:pv({draggable:r,insideDestination:a,destination:i,viewport:s,last:l.displaced,displacedBy:l.displacedBy,index:h})},mv=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,o=Jp(n);o||bp(!1);var i=o.draggableId,a=r[i].page.borderBox.center,l=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return vv(r,n)?i?Tp:Np(o.point):i?o.point:Tp}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return Mp(a,l)},yv=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},bv=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Cv=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Bp(t.line,n.marginBox[t.end]+yv(t,r),bv(t,n.marginBox,r))},xv=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Bp(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),bv(t,n.marginBox,r))},wv=function(e){var t=e.impact,n=e.draggable,r=e.draggables,o=e.droppable,i=e.afterCritical,a=Kp(o.descriptor.id,r),l=n.page,s=o.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return Bp(t.line,n.contentBox[t.start]+yv(t,r),bv(t,n.contentBox,r))}({axis:s,moveInto:o.page,isMoving:l});var u=t.displaced,c=t.displacedBy,d=u.all[0];if(d){var h=r[d];if(vv(d,i))return xv({axis:s,moveRelativeTo:h.page,isMoving:l});var f=lp(h.page,c.point);return xv({axis:s,moveRelativeTo:f,isMoving:l})}var p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return l.borderBox.center;if(vv(p.descriptor.id,i)){var v=lp(p.page,Np(i.displacedBy.point));return Cv({axis:s,moveRelativeTo:v,isMoving:l})}return Cv({axis:s,moveRelativeTo:p.page,isMoving:l})},Sv=function(e,t){var n=e.frame;return n?Mp(t,n.scroll.diff.displacement):t},Ev=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.afterCritical,a=n.page.borderBox.center,l=t.at;return r&&l?"REORDER"===l.type?wv({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):mv({impact:t,draggables:o,afterCritical:i}):a}(e),n=e.droppable;return n?Sv(n,t):t},Ov=function(e,t){var n=Rp(t,e.scroll.initial),r=Np(n);return{frame:tp({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Iv(e,t){return e.map((function(e){return t[e]}))}var Lv=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return Mp(e.scroll.diff.displacement,t)}(e.viewport,t),o=Rp(r,n.page.borderBox.center);return Mp(n.client.borderBox.center,o)},_v=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=void 0!==a&&a,s=Rp(r,t.page.borderBox.center),u={target:zp(t.page.borderBox,s),destination:n,withDroppableDisplacement:i,viewport:o};return l?function(e){return cv($d({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=iv(e.top,e.bottom),r=iv(e.left,e.right);return function(e){return t===sv?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(u):dv(u)},Tv=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,s=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var c=Kp(r.descriptor.id,o),d=tv(n,r),h=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!Qp(i))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return $d({},i,{at:t})}var l=i.displaced.all,s=l.length?l[0]:null;if(t)return s?a(s):null;var u=ev(n,o);if(!s)return u.length?a(u[u.length-1].descriptor.id):null;var c=Gp(u,(function(e){return e.descriptor.id===s}));-1===c&&bp(!1);var d=c-1;return d<0?null:a(u[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:c,previousImpact:i})||gv({isMovingForward:t,isInHomeList:d,draggable:n,draggables:o,destination:r,insideDestination:c,previousImpact:i,viewport:a,afterCritical:u});if(!h)return null;var f=Ev({impact:h,draggable:n,droppable:r,draggables:o,afterCritical:u});if(_v({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Lv({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null};var p=Rp(f,l),v=function(e){var t=e.impact,n=e.viewport,r=e.destination,o=e.draggables,i=e.maxScrollChange,a=Ov(n,Mp(n.scroll.current,i)),l=r.frame?jp(r,Mp(r.frame.scroll.current,i)):r,s=t.displaced,u=hv({afterDragging:Iv(s.all,o),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:s,forceShouldAnimate:!1}),c=hv({afterDragging:Iv(s.all,o),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:s,forceShouldAnimate:!1}),d={},h={},f=[s,u,c];return s.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),$d({},t,{displaced:{all:s.all,invisible:d,visible:h}})}({impact:h,viewport:a,destination:r,draggables:o,maxScrollChange:p});return{clientSelection:s,impact:v,scrollJumpRequest:p}},Mv=function(e){var t=e.subject.active;return t||bp(!1),t},Rv=function(e,t){var n=e.page.borderBox.center;return vv(e.descriptor.id,t)?Rp(n,t.displacedBy.point):n},Av=function(e,t){var n=e.page.borderBox;return vv(e.descriptor.id,t)?zp(n,Np(t.displacedBy.point)):n},Nv=fp((function(e,t){var n=t[e.line];return{value:n,point:Bp(e.line,n)}})),Bv=function(e,t){return $d({},e,{scroll:$d({},e.scroll,{max:t})})},Dv=function(e,t,n){var r=e.frame;tv(t,e)&&bp(!1),e.subject.withPlaceholder&&bp(!1);var o=Nv(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return Bp(r.line,t[r.line]);var o=e.subject.page.contentBox[r.size],i=Kp(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-o;return i<=0?null:Bp(r.line,i)}(e,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return $d({},e,{subject:$p({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var l=i?Mp(r.scroll.max,i):r.scroll.max,s=Bv(r,l);return $d({},e,{subject:$p({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:s}),frame:s})},kv=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,l=e.viewport,s=e.afterCritical,u=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,o=e.droppables,i=e.viewport,a=r.subject.active;if(!a)return null;var l=r.axis,s=iv(a[l.start],a[l.end]),u=Xp(o).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return av(i.frame)(Mv(e))})).filter((function(e){var n=Mv(e);return t?a[l.crossAxisEnd]<n[l.crossAxisEnd]:n[l.crossAxisStart]<a[l.crossAxisStart]})).filter((function(e){var t=Mv(e),n=iv(t[l.start],t[l.end]);return s(t[l.start])||s(t[l.end])||n(a[l.start])||n(a[l.end])})).sort((function(e,n){var r=Mv(e)[l.crossAxisStart],o=Mv(n)[l.crossAxisStart];return t?r-o:o-r})).filter((function(e,t,n){return Mv(e)[l.crossAxisStart]===Mv(n[0])[l.crossAxisStart]}));if(!u.length)return null;if(1===u.length)return u[0];var c=u.filter((function(e){return iv(Mv(e)[l.start],Mv(e)[l.end])(n[l.line])}));return 1===c.length?c[0]:c.length>1?c.sort((function(e,t){return Mv(e)[l.start]-Mv(t)[l.start]}))[0]:u.sort((function(e,t){var r=kp(n,Fp(Mv(e))),o=kp(n,Fp(Mv(t)));return r!==o?r-o:Mv(e)[l.start]-Mv(t)[l.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:l});if(!u)return null;var c=Kp(u.descriptor.id,i),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,o=e.insideDestination,i=e.afterCritical;return o.filter((function(e){return dv({target:Av(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var o=Dp(t,Sv(r,Rv(e,i))),a=Dp(t,Sv(r,Rv(n,i)));return o<a?-1:a<o?1:e.descriptor.index-n.descriptor.index}))[0]||null}({pageBorderBoxCenter:n,viewport:l,destination:u,insideDestination:c,afterCritical:s}),h=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,l=e.viewport,s=e.afterCritical;if(!n){if(r.length)return null;var u={displaced:rv,displacedBy:nv,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},c=Ev({impact:u,draggable:o,droppable:a,draggables:i,afterCritical:s}),d=tv(o,a)?a:Dv(a,o,i);return _v({draggable:o,destination:d,newPageBorderBoxCenter:c,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}var h,f=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),p=(h=n.descriptor.index,n.descriptor.id===o.descriptor.id||f?h:h+1),v=Nv(a.axis,o.displaceBy);return pv({draggable:o,insideDestination:r,destination:a,viewport:l,displacedBy:v,last:rv,index:p})}({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:i,moveRelativeTo:d,insideDestination:c,viewport:l,afterCritical:s});if(!h)return null;var f=Ev({impact:h,draggable:r,droppable:u,draggables:i,afterCritical:s});return{clientSelection:Lv({pageBorderBoxCenter:f,draggable:r,viewport:l}),impact:h,scrollJumpRequest:null}},Pv=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},zv=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Pv(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,l=a.axis.direction,s="vertical"===l&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===l&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(s&&!o)return null;var u="MOVE_DOWN"===n||"MOVE_RIGHT"===n,c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,h=t.dimensions,f=h.draggables,p=h.droppables;return s?Tv({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):kv({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:a,draggables:f,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Fv(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Hv(e){var t=iv(e.top,e.bottom),n=iv(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function $v(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,o=Xp(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,o=e.subject.active;if(!o)return!1;if(r=o,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Hv(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],l=t[i.crossAxisStart],s=t[i.crossAxisEnd],u=iv(o[i.crossAxisStart],o[i.crossAxisEnd]),c=u(l),d=u(s);return!c&&!d||(c?l<a:s>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,o=n.page.borderBox.center,i=r.map((function(e){var n=e.axis,r=Bp(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Dp(o,r)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}var jv=function(e,t){return tp(zp(e,t))};function Wv(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var Gv=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,l=e.afterCritical,s=jv(n.page.borderBox,t),u=$v({pageBorderBox:s,draggable:n,droppables:o});if(!u)return ov;var c,d,h=o[u],f=Kp(h.descriptor.id,r),p=(c=s,(d=h.frame)?jv(c,d.scroll.diff.value):c);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var l=o.axis,s=Nv(o.axis,t.displaceBy),u=s.value,c=n[l.start],d=n[l.end],h=Vp(ev(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,o=n[l.size]/4,i=vv(t,a),s=Wv({displaced:r.displaced,id:t});return i?s?d>n[l.start]+o&&d<n[l.end]-o:c>n[l.start]-u+o&&c<n[l.end]-u-o:s?d>n[l.start]+u+o&&d<n[l.end]+u-o:c>n[l.start]+o&&c<n[l.end]-o}));return h?{displacedBy:s,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:h,insideDestination:f,afterCritical:l})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,l=e.afterCritical,s=r.axis,u=Nv(r.axis,n.displaceBy),c=u.value,d=t[s.start],h=t[s.end],f=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:Vp(ev(n,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[s.line],r=vv(t,l),o=Wv({displaced:i,id:t});return r?o?h<=n:d<n-c:o?h<=n+c:d<n})),inHomeList:tv(n,r)});return pv({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:u,index:f})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:h,insideDestination:f,last:i.displaced,viewport:a,afterCritical:l})},Vv=function(e,t){var n;return $d({},e,((n={})[t.descriptor.id]=t,n))},Uv=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,o=Pv(t),i=Pv(n);if(!o)return r;if(o===i)return r;var a=r[o];if(!a.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||bp(!1);var n=e.frame;if(!n)return $d({},e,{subject:$p({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||bp(!1);var o=Bv(n,r);return $d({},e,{subject:$p({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null}),frame:o})}(a);return Vv(r,l)},Zv=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,l=o||t.viewport,s=r||t.dimensions,u=n||t.current.client.selection,c=Rp(u,t.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:Mp(t.initial.client.borderBoxCenter,c)},h={selection:Mp(d.selection,l.scroll.current),borderBoxCenter:Mp(d.borderBoxCenter,l.scroll.current),offset:Mp(d.offset,l.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return $d({phase:"COLLECTING"},t,{dimensions:s,viewport:l,current:f});var p=s.draggables[t.critical.draggable.id],v=i||Gv({pageOffset:h.offset,draggable:p,draggables:s.draggables,droppables:s.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,o=e.previousImpact,i=e.impact,a=Uv({previousImpact:o,impact:i,droppables:r}),l=Pv(i);if(!l)return a;var s=r[l];if(tv(t,s))return a;if(s.subject.withPlaceholder)return a;var u=Dv(s,t,n);return Vv(a,u)}({draggable:p,impact:v,previousImpact:t.impact,draggables:s.draggables,droppables:s.droppables});return $d({},t,{current:f,dimensions:{draggables:s.draggables,droppables:g},impact:v,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var Yv=function(e){var t=e.impact,n=e.viewport,r=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced,l=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r);return $d({},t,{displaced:hv({afterDragging:l,destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:a})})},Xv=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,l=Ev({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return Lv({pageBorderBoxCenter:l,draggable:n,viewport:i})},qv=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&bp(!1);var o=t.impact,i=r||t.viewport,a=n||t.dimensions,l=a.draggables,s=a.droppables,u=l[t.critical.draggable.id],c=Pv(o);c||bp(!1);var d=s[c],h=Yv({impact:o,viewport:i,destination:d,draggables:l}),f=Xv({impact:h,draggable:u,droppable:d,draggables:l,viewport:i,afterCritical:t.afterCritical});return Zv({impact:h,clientSelection:f,state:t,dimensions:a,viewport:i})},Kv=function(e){var t=e.draggable,n=e.home,r=e.draggables,o=e.viewport,i=Nv(n.axis,t.displaceBy),a=Kp(n.descriptor.id,r),l=a.indexOf(t);-1===l&&bp(!1);var s,u=a.slice(l+1),c=u.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:c};return{impact:{displaced:hv({afterDragging:u,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(s=t.descriptor,{index:s.index,droppableId:s.droppableId})}},afterCritical:d}},Qv=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,o=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||bp(!1),t}(n[t]).scroll.diff.value,a=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,o=lp(t.client,n),i=sp(o,r);return $d({},t,{placeholder:$d({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:Mp(o,i),initialWindowScroll:r.scroll.initial});return a}))},Jv=function(e){return"SNAP"===e.movementMode},eg=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Vv(e.droppables,t)}}(e.dimensions,t);return!Jv(e)||n?Zv({state:e,dimensions:r}):qv({state:e,dimensions:r})};function tg(e){return e.isDragging&&"SNAP"===e.movementMode?$d({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var ng={phase:"IDLE",completed:null,shouldFlush:!1},rg=function(e,t){if(void 0===e&&(e=ng),"FLUSH"===t.type)return $d({},ng,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&bp(!1);var n=t.payload,r=n.critical,o=n.clientSelection,i=n.viewport,a=n.dimensions,l=n.movementMode,s=a.draggables[r.draggable.id],u=a.droppables[r.droppable.id],c={selection:o,borderBoxCenter:s.client.borderBox.center,offset:Tp},d={client:c,page:{selection:Mp(c.selection,i.scroll.initial),borderBoxCenter:Mp(c.selection,i.scroll.initial),offset:Mp(c.selection,i.scroll.diff.value)}},h=Xp(a.droppables).every((function(e){return!e.isFixedOnPage})),f=Kv({draggable:s,home:u,draggables:a.draggables,viewport:i}),p=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:a,initial:d,current:d,isWindowScrollAllowed:h,impact:p,afterCritical:f.afterCritical,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&bp(!1),$d({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&bp(!1),function(e){var t=e.state,n=e.published,r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return jp(n,e.scroll)})),o=$d({},t.dimensions.droppables,{},Zp(r)),i=Yp(Qv({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),a=$d({},t.dimensions.draggables,{},i);n.removals.forEach((function(e){delete a[e]}));var l={droppables:o,draggables:a},s=Pv(t.impact),u=s?l.droppables[s]:null,c=l.draggables[t.critical.draggable.id],d=l.droppables[t.critical.droppable.id],h=Kv({draggable:c,home:d,draggables:a,viewport:t.viewport}),f=h.impact,p=h.afterCritical,v=u&&u.isCombineEnabled?t.impact:f,g=Gv({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:v,viewport:t.viewport,afterCritical:p}),m=$d({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:l,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?m:$d({phase:"DROP_PENDING"},m,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Fv(e)||bp(!1);var v=t.payload.client;return Ap(v,e.current.client.selection)?e:Zv({state:e,clientSelection:v,impact:Jv(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return tg(e);if("COLLECTING"===e.phase)return tg(e);Fv(e)||bp(!1);var g=t.payload,m=g.id,y=g.newScroll,b=e.dimensions.droppables[m];if(!b)return e;var C=jp(b,y);return eg(e,C,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Fv(e)||bp(!1);var x=t.payload,w=x.id,S=x.isEnabled,E=e.dimensions.droppables[w];E||bp(!1),E.isEnabled===S&&bp(!1);var O=$d({},E,{isEnabled:S});return eg(e,O,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Fv(e)||bp(!1);var I=t.payload,L=I.id,_=I.isCombineEnabled,T=e.dimensions.droppables[L];T||bp(!1),T.isCombineEnabled===_&&bp(!1);var M=$d({},T,{isCombineEnabled:_});return eg(e,M,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Fv(e)||bp(!1),e.isWindowScrollAllowed||bp(!1);var R=t.payload.newScroll;if(Ap(e.viewport.scroll.current,R))return tg(e);var A=Ov(e.viewport,R);return Jv(e)?qv({state:e,viewport:A}):Zv({state:e,viewport:A})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Fv(e))return e;var N=t.payload.maxScroll;if(Ap(N,e.viewport.scroll.max))return e;var B=$d({},e.viewport,{scroll:$d({},e.viewport.scroll,{max:N})});return $d({phase:"DRAGGING"},e,{viewport:B})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&bp(!1);var D=zv({state:e,type:t.type});return D?Zv({state:e,impact:D.impact,clientSelection:D.clientSelection,scrollJumpRequest:D.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var k=t.payload.reason;return"COLLECTING"!==e.phase&&bp(!1),$d({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:k})}if("DROP_ANIMATE"===t.type){var P=t.payload,z=P.completed,F=P.dropDuration,H=P.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&bp(!1),{phase:"DROP_ANIMATING",completed:z,dropDuration:F,newHomeClientOffset:H,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},og=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},ig=function(){return{type:"COLLECTION_STARTING",payload:null}},ag=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},lg=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},sg=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},ug=function(e){return{type:"MOVE",payload:e}},cg=function(){return{type:"MOVE_UP",payload:null}},dg=function(){return{type:"MOVE_DOWN",payload:null}},hg=function(){return{type:"MOVE_RIGHT",payload:null}},fg=function(){return{type:"MOVE_LEFT",payload:null}},pg=function(e){return{type:"DROP_COMPLETE",payload:e}},vg=function(e){return{type:"DROP",payload:e}},gg=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},mg="cubic-bezier(.2,1,.1,1)",yg={drop:0,combining:.7},bg={drop:.75},Cg=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",xg={fluid:"opacity "+Cg,snap:"transform "+Cg+", opacity "+Cg,drop:function(e){var t=e+"s "+mg;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Cg,placeholder:"height "+Cg+", width "+Cg+", margin "+Cg},wg=function(e){return Ap(e,Tp)?null:"translate("+e.x+"px, "+e.y+"px)"},Sg=wg,Eg=function(e,t){var n=wg(e);return n?t?n+" scale("+bg.drop+")":n:null},Og=.33,Ig=.55,Lg=Ig-Og,_g=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var o=t(),i=r.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&bp(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&bp(!1);var a=o.critical,l=o.dimensions,s=l.draggables[o.critical.draggable.id],u=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:$d({},r,{displaced:rv}),didDropInsideDroppable:!0}:{impact:Yv({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),c=u.impact,d=u.didDropInsideDroppable,h=d?Qp(c):null,f=d?Jp(c):null,p={index:a.draggable.index,droppableId:a.droppable.id},v={draggableId:s.descriptor.id,type:s.descriptor.type,source:p,reason:i,mode:o.movementMode,destination:h,combine:f},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,o=e.viewport,i=e.afterCritical,a=r.draggables,l=r.droppables,s=Pv(t),u=s?l[s]:null,c=l[n.descriptor.droppableId],d=Xv({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:u||c,viewport:o});return Rp(d,n.client.borderBox.center)}({impact:c,draggable:s,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),m={critical:o.critical,afterCritical:o.afterCritical,result:v,impact:c};if(!Ap(o.current.client.offset,g)||Boolean(v.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,o=Dp(t,n);if(o<=0)return Og;if(o>=1500)return Ig;var i=Og+Lg*(o/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))}({current:o.current.client.offset,destination:g,reason:i});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:y,completed:m}))}else n(pg({completed:m}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},Tg=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Mg(e){var t=e.onWindowScroll;var n,r=pp((function(){t(Tg())})),o=(n=r,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||n()}}),i=gp;function a(){return i!==gp}return{start:function(){a()&&bp(!1),i=mp(window,[o])},stop:function(){a()||bp(!1),r.cancel(),i(),i=gp},isActive:a}}var Rg=function(e){var t=Mg({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Ag=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=Gp(e,(function(e){return e.timerId===t}));-1===n&&bp(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Ng=function(e,t){t()},Bg=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Dg=function(e,t,n,r){if(e){var o=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),o=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=function(){return t},o}(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}else n(r(t))},kg=function(e,t){var n=function(e,t){var n=Ag(),r=null,o=function(n){r||bp(!1),r=null,Ng(0,(function(){return Dg(e().onDragEnd,n,t,_p)}))};return{beforeCapture:function(t,n){r&&bp(!1),Ng(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&bp(!1),Ng(0,(function(){var r=e().onBeforeDragStart;r&&r(Bg(t,n))}))},start:function(o,i){r&&bp(!1);var a=Bg(o,i);r={mode:i,lastCritical:o,lastLocation:a.source,lastCombine:null},n.add((function(){Ng(0,(function(){return Dg(e().onDragStart,a,t,Ip)}))}))},update:function(o,i){var a=Qp(i),l=Jp(i);r||bp(!1);var s=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(o,r.lastCritical);s&&(r.lastCritical=o);var u,c,d=(c=a,!(null==(u=r.lastLocation)&&null==c||null!=u&&null!=c&&u.droppableId===c.droppableId&&u.index===c.index));d&&(r.lastLocation=a);var h=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,l);if(h&&(r.lastCombine=l),s||d||h){var f=$d({},Bg(o,r.mode),{combine:l,destination:a});n.add((function(){Ng(0,(function(){return Dg(e().onDragUpdate,f,t,Lp)}))}))}},flush:function(){r||bp(!1),n.flush()},drop:o,abort:function(){if(r){var e=$d({},Bg(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var o=r.payload.critical;return n.beforeStart(o,r.payload.movementMode),t(r),void n.start(o,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Pg=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&bp(!1),e.dispatch(pg({completed:r.completed}))}else t(n)}}},zg=function(e){var t=null,n=null;return function(r){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=mp(window,[i])}))}}}},Fg=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(vg({reason:r.reason})))}}}},Hg=Jd,$g=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,l=e.autoScroller;return qd(rg,Hg(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Vd(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=Jd.apply(void 0,i)(n.dispatch),Gd(Gd({},n),{},{dispatch:r})}}}((t=o,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,l=i.clientSelection,s=i.movementMode,u=n();"DROP_ANIMATING"===u.phase&&r(pg({completed:u.completed})),"IDLE"!==n().phase&&bp(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:s}});var c={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},d=e.startPublishing(c),h=d.critical,f=d.dimensions,p=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:h,dimensions:f,clientSelection:l,movementMode:s,viewport:p}})}else t(o)}}}}(n),_g,Pg,zg,Fg,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var o=t.getState();return"DRAGGING"!==o.phase&&bp(!1),void e.start(o)}n(r),e.scroll(t.getState())}}}}(l),Rg,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),kg(i,a))))};var jg=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,o=e.width,i=Rp({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Wg=function(){var e=document.documentElement;return e||bp(!1),e},Gg=function(){var e=Wg();return jg({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Vg=function(e){var t,n,r,o,i,a,l,s=e.critical,u=e.scrollOptions,c=e.registry,d=(t=Tg(),n=Gg(),r=t.y,o=t.x,i=Wg(),a=i.clientWidth,l=i.clientHeight,{frame:tp({top:r,left:o,right:o+a,bottom:r+l}),scroll:{initial:t,current:t,max:n,diff:{value:Tp,displacement:Tp}}}),h=d.scroll.current,f=s.droppable,p=c.droppable.getAllByType(f.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(h,u)})),v=c.draggable.getAllByType(s.draggable.type).map((function(e){return e.getDimension(h)}));return{dimensions:{draggables:Yp(v),droppables:Zp(p)},critical:s,viewport:d}};function Ug(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var Zg,Yg,Xg=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},o=null,i=function(){o||(n.collectionStarting(),o=requestAnimationFrame((function(){o=null;var e=r,i=e.additions,a=e.removals,l=e.modified,s=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(Tp)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),u=Object.keys(l).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),c={additions:s,removals:Object.keys(a),modified:u};r={additions:{},removals:{},modified:{}},n.publish(c)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){n||bp(!1);var o=n.critical.draggable;"ADDITION"===t.type&&Ug(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Ug(e,o,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:function(r,o){e.droppable.exists(r)||bp(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:function(r,o){n&&(e.droppable.exists(r)||bp(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,o){n&&(e.droppable.exists(r)||bp(!1),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:function(t){n&&bp(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},l=e.subscribe(o);return n={critical:a,unsubscribe:l},Vg({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}}},qg=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},Kg=function(e){window.scrollBy(e.x,e.y)},Qg=fp((function(e){return Xp(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),Jg=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var o=r[n];return o.frame?o:null}var i=function(e,t){return Vp(Qg(t),(function(t){return t.frame||bp(!1),Hv(t.frame.pageMarginBox)(e)}))}(t,r);return i},em=.25,tm=.05,nm=28,rm=function(e){return Math.pow(e,2)},om={stopDampeningAt:1200,accelerateAt:360},im=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,o=n-t;return 0===o?0:(r-t)/o},am=om.accelerateAt,lm=om.stopDampeningAt,sm=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return nm;if(e===t.startScrollingFrom)return 1;var n=im({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=nm*rm(1-n);return Math.ceil(r)}(t,n);return 0===i?0:o?Math.max(function(e,t){var n=t,r=lm,o=Date.now()-n;if(o>=lm)return e;if(o<am)return 1;var i=im({startOfRange:am,endOfRange:r,current:o}),a=e*rm(i);return Math.ceil(a)}(i,r),1):i},um=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*em,maxScrollValueAt:e[t.size]*tm}}(t,o);return n[o.end]<n[o.start]?sm({distanceToEdge:n[o.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i}):-1*sm({distanceToEdge:n[o.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i})},cm=Pp((function(e){return 0===e?0:e})),dm=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},l=um({container:n,distanceToEdges:a,dragStartTime:t,axis:sv,shouldUseTimeDampening:i}),s=um({container:n,distanceToEdges:a,dragStartTime:t,axis:uv,shouldUseTimeDampening:i}),u=cm({x:s,y:l});if(Ap(u,Tp))return null;var c=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r}({container:n,subject:r,proposedScroll:u});return c?Ap(c,Tp)?null:c:null},hm=Pp((function(e){return 0===e?0:e>0?1:-1})),fm=(Zg=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,o=Mp(t,r),i={x:Zg(o.x,n.x),y:Zg(o.y,n.y)};return Ap(i,Tp)?null:i}),pm=function(e){var t=e.max,n=e.current,r=e.change,o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=hm(r),a=fm({max:o,current:n,change:i});return!a||(0!==i.x&&0===a.x||0!==i.y&&0===a.y)},vm=function(e,t){return pm({current:e.scroll.current,max:e.scroll.max,change:t})},gm=function(e,t){var n=e.frame;return!!n&&pm({current:n.scroll.current,max:n.scroll.max,change:t})},mm=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var s=function(e){var t=e.viewport,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=dm({dragStartTime:o,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return a&&vm(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:l,center:a,shouldUseTimeDampening:r});if(s)return void o(s)}var u=Jg({center:a,destination:Pv(t.impact),droppables:t.dimensions.droppables});if(u){var c=function(e){var t=e.droppable,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var l=dm({dragStartTime:o,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return l&&gm(t,l)?l:null}({dragStartTime:n,droppable:u,subject:l,center:a,shouldUseTimeDampening:r});c&&i(u.descriptor.id,c)}},ym=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,o=function(e,t){if(!gm(e,t))return t;var r=function(e,t){var n=e.frame;return n&&gm(e,t)?fm({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var o=Rp(t,r);return n(e.descriptor.id,o),Rp(t,o)},i=function(e,t,n){if(!e)return n;if(!vm(t,n))return n;var o=function(e,t){if(!vm(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return fm({current:r,max:n,change:t})}(t,n);if(!o)return r(n),null;var i=Rp(n,o);return r(i),Rp(n,i)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Pv(e.impact);r||bp(!1);var a=o(e.dimensions.droppables[r],n);if(a){var l=e.viewport,s=i(e.isWindowScrollAllowed,l,a);s&&function(e,n){var r=Mp(e.current.client.selection,n);t({client:r})}(e,s)}}}},bm=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,o=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=pp(t),o=pp(n),i=null,a=function(e){i||bp(!1);var t=i,n=t.shouldUseTimeDampening,a=t.dragStartTime;mm({state:e,scrollWindow:r,scrollDroppable:o,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){i&&bp(!1);var t=Date.now(),n=!1,r=function(){n=!0};mm({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},n&&a(e)},stop:function(){i&&(r.cancel(),o.cancel(),i=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),i=ym({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}},Cm="data-rbd",xm={base:Yg=Cm+"-drag-handle",draggableId:Yg+"-draggable-id",contextId:Yg+"-context-id"},wm=function(){var e=Cm+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Sm=function(){var e=Cm+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Em={contextId:Cm+"-scroll-container-context-id"},Om=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Im="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?c.useLayoutEffect:c.useEffect,Lm=function(){var e=document.querySelector("head");return e||bp(!1),e},_m=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Tm(e,t){var n=Qf((function(){return function(e){var t,n,r=function(e){return function(t){return"["+t+'="'+e+'"]'}}(e),o=(t="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:r(xm.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:t,dragging:"pointer-events: none;",dropAnimating:t}}),i=[(n="\n      transition: "+xg.outOfTheWay+";\n    ",{selector:r(wm.contextId),styles:{dragging:n,dropAnimating:n,userCancel:n}}),o,{selector:r(Sm.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Om(i,"always"),resting:Om(i,"resting"),dragging:Om(i,"dragging"),dropAnimating:Om(i,"dropAnimating"),userCancel:Om(i,"userCancel")}}(e)}),[e]),r=(0,c.useRef)(null),o=(0,c.useRef)(null),i=Jf(fp((function(e){var t=o.current;t||bp(!1),t.textContent=e})),[]),a=Jf((function(e){var t=r.current;t||bp(!1),t.textContent=e}),[]);Im((function(){(r.current||o.current)&&bp(!1);var l=_m(t),s=_m(t);return r.current=l,o.current=s,l.setAttribute(Cm+"-always",e),s.setAttribute(Cm+"-dynamic",e),Lm().appendChild(l),Lm().appendChild(s),a(n.always),i(n.resting),function(){var e=function(e){var t=e.current;t||bp(!1),Lm().removeChild(t),e.current=null};e(r),e(o)}}),[t,a,i,n.always,n.resting,e]);var l=Jf((function(){return i(n.dragging)}),[i,n.dragging]),s=Jf((function(e){i("DROP"!==e?n.userCancel:n.dropAnimating)}),[i,n.dropAnimating,n.userCancel]),u=Jf((function(){o.current&&i(n.resting)}),[i,n.resting]);return Qf((function(){return{dragging:l,dropping:s,resting:u}}),[l,s,u])}var Mm=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Rm(e){return e instanceof Mm(e).HTMLElement}function Am(e){var t=(0,c.useRef)({}),n=(0,c.useRef)(null),r=(0,c.useRef)(null),o=(0,c.useRef)(!1),i=Jf((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),a=Jf((function(t){var n=function(e,t){var n="["+xm.contextId+'="'+e+'"]',r=Up(document.querySelectorAll(n));if(!r.length)return null;var o=Vp(r,(function(e){return e.getAttribute(xm.draggableId)===t}));return o&&Rm(o)?o:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=Jf((function(e,t){n.current===e&&(n.current=t)}),[]),s=Jf((function(){r.current||o.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&a(e)})))}),[a]),u=Jf((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(xm.draggableId)===e&&(n.current=e)}),[]);return Im((function(){return o.current=!0,function(){o.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),Qf((function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:s,tryShiftRecord:l}}),[i,u,s,l])}function Nm(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||bp(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return Wp(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||bp(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return Wp(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Bm=c.createContext(null),Dm=function(){var e=document.body;return e||bp(!1),e},km={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Pm=0,zm={separator:"::"};function Fm(e,t){return void 0===t&&(t=zm),Qf((function(){return""+e+t.separator+Pm++}),[t.separator,e])}var Hm=c.createContext(null);function $m(e){var t=(0,c.useRef)(e);return(0,c.useEffect)((function(){t.current=e})),t}var jm,Wm=((jm={})[13]=!0,jm[9]=!0,jm),Gm=function(e){Wm[e.keyCode]&&e.preventDefault()},Vm=function(){var e="visibilitychange";return"undefined"==typeof document?e:Vp([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var Um,Zm={type:"IDLE"};function Ym(e){var t=e.cancel,n=e.completed,r=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var a={x:n,y:i},l=r();if("DRAGGING"===l.type)return e.preventDefault(),void l.actions.move(a);"PENDING"!==l.type&&bp(!1);var s=l.point;if(u=s,c=a,Math.abs(c.x-u.x)>=5||Math.abs(c.y-u.y)>=5){var u,c;e.preventDefault();var d=l.actions.fluidLift(a);o({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Gm(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&bp(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Vm,fn:t}]}function Xm(){}var qm=((Um={})[34]=!0,Um[33]=!0,Um[36]=!0,Um[35]=!0,Um);function Km(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(qm[r.keyCode]?r.preventDefault():Gm(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Vm,fn:n}]}var Qm={type:"IDLE"};var Jm={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ey(e,t){if(null==t)return!1;if(Boolean(Jm[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&ey(e,t.parentElement)}function ty(e,t){var n=t.target;return!!Rm(n)&&ey(e,n)}var ny=function(e){return tp(e.getBoundingClientRect()).center};var ry=function(){var e="matches";return"undefined"==typeof document?e:Vp([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function oy(e,t){return null==e?null:e[ry](t)?e:oy(e.parentElement,t)}function iy(e,t){return e.closest?e.closest(t):oy(e,t)}function ay(e,t){var n,r=t.target;if(!((n=r)instanceof Mm(n).Element))return null;var o=function(e){return"["+xm.contextId+'="'+e+'"]'}(e),i=iy(r,o);return i&&Rm(i)?i:null}function ly(e){e.preventDefault()}function sy(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function uy(e){var t=e.lockAPI,n=e.store,r=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(o);return!!i&&(!!i.options.isEnabled&&!!qg(n.getState(),o))}function cy(e){var t=e.lockAPI,n=e.contextId,r=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent;if(!uy({lockAPI:t,store:r,registry:o,draggableId:i}))return null;var s=o.draggable.getById(i),u=function(e,t){var n="["+wm.contextId+'="'+e+'"]',r=Vp(Up(document.querySelectorAll(n)),(function(e){return e.getAttribute(wm.id)===t}));return r&&Rm(r)?r:null}(n,s.descriptor.id);if(!u)return null;if(l&&!s.options.canDragInteractiveElements&&ty(u,l))return null;var c=t.claim(a||gp),d="PRE_DRAG";function h(){return s.options.shouldRespectForcePress}function f(){return t.isActive(c)}var p=function(e,t){sy({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function v(e){function n(){t.release(),d="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=mp(window,[{eventName:"click",fn:ly,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(vg({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&bp(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",$d({isActive:function(){return sy({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}return{isActive:function(){return sy({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=pp((function(e){p((function(){return ug({client:e})}))}));return $d({},v({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(cg)},moveRight:function(){return p(hg)},moveDown:function(){return p(dg)},moveLeft:function(){return p(fg)}};return v({liftActionArgs:{id:i,clientSelection:ny(u),movementMode:"SNAP"},cleanup:gp,actions:e})},abort:function(){sy({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}}}var dy=[function(e){var t=(0,c.useRef)(Zm),n=(0,c.useRef)(gp),r=Qf((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,a,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),u(o,i)}}}}}}),[e]),o=Qf((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),i=Jf((function(){n.current=mp(window,[o,r],{passive:!1,capture:!0})}),[o,r]),a=Jf((function(){"IDLE"!==t.current.type&&(t.current=Zm,n.current(),i())}),[i]),l=Jf((function(){var e=t.current;a(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[a]),s=Jf((function(){var e=Ym({cancel:l,completed:a,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=mp(window,e,{capture:!0,passive:!1})}),[l,a]),u=Jf((function(e,n){"IDLE"!==t.current.type&&bp(!1),t.current={type:"PENDING",point:n,actions:e},s()}),[s]);Im((function(){return i(),function(){n.current()}}),[i])},function(e){var t=(0,c.useRef)(Xm),n=Qf((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var o=e.findClosestDraggableId(n);if(o){var i=e.tryGetLock(o,s,{sourceEvent:n});if(i){n.preventDefault();var a=!0,l=i.snapLift();t.current(),t.current=mp(window,Km(l,s),{capture:!0,passive:!1})}}}function s(){a||bp(!1),a=!1,t.current(),r()}}}}),[e]),r=Jf((function(){t.current=mp(window,[n],{passive:!1,capture:!0})}),[n]);Im((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,c.useRef)(Qm),n=(0,c.useRef)(gp),r=Jf((function(){return t.current}),[]),o=Jf((function(e){t.current=e}),[]),i=Qf((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,l,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};n.current(),h(o,a)}}}}}}),[e]),a=Jf((function(){n.current=mp(window,[i],{capture:!0,passive:!1})}),[i]),l=Jf((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(Qm),n.current(),a())}),[a,o]),s=Jf((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=Jf((function(){var e={capture:!0,passive:!1},t={cancel:s,completed:l,getPhase:r},o=mp(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&bp(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Vm,fn:t}]}(t),e),i=mp(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Vm,fn:t}]}(t),e);n.current=function(){o(),i()}}),[s,r,l]),d=Jf((function(){var e=r();"PENDING"!==e.type&&bp(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),h=Jf((function(e,t){"IDLE"!==r().type&&bp(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);Im((function(){return a(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(Qm))}}),[r,a,o]),Im((function(){return mp(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function hy(e){var t=e.contextId,n=e.store,r=e.registry,o=e.customSensors,i=e.enableDefaultSensors,a=[].concat(i?dy:[],o||[]),l=(0,c.useState)((function(){return function(){var e=null;function t(){e||bp(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&bp(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],s=Jf((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);Im((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();s(e,t),e=t}))}),[l,n,s]),Im((function(){return l.tryAbandon}),[l.tryAbandon]);for(var u=Jf((function(e){return uy({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),d=Jf((function(e,o,i){return cy({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:o,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,l,r,n]),h=Jf((function(e){return function(e,t){var n=ay(e,t);return n?n.getAttribute(xm.draggableId):null}(t,e)}),[t]),f=Jf((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),p=Jf((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),v=Jf(l.isClaimed,[l]),g=Qf((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:v}}),[u,d,h,f,p,v]),m=0;m<a.length;m++)a[m](g)}function fy(e){return e.current||bp(!1),e.current}function py(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,o=e.nonce,i=e.dragHandleUsageInstructions,a=(0,c.useRef)(null),l=$m(e),s=Jf((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)}),[l]),u=function(e){var t=Qf((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,c.useRef)(null);return(0,c.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),$d(e.style,km),Dm().appendChild(e),function(){setTimeout((function(){var t=Dm();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),Jf((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),d=function(e){var t=e.contextId,n=e.text,r=Fm("hidden-text",{separator:"-"}),o=Qf((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,c.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",Dm().appendChild(e),function(){var t=Dm();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:i}),h=Tm(t,o),f=Jf((function(e){fy(a).dispatch(e)}),[]),p=Qf((function(){return Qd({publishWhileDragging:og,updateDroppableScroll:ag,updateDroppableIsEnabled:lg,updateDroppableIsCombineEnabled:sg,collectionStarting:ig},f)}),[f]),v=function(){var e=Qf(Nm,[]);return(0,c.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),g=Qf((function(){return Xg(v,p)}),[v,p]),m=Qf((function(){return bm($d({scrollWindow:Kg,scrollDroppable:g.scrollDroppable},Qd({move:ug},f)))}),[g.scrollDroppable,f]),y=Am(t),b=Qf((function(){return $g({announce:u,autoScroller:m,dimensionMarshal:g,focusMarshal:y,getResponders:s,styleMarshal:h})}),[u,m,g,y,s,h]);a.current=b;var C=Jf((function(){var e=fy(a);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),x=Jf((function(){var e=fy(a).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(Qf((function(){return{isDragging:x,tryAbort:C}}),[x,C]));var w=Jf((function(e){return qg(fy(a).getState(),e)}),[]),S=Jf((function(){return Fv(fy(a).getState())}),[]),E=Qf((function(){return{marshal:g,focus:y,contextId:t,canLift:w,isMovementAllowed:S,dragHandleUsageInstructionsId:d,registry:v}}),[t,g,d,y,w,S,v]);return hy({contextId:t,store:b,registry:v,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,c.useEffect)((function(){return C}),[C]),c.createElement(Hm.Provider,{value:E},c.createElement(ah,{context:Bm,store:b},e.children))}var vy=0;function gy(e){var t=Qf((function(){return""+vy++}),[]),n=e.dragHandleUsageInstructions||Op;return c.createElement(Cp,null,(function(r){return c.createElement(py,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var my=function(e){return function(t){return e===t}},yy=my("scroll"),by=my("auto"),Cy=function(e,t){return t(e.overflowX)||t(e.overflowY)},xy=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Cy(n,yy)||Cy(n,by)}(t)?t:e(t.parentElement)},wy=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Sy=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Ey=function(e){return{closestScrollable:xy(e),isFixedOnPage:Sy(e)}},Oy=function(e){var t=e.ref,n=e.descriptor,r=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,l=e.isCombineEnabled,s=e.shouldClipSubject,u=r.closestScrollable,c=function(e,t){var n=cp(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=o+t.scrollWidth,l=np({top:r,right:a,bottom:i,left:o},n.border);return ip({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})}(t,u),d=sp(c,o),h=function(){if(!u)return null;var e=cp(u),t={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:e,page:sp(e,o),scroll:wy(u),scrollSize:t,shouldClipSubject:s}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,l=e.page,s=e.closest,u=function(){if(!s)return null;var e=s.scrollSize,t=s.client,n=jg({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:n,diff:{value:Tp,displacement:Tp}}}}(),c="vertical"===i?sv:uv;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:c,isEnabled:n,client:a,page:l,frame:u,subject:$p({page:l,withPlaceholder:null,axis:c,frame:u})}}({descriptor:n,isEnabled:!a,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:i,client:c,page:d,closest:h});return f},Iy={passive:!1},Ly={passive:!0},_y=function(e){return e.shouldPublishImmediately?Iy:Ly};function Ty(e){var t=(0,c.useContext)(e);return t||bp(!1),t}var My=function(e){return e&&e.env.closestScrollable||null};function Ry(){}var Ay={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Ny=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,o=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?Ay:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?xg.placeholder:null}};var By=c.memo((function(e){var t=(0,c.useRef)(null),n=Jf((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,o=e.onTransitionEnd,i=e.onClose,a=e.contextId,l=(0,c.useState)("open"===e.animate),s=l[0],u=l[1];(0,c.useEffect)((function(){return s?"open"!==r?(n(),u(!1),Ry):t.current?Ry:(t.current=setTimeout((function(){t.current=null,u(!1)})),n):Ry}),[r,s,n]);var d=Jf((function(e){"height"===e.propertyName&&(o(),"close"===r&&i())}),[r,i,o]),h=Ny({isAnimatingOpenOnMount:s,animate:e.animate,placeholder:e.placeholder});return c.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":a,onTransitionEnd:d,ref:e.innerRef})})),Dy=c.createContext(null),ky=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return Hd(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(c.PureComponent),Py=5e3,zy=4500,Fy=function(e,t){return t?xg.drop(t.duration):e?xg.snap:xg.fluid},Hy=function(e,t){return e?t?yg.drop:yg.combining:null};function $y(e){return"DRAGGING"===e.type?(r=(n=e).dimension.client,o=n.offset,i=n.combineWith,a=n.dropping,l=Boolean(i),s=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(n),u=Boolean(a),c=u?Eg(o,l):Sg(o),{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Fy(s,a),transform:c,opacity:Hy(l,u),zIndex:u?zy:Py,pointerEvents:"none"}):{transform:Sg((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,n,r,o,i,a,l,s,u,c}function jy(e){var t=Fm("draggable"),n=e.descriptor,r=e.registry,o=e.getDraggableRef,i=e.canDragInteractiveElements,a=e.shouldRespectForcePress,l=e.isEnabled,s=Qf((function(){return{canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}}),[i,l,a]),u=Jf((function(e){var t=o();return t||bp(!1),function(e,t,n){void 0===n&&(n=Tp);var r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=up(o,r),a=sp(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)}),[n,o]),d=Qf((function(){return{uniqueId:t,descriptor:n,options:s,getDimension:u}}),[n,u,s,t]),h=(0,c.useRef)(d),f=(0,c.useRef)(!0);Im((function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}}),[r.draggable]),Im((function(){if(f.current)f.current=!1;else{var e=h.current;h.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}function Wy(e){e.preventDefault()}var Gy=function(e,t){return e===t},Vy=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function Uy(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Zy={mapped:{type:"SECONDARY",offset:Tp,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Uy(null)}};var Yy=qf((function(){var e,t,n,r=(e=fp((function(e,t){return{x:e,y:t}})),t=fp((function(e,t,n,r,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=fp((function(e,n,r,o,i,a,l){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:l,snapshot:t(n,o,i,a,null)}}})),function(r,o){if(r.isDragging){if(r.critical.draggable.id!==o.draggableId)return null;var i=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],l=Pv(r.impact),s=(c=r.impact).at&&"COMBINE"===c.at.type?c.at.combine.draggableId:null,u=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,a,o.isClone,l,s,u)}var c;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==o.draggableId)return null;var h=o.isClone,f=r.dimensions.draggables[o.draggableId],p=d.result,v=p.mode,g=Vy(p),m=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:mg,moveTo:r.newHomeClientOffset,opacity:m?yg.drop:null,scale:m?bg.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:y,draggingOver:g,combineWith:m,mode:v,forceShouldAnimate:null,snapshot:t(v,h,g,m,y)}}}return null}),o=function(){var e=fp((function(e,t){return{x:e,y:t}})),t=fp(Uy),n=fp((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(Tp,e,!0):null},o=function(t,o,i,a){var l=i.displaced.visible[t],s=Boolean(a.inVirtualList&&a.effected[t]),u=Jp(i),c=u&&u.draggableId===t?o:null;if(!l){if(!s)return r(c);if(i.displaced.invisible[t])return null;var d=Np(a.displacedBy.point),h=e(d.x,d.y);return n(h,c,!0)}if(s)return r(c);var f=i.displacedBy.point,p=e(f.x,f.y);return n(p,c,l.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||o(e,t)||Zy}}),{dropAnimationFinished:gg},null,{context:Bm,pure:!0,areStatePropsEqual:Gy})((function(e){var t=(0,c.useRef)(null),n=Jf((function(e){t.current=e}),[]),r=Jf((function(){return t.current}),[]),o=Ty(Hm),i=o.contextId,a=o.dragHandleUsageInstructionsId,l=o.registry,s=Ty(Dy),u=s.type,d=s.droppableId,h=Qf((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,p=e.draggableId,v=e.isEnabled,g=e.shouldRespectForcePress,m=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,C=e.dropAnimationFinished;y||jy(Qf((function(){return{descriptor:h,registry:l,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:g,isEnabled:v}}),[h,l,r,m,g,v]));var x=Qf((function(){return v?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Wy}:null}),[i,a,p,v]),w=Jf((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&C()}),[C,b]),S=Qf((function(){var e=$y(b),t="DRAGGING"===b.type&&b.dropping?w:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:x}}),[i,x,p,b,w,n]),E=Qf((function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}}),[h.droppableId,h.id,h.index,h.type]);return f(S,b.snapshot,E)}));function Xy(e){return Ty(Dy).isUsingCloneFor!==e.draggableId||e.isClone?c.createElement(Yy,e):null}function qy(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return c.createElement(Xy,$d({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var Ky=function(e,t){return e===t.droppable.type},Qy=function(e,t){return t.draggables[e.draggable.id]};var Jy={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||bp(!1),document.body}},eb=qf((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=$d({},e,{shouldAnimatePlaceholder:!1}),n=fp((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=fp((function(r,o,i,a,l,s){var u=l.descriptor.id;if(l.descriptor.droppableId===r){var c=s?{render:s,dragging:n(l.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:c}}if(!o)return t;if(!a)return e;var h={isDraggingOver:i,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}}));return function(n,o){var i=o.droppableId,a=o.type,l=!o.isDropDisabled,s=o.renderClone;if(n.isDragging){var u=n.critical;if(!Ky(a,u))return t;var c=Qy(u,n.dimensions),d=Pv(n.impact)===i;return r(i,l,d,d,c,s)}if("DROP_ANIMATING"===n.phase){var h=n.completed;if(!Ky(a,h.critical))return t;var f=Qy(h.critical,n.dimensions);return r(i,l,Vy(h.result)===i,Pv(h.impact)===i,f,s)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!Ky(a,p.critical))return t;var v=Pv(p.impact)===i,g=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),m=p.critical.droppable.id===i;return v?g?e:t:m?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Bm,pure:!0,areStatePropsEqual:Gy})((function(e){var t=(0,c.useContext)(Hm);t||bp(!1);var n=t.contextId,r=t.isMovementAllowed,o=(0,c.useRef)(null),i=(0,c.useRef)(null),a=e.children,l=e.droppableId,s=e.type,u=e.mode,d=e.direction,h=e.ignoreContainerClipping,f=e.isDropDisabled,p=e.isCombineEnabled,v=e.snapshot,g=e.useClone,m=e.updateViewportMaxScroll,y=e.getContainerForClone,b=Jf((function(){return o.current}),[]),C=Jf((function(e){o.current=e}),[]);Jf((function(){return i.current}),[]);var x=Jf((function(e){i.current=e}),[]),w=Jf((function(){r()&&m({maxScroll:Gg()})}),[r,m]);!function(e){var t=(0,c.useRef)(null),n=Ty(Hm),r=Fm("droppable"),o=n.registry,i=n.marshal,a=$m(e),l=Qf((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),s=(0,c.useRef)(l),u=Qf((function(){return fp((function(e,n){t.current||bp(!1);var r={x:e,y:n};i.updateDroppableScroll(l.id,r)}))}),[l.id,i]),d=Jf((function(){var e=t.current;return e&&e.env.closestScrollable?wy(e.env.closestScrollable):Tp}),[]),h=Jf((function(){var e=d();u(e.x,e.y)}),[d,u]),f=Qf((function(){return pp(h)}),[h]),p=Jf((function(){var e=t.current,n=My(e);e&&n||bp(!1),e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),v=Jf((function(e,r){t.current&&bp(!1);var o=a.current,i=o.getDroppableRef();i||bp(!1);var s=Ey(i),u={ref:i,descriptor:l,env:s,scrollOptions:r};t.current=u;var c=Oy({ref:i,descriptor:l,env:s,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=s.closestScrollable;return d&&(d.setAttribute(Em.contextId,n.contextId),d.addEventListener("scroll",p,_y(u.scrollOptions))),c}),[n.contextId,l,p,a]),g=Jf((function(){var e=t.current,n=My(e);return e&&n||bp(!1),wy(n)}),[]),m=Jf((function(){var e=t.current;e||bp(!1);var n=My(e);t.current=null,n&&(f.cancel(),n.removeAttribute(Em.contextId),n.removeEventListener("scroll",p,_y(e.scrollOptions)))}),[p,f]),y=Jf((function(e){var n=t.current;n||bp(!1);var r=My(n);r||bp(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=Qf((function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:g,dragStopped:m,scroll:y}}),[m,v,g,y]),C=Qf((function(){return{uniqueId:r,descriptor:l,callbacks:b}}),[b,l,r]);Im((function(){return s.current=C.descriptor,o.droppable.register(C),function(){t.current&&m(),o.droppable.unregister(C)}}),[b,l,m,C,i,o.droppable]),Im((function(){t.current&&i.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)}),[e.isDropDisabled,i]),Im((function(){t.current&&i.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,i])}({droppableId:l,type:s,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:h,getDroppableRef:b});var S=c.createElement(ky,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return c.createElement(By,{placeholder:r,onClose:t,innerRef:x,animate:o,contextId:n,onTransitionEnd:w})})),E=Qf((function(){return{innerRef:C,placeholder:S,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}}),[n,l,S,C]),O=g?g.dragging.draggableId:null,I=Qf((function(){return{droppableId:l,type:s,isUsingCloneFor:O}}),[l,O,s]);return c.createElement(Dy.Provider,{value:I},a(E,v),function(){if(!g)return null;var e=g.dragging,t=g.render,n=c.createElement(Xy,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return mi.createPortal(n,y())}())}));eb.defaultProps=Jy;const tb=(...e)=>(0,r.d5G)("switcher",...e),nb=e=>tb("content","table"===e?"one-dimension":"three-dimensions"),rb=(e,t)=>"table"===e||t===Nd.Values,ob=e=>{return t=e,r={},n=ku(n="items"),Fu(t,(function(e,t,o){Ja(r,t,n(e,t,o))})),r;var t,n,r},ib="item",ab=({dragHandleProps:e,fieldType:t,id:n,displayName:r,selectable:o,checked:i,parentId:a,className:l,disabled:s,onVisibleItemChange:u})=>{const d=(0,c.useRef)(),[h,f]=(0,c.useState)(!1);(0,c.useEffect)((()=>{f(d.current.offsetWidth<d.current.scrollWidth)}),[]);const p=null!=r?r:n;return c.createElement("div",Ai(Ri({},e),{className:Kc(tb(ib),l,{unchecked:!i})}),o&&c.createElement(Lo,{disabled:s,checked:i,onChange:e=>null==u?void 0:u(t,e.target.checked,n,a)}),h?c.createElement(it.Z,{title:p,placement:"bottomRight",overlayClassName:tb("tooltip")},c.createElement("div",{className:tb(ib,"text"),ref:d},p)):c.createElement("div",{className:tb(ib,"text"),ref:d},p))};ab.defaultProps={checked:!0,disabled:!1};const lb=({fieldType:e,item:{id:t,displayName:n,checked:r=!0,children:o=[]},expandable:i,expandChildren:a,isDragDisabled:l,selectable:s,index:u,draggingItemId:d,onVisibleItemChange:h})=>c.createElement(qy,{draggableId:t,index:u,isDragDisabled:l},((u,f)=>c.createElement("div",Ai(Ri({},u.draggableProps),{ref:u.innerRef,className:Kc(tb(s?"checkable-list":"normal-list"),{dragging:f.isDragging,"disable-dragging":l})}),c.createElement(ab,{dragHandleProps:u.dragHandleProps,fieldType:e,id:t,displayName:n,checked:r,onVisibleItemChange:h,selectable:s,className:Kc(s?"checkable-item":"normal-item",{"item-collapse":!a})}),i&&a&&!dc(o)&&d!==t&&c.createElement("div",{className:Kc("child-items",{"item-hidden":!a})},o.map((n=>c.createElement(ab,{key:n.id,id:n.id,fieldType:e,displayName:n.displayName,disabled:!r,checked:n.checked,parentId:t,selectable:s,onVisibleItemChange:h,className:"checkable-item"})))))));const sb="dimension",ub=c.memo((e=>{const t=e,{fieldType:n,crossRows:o=!1,selectable:i=!1,expandable:a=!1,expandText:l=(0,r.agQ)("展开子项"),allowEmpty:s=!0,items:u=[],droppableType:d,text:h,icon:f}=t,p=Ni(t,["fieldType","crossRows","selectable","expandable","expandText","allowEmpty","items","droppableType","text","icon"]),[v,g]=c.useState(!0),m=!s&&1===u.length;return c.createElement("div",{className:Kc(tb(sb),{"long-dimension":o})},c.createElement("div",{className:tb(sb,"header")},c.createElement("div",{className:"title"},c.createElement(f,null)," ",c.createElement("span",null,h)),a&&c.createElement("div",{className:"expand-option"},c.createElement(Lo,{checked:v,onChange:e=>{g(e.target.checked)}}),c.createElement("span",{className:"description"},l))),c.createElement(eb,{droppableId:n,type:d},((e,t)=>c.createElement("div",Ai(Ri({ref:e.innerRef},e.droppableProps),{className:Kc(tb(sb,"items"),{[tb(sb,"items-highlight")]:t.isDraggingOver,[tb(sb,"long-items")]:o})}),u.map(((e,t)=>c.createElement(lb,Ri({key:e.id,index:t,fieldType:n,item:e,expandable:a,expandChildren:v,selectable:i,isDragDisabled:m},p)))),e.placeholder))))}));ub.displayName="Dimension";const cb="content",db=c.memo((e=>{const t=e,{innerContentClassName:n,contentTitleText:o=(0,r.agQ)("行列切换"),resetText:i=(0,r.agQ)("恢复默认"),allowExchangeHeader:a=!0,onToggleVisible:l,onSubmit:s,sheetType:u}=t,d=Ni(t,["innerContentClassName","contentTitleText","resetText","allowExchangeHeader","onToggleVisible","onSubmit","sheetType"]),h=((e=!0)=>({[Nd.Rows]:{text:(0,r.agQ)("行头"),icon:wd,droppableType:e?Bd.Dimensions:Bd.Rows},[Nd.Cols]:{text:(0,r.agQ)("列头"),icon:Sd,droppableType:e?Bd.Dimensions:Bd.Cols},[Nd.Values]:{text:(0,r.agQ)("值"),icon:Ed,droppableType:Bd.Measures}}))(a),f=ob(d),[p,v]=c.useState(f),[g,m]=c.useState(null),y=(e,t,n,r)=>{const o=((e=[],t,n,r)=>{const o=Ri({},e.find((e=>e.id===(null!=r?r:n))));return r?o.children=ac(o.children,(e=>Ai(Ri({},e),{checked:e.id===n?t:e.checked}))):(o.checked=t,o.children=ac(o.children,(e=>Ai(Ri({},e),{checked:t})))),e.map((e=>e.id===o.id?o:e))})(p[e],t,n,r);v(Ai(Ri({},p),{[e]:o}))},b=hc(f,p),C=Dd.filter((e=>"table"!==u||e===Nd.Cols));return c.createElement(gy,{onBeforeCapture:e=>{m(e.draggableId)},onDragEnd:({destination:e,source:t})=>{if(m(null),!e)return;if(e.droppableId===t.droppableId&&e.index===t.index)return;const n=((e=[],t=[],n,r)=>{if(r.droppableId===n.droppableId){const e=[...t],[o]=e.splice(n.index,1);return e.splice(r.index,0,o),{[r.droppableId]:e}}const o=[...e],i=[...t],[a]=o.splice(n.index,1);return i.splice(r.index,0,a),{[n.droppableId]:o,[r.droppableId]:i}})(p[t.droppableId],p[e.droppableId],t,e);v(Ri(Ri({},p),n))}},c.createElement("div",{className:Kc(n,tb(cb))},c.createElement("header",{className:tb(cb,"header")},o),c.createElement("main",{className:Kc(tb(cb,"main"),nb(u))},C.map((e=>c.createElement(ub,Ri(Ai(Ri({},d[e]),{key:e,fieldType:e,items:p[e],crossRows:rb(u,e),draggingItemId:g,onVisibleItemChange:y}),h[e]))))),c.createElement("footer",{className:tb(cb,"footer")},c.createElement(go.ZP,{type:"text",icon:c.createElement(wi,null),className:tb(cb,"footer","reset-button"),disabled:b,onClick:()=>{v(f)}},i),c.createElement("div",{className:tb(cb,"footer","actions")},c.createElement(go.ZP,{className:"action-button",onClick:l},(0,r.agQ)("取消")),c.createElement(go.ZP,{className:"action-button",type:"primary",disabled:b,onClick:()=>{l(),null==s||s((e=>{const t=e=>{const t=e=>ds(ac(e,(e=>{var n=e,{children:r}=n,o=Ni(n,["children"]);return[Ri({},o),...t(r)]}))),n=t(e);return{items:n,hideItems:ec(n,(e=>!1===e.checked))}};return{[Nd.Rows]:t(e[Nd.Rows]),[Nd.Cols]:t(e[Nd.Cols]),[Nd.Values]:t(e[Nd.Values])}})(p))}},(0,r.agQ)("确定"))))))}));db.displayName="SwitcherContent",db.defaultProps={sheetType:"pivot"};const hb=e=>{var t=e,{title:n,popover:o,disabled:i}=t,a=Ni(t,["title","popover","disabled"]);const[l,s]=(0,c.useState)(!1),u=()=>{s((e=>!e))};return c.createElement(_o.Z,Ri({visible:!i&&l,content:c.createElement(db,Ai(Ri({},a),{onToggleVisible:u})),onVisibleChange:u,trigger:"click",placement:"bottomLeft",destroyTooltipOnHide:!0},o),(0,c.isValidElement)(n)?n:c.createElement(go.ZP,{className:tb("entry-button"),size:"small",disabled:i,icon:c.createElement(Ld,null)},n||(0,r.agQ)("行列切换")))},fb=e=>{var t,n=e,{sheet:o,dataCfg:i,options:a}=n,l=Ni(n,["sheet","dataCfg","options"]);const[s,u]=c.useState((()=>{var e;return Pd(o,i,null==(e=null==a?void 0:a.interaction)?void 0:e.hiddenColumnFields)}));Uc((()=>{var e;u(Pd(o,i,null==(e=null==a?void 0:a.interaction)?void 0:e.hiddenColumnFields))}),[o,i,null==(t=null==a?void 0:a.interaction)?void 0:t.hiddenColumnFields]);return c.createElement(hb,Ri(Ri({sheetType:kd(o),onSubmit:e=>{var t;const{fields:n,hiddenColumnFields:i}=((e,t)=>{const n=e instanceof r.HZt,o=Dd.reduce(((e,r)=>{var o,i,a,l;const s=null!=(i=null==(o=t[r])?void 0:o.items)?i:[],u=null!=(l=null==(a=t[r])?void 0:a.hideItems)?l:[];return e[r]=ec(s,(e=>!u.find((t=>!n&&t.id===e.id)))).map((e=>e.id)),e}),{}),i=n?t[Nd.Cols].hideItems.map((e=>e.id)):void 0;return{fields:o,hiddenColumnFields:i}})(o,e);o.setDataCfg({fields:Ri(Ri({},o.dataCfg.fields),n)}),i&&o.setOptions({interaction:{hiddenColumnFields:i}}),o.render(),u(((e,t,n=[],r=[])=>{const{fields:o,hiddenFields:i}=zd(t);return Pd(e,{fields:o,meta:n},i.concat(r))})(o,e,null==(t=o.dataCfg)?void 0:t.meta,i))}},l),s))};const pb=c.memo((e=>{var t=e,{className:n,style:r,title:o,width:i,description:a,exportCfg:l,advancedSortCfg:s,switcherCfg:u,sheet:d,extra:h,dataCfg:f,options:p}=t,v=Ni(t,["className","style","title","width","description","exportCfg","advancedSortCfg","switcherCfg","sheet","extra","dataCfg","options"]);const g="s2-header";return c.createElement("div",Ri({className:Kc(g,n),style:r},v),c.createElement("div",{className:`${g}-heading`},c.createElement("div",{className:`${g}-heading-left`},c.createElement("div",{className:`${g}-heading-title`},o)),c.createElement("div",{className:`${g}-heading-extra`},c.createElement(To.Z,{align:"center"},h,u.open&&c.createElement(fb,Ri({sheet:d,dataCfg:f,options:p},u)),s.open&&c.createElement(Ad,Ri({sheet:d},s)),l.open&&c.createElement(_d,Ri({sheet:d},l))))),c.createElement("div",{className:`${g}-content`},a))}));pb.displayName="Header",pb.defaultProps={exportCfg:{open:!1},advancedSortCfg:{open:!1},switcherCfg:{open:!1}};const vb=`${r.vhY}-pagination`,gb=({pagination:e,onShowSizeChange:t,onChange:n})=>{if(dc(e))return null;const{total:o,pageSize:i}=e,a=o/i>5;return c.createElement("div",{className:vb},c.createElement(hi,Ai(Ri({size:"small",defaultCurrent:1,showSizeChanger:!0,showQuickJumper:a},e),{onShowSizeChange:t,onChange:n})),c.createElement("span",{className:`${vb}-count`,title:`${(0,r.agQ)("共计")}${o}${(0,r.agQ)("条")}`},(0,r.agQ)("共计"),o||" - ",(0,r.agQ)("条")))};gb.displayName="S2Pagination";const mb=c.forwardRef(((e,t)=>{const{dataCfg:n,options:o,header:i}=e,{s2Ref:a,loading:l,containerRef:s,pagination:u,wrapperRef:d}=vd(e),[h,f]=c.useState(a.current);return c.useEffect((()=>{t&&(t.current=a.current)}),[t,a]),c.useEffect((()=>f(a.current)),[f,a]),c.createElement(c.StrictMode,null,c.createElement(gd.Provider,{value:h},c.createElement(fi.Z,{spinning:l,wrapperClassName:`${r.vhY}-spin`},c.createElement("div",{ref:d,className:`${r.vhY}-wrapper`},i&&c.createElement(pb,Ai(Ri({},i),{sheet:a.current,style:{width:o.width},dataCfg:(0,r.Unm)(n),options:hd(o)})),c.createElement("div",{ref:s,className:`${r.vhY}-container`}),u.showPagination&&c.createElement(gb,{pagination:u.pagination,onChange:u.onChange,onShowSizeChange:u.onShowSizeChange}),e.children))))}));mb.displayName="BaseSheet",mb.defaultProps={options:{},adaptive:!1,showPagination:!1};const yb=c.memo((e=>{const t=c.useRef();return c.createElement(mb,Ai(Ri({},e),{ref:t}))}));yb.displayName="TableSheet";class bb extends r.f4X{drawTextShape(){ua(this.getMeta().fieldValue)?(0,r.qPk)(this):super.drawTextShape()}}const Cb=e=>new bb(e,e.spreadsheet),xb={dataCell:{text:{fontSize:12,fontFamily:r.utx,fill:"rgba(0, 0, 0, 0.85)",fontWeight:"normal",textBaseline:"middle",textAlign:"left"},minorText:{fontSize:11,fontFamily:r.utx,fill:"rgba(0, 0, 0, 0.45)",fontWeight:"normal",textBaseline:"middle",textAlign:"left"},derivedMeasureText:{mainUp:"#F46649",mainDown:"#2AA491",minorUp:"#f9ae9e",minorDown:"#a9dad2"},bolderText:{fontSize:12,fontFamily:r.utx,fill:"rgba(0, 0, 0, 1)",fontWeight:(0,r.EDF)()?"bold":520,textBaseline:"middle",textAlign:"left"}}},wb=c.memo((e=>{const t=e,{options:n,themeCfg:o}=t,i=Ni(t,["options","themeCfg"]),a=c.useRef(),l=c.useMemo((()=>(0,r._Ge)(n,{dataCell:Cb,showDefaultHeaderActionIcon:!1,style:{colCfg:{hideMeasureColumn:!0}}})),[n]),s=c.useMemo((()=>(0,r._Ge)({},o,{theme:xb})),[o]);return c.createElement(mb,Ri({options:l,themeCfg:s,ref:a},i))}));wb.displayName="GridAnalysisSheet";class Sb extends r.X0t{constructor(e,t,n){super(e,t,n)}drawTextShape(){const e=this.getMeta(),t=(0,r.D6R)(null==e?void 0:e.value);if(!na(t))return super.drawTextShape();const{formattedValue:n}=this.getFormattedFieldValue(),o=n!==(null==e?void 0:e.value)?[[n]]:[t];(0,r.qPk)(this,{values:o},!1)}}class Eb extends r.f4X{drawTextShape(){ua(this.getMeta().fieldValue)?(0,r.qPk)(this):super.drawTextShape()}}class Ob extends r.O9R{processDataCfg(e){e.fields.valueInCols=!1;const t=e,{data:n,meta:o}=t,i=Ni(t,["data","meta"]),a=[];Qu(n,(e=>{let t=!1;var n,o;o=(n,o)=>{ua(n)&&(a.push(Ai(Ri({},e),{[r.CoU]:o,[r.__x]:n})),t=!0)},null==(n=e)||zu(n,Ku(o),Pl),t||a.push(e)}));const l=this.processMeta(o,(0,r.agQ)("数值"));return Ai(Ri({data:zc(a),meta:l},i),{fields:Ai(Ri({},e.fields),{rows:[r.CoU]})})}}const Ib=({cell:e,label:t})=>{const n=e.getMeta();if(n.isLeaf&&0!==n.level)return null;const r=n.spreadsheet.dataSet.getFieldName(n.field),o=ya(t)?t(e,r):t,i=null!=o?o:r;return c.createElement("div",{className:Kc($i(),$i("col"))},c.createElement("span",{className:$i("name")},i),c.createElement("span",{className:$i("value")},n.value))},Lb=({cell:e,label:t,showOriginalValue:n,renderDerivedValue:o})=>{var i;const a=e.getMeta(),l=null==a?void 0:a.fieldValue,s=(e=>{var t;const n=rc(e.spreadsheet.getRowNodes(),{rowIndex:e.rowIndex});return e.spreadsheet.dataSet.getFieldDescription(null==n?void 0:n.field)||(null==(t=null==n?void 0:n.extra)?void 0:t.description)})(a),u=(e=>{const t=rc(e.spreadsheet.getRowNodes(),{rowIndex:e.rowIndex});return e.spreadsheet.dataSet.getFieldName((null==t?void 0:t.valueFiled)||(null==t?void 0:t.value))})(a),d=ya(t)?t(e,u):t,h=null!=d?d:u,f=(e=>rc(e.spreadsheet.getColumnNodes(),{colIndex:e.colIndex,isLeaf:!0}))(a),[,...p]=c.useMemo((()=>{try{return JSON.parse(null==f?void 0:f.value)}catch{return[]}}),[null==f?void 0:f.value]),{placeholder:v,style:g}=a.spreadsheet.options,m=null==(i=g.cellCfg)?void 0:i.valuesCfg,[y,...b]=oc(null==l?void 0:l.values)||[l],[C,...x]=oc(as(l,null==m?void 0:m.originalValueField))||[y],w=(0,r.o3g)(a,v),S=(null==m?void 0:m.showOriginalValue)||n;return c.createElement("div",{className:Kc($i(),$i("data"))},c.createElement("div",{className:$i("header")},c.createElement("span",{className:"header-label"},h),c.createElement("span",null,null!=y?y:w)),S&&c.createElement("div",{className:$i("original-value")},fc(C)?w:C),!dc(b)&&c.createElement(c.Fragment,null,c.createElement("div",{className:$i("divider")}),c.createElement("ul",{className:$i("derived-values")},b.map(((t,n)=>{var i;const a=(0,r.qR_)(t),l=!a&&(0,r.Pyr)(t),s=!a&&!l,u=x[n];return c.createElement("li",{className:"derived-value-item",key:n},c.createElement("span",{className:"derived-value-label"},p[n]),c.createElement("span",{className:Kc("derived-value-group",{"derived-value-trend-up":l,"derived-value-trend-down":s})},!a&&c.createElement("span",{className:"derived-value-trend-icon"}),null!=(i=null==o?void 0:o(t,u,e))?i:c.createElement("span",{className:"derived-value-content"},null!=t?t:w)))})))),s&&c.createElement("div",{className:$i("description")},(0,r.agQ)("说明"),": ",s))};Lb.defaultProps={showOriginalValue:!1};const _b=({cell:e,label:t})=>{const{field:n,spreadsheet:o,value:i,extra:a}=e.getMeta(),l=ya(t)?t(e,i):t,s=null!=l?l:i,u=o.dataSet.getFieldDescription(n)||(null==a?void 0:a.description);return c.createElement("div",{className:Kc($i(),$i("row"))},c.createElement("div",{className:$i("value")},s),u&&c.createElement("div",{className:$i("description")},(0,r.agQ)("说明"),": ",u))},Tb=c.memo((e=>{const t=e,{options:n,themeCfg:o,dataCfg:i}=t,a=Ni(t,["options","themeCfg","dataCfg"]),l=c.useRef(),s=c.useMemo((()=>{var e,t,r;if(dc(i))return{};let o=!1,a="tree";dc(null==(e=null==i?void 0:i.fields)?void 0:e.rows)&&!dc(null==(t=null==i?void 0:i.fields)?void 0:t.customTreeItems)&&(a="customTree"),1===kc(null==(r=null==i?void 0:i.fields)?void 0:r.values)&&"customTree"!==n.hierarchyType&&(o=!0);const l=e=>(t,r)=>{var o,i,a,l;const s=null!=(l=null==(i=null==(o=n.tooltip)?void 0:o[e])?void 0:i.content)?l:null==(a=n.tooltip)?void 0:a.content;return ya(s)?null==s?void 0:s(t,r):s};return{dataCell:e=>new Eb(e,e.spreadsheet),colCell:(e,t,n)=>new Sb(e,t,n),dataSet:e=>new Ob(e),showDefaultHeaderActionIcon:!1,hierarchyType:a,style:{colCfg:{hideMeasureColumn:o}},interaction:{autoResetSheetStyle:!0,brushSelection:!1,selectedCellMove:!1,multiSelection:!1,rangeSelection:!1},tooltip:{operation:{hiddenColumns:!0},row:{content:(e,t)=>{var n;return null!=(n=l("row")(e,t))?n:c.createElement(_b,{cell:e})}},col:{content:(e,t)=>{var n;return null!=(n=l("row")(e,t))?n:c.createElement(Ib,{cell:e})}},data:{content:(e,t)=>{const n=e.getMeta().fieldValue,r=l("data")(e,t);return fc(r)?na(null==n?void 0:n.values)?c.createElement(Lb,{cell:e}):c.createElement(c.Fragment,null):r}}}}}),[i,n.hierarchyType,n.tooltip]),u=c.useMemo((()=>{var e;const t={fields:{valueInCols:kc(null==(e=null==i?void 0:i.fields)?void 0:e.values)<=1}};return(0,r._Ge)(i,t)}),[i]),d=c.useMemo((()=>(0,r._Ge)(n,s)),[n,s]);return c.createElement(mb,Ri({options:d,themeCfg:o,dataCfg:u,ref:l},a))}));Tb.displayName="StrategySheet";const Mb=e=>{var t=e,{className:n,titleText:i=(0,r.agQ)("选择下钻维度"),clearButtonText:a=(0,r.agQ)("恢复默认"),searchText:l=(0,r.agQ)("搜索字段"),extra:s,drillFields:u,dataSet:d,disabledFields:h,getDrillFields:f,setDrillFields:p}=t,v=Ni(t,["className","titleText","clearButtonText","searchText","extra","drillFields","dataSet","disabledFields","getDrillFields","setDrillFields"]);const g={text:c.createElement(Id,null),location:c.createElement(Cd,null),date:c.createElement(yd,null)},m=()=>d.map((e=>(e.disabled=!(!h||!h.includes(e.value)),e))),[y,b]=(0,c.useState)(m()),C=e=>{const{value:t}=e.target;if(t){const e=new RegExp(t,"gi"),n=d.filter((t=>e.test(t.name)));b([...n])}else b([...d])};return(0,c.useEffect)((()=>{b(m())}),[h]),c.createElement(pi.ZP,null,c.createElement("div",Ri({className:Kc(Fi,n)},v),c.createElement("header",{className:`${Fi}-header`},c.createElement("div",null,i),c.createElement(go.ZP,{type:"link",disabled:dc(u),onClick:e=>{e.stopPropagation(),f&&f([]),p&&p([])}},a)),c.createElement(vi.Z,{className:`${Fi}-search`,placeholder:l,onChange:C,onPressEnter:C,prefix:c.createElement(Od,null),allowClear:!0}),dc(y)&&c.createElement(gi.Z,{imageStyle:{height:"64px"},className:`${Fi}-empty`}),s,c.createElement(o.Z,{className:`${Fi}-menu`,selectedKeys:u,onSelect:e=>{const t=null==e?void 0:e.selectedKeys;f&&f([...t]),p&&p([...t])}},y.map((e=>c.createElement(o.Z.Item,{key:e.value,disabled:e.disabled,className:`${Fi}-menu-item`,icon:e.icon?e.icon:g[e.type]},e.name))))))},Rb=["drillConfig","displayCondition","drillItemsNum"];function Ab({onCopyFinished:e}){const t=md(),[n,o]=(0,c.useState)(),[i,a]=(0,c.useState)({right:0,bottom:0}),[l,s]=(0,c.useState)(),u=(e,n)=>{const r=Bc(n.getMeta(),["x","y","width","height","fieldValue"]),o=t.facet.getScrollOffset(),i=e.x,a=e.y,l=(null==o?void 0:o.scrollY)-(t.getColumnNodes()[0]||{height:0}).height,s=r.x-o.scrollX+r.width+4,u=r.x-o.scrollX,c=r.y-l+r.height+4,d=r.y-l;return s>=i&&u<i&&c>=a&&d<a},d=e=>{const n=t.getCanvasElement().getBoundingClientRect();return t.interaction.getPanelGroupAllDataCells().find((t=>u({y:e.y-n.y,x:e.x-n.x},t)))},h=(e,n)=>{const r=e.getMeta(),o=null==n?void 0:n.getMeta(),i=Math.min(r.colIndex,o.colIndex),a=Math.max(r.colIndex,o.colIndex),l=Math.max(r.rowIndex,o.rowIndex),s=Math.min(r.rowIndex,o.rowIndex);return t.interaction.getPanelGroupAllDataCells().filter((e=>{const t=e.getMeta();return t.rowIndex<=l&&t.rowIndex>=s&&t.colIndex<=a&&t.colIndex>=i}))},f={x:0,y:0},p=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ua(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Vu(e,t,{leading:r,maxWait:t,trailing:o})}((e=>{if(!n)return;let o=d(e),i=e.x-l.x,s=e.y-l.y;(e=>{const n=t.getCanvasElement().getBoundingClientRect(),{frozenRow:r}=t.facet.frozenGroupInfo,o=n.x,i=n.x+n.width,a=n.y+r.height,l=n.y+n.height;return e.x<=i&&e.x>=o&&e.y<=l&&e.y>=a})(e)?(f.x=e.x,f.y=e.y):(o=d(f),i=f.x-l.x,s=f.y-l.y),a({right:i,bottom:s});const u=h(n,o);t.interaction.changeState({cells:u.map((e=>e.getMeta())),stateName:r._61.PREPARE_SELECT,force:!0})}),10),v=i=>{let l=d(i);if(!n)return;l||(l=d(f));const s=t.dataSet.originData,u=h(n,l),{fieldValue:c}=n.getMeta(),g=u.map((e=>{const{rowIndex:t,valueField:n}=e.getMeta();return s[t]&&void 0!==typeof s[t][n]&&(s[t][n]=c),e}));t.interaction.changeState({cells:g.map((e=>e.getMeta())),stateName:r._61.PREPARE_SELECT,force:!0}),t.render(!0),a({right:0,bottom:0}),t.off(r.ch4.GLOBAL_MOUSE_MOVE,p),t.off(r.ch4.GLOBAL_MOUSE_UP,v),o(void 0),null==e||e()};(0,c.useEffect)((()=>{n&&(t.on(r.ch4.GLOBAL_MOUSE_MOVE,p),t.on(r.ch4.GLOBAL_MOUSE_UP,v))}),[n]);const g=e=>{if("spreadsheet-drag-copy-point"!==as(e,"target.id"))return;const n=e.target.getBoundingClientRect(),{top:r,left:i}=as(e,"target.style",{}),a=t.interaction.getPanelGroupAllDataCells().find((e=>u({y:parseFloat(r),x:parseFloat(i)},e)));s({x:n.x,y:n.y}),o(a)};return(0,c.useEffect)((()=>{const e=document.getElementById("spreadsheet-drag-copy-point");return e&&t&&e.addEventListener("mousedown",g),()=>{e.removeEventListener("mousedown",g)}}),[t]),c.createElement("div",{className:`${r.vhY}-drag-copy-mask`,style:{right:i.right>0?i.right:0,bottom:i.bottom>0?i.bottom:0,left:i.right<=0?i.right:0,top:i.bottom<=0?i.bottom:0,width:Math.abs(i.right),height:Math.abs(i.bottom)}})}const Nb=(0,c.memo)((e=>{const t=md(),[n,o]=(0,c.useState)({scrollX:-999,scrollY:-999,width:8,overflow:!0}),[i,a]=(0,c.useState)({left:-999,top:-999}),[l,s]=(0,c.useState)(),u=()=>{if(t){const e=t.facet.getScrollOffset(),{frozenCol:r,frozenRow:i}=t.facet.frozenGroupInfo,a=t.getCanvasElement().getBoundingClientRect(),s=null==l?void 0:l.getMeta();if(!hc(e,n))if(s){const{verticalBorderWidth:t,horizontalBorderWidth:n}=l.getStyle().cell,u=s.width+s.x,c=s.height+s.y,d=u-e.scrollX-a.width+2*(t+n);let h=!0;h=r.width>=u-e.scrollX-2*n||i.height>=c-e.scrollY-2*t||a.width<=u-e.scrollX-2*n||a.height<=c-e.scrollY+i.height,o(Ai(Ri({},e),{overflow:h,width:8-(d>0?d:0)}))}else o({scrollX:-999,scrollY:-999,overflow:!0})}};(0,c.useEffect)((()=>(u(),t&&(t.off(r.ch4.GLOBAL_SCROLL,u),t.on(r.ch4.GLOBAL_SCROLL,u)),()=>{null==t||t.off(r.ch4.GLOBAL_SCROLL,u)})),[l]),(0,c.useEffect)((()=>{l&&s(void 0)}),[null==t?void 0:t.dataSet.sortParams,null==t?void 0:t.dataSet.filterParams]),(0,c.useEffect)((()=>{if((null==t?void 0:t.container.cfg.container)&&t&&l){const e=Bc(l.getMeta(),["x","y","width","height","fieldValue"]);e.x-=null==n?void 0:n.scrollX,e.y-=(null==n?void 0:n.scrollY)-(t.getColumnNodes()[0]||{height:0}).height,a({left:e.x+e.width-4,top:e.y+e.height-4})}}),[n,l]);const d=(0,c.useCallback)((()=>{s(void 0)}),[]);return pd(r.ch4.COL_CELL_CLICK,d,t),pd(r.ch4.ROW_CELL_CLICK,d,t),pd(r.ch4.CORNER_CELL_CLICK,d,t),pd(r.ch4.DATA_CELL_BRUSH_SELECTION,d,t),pd(r.ch4.DATA_CELL_CLICK,(e=>{const n=e.target.cfg.parent,r=t.interaction.isSelectedCell(n);s(r?n:void 0)}),t),c.createElement("div",{id:"spreadsheet-drag-copy-point",className:`${r.vhY}-drag-copy-point`,style:{display:n.overflow?"none":"block",left:i.left,top:i.top,width:n.width}},c.createElement(Ab,{onCopyFinished:d}))}));function Bb(e,t,n,r,o){if(r){const e=document.querySelector(`#${r}`);if(e){if(mi.unmountComponentAtNode(e)&&e.parentNode)return void e.parentNode.removeChild(e)}}const i=document.createElement("div");let a,l;function s(...e){mi.unmountComponentAtNode(i)&&i.parentNode&&(i.parentNode.removeChild(i),o&&o())}function u(...e){s.call(null,...e),l()}r&&(i.id=r),document.body.appendChild(i);const d=new Promise(((e,t)=>{a=e,l=t})).then((e=>(u(),e)));return setTimeout((()=>{mi.render(c.createElement(gd.Provider,{value:n},c.createElement(e,{onCancel:u,resolver:a,params:t})),i)})),d}function Db(e){const{params:t,resolver:n}=e,r=md(),{event:o,onChange:i,onDataCellEditEnd:a,CustomComponent:l}=t,s=o.target.cfg.parent,{left:u,top:d,width:h,height:f}=(0,c.useMemo)((()=>{const e=(null==r?void 0:r.container.cfg.container).getBoundingClientRect();return{left:window.scrollX+e.left,top:window.scrollY+e.top,width:e.width,height:e.height}}),[null==r?void 0:r.container.cfg.container]),{x:p,y:v,width:g,height:m}=(0,c.useMemo)((()=>{const e=r.facet.getScrollOffset(),t=Bc(s.getMeta(),["x","y","width","height"]);return t.x-=e.scrollX||0,t.y-=(e.scrollY||0)-(r.getColumnNodes()[0]||{height:0}).height,t}),[s,r]),[y,b]=(0,c.useState)(s.getMeta().fieldValue),C=(0,c.useRef)(null),x=(0,c.useRef)(null);(0,c.useEffect)((()=>{setTimeout((()=>{x.current&&x.current.click(),C.current&&C.current.focus()}))}),[]);const w=()=>{const{rowIndex:e,valueField:t}=s.getMeta();r.dataSet.originData[e][t]=y,r.render(!0),null==a||a(gc(s.getMeta(),{fieldValue:y,data:{[t]:y}})),i&&i(r.dataSet.originData),n(!0)},S=c.useMemo((()=>({left:p,top:v,width:g,height:m,zIndex:1e3})),[]);return c.createElement("div",{ref:x,style:{zIndex:500,position:"absolute",overflow:"hidden",left:u,top:d,width:h,height:f}},l?c.createElement(l,{cell:s,spreadsheet:r,value:y,style:S,onChange:e=>{b(e)},onSave:w}):c.createElement(vi.Z.TextArea,{required:!0,style:S,className:"s2-edit-cell",value:y,ref:C,onChange:e=>{b(e.target.value)},onBlur:w,onKeyDown:e=>{13===e.keyCode&&(e.preventDefault(),w())}}))}const kb=(0,c.memo)((({onChange:e,onDataCellEditEnd:t,CustomComponent:n})=>{const o=md(),i=(0,c.useCallback)((r=>{Bb(Db,{event:r,onChange:e,onDataCellEditEnd:t,CustomComponent:n},o)}),[o]);return pd(r.ch4.DATA_CELL_DOUBLE_CLICK,i,o),null})),Pb=c.memo((e=>{const t=(0,c.useCallback)((()=>{}),[]);return c.createElement(mb,Ai(Ri({},e),{sheetType:"table"}),c.createElement(kb,{onChange:t,onDataCellEditEnd:e.onDataCellEditEnd}),c.createElement(Nb,null))}));Pb.displayName="EditableSheet";const zb=c.memo((e=>{const t=e,{options:n}=t,o=Ni(t,["options"]),{dataCfg:i,partDrillDown:a}=o,l=c.useRef(),[s,u]=c.useState([]),d=(h=({sheetInstance:e,cacheDrillFields:t,disabledFields:n,event:o})=>{const i=c.createElement(Mb,Ai(Ri({},null==a?void 0:a.drillConfig),{setDrillFields:u,drillFields:t,disabledFields:n}));if(o){const{showTooltip:t}=(0,r.Hu7)(e,o);if(!t)return;e.showTooltip({position:{x:o.clientX,y:o.clientY},content:i})}},(f=(0,c.useRef)(h)).current=h,f);var h,f;const p=c.useMemo((()=>Wc(n,a,(e=>d.current(e)))),[n,a,d]),v=e=>{var t;null==(t=l.current)||t.clearDrillDownData(e)};c.useEffect((()=>{var e,t,n;null==(e=l.current)||e.hideTooltip(),dc(s)?v(null==(n=null==(t=l.current)?void 0:t.store.get("drillDownNode"))?void 0:n.id):Gc({rows:i.fields.rows,drillFields:s,fetchData:null==a?void 0:a.fetchData,drillItemsNum:null==a?void 0:a.drillItemsNum,spreadsheet:l.current})}),[s]),c.useEffect((()=>{var e;ua(null==a?void 0:a.clearDrillDown)&&v(null==(e=null==a?void 0:a.clearDrillDown)?void 0:e.rowId)}),[null==a?void 0:a.clearDrillDown]);const g=(e=>{const t=c.useRef(e),n=Rb.map((t=>null==e?void 0:e[t]));return c.useCallback((n=>{const r=t.current,o=!!Rb.find((t=>!Object.is(null==e?void 0:e[t],null==r?void 0:r[t])));return t.current=e,{reloadData:o||n.reloadData,reBuildDataSet:n.reBuildDataSet}}),n)})(a);return c.createElement(mb,Ai(Ri({},o),{options:p,onSheetUpdate:g,ref:l}))}));zb.displayName="PivotSheet";const Fb=c.forwardRef(((e,t)=>{const{sheetType:n}=e,o=c.useMemo((()=>Ai(Ri({},e),{onMounted:n=>{var r;t&&(t.current=n),null==(r=e.onMounted)||r.call(e,n)}})),[e,t]),i=c.useMemo((()=>{switch(n){case"table":return c.createElement(yb,Ri({},o));case"gridAnalysis":return c.createElement(wb,Ri({},o));case"strategy":return c.createElement(Tb,Ri({},o));case"editable":return c.createElement(Pb,Ri({},o));default:return c.createElement(zb,Ri({},o))}}),[n,o]),a="zh_CN"===(0,r.VQD)()?Si.Z:rt.Z;return c.createElement(c.StrictMode,null,c.createElement(pi.ZP,{locale:a},i))})),Hb=c.memo(Fb);Hb.displayName="SheetComponent"},14334:function(e,t,n){n.d(t,{AfN:function(){return cC},CoU:function(){return mi},D6R:function(){return Wx},EDF:function(){return bC},F1h:function(){return bw},HZt:function(){return oL},Hu7:function(){return XO},IZo:function(){return PO},LRf:function(){return hw},N6r:function(){return eL},NO_:function(){return hC},O9R:function(){return tI},Pyr:function(){return kx},TA7:function(){return nL},Teh:function(){return bi},Unm:function(){return YS},VQD:function(){return uC},WNh:function(){return ya},X0t:function(){return vS},_61:function(){return Ji},_Ge:function(){return US},__x:function(){return gi},agQ:function(){return dC},c8d:function(){return Cw},ch4:function(){return fi},d5G:function(){return KO},f4X:function(){return Tw},o3g:function(){return Hx},q7_:function(){return XC},qPk:function(){return $x},qR_:function(){return Px},utx:function(){return iC},vQq:function(){return dw},vhY:function(){return Ui}}),e=n.hmd(e);var r=n(34155),o=Object.freeze({__proto__:null,get Base(){return _o},get Circle(){return Mo},get Ellipse(){return No},get Image(){return ko},get Line(){return Fo},get Marker(){return jo},get Path(){return Qo},get Polygon(){return ti},get Polyline(){return ri},get Rect(){return ii},get Text(){return li}}),i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)};var s=function(e){return null!==e&&"function"!=typeof e&&isFinite(e.length)},u={}.toString,c=function(e,t){return u.call(e)==="[object "+t+"]"},d=function(e){return c(e,"Function")},h=function(e){return null==e},f=function(e){return Array.isArray?Array.isArray(e):c(e,"Array")},p=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t};function v(e,t){if(e)if(f(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);else if(p(e))for(var o in e)if(e.hasOwnProperty(o)&&!1===t(e[o],o))break}var g=function(e){return"object"==typeof e&&null!==e},m=function(e){if(f(e))return e.reduce((function(e,t){return Math.max(e,t)}),e[0])},y=function(e){if(f(e))return e.reduce((function(e,t){return Math.min(e,t)}),e[0])},b=function(e){return c(e,"String")},C=function(e){return c(e,"Number")};var x=function(e,t){return(e%t+t)%t},w=Math.PI/180,S=function(e){return w*e},E=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return v(e,(function(n,r){d(e)&&"prototype"===r||t.push(n)})),t},O=function(e){var t=function(e){return h(e)?"":e.toString()}(e);return t.charAt(0).toUpperCase()+t.substring(1)};function I(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}function L(e,t,n,r){return t&&I(e,t),n&&I(e,n),r&&I(e,r),e}var _,T=function(e,t){if(e===t)return!0;if(!e||!t)return!1;if(b(e)||b(t))return!1;if(s(e)||s(t)){if(e.length!==t.length)return!1;for(var n=!0,r=0;r<e.length&&(n=T(e[r],t[r]));r++);return n}if(g(e)||g(t)){var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(n=!0,r=0;r<o.length&&(n=T(e[o[r]],t[o[r]]));r++);return n}return!1},M={},R=function(e){return M[e=e||"g"]?M[e]+=1:M[e]=1,e+M[e]},A=function(){};!function(e,t){if(!d(e))throw new TypeError("Expected a function");var n=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var l=e.apply(this,r);return a.set(i,l),l};n.cache=new Map}((function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,o=t.fontWeight,i=t.fontStyle,a=t.fontVariant;return _||(_=document.createElement("canvas").getContext("2d")),_.font=[i,a,o,n+"px",r].join(" "),_.measureText(b(e)?e:"").width}),(function(e,t){return void 0===t&&(t={}),function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)r[o]=i[a];return r}([e],E(t)).join("")}));var N="\t\n\v\f\r   ᠎             　\u2028\u2029",B=new RegExp("([a-z])["+N+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+N+"]*,?["+N+"]*)+)","ig"),D=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+N+"]*,?["+N+"]*","ig"),k=function(e){if(!e)return null;if(f(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(B,(function(r,o,i){var a=[],l=o.toLowerCase();if(i.replace(D,(function(e,t){t&&a.push(+t)})),"m"===l&&a.length>2&&(n.push([o].concat(a.splice(0,2))),l="l",o="m"===o?"l":"L"),"o"===l&&1===a.length&&n.push([o,a[0]]),"r"===l)n.push([o].concat(a));else for(;a.length>=t[l]&&(n.push([o].concat(a.splice(0,t[l]))),t[l]););return e})),n},P=function(e,t){for(var n=[],r=0,o=e.length;o-2*!t>r;r+=2){var i=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?o-4===r?i[3]={x:+e[0],y:+e[1]}:o-2===r&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[o-2],y:+e[o-1]}:o-4===r?i[3]=i[2]:r||(i[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n},z=function(e,t,n,r,o){var i=[];if(null===o&&null===r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!==o){var a=Math.PI/180,l=e+n*Math.cos(-r*a),s=e+n*Math.cos(-o*a);i=[["M",l,t+n*Math.sin(-r*a)],["A",n,n,0,+(o-r>180),0,s,t+n*Math.sin(-o*a)]]}else i=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return i},F=function(e){if(!(e=k(e))||!e.length)return[["M",0,0]];var t,n,r=[],o=0,i=0,a=0,l=0,s=0;"M"===e[0][0]&&(a=o=+e[0][1],l=i=+e[0][2],s++,r[0]=["M",o,i]);for(var u=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),c=void 0,d=void 0,h=s,f=e.length;h<f;h++){if(r.push(c=[]),(t=(d=e[h])[0])!==t.toUpperCase())switch(c[0]=t.toUpperCase(),c[0]){case"A":c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=+d[6]+o,c[7]=+d[7]+i;break;case"V":c[1]=+d[1]+i;break;case"H":c[1]=+d[1]+o;break;case"R":for(var p=2,v=(n=[o,i].concat(d.slice(1))).length;p<v;p++)n[p]=+n[p]+o,n[++p]=+n[p]+i;r.pop(),r=r.concat(P(n,u));break;case"O":r.pop(),(n=z(o,i,d[1],d[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(z(o,i,d[1],d[2],d[3])),c=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+d[1]+o,l=+d[2]+i;break;default:for(p=1,v=d.length;p<v;p++)c[p]=+d[p]+(p%2?o:i)}else if("R"===t)n=[o,i].concat(d.slice(1)),r.pop(),r=r.concat(P(n,u)),c=["R"].concat(d.slice(-2));else if("O"===t)r.pop(),(n=z(o,i,d[1],d[2])).push(n[0]),r=r.concat(n);else if("U"===t)r.pop(),r=r.concat(z(o,i,d[1],d[2],d[3])),c=["U"].concat(r[r.length-1].slice(-2));else for(var g=0,m=d.length;g<m;g++)c[g]=d[g];if("O"!==(t=t.toUpperCase()))switch(c[0]){case"Z":o=+a,i=+l;break;case"H":o=c[1];break;case"V":i=c[1];break;case"M":a=c[c.length-2],l=c[c.length-1];break;default:o=c[c.length-2],i=c[c.length-1]}}return r},H=function(e,t,n,r){return[e,t,n,r,n,r]},$=function(e,t,n,r,o,i){var a=1/3,l=2/3;return[a*e+l*n,a*t+l*r,a*o+l*n,a*i+l*r,o,i]},j=function(e,t,n,r,o,i,a,l,s,u){n===r&&(n+=1);var c,d,h,f,p,v=120*Math.PI/180,g=Math.PI/180*(+o||0),m=[],y=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}};if(u)d=u[0],h=u[1],f=u[2],p=u[3];else{e=(c=y(e,t,-g)).x,t=c.y,l=(c=y(l,s,-g)).x,s=c.y,e===l&&t===s&&(l+=1,s+=1);var b=(e-l)/2,C=(t-s)/2,x=b*b/(n*n)+C*C/(r*r);x>1&&(n*=x=Math.sqrt(x),r*=x);var w=n*n,S=r*r,E=(i===a?-1:1)*Math.sqrt(Math.abs((w*S-w*C*C-S*b*b)/(w*C*C+S*b*b)));f=E*n*C/r+(e+l)/2,p=E*-r*b/n+(t+s)/2,d=Math.asin(((t-p)/r).toFixed(9)),h=Math.asin(((s-p)/r).toFixed(9)),d=e<f?Math.PI-d:d,h=l<f?Math.PI-h:h,d<0&&(d=2*Math.PI+d),h<0&&(h=2*Math.PI+h),a&&d>h&&(d-=2*Math.PI),!a&&h>d&&(h-=2*Math.PI)}var O=h-d;if(Math.abs(O)>v){var I=h,L=l,_=s;h=d+v*(a&&h>d?1:-1),l=f+n*Math.cos(h),s=p+r*Math.sin(h),m=j(l,s,n,r,o,0,a,L,_,[h,I,f,p])}O=h-d;var T=Math.cos(d),M=Math.sin(d),R=Math.cos(h),A=Math.sin(h),N=Math.tan(O/4),B=4/3*n*N,D=4/3*r*N,k=[e,t],P=[e+B*M,t-D*T],z=[l+B*A,s-D*R],F=[l,s];if(P[0]=2*k[0]-P[0],P[1]=2*k[1]-P[1],u)return[P,z,F].concat(m);for(var H=[],$=0,W=(m=[P,z,F].concat(m).join().split(",")).length;$<W;$++)H[$]=$%2?y(m[$-1],m[$],g).y:y(m[$],m[$+1],g).x;return H},W=function(e,t){var n,r=F(e),o=t&&F(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=[],s=[],u="",c="",d=function(e,t,n){var r,o;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(j.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*t.x-t.bx,o=2*t.y-t.by):(r=t.x,o=t.y),e=["C",r,o].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat($(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat($(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(H(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(H(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(H(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(H(t.x,t.y,t.X,t.Y))}return e},h=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)l[t]="A",o&&(s[t]="A"),e.splice(t++,0,["C"].concat(i.splice(0,6)));e.splice(t,1),n=Math.max(r.length,o&&o.length||0)}},f=function(e,t,i,a,l){e&&t&&"M"===e[l][0]&&"M"!==t[l][0]&&(t.splice(l,0,["M",a.x,a.y]),i.bx=0,i.by=0,i.x=e[l][1],i.y=e[l][2],n=Math.max(r.length,o&&o.length||0))};n=Math.max(r.length,o&&o.length||0);for(var p=0;p<n;p++){r[p]&&(u=r[p][0]),"C"!==u&&(l[p]=u,p&&(c=l[p-1])),r[p]=d(r[p],i,c),"A"!==l[p]&&"C"===u&&(l[p]="C"),h(r,p),o&&(o[p]&&(u=o[p][0]),"C"!==u&&(s[p]=u,p&&(c=s[p-1])),o[p]=d(o[p],a,c),"A"!==s[p]&&"C"===u&&(s[p]="C"),h(o,p)),f(r,o,i,a,p),f(o,r,a,i,p);var v=r[p],g=o&&o[p],m=v.length,y=o&&g.length;i.x=v[m-2],i.y=v[m-1],i.bx=parseFloat(v[m-4])||i.x,i.by=parseFloat(v[m-3])||i.y,a.bx=o&&(parseFloat(g[y-4])||a.x),a.by=o&&(parseFloat(g[y-3])||a.y),a.x=o&&g[y-2],a.y=o&&g[y-1]}return o?[r,o]:r},G=/,?([a-z]),?/gi,V=function(e){return e.join(",").replace(G,"$1")},U=function(e,t,n,r,o){return e*(e*(-3*t+9*n-9*r+3*o)+6*t-12*n+6*r)-3*t+3*n},Z=function(e,t,n,r,o,i,a,l,s){null===s&&(s=1);for(var u=(s=s>1?1:s<0?0:s)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,f=0;f<12;f++){var p=u*c[f]+u,v=U(p,e,n,o,a),g=U(p,t,r,i,l),m=v*v+g*g;h+=d[f]*Math.sqrt(m)}return u*h},Y=function(e,t,n,r,o,i,a,l){for(var s,u,c,d,h=[],f=[[],[]],p=0;p<2;++p)if(0===p?(u=6*e-12*n+6*o,s=-3*e+9*n-9*o+3*a,c=3*n-3*e):(u=6*t-12*r+6*i,s=-3*t+9*r-9*i+3*l,c=3*r-3*t),Math.abs(s)<1e-12){if(Math.abs(u)<1e-12)continue;(d=-c/u)>0&&d<1&&h.push(d)}else{var v=u*u-4*c*s,g=Math.sqrt(v);if(!(v<0)){var m=(-u+g)/(2*s);m>0&&m<1&&h.push(m);var y=(-u-g)/(2*s);y>0&&y<1&&h.push(y)}}for(var b,C=h.length,x=C;C--;)b=1-(d=h[C]),f[0][C]=b*b*b*e+3*b*b*d*n+3*b*d*d*o+d*d*d*a,f[1][C]=b*b*b*t+3*b*b*d*r+3*b*d*d*i+d*d*d*l;return f[0][x]=e,f[1][x]=t,f[0][x+1]=a,f[1][x+1]=l,f[0].length=f[1].length=x+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}},X=function(e,t,n,r,o,i,a,l){if(!(Math.max(e,n)<Math.min(o,a)||Math.min(e,n)>Math.max(o,a)||Math.max(t,r)<Math.min(i,l)||Math.min(t,r)>Math.max(i,l))){var s=(e-n)*(i-l)-(t-r)*(o-a);if(s){var u=((e*r-t*n)*(o-a)-(e-n)*(o*l-i*a))/s,c=((e*r-t*n)*(i-l)-(t-r)*(o*l-i*a))/s,d=+u.toFixed(2),h=+c.toFixed(2);if(!(d<+Math.min(e,n).toFixed(2)||d>+Math.max(e,n).toFixed(2)||d<+Math.min(o,a).toFixed(2)||d>+Math.max(o,a).toFixed(2)||h<+Math.min(t,r).toFixed(2)||h>+Math.max(t,r).toFixed(2)||h<+Math.min(i,l).toFixed(2)||h>+Math.max(i,l).toFixed(2)))return{x:u,y:c}}}},q=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},K=function(e,t,n,r,o){if(o)return[["M",+e+ +o,t],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,r-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-r],["a",o,o,0,0,1,o,-o],["z"]];var i=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return i.parsePathArray=V,i},Q=function(e,t,n,r){return null===e&&(e=t=n=r=0),null===t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:K(e,t,n,r),vb:[e,t,n,r].join(" ")}},J=function(e,t,n,r,o,i,a,l){f(e)||(e=[e,t,n,r,o,i,a,l]);var s=Y.apply(null,e);return Q(s.min.x,s.min.y,s.max.x-s.min.x,s.max.y-s.min.y)},ee=function(e,t,n,r,o,i,a,l,s){var u=1-s,c=Math.pow(u,3),d=Math.pow(u,2),h=s*s,f=h*s,p=e+2*s*(n-e)+h*(o-2*n+e),v=t+2*s*(r-t)+h*(i-2*r+t),g=n+2*s*(o-n)+h*(a-2*o+n),m=r+2*s*(i-r)+h*(l-2*i+r);return{x:c*e+3*d*s*n+3*u*s*s*o+f*a,y:c*t+3*d*s*r+3*u*s*s*i+f*l,m:{x:p,y:v},n:{x:g,y:m},start:{x:u*e+s*n,y:u*t+s*r},end:{x:u*o+s*a,y:u*i+s*l},alpha:90-180*Math.atan2(p-g,v-m)/Math.PI}},te=function(e,t,n){if(!function(e,t){return e=Q(e),t=Q(t),q(t,e.x,e.y)||q(t,e.x2,e.y)||q(t,e.x,e.y2)||q(t,e.x2,e.y2)||q(e,t.x,t.y)||q(e,t.x2,t.y)||q(e,t.x,t.y2)||q(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(J(e),J(t)))return n?0:[];for(var r=~~(Z.apply(0,e)/8),o=~~(Z.apply(0,t)/8),i=[],a=[],l={},s=n?0:[],u=0;u<r+1;u++){var c=ee.apply(0,e.concat(u/r));i.push({x:c.x,y:c.y,t:u/r})}for(u=0;u<o+1;u++){c=ee.apply(0,t.concat(u/o));a.push({x:c.x,y:c.y,t:u/o})}for(u=0;u<r;u++)for(var d=0;d<o;d++){var h=i[u],f=i[u+1],p=a[d],v=a[d+1],g=Math.abs(f.x-h.x)<.001?"y":"x",m=Math.abs(v.x-p.x)<.001?"y":"x",y=X(h.x,h.y,f.x,f.y,p.x,p.y,v.x,v.y);if(y){if(l[y.x.toFixed(4)]===y.y.toFixed(4))continue;l[y.x.toFixed(4)]=y.y.toFixed(4);var b=h.t+Math.abs((y[g]-h[g])/(f[g]-h[g]))*(f.t-h.t),C=p.t+Math.abs((y[m]-p[m])/(v[m]-p[m]))*(v.t-p.t);b>=0&&b<=1&&C>=0&&C<=1&&(n?s+=1:s.push({x:y.x,y:y.y,t1:b,t2:C}))}}return s};function ne(e,t){var n=[],r=[];return e.length&&function e(t,o){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var i=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),i[a]=[(1-o)*t[a][0]+o*t[a+1][0],(1-o)*t[a][1]+o*t[a+1][1]];e(i,o)}}(e,t),{left:n,right:r.reverse()}}var re=function(e,t,n){if(1===n)return[[].concat(e)];var r=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])r=r.concat(function(e,t,n){var r=[[e[1],e[2]]];n=n||2;var o=[];"A"===t[0]?(r.push(t[6]),r.push(t[7])):"C"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]]),r.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]])):r.push([t[1],t[2]]);for(var i=r,a=1/n,l=0;l<n-1;l++){var s=ne(i,a/(1-a*l));o.push(s.left),i=s.right}return o.push(i),o.map((function(e){var t=[];return 4===e.length&&(t.push("C"),t=t.concat(e[2])),e.length>=3&&(3===e.length&&t.push("Q"),t=t.concat(e[1])),2===e.length&&t.push("L"),t.concat(e[e.length-1])}))}(e,t,n));else{var o=[].concat(e);"M"===o[0]&&(o[0]="L");for(var i=0;i<=n-1;i++)r.push(o)}return r},oe=function(e,t){if(e.length!==t.length)return!1;var n=!0;return v(e,(function(e,r){if(e!==t[r])return n=!1,!1})),n};function ie(e,t,n){var r=null,o=n;return t<o&&(o=t,r="add"),e<o&&(o=e,r="del"),{type:r,min:o}}var ae=function(e,t){var n=function(e,t){var n,r,o=e.length,i=t.length,a=0;if(0===o||0===i)return null;for(var l=[],s=0;s<=o;s++)l[s]=[],l[s][0]={min:s};for(var u=0;u<=i;u++)l[0][u]={min:u};for(s=1;s<=o;s++)for(n=e[s-1],u=1;u<=i;u++){r=t[u-1],a=oe(n,r)?0:1;var c=l[s-1][u].min+1,d=l[s][u-1].min+1,h=l[s-1][u-1].min+a;l[s][u]=ie(c,d,h)}return l}(e,t),r=e.length,o=t.length,i=[],a=1,l=1;if(n[r][o].min!==r){for(var s=1;s<=r;s++){var u=n[s][s].min;l=s;for(var c=a;c<=o;c++)n[s][c].min<u&&(u=n[s][c].min,l=c);a=l,n[s][a].type&&i.push({index:s-1,type:n[s][a].type})}for(s=i.length-1;s>=0;s--)a=i[s].index,"add"===i[s].type?e.splice(a,0,[].concat(e[a])):e.splice(a,1)}var d=o-(r=e.length);if(r<o)for(s=0;s<d;s++)"z"===e[r-1][0]||"Z"===e[r-1][0]?e.splice(r-2,0,e[r-2]):e.push(e[r-1]),r+=1;return e};function le(e,t,n){for(var r,o=[].concat(e),i=1/(n+1),a=se(t)[0],l=1;l<=n;l++)i*=l,0===(r=Math.floor(e.length*i))?o.unshift([a[0]*i+e[r][0]*(1-i),a[1]*i+e[r][1]*(1-i)]):o.splice(r,0,[a[0]*i+e[r][0]*(1-i),a[1]*i+e[r][1]*(1-i)]);return o}function se(e){var t=[];switch(e[0]){case"M":case"L":case"T":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"H":case"V":t.push([e[1],e[1]])}return t}var ue=function(e,t){if(e.length<=1)return e;for(var n,r=0;r<t.length;r++)if(e[r][0]!==t[r][0])switch(n=se(e[r]),t[r][0]){case"M":e[r]=["M"].concat(n[0]);break;case"L":e[r]=["L"].concat(n[0]);break;case"A":e[r]=[].concat(t[r]),e[r][6]=n[0][0],e[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=le(n,e[r-1],1)}e[r]=["Q"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"T":e[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){e[r]=t[r];break}n=le(n,e[r-1],2)}e[r]=["C"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"S":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=le(n,e[r-1],1)}e[r]=["S"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;default:e[r]=t[r]}return e},ce=Object.freeze({__proto__:null,catmullRomToBezier:P,fillPath:function(e,t){if(1===e.length)return e;var n=e.length-1,r=t.length-1,o=n/r,i=[];if(1===e.length&&"M"===e[0][0]){for(var a=0;a<r-n;a++)e.push(e[0]);return e}for(a=0;a<r;a++){var l=Math.floor(o*a);i[l]=(i[l]||0)+1}var s=i.reduce((function(t,r,o){return o===n?t.concat(e[n]):t.concat(re(e[o],e[o+1],r))}),[]);return s.unshift(e[0]),"Z"!==t[r]&&"z"!==t[r]||s.push("Z"),s},fillPathByDiff:ae,formatPath:ue,intersection:function(e,t){return function(e,t,n){var r,o,i,a,l,s,u,c,d,h;e=W(e),t=W(t);for(var f=n?0:[],p=0,v=e.length;p<v;p++){var g=e[p];if("M"===g[0])r=l=g[1],o=s=g[2];else{"C"===g[0]?(d=[r,o].concat(g.slice(1)),r=d[6],o=d[7]):(d=[r,o,r,o,l,s,l,s],r=l,o=s);for(var m=0,y=t.length;m<y;m++){var b=t[m];if("M"===b[0])i=u=b[1],a=c=b[2];else{"C"===b[0]?(h=[i,a].concat(b.slice(1)),i=h[6],a=h[7]):(h=[i,a,i,a,u,c,u,c],i=u,a=c);var C=te(d,h,n);if(n)f+=C;else{for(var x=0,w=C.length;x<w;x++)C[x].segment1=p,C[x].segment2=m,C[x].bez1=d,C[x].bez2=h;f=f.concat(C)}}}}}return f}(e,t)},parsePathArray:V,parsePathString:k,pathToAbsolute:F,pathToCurve:W,rectPath:K}),de=function(){function e(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){return"[Event (type="+this.type+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}(),he=function(e,t){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},he(e,t)};function fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}he(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var pe=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[e]||[],i=this._events["*"]||[],a=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],l=a.callback;a.once&&(r.splice(i,1),0===r.length&&delete t._events[e],o--,i--),l.apply(t,n)}};a(o),a(i)},e.prototype.off=function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,o=0;o<r;o++)n[o].callback===t&&(n.splice(o,1),r--,o--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},e.prototype.getEvents=function(){return this._events},e}();function ve(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var ge="undefined"!=typeof window&&void 0!==window.document;function me(e,t){if(e.isCanvas())return!0;for(var n=t.getParent(),r=!1;n;){if(n===e){r=!0;break}n=n.getParent()}return r}function ye(e){return e.cfg.visible&&e.cfg.capture}var be=function(e){function t(t){var n=e.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=L(r,t),n}return fe(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.get=function(e){return this.cfg[e]},t.prototype.set=function(e,t){this.cfg[e]=t},t.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},t}(pe),Ce=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},xe=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},we=function(e){this.version=e,this.type="node",this.name="node",this.os=r.platform},Se=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},Ee=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Oe=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Ie=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Le=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],_e=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Te(e){var t=function(e){return""!==e&&Le.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]}),!1)}(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new Ee;var o=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);o?o.length<3&&(o=Ce(Ce([],o,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-o.length),!0)):o=[];var i=o.join("."),a=function(e){for(var t=0,n=_e.length;t<n;t++){var r=_e[t],o=r[0];if(r[1].exec(e))return o}return null}(e),l=Ie.exec(e);return l&&l[1]?new Se(n,i,a,l[1]):new xe(n,i,a)}var Me,Re="undefined"!=typeof Float32Array?Float32Array:Array;function Ae(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],l=t[4],s=t[5],u=t[6],c=t[7],d=t[8],h=n[0],f=n[1],p=n[2],v=n[3],g=n[4],m=n[5],y=n[6],b=n[7],C=n[8];return e[0]=h*r+f*a+p*u,e[1]=h*o+f*l+p*c,e[2]=h*i+f*s+p*d,e[3]=v*r+g*a+m*u,e[4]=v*o+g*l+m*c,e[5]=v*i+g*s+m*d,e[6]=y*r+b*a+C*u,e[7]=y*o+b*l+C*c,e[8]=y*i+b*s+C*d,e}function Ne(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e}function Be(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return function(e,t){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1}(r,n),Ae(e,r,t)}function De(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return function(e,t){var n=Math.sin(t),r=Math.cos(t);e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1}(r,n),Ae(e,r,t)}function ke(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return function(e,t){e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1}(r,n),Ae(e,r,t)}function Pe(e,t,n){return Ae(e,n,t)}function ze(e,t){for(var n=e?[].concat(e):[1,0,0,0,1,0,0,0,1],r=0,o=t.length;r<o;r++){var i=t[r];switch(i[0]){case"t":Be(n,n,[i[1],i[2]]);break;case"s":ke(n,n,[i[1],i[2]]);break;case"r":De(n,n,i[1]);break;case"m":Pe(n,n,i[1])}}return n}function Fe(e,t){var n=[],r=e[0],o=e[1],i=e[2],a=e[3],l=e[4],s=e[5],u=e[6],c=e[7],d=e[8],h=t[0],f=t[1],p=t[2],v=t[3],g=t[4],m=t[5],y=t[6],b=t[7],C=t[8];return n[0]=h*r+f*a+p*u,n[1]=h*o+f*l+p*c,n[2]=h*i+f*s+p*d,n[3]=v*r+g*a+m*u,n[4]=v*o+g*l+m*c,n[5]=v*i+g*s+m*d,n[6]=y*r+b*a+C*u,n[7]=y*o+b*l+C*c,n[8]=y*i+b*s+C*d,n}function He(e,t){var n=[],r=t[0],o=t[1];return n[0]=e[0]*r+e[3]*o+e[6],n[1]=e[1]*r+e[4]*o+e[7],n}function $e(e){var t=[],n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],l=e[5],s=e[6],u=e[7],c=e[8],d=c*a-l*u,h=-c*i+l*s,f=u*i-a*s,p=n*d+r*h+o*f;return p?(p=1/p,t[0]=d*p,t[1]=(-c*r+o*u)*p,t[2]=(l*r-o*a)*p,t[3]=h*p,t[4]=(c*n-o*s)*p,t[5]=(-l*n+o*i)*p,t[6]=f*p,t[7]=(-u*n+r*s)*p,t[8]=(a*n-r*i)*p,t):null}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),Me=new Re(3),Re!=Float32Array&&(Me[0]=0,Me[1]=0,Me[2]=0),function(){var e=function(){var e=new Re(2);return Re!=Float32Array&&(e[0]=0,e[1]=0),e}()}();var je=ze,We="matrix",Ge=["zIndex","capture","visible","type"],Ve=["repeat"];function Ue(e,t){var n={},r=t.attrs;for(var o in e)n[o]=r[o];return n}function Ze(e,t){var n={},r=t.attr();return v(e,(function(e,t){-1!==Ve.indexOf(t)||T(r[t],e)||(n[t]=e)})),n}function Ye(e,t){if(t.onFrame)return e;var n=t.startTime,r=t.delay,o=t.duration,i=Object.prototype.hasOwnProperty;return v(e,(function(e){n+r<e.startTime+e.delay+e.duration&&o>e.delay&&v(t.toAttrs,(function(t,n){i.call(e.toAttrs,n)&&(delete e.toAttrs[n],delete e.fromAttrs[n])}))})),e}var Xe=function(e){function t(t){var n=e.call(this,t)||this;n.attrs={};var r=n.getDefaultAttrs();return L(r,t.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return fe(t,e),t.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},t.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},t.prototype.onCanvasChange=function(e){},t.prototype.initAttrs=function(e){},t.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},t.prototype.isGroup=function(){return!1},t.prototype.getParent=function(){return this.get("parent")},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.attr=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],o=t[1];if(!r)return this.attrs;if(p(r)){for(var i in r)this.setAttr(i,r[i]);return this.afterAttrsChange(r),this}return 2===t.length?(this.setAttr(r,o),this.afterAttrsChange(((e={})[r]=o,e)),this):this.attrs[r]},t.prototype.isClipped=function(e,t){var n=this.getClip();return n&&!n.isHit(e,t)},t.prototype.setAttr=function(e,t){var n=this.attrs[e];n!==t&&(this.attrs[e]=t,this.onAttrChange(e,t,n))},t.prototype.onAttrChange=function(e,t,n){"matrix"===e&&this.set("totalMatrix",null)},t.prototype.afterAttrsChange=function(e){if(this.cfg.isClipShape){var t=this.cfg.applyTo;t&&t.onCanvasChange("clip")}else this.onCanvasChange("attr")},t.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},t.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},t.prototype.setZIndex=function(e){this.set("zIndex",e);var t=this.getParent();return t&&t.sort(),this},t.prototype.toFront=function(){var e=this.getParent();if(e){var t=e.getChildren();this.get("el");var n=t.indexOf(this);t.splice(n,1),t.push(this),this.onCanvasChange("zIndex")}},t.prototype.toBack=function(){var e=this.getParent();if(e){var t=e.getChildren();this.get("el");var n=t.indexOf(this);t.splice(n,1),t.unshift(this),this.onCanvasChange("zIndex")}},t.prototype.remove=function(e){void 0===e&&(e=!0);var t=this.getParent();t?(ve(t.getChildren(),this),t.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),e&&this.destroy()},t.prototype.resetMatrix=function(){this.attr(We,this.getDefaultMatrix()),this.onCanvasChange("matrix")},t.prototype.getMatrix=function(){return this.attr(We)},t.prototype.setMatrix=function(e){this.attr(We,e),this.onCanvasChange("matrix")},t.prototype.getTotalMatrix=function(){var e=this.cfg.totalMatrix;if(!e){var t=this.attr("matrix"),n=this.cfg.parentMatrix;e=n&&t?Fe(n,t):t||n,this.set("totalMatrix",e)}return e},t.prototype.applyMatrix=function(e){var t=this.attr("matrix"),n=null;n=e&&t?Fe(e,t):t||e,this.set("totalMatrix",n),this.set("parentMatrix",e)},t.prototype.getDefaultMatrix=function(){return null},t.prototype.applyToMatrix=function(e){var t=this.attr("matrix");return t?He(t,e):e},t.prototype.invertFromMatrix=function(e){var t=this.attr("matrix");if(t){var n=$e(t);if(n)return He(n,e)}return e},t.prototype.setClip=function(e){var t=this.getCanvas(),n=null;if(e){var r=this.getShapeBase()[O(e.type)];r&&(n=new r({type:e.type,isClipShape:!0,applyTo:this,attrs:e.attrs,canvas:t}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},t.prototype.getClip=function(){var e=this.cfg.clipShape;return e||null},t.prototype.clone=function(){var e=this,t=this.attrs,n={};v(t,(function(e,r){f(t[r])?n[r]=function(e){for(var t=[],n=0;n<e.length;n++)f(e[n])?t.push([].concat(e[n])):t.push(e[n]);return t}(t[r]):n[r]=t[r]}));var r=new(0,this.constructor)({attrs:n});return v(Ge,(function(t){r.set(t,e.get(t))})),r},t.prototype.destroy=function(){this.destroyed||(this.attrs={},e.prototype.destroy.call(this))},t.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},t.prototype.animate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var o,i,a,l,s,u=e[0],c=e[1],h=e[2],f=void 0===h?"easeLinear":h,v=e[3],g=void 0===v?A:v,m=e[4],y=void 0===m?0:m;d(u)?(o=u,u={}):p(u)&&u.onFrame&&(o=u.onFrame,i=u.repeat),p(c)?(c=(s=c).duration,f=s.easing||"easeLinear",y=s.delay||0,i=s.repeat||i||!1,g=s.callback||A,a=s.pauseCallback||A,l=s.resumeCallback||A):(C(g)&&(y=g,g=null),d(f)?(g=f,f="easeLinear"):f=f||"easeLinear");var b=Ze(u,this),x={fromAttrs:Ue(b,this),toAttrs:b,duration:c,easing:f,repeat:i,callback:g,pauseCallback:a,resumeCallback:l,delay:y,startTime:n.getTime(),id:R(),onFrame:o,pathFormatted:!1};r.length>0?r=Ye(r,x):n.addAnimator(this),r.push(x),this.set("animations",r),this.set("_pause",{isPaused:!1})}},t.prototype.stopAnimate=function(e){var t=this;void 0===e&&(e=!0),v(this.get("animations"),(function(n){e&&(n.onFrame?t.attr(n.onFrame(1)):t.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},t.prototype.pauseAnimate=function(){var e=this.get("timeline"),t=this.get("animations"),n=e.getTime();return v(t,(function(e){e._paused=!0,e._pauseTime=n,e.pauseCallback&&e.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},t.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),n=this.get("_pause").pauseTime;return v(t,(function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},t.prototype.emitDelegation=function(e,t){var n,r=this,o=t.propagationPath;this.getEvents(),"mouseenter"===e?n=t.fromShape:"mouseleave"===e&&(n=t.toShape);for(var i=function(e){var i=o[e],l=i.get("name");if(l){if((i.isGroup()||i.isCanvas&&i.isCanvas())&&n&&me(i,n))return"break";f(l)?v(l,(function(e){r.emitDelegateEvent(i,e,t)})):a.emitDelegateEvent(i,l,t)}},a=this,l=0;l<o.length;l++){if("break"===i(l))break}},t.prototype.emitDelegateEvent=function(e,t,n){var r=this.getEvents(),o=t+":"+n.type;(r[o]||r["*"])&&(n.name=o,n.currentTarget=e,n.delegateTarget=this,n.delegateObject=e.get("delegateObject"),this.emit(o,n))},t.prototype.translate=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this.getMatrix(),r=je(n,[["t",e,t]]);return this.setMatrix(r),this},t.prototype.move=function(e,t){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(e-n,t-r),this},t.prototype.moveTo=function(e,t){return this.move(e,t)},t.prototype.scale=function(e,t){var n=this.getMatrix(),r=je(n,[["s",e,t||e]]);return this.setMatrix(r),this},t.prototype.rotate=function(e){var t=this.getMatrix(),n=je(t,[["r",e]]);return this.setMatrix(n),this},t.prototype.rotateAtStart=function(e){var t=this.attr(),n=t.x,r=t.y,o=this.getMatrix(),i=je(o,[["t",-n,-r],["r",e],["t",n,r]]);return this.setMatrix(i),this},t.prototype.rotateAtPoint=function(e,t,n){var r=this.getMatrix(),o=je(r,[["t",-e,-t],["r",n],["t",e,t]]);return this.setMatrix(o),this},t}(be),qe={},Ke="_INDEX";function Qe(e,t){if(e.set("canvas",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){Qe(e,t)}))}}function Je(e,t){if(e.set("timeline",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){Je(e,t)}))}}var et,tt,nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fe(t,e),t.prototype.isCanvas=function(){return!1},t.prototype.getBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,o=[],i=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?(v(a,(function(e){var t=e.getBBox();o.push(t.minX,t.maxX),i.push(t.minY,t.maxY)})),e=y(o),t=m(o),n=y(i),r=m(i)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getCanvasBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,o=[],i=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?(v(a,(function(e){var t=e.getCanvasBBox();o.push(t.minX,t.maxX),i.push(t.minY,t.maxY)})),e=y(o),t=m(o),n=y(i),r=m(i)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},t.prototype.onAttrChange=function(t,n,r){if(e.prototype.onAttrChange.call(this,t,n,r),"matrix"===t){var o=this.getTotalMatrix();this._applyChildrenMarix(o)}},t.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},t.prototype._applyChildrenMarix=function(e){v(this.getChildren(),(function(t){t.applyMatrix(e)}))},t.prototype.addShape=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];p(n)?r=n:r.type=n;var o=qe[r.type];o||(o=O(r.type),qe[r.type]=o);var i=this.getShapeBase(),a=new i[o](r);return this.add(a),a},t.prototype.addGroup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=e[0],o=e[1];if(d(r))n=new r(o||{parent:this});else{var i=r||{},a=this.getGroupBase();n=new a(i)}return this.add(n),n},t.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},t.prototype.getShape=function(e,t,n){if(!ye(this))return null;var r,o=this.getChildren();if(this.isCanvas())r=this._findShape(o,e,t,n);else{var i=[e,t,1];i=this.invertFromMatrix(i),this.isClipped(i[0],i[1])||(r=this._findShape(o,i[0],i[1],n))}return r},t.prototype._findShape=function(e,t,n,r){for(var o=null,i=e.length-1;i>=0;i--){var a=e[i];if(ye(a)&&(a.isGroup()?o=a.getShape(t,n,r):a.isHit(t,n)&&(o=a)),o)break}return o},t.prototype.add=function(e){var t=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),o=e.getParent();o&&function(e,t,n){void 0===n&&(n=!0),n?t.destroy():(t.set("parent",null),t.set("canvas",null)),ve(e.getChildren(),t)}(o,e,!1),e.set("parent",this),t&&Qe(e,t),r&&Je(e,r),n.push(e),e.onCanvasChange("add"),this._applyElementMatrix(e)},t.prototype._applyElementMatrix=function(e){var t=this.getTotalMatrix();t&&e.applyMatrix(t)},t.prototype.getChildren=function(){return this.get("children")},t.prototype.sort=function(){var e,t=this.getChildren();v(t,(function(e,t){return e[Ke]=t,e})),t.sort((e=function(e,t){return e.get("zIndex")-t.get("zIndex")},function(t,n){var r=e(t,n);return 0===r?t[Ke]-n[Ke]:r})),this.onCanvasChange("sort")},t.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var e=this.getChildren(),t=e.length-1;t>=0;t--)e[t].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},t.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},t.prototype.getFirst=function(){return this.getChildByIndex(0)},t.prototype.getLast=function(){var e=this.getChildren();return this.getChildByIndex(e.length-1)},t.prototype.getChildByIndex=function(e){return this.getChildren()[e]},t.prototype.getCount=function(){return this.getChildren().length},t.prototype.contain=function(e){return this.getChildren().indexOf(e)>-1},t.prototype.removeChild=function(e,t){void 0===t&&(t=!0),this.contain(e)&&e.remove(t)},t.prototype.findAll=function(e){var t=[];return v(this.getChildren(),(function(n){e(n)&&t.push(n),n.isGroup()&&(t=t.concat(n.findAll(e)))})),t},t.prototype.find=function(e){var t=null;return v(this.getChildren(),(function(n){if(e(n)?t=n:n.isGroup()&&(t=n.find(e)),t)return!1})),t},t.prototype.findById=function(e){return this.find((function(t){return t.get("id")===e}))},t.prototype.findByClassName=function(e){return this.find((function(t){return t.get("className")===e}))},t.prototype.findAllByName=function(e){return this.findAll((function(t){return t.get("name")===e}))},t}(Xe),rt=0,ot=0,it=0,at=0,lt=0,st=0,ut="object"==typeof performance&&performance.now?performance:Date,ct="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function dt(){return lt||(ct(ht),lt=ut.now()+st)}function ht(){lt=0}function ft(){this._call=this._time=this._next=null}function pt(e,t,n){var r=new ft;return r.restart(e,t,n),r}function vt(){lt=(at=ut.now())+st,rt=ot=0;try{!function(){dt(),++rt;for(var e,t=et;t;)(e=lt-t._time)>=0&&t._call.call(null,e),t=t._next;--rt}()}finally{rt=0,function(){var e,t,n=et,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:et=t);tt=e,mt(r)}(),lt=0}}function gt(){var e=ut.now(),t=e-at;t>1e3&&(st-=t,at=e)}function mt(e){rt||(ot&&(ot=clearTimeout(ot)),e-lt>24?(e<1/0&&(ot=setTimeout(vt,e-ut.now()-st)),it&&(it=clearInterval(it))):(it||(at=ut.now(),it=setInterval(gt,1e3)),rt=1,ct(vt)))}function yt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ct(){}ft.prototype=pt.prototype={constructor:ft,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?dt():+n)+(null==t?0:+t),this._next||tt===this||(tt?tt._next=this:et=this,tt=this),this._call=e,this._time=n,mt()},stop:function(){this._call&&(this._call=null,this._time=1/0,mt())}};var xt=.7,wt=1/xt,St="\\s*([+-]?\\d+)\\s*",Et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ot="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",It=/^#([0-9a-f]{3,8})$/,Lt=new RegExp("^rgb\\("+[St,St,St]+"\\)$"),_t=new RegExp("^rgb\\("+[Ot,Ot,Ot]+"\\)$"),Tt=new RegExp("^rgba\\("+[St,St,St,Et]+"\\)$"),Mt=new RegExp("^rgba\\("+[Ot,Ot,Ot,Et]+"\\)$"),Rt=new RegExp("^hsl\\("+[Et,Ot,Ot]+"\\)$"),At=new RegExp("^hsla\\("+[Et,Ot,Ot,Et]+"\\)$"),Nt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Bt(){return this.rgb().formatHex()}function Dt(){return this.rgb().formatRgb()}function kt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=It.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Pt(t):3===n?new $t(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?zt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?zt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Lt.exec(e))?new $t(t[1],t[2],t[3],1):(t=_t.exec(e))?new $t(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Tt.exec(e))?zt(t[1],t[2],t[3],t[4]):(t=Mt.exec(e))?zt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Rt.exec(e))?Vt(t[1],t[2]/100,t[3]/100,1):(t=At.exec(e))?Vt(t[1],t[2]/100,t[3]/100,t[4]):Nt.hasOwnProperty(e)?Pt(Nt[e]):"transparent"===e?new $t(NaN,NaN,NaN,0):null}function Pt(e){return new $t(e>>16&255,e>>8&255,255&e,1)}function zt(e,t,n,r){return r<=0&&(e=t=n=NaN),new $t(e,t,n,r)}function Ft(e){return e instanceof Ct||(e=kt(e)),e?new $t((e=e.rgb()).r,e.g,e.b,e.opacity):new $t}function Ht(e,t,n,r){return 1===arguments.length?Ft(e):new $t(e,t,n,null==r?1:r)}function $t(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function jt(){return"#"+Gt(this.r)+Gt(this.g)+Gt(this.b)}function Wt(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Gt(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Vt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zt(e,t,n,r)}function Ut(e){if(e instanceof Zt)return new Zt(e.h,e.s,e.l,e.opacity);if(e instanceof Ct||(e=kt(e)),!e)return new Zt;if(e instanceof Zt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new Zt(a,l,s,e.opacity)}function Zt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Yt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Xt(e){return function(){return e}}function qt(e){return 1==(e=+e)?Kt:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Xt(isNaN(t)?n:t)}}function Kt(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Xt(isNaN(e)?t:e)}yt(Ct,kt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Bt,formatHex:Bt,formatHsl:function(){return Ut(this).formatHsl()},formatRgb:Dt,toString:Dt}),yt($t,Ht,bt(Ct,{brighter:function(e){return e=null==e?wt:Math.pow(wt,e),new $t(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?xt:Math.pow(xt,e),new $t(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jt,formatHex:jt,formatRgb:Wt,toString:Wt})),yt(Zt,(function(e,t,n,r){return 1===arguments.length?Ut(e):new Zt(e,t,n,null==r?1:r)}),bt(Ct,{brighter:function(e){return e=null==e?wt:Math.pow(wt,e),new Zt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?xt:Math.pow(xt,e),new Zt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new $t(Yt(e>=240?e-240:e+120,o,r),Yt(e,o,r),Yt(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Qt=function e(t){var n=qt(t);function r(e,t){var r=n((e=Ht(e)).r,(t=Ht(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Kt(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Jt(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function en(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tn(e,t){return(en(t)?Jt:nn)(e,t)}function nn(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=cn(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function rn(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function on(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function an(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=cn(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var ln=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sn=new RegExp(ln.source,"g");function un(e,t){var n,r,o,i=ln.lastIndex=sn.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=ln.exec(e))&&(r=sn.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:on(n,r)})),i=sn.lastIndex;return i<t.length&&(o=t.slice(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})}function cn(e,t){var n,r=typeof t;return null==t||"boolean"===r?Xt(t):("number"===r?on:"string"===r?(n=kt(t))?(t=n,Qt):un:t instanceof kt?Qt:t instanceof Date?rn:en(t)?Jt:Array.isArray(t)?nn:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?an:on)(e,t)}function dn(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function hn(e){return e*e*e}function fn(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var pn=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),vn=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),gn=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),mn=Math.PI,yn=mn/2;function bn(e){return(1-Math.cos(mn*e))/2}function Cn(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function xn(e){return((e*=2)<=1?Cn(1-e):2-Cn(e-1))/2}function wn(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Sn=4/11,En=7.5625;function On(e){return(e=+e)<Sn?En*e*e:e<.7272727272727273?En*(e-=.5454545454545454)*e+.75:e<.9090909090909091?En*(e-=.8181818181818182)*e+.9375:En*(e-=.9545454545454546)*e+.984375}var In=1.70158,Ln=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(In),_n=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(In),Tn=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(In),Mn=2*Math.PI,Rn=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Mn);function o(e){return t*Cn(- --e)*Math.sin((r-e)/n)}return o.amplitude=function(t){return e(t,n*Mn)},o.period=function(n){return e(t,n)},o}(1,.3),An=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Mn);function o(e){return 1-t*Cn(e=+e)*Math.sin((e+r)/n)}return o.amplitude=function(t){return e(t,n*Mn)},o.period=function(n){return e(t,n)},o}(1,.3),Nn=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Mn);function o(e){return((e=2*e-1)<0?t*Cn(-e)*Math.sin((r-e)/n):2-t*Cn(e)*Math.sin((r+e)/n))/2}return o.amplitude=function(t){return e(t,n*Mn)},o.period=function(n){return e(t,n)},o}(1,.3),Bn=Object.freeze({__proto__:null,easeLinear:function(e){return+e},easeQuad:dn,easeQuadIn:function(e){return e*e},easeQuadOut:function(e){return e*(2-e)},easeQuadInOut:dn,easeCubic:fn,easeCubicIn:hn,easeCubicOut:function(e){return--e*e*e+1},easeCubicInOut:fn,easePoly:gn,easePolyIn:pn,easePolyOut:vn,easePolyInOut:gn,easeSin:bn,easeSinIn:function(e){return 1==+e?1:1-Math.cos(e*yn)},easeSinOut:function(e){return Math.sin(e*yn)},easeSinInOut:bn,easeExp:xn,easeExpIn:function(e){return Cn(1-+e)},easeExpOut:function(e){return 1-Cn(e)},easeExpInOut:xn,easeCircle:wn,easeCircleIn:function(e){return 1-Math.sqrt(1-e*e)},easeCircleOut:function(e){return Math.sqrt(1- --e*e)},easeCircleInOut:wn,easeBounce:On,easeBounceIn:function(e){return 1-On(1-e)},easeBounceOut:On,easeBounceInOut:function(e){return((e*=2)<=1?1-On(1-e):On(e-1)+1)/2},easeBack:Tn,easeBackIn:Ln,easeBackOut:_n,easeBackInOut:Tn,easeElastic:An,easeElasticIn:Rn,easeElasticOut:An,easeElasticInOut:Nn}),Dn={};var kn=[1,0,0,0,1,0,0,0,1];function Pn(e,t,n){var r,o=t.startTime;if(n<o+t.delay||t._paused)return!1;var i,a=t.duration,l=t.easing,s=Dn[(i=l).toLowerCase()]||Bn[i];if(n=n-o-t.delay,t.repeat)r=s(r=n%a/a);else{if(!((r=n/a)<1))return t.onFrame?e.attr(t.onFrame(1)):e.attr(t.toAttrs),!0;r=s(r)}if(t.onFrame){var u=t.onFrame(r);e.attr(u)}else!function(e,t,n){var r={},o=t.fromAttrs,i=t.toAttrs;if(!e.destroyed){var a,l;for(var s in i)if(!T(o[s],i[s]))if("path"===s){var u=i[s],c=o[s];u.length>c.length?(u=k(i[s]),c=k(o[s]),c=ae(c,u),c=ue(c,u),t.fromAttrs.path=c,t.toAttrs.path=u):t.pathFormatted||(u=k(i[s]),c=k(o[s]),c=ue(c,u),t.fromAttrs.path=c,t.toAttrs.path=u,t.pathFormatted=!0),r[s]=[];for(var h=0;h<u.length;h++){for(var f=u[h],p=c[h],v=[],g=0;g<f.length;g++)C(f[g])&&p&&C(p[g])?(a=cn(p[g],f[g]),v.push(a(n))):v.push(f[g]);r[s].push(v)}}else if("matrix"===s){var m=tn(o[s]||kn,i[s]||kn)(n);r[s]=m}else["fill","stroke","fillStyle","strokeStyle"].includes(s)&&(l=i[s],/^[r,R,L,l]{1}[\s]*\(/.test(l))?r[s]=i[s]:d(i[s])||(a=cn(o[s],i[s]),r[s]=a(n));e.attr(r)}}(e,t,r);return!1}var zn=function(){function e(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return e.prototype.initTimer=function(){var e,t,n,r=this;this.timer=pt((function(o){if(r.current=o,r.animators.length>0){for(var i=r.animators.length-1;i>=0;i--)if((e=r.animators[i]).destroyed)r.removeAnimator(i);else{if(!e.isAnimatePaused())for(var a=(t=e.get("animations")).length-1;a>=0;a--)n=t[a],Pn(e,n,o)&&(t.splice(a,1),!1,n.callback&&n.callback());0===t.length&&r.removeAnimator(i)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},e.prototype.addAnimator=function(e){this.animators.push(e)},e.prototype.removeAnimator=function(e){this.animators.splice(e,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach((function(t){t.stopAnimate(e)})),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),Fn=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Hn(e,t,n){n.name=t,n.target=e,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}function $n(e,t,n){if(n.bubbles){var r=void 0,o=!1;if("mouseenter"===t?(r=n.fromShape,o=!0):"mouseleave"===t&&(o=!0,r=n.toShape),e.isCanvas()&&o)return;if(r&&me(e,r))return void(n.bubbles=!1);n.name=t,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}}var jn,Wn=function(){function e(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(e){var n=e.type;t._triggerEvent(n,e)},this._onDocumentMove=function(e){if(t.canvas.get("el")!==e.target&&(t.dragging||t.currentShape)){var n=t._getPointInfo(e);t.dragging&&t._emitEvent("drag",e,n,t.draggingShape)}},this._onDocumentMouseUp=function(e){if(t.canvas.get("el")!==e.target&&t.dragging){var n=t._getPointInfo(e);t.draggingShape&&t._emitEvent("drop",e,n,null),t._emitEvent("dragend",e,n,t.draggingShape),t._afterDrag(t.draggingShape,n,e)}},this.canvas=e.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");v(Fn,(function(n){t.addEventListener(n,e._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");v(Fn,(function(n){t.removeEventListener(n,e._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(e,t,n,r,o,i){var a=new de(e,t);return a.fromShape=o,a.toShape=i,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},e.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},e.prototype._getPointInfo=function(e){var t=this.canvas,n=t.getClientByEvent(e),r=t.getPointByEvent(e);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(e,t){var n=this._getPointInfo(t),r=this._getShape(n,t),o=this["_on"+e],i=!1;if(o)o.call(this,n,r,t);else{var a=this.currentShape;"mouseenter"===e||"dragenter"===e||"mouseover"===e?(this._emitEvent(e,t,n,null,null,r),r&&this._emitEvent(e,t,n,r,null,r),"mouseenter"===e&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):"mouseleave"===e||"dragleave"===e||"mouseout"===e?(i=!0,a&&this._emitEvent(e,t,n,a,a,null),this._emitEvent(e,t,n,null,a,null),"mouseleave"===e&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(e,t,n,r,null,null)}if(i||(this.currentShape=r),r&&!r.get("destroyed")){var l=this.canvas;l.get("el").style.cursor=r.attr("cursor")||l.get("cursor")}},e.prototype._onmousedown=function(e,t,n){0===n.button&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,e,t,null,null)},e.prototype._emitMouseoverEvents=function(e,t,n,r){var o=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",e,t,n,n,r),this._emitEvent("mouseleave",e,t,n,n,r),r&&!r.get("destroyed")||(o.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",e,t,r,n,r),this._emitEvent("mouseenter",e,t,r,n,r)))},e.prototype._emitDragoverEvents=function(e,t,n,r,o){r?(r!==n&&(n&&this._emitEvent("dragleave",e,t,n,n,r),this._emitEvent("dragenter",e,t,r,n,r)),o||this._emitEvent("dragover",e,t,r)):n&&this._emitEvent("dragleave",e,t,n,n,r),o&&this._emitEvent("dragover",e,t,r)},e.prototype._afterDrag=function(e,t,n){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(t,n);r!==e&&this._emitMouseoverEvents(n,t,e,r),this.currentShape=r},e.prototype._onmouseup=function(e,t,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,e,t),this._emitEvent("dragend",n,e,r),this._afterDrag(r,e,n)):(this._emitEvent("mouseup",n,e,t),t===this.mousedownShape&&this._emitEvent("click",n,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(e,t,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,e,r,t,!0)},e.prototype._onmousemove=function(e,t,n){var r=this.canvas,o=this.currentShape,i=this.draggingShape;if(this.dragging)i&&this._emitDragoverEvents(n,e,o,t,!1),this._emitEvent("drag",n,e,i);else{var a=this.mousedownPoint;if(a){var l=this.mousedownShape,s=n.timeStamp-this.mousedownTimeStamp,u=a.clientX-e.clientX,c=a.clientY-e.clientY;s>120||u*u+c*c>40?l&&l.get("draggable")?((i=this.mousedownShape).set("capture",!1),this.draggingShape=i,this.dragging=!0,this._emitEvent("dragstart",n,e,i),this.mousedownShape=null,this.mousedownPoint=null):!l&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,e,o,t),this._emitEvent("mousemove",n,e,t)):(this._emitMouseoverEvents(n,e,o,t),this._emitEvent("mousemove",n,e,t))}else this._emitMouseoverEvents(n,e,o,t),this._emitEvent("mousemove",n,e,t)}},e.prototype._emitEvent=function(e,t,n,r,o,i){var a=this._getEventObj(e,t,n,r,o,i);if(r){a.shape=r,Hn(r,e,a);for(var l=r.getParent();l;)l.emitDelegation(e,a),a.propagationStopped||$n(l,e,a),a.propagationPath.push(l),l=l.getParent()}else{Hn(this.canvas,e,a)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),Gn=jn?Te(jn):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new Oe:"undefined"!=typeof navigator?Te(navigator.userAgent):void 0!==r&&r.version?new we(r.version.slice(1)):null,Vn=Gn&&"firefox"===Gn.name,Un=function(e){function t(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return fe(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},t.prototype.initContainer=function(){var e=this.get("container");b(e)&&(e=document.getElementById(e),this.set("container",e))},t.prototype.initDom=function(){var e=this.createDom();this.set("el",e),this.get("container").appendChild(e),this.setDOMSize(this.get("width"),this.get("height"))},t.prototype.initEvents=function(){var e=new Wn({canvas:this});e.init(),this.set("eventController",e)},t.prototype.initTimeline=function(){var e=new zn(this);this.set("timeline",e)},t.prototype.setDOMSize=function(e,t){var n=this.get("el");ge&&(n.style.width=e+"px",n.style.height=t+"px")},t.prototype.changeSize=function(e,t){this.setDOMSize(e,t),this.set("width",e),this.set("height",t),this.onCanvasChange("changeSize")},t.prototype.getRenderer=function(){return this.get("renderer")},t.prototype.getCursor=function(){return this.get("cursor")},t.prototype.setCursor=function(e){this.set("cursor",e);var t=this.get("el");ge&&t&&(t.style.cursor=e)},t.prototype.getPointByEvent=function(e){if(this.get("supportCSSTransform")){if(Vn&&!h(e.layerX)&&e.layerX!==e.offsetX)return{x:e.layerX,y:e.layerY};if(!h(e.offsetX))return{x:e.offsetX,y:e.offsetY}}var t=this.getClientByEvent(e),n=t.x,r=t.y;return this.getPointByClient(n,r)},t.prototype.getClientByEvent=function(e){var t=e;return e.touches&&(t="touchend"===e.type?e.changedTouches[0]:e.touches[0]),{x:t.clientX,y:t.clientY}},t.prototype.getPointByClient=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e-n.left,y:t-n.top}},t.prototype.getClientByPoint=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e+n.left,y:t+n.top}},t.prototype.draw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.parentNode.removeChild(e)},t.prototype.clearEvents=function(){this.get("eventController").destroy()},t.prototype.isCanvas=function(){return!0},t.prototype.getParent=function(){return null},t.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},t}(nt),Zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fe(t,e),t.prototype.isGroup=function(){return!0},t.prototype.isEntityGroup=function(){return!1},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var o=n[r];t.add(o.clone())}return t},t}(nt),Yn=function(e){function t(t){return e.call(this,t)||this}return fe(t,e),t.prototype._isInBBox=function(e,t){var n=this.getBBox();return n.minX<=e&&n.maxX>=e&&n.minY<=t&&n.maxY>=t},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},t.prototype.getBBox=function(){var e=this.cfg.bbox;return e||(e=this.calculateBBox(),this.set("bbox",e)),e},t.prototype.getCanvasBBox=function(){var e=this.cfg.canvasBBox;return e||(e=this.calculateCanvasBBox(),this.set("canvasBBox",e)),e},t.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},t.prototype.calculateCanvasBBox=function(){var e=this.getBBox(),t=this.getTotalMatrix(),n=e.minX,r=e.minY,o=e.maxX,i=e.maxY;if(t){var a=He(t,[e.minX,e.minY]),l=He(t,[e.maxX,e.minY]),s=He(t,[e.minX,e.maxY]),u=He(t,[e.maxX,e.maxY]);n=Math.min(a[0],l[0],s[0],u[0]),o=Math.max(a[0],l[0],s[0],u[0]),r=Math.min(a[1],l[1],s[1],u[1]),i=Math.max(a[1],l[1],s[1],u[1])}var c=this.attrs;if(c.shadowColor){var d=c.shadowBlur,h=void 0===d?0:d,f=c.shadowOffsetX,p=void 0===f?0:f,v=c.shadowOffsetY,g=void 0===v?0:v,m=n-h+p,y=o+h+p,b=r-h+g,C=i+h+g;n=Math.min(n,m),o=Math.max(o,y),r=Math.min(r,b),i=Math.max(i,C)}return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:i,width:o-n,height:i-r}},t.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},t.prototype.isClipShape=function(){return this.get("isClipShape")},t.prototype.isInShape=function(e,t){return!1},t.prototype.isOnlyHitBox=function(){return!1},t.prototype.isHit=function(e,t){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),o=[e,t,1],i=(o=this.invertFromMatrix(o))[0],a=o[1],l=this._isInBBox(i,a);if(this.isOnlyHitBox())return l;if(l&&!this.isClipped(i,a)){if(this.isInShape(i,a))return!0;if(n&&n.isHit(i,a))return!0;if(r&&r.isHit(i,a))return!0}return!1},t}(Xe),Xn=new Map;function qn(e,t){Xn.set(e,t)}function Kn(e){var t=e.attr();return{x:t.x,y:t.y,width:t.width,height:t.height}}function Qn(e){var t=e.attr(),n=t.x,r=t.y,o=t.r;return{x:n-o,y:r-o,width:2*o,height:2*o}}function Jn(e){return Math.min.apply(null,e)}function er(e){return Math.max.apply(null,e)}function tr(e,t,n,r){var o=e-n,i=t-r;return Math.sqrt(o*o+i*i)}function nr(e,t){return Math.abs(e-t)<.001}function rr(e,t){var n=Jn(e),r=Jn(t);return{x:n,y:r,width:er(e)-n,height:er(t)-r}}function or(e){return(e+2*Math.PI)%(2*Math.PI)}var ir={box:function(e,t,n,r){return rr([e,n],[t,r])},length:function(e,t,n,r){return tr(e,t,n,r)},pointAt:function(e,t,n,r,o){return{x:(1-o)*e+o*n,y:(1-o)*t+o*r}},pointDistance:function(e,t,n,r,o,i){var a=(n-e)*(o-e)+(r-t)*(i-t);return a<0?tr(e,t,o,i):a>(n-e)*(n-e)+(r-t)*(r-t)?tr(n,r,o,i):this.pointToLine(e,t,n,r,o,i)},pointToLine:function(e,t,n,r,o,i){var a=[n-e,r-t];if(function(e,t){return e[0]===t[0]&&e[1]===t[1]}(a,[0,0]))return Math.sqrt((o-e)*(o-e)+(i-t)*(i-t));var l=[-a[1],a[0]];!function(e,t){var n=t[0],r=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o}(l,l);var s=[o-e,i-t];return Math.abs(function(e,t){return e[0]*t[0]+e[1]*t[1]}(s,l))},tangentAngle:function(e,t,n,r){return Math.atan2(r-t,n-e)}};function ar(e,t,n,r,o,i){var a,l=1/0,s=[n,r],u=20;i&&i>200&&(u=i/10);for(var c=1/u,d=c/10,h=0;h<=u;h++){var f=h*c,p=[o.apply(null,e.concat([f])),o.apply(null,t.concat([f]))];(y=tr(s[0],s[1],p[0],p[1]))<l&&(a=f,l=y)}if(0===a)return{x:e[0],y:t[0]};if(1===a){var v=e.length;return{x:e[v-1],y:t[v-1]}}l=1/0;for(h=0;h<32&&!(d<1e-4);h++){var g=a-d,m=a+d,y=(p=[o.apply(null,e.concat([g])),o.apply(null,t.concat([g]))],tr(s[0],s[1],p[0],p[1]));if(g>=0&&y<l)a=g,l=y;else{var b=[o.apply(null,e.concat([m])),o.apply(null,t.concat([m]))],C=tr(s[0],s[1],b[0],b[1]);m<=1&&C<l?(a=m,l=C):d*=.5}}return{x:o.apply(null,e.concat([a])),y:o.apply(null,t.concat([a]))}}function lr(e,t,n,r){var o=1-r;return o*o*e+2*r*o*t+r*r*n}function sr(e,t,n){var r=e+n-2*t;if(nr(r,0))return[.5];var o=(e-t)/r;return o<=1&&o>=0?[o]:[]}function ur(e,t,n,r){return 2*(1-r)*(t-e)+2*r*(n-t)}function cr(e,t,n,r,o,i,a){var l=lr(e,n,o,a),s=lr(t,r,i,a),u=ir.pointAt(e,t,n,r,a),c=ir.pointAt(n,r,o,i,a);return[[e,t,u.x,u.y,l,s],[l,s,c.x,c.y,o,i]]}function dr(e,t,n,r,o,i,a){if(0===a)return(tr(e,t,n,r)+tr(n,r,o,i)+tr(e,t,o,i))/2;var l=cr(e,t,n,r,o,i,.5),s=l[0],u=l[1];return s.push(a-1),u.push(a-1),dr.apply(null,s)+dr.apply(null,u)}var hr={box:function(e,t,n,r,o,i){var a=sr(e,n,o)[0],l=sr(t,r,i)[0],s=[e,o],u=[t,i];return void 0!==a&&s.push(lr(e,n,o,a)),void 0!==l&&u.push(lr(t,r,i,l)),rr(s,u)},length:function(e,t,n,r,o,i){return dr(e,t,n,r,o,i,3)},nearestPoint:function(e,t,n,r,o,i,a,l){return ar([e,n,o],[t,r,i],a,l,lr)},pointDistance:function(e,t,n,r,o,i,a,l){var s=this.nearestPoint(e,t,n,r,o,i,a,l);return tr(s.x,s.y,a,l)},interpolationAt:lr,pointAt:function(e,t,n,r,o,i,a){return{x:lr(e,n,o,a),y:lr(t,r,i,a)}},divide:function(e,t,n,r,o,i,a){return cr(e,t,n,r,o,i,a)},tangentAngle:function(e,t,n,r,o,i,a){var l=ur(e,n,o,a),s=ur(t,r,i,a);return or(Math.atan2(s,l))}};function fr(e,t,n,r,o){var i=1-o;return i*i*i*e+3*t*o*i*i+3*n*o*o*i+r*o*o*o}function pr(e,t,n,r,o){var i=1-o;return 3*(i*i*(t-e)+2*i*o*(n-t)+o*o*(r-n))}function vr(e,t,n,r){var o,i,a,l=-3*e+9*t-9*n+3*r,s=6*e-12*t+6*n,u=3*t-3*e,c=[];if(nr(l,0))nr(s,0)||(o=-u/s)>=0&&o<=1&&c.push(o);else{var d=s*s-4*l*u;nr(d,0)?c.push(-s/(2*l)):d>0&&(i=(-s-(a=Math.sqrt(d)))/(2*l),(o=(-s+a)/(2*l))>=0&&o<=1&&c.push(o),i>=0&&i<=1&&c.push(i))}return c}function gr(e,t,n,r,o,i,a,l,s){var u=fr(e,n,o,a,s),c=fr(t,r,i,l,s),d=ir.pointAt(e,t,n,r,s),h=ir.pointAt(n,r,o,i,s),f=ir.pointAt(o,i,a,l,s),p=ir.pointAt(d.x,d.y,h.x,h.y,s),v=ir.pointAt(h.x,h.y,f.x,f.y,s);return[[e,t,d.x,d.y,p.x,p.y,u,c],[u,c,v.x,v.y,f.x,f.y,a,l]]}function mr(e,t,n,r,o,i,a,l,s){if(0===s)return function(e,t){for(var n=0,r=e.length,o=0;o<r;o++)n+=tr(e[o],t[o],e[(o+1)%r],t[(o+1)%r]);return n/2}([e,n,o,a],[t,r,i,l]);var u=gr(e,t,n,r,o,i,a,l,.5),c=u[0],d=u[1];return c.push(s-1),d.push(s-1),mr.apply(null,c)+mr.apply(null,d)}var yr={extrema:vr,box:function(e,t,n,r,o,i,a,l){for(var s=[e,a],u=[t,l],c=vr(e,n,o,a),d=vr(t,r,i,l),h=0;h<c.length;h++)s.push(fr(e,n,o,a,c[h]));for(h=0;h<d.length;h++)u.push(fr(t,r,i,l,d[h]));return rr(s,u)},length:function(e,t,n,r,o,i,a,l){return mr(e,t,n,r,o,i,a,l,3)},nearestPoint:function(e,t,n,r,o,i,a,l,s,u,c){return ar([e,n,o,a],[t,r,i,l],s,u,fr,c)},pointDistance:function(e,t,n,r,o,i,a,l,s,u,c){var d=this.nearestPoint(e,t,n,r,o,i,a,l,s,u,c);return tr(d.x,d.y,s,u)},interpolationAt:fr,pointAt:function(e,t,n,r,o,i,a,l,s){return{x:fr(e,n,o,a,s),y:fr(t,r,i,l,s)}},divide:function(e,t,n,r,o,i,a,l,s){return gr(e,t,n,r,o,i,a,l,s)},tangentAngle:function(e,t,n,r,o,i,a,l,s){var u=pr(e,n,o,a,s),c=pr(t,r,i,l,s);return or(Math.atan2(c,u))}};function br(e,t,n,r,o,i){return n*Math.cos(o)*Math.cos(i)-r*Math.sin(o)*Math.sin(i)+e}function Cr(e,t,n,r,o,i){return n*Math.sin(o)*Math.cos(i)+r*Math.cos(o)*Math.sin(i)+t}var xr=function(e,t,n,r,o,i,a){for(var l=function(e,t,n){return Math.atan(-t/e*Math.tan(n))}(n,r,o),s=1/0,u=-1/0,c=[i,a],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var h=l+d;i<a?i<h&&h<a&&c.push(h):a<h&&h<i&&c.push(h)}for(d=0;d<c.length;d++){var f=br(e,0,n,r,o,c[d]);f<s&&(s=f),f>u&&(u=f)}var p=function(e,t,n){return Math.atan(t/(e*Math.tan(n)))}(n,r,o),v=1/0,g=-1/0,m=[i,a];for(d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var y=p+d;i<a?i<y&&y<a&&m.push(y):a<y&&y<i&&m.push(y)}for(d=0;d<m.length;d++){var b=Cr(0,t,n,r,o,m[d]);b<v&&(v=b),b>g&&(g=b)}return{x:s,y:v,width:u-s,height:g-v}};var wr=function(e){return function(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],o=e[n+1];t+=tr(r[0],r[1],o[0],o[1])}return t}(e)};function Sr(e,t){return e&&t?{minX:Math.min(e.minX,t.minX),minY:Math.min(e.minY,t.minY),maxX:Math.max(e.maxX,t.maxX),maxY:Math.max(e.maxY,t.maxY)}:e||t}function Er(e,t){var n=e.get("startArrowShape"),r=e.get("endArrowShape");return n&&(t=Sr(t,n.getCanvasBBox())),r&&(t=Sr(t,r.getCanvasBBox())),t}var Or=null;function Ir(){if(!Or){var e=document.createElement("canvas");e.width=1,e.height=1,Or=e.getContext("2d")}return Or}function Lr(e,t,n){var r=1;if(b(e)&&(r=e.split("\n").length),r>1){var o=function(e,t){return t?t-e:.14*e}(t,n);return t*r+o*(r-1)}return t}function _r(e){var t=e.fontSize,n=e.fontFamily,r=e.fontWeight;return[e.fontStyle,e.fontVariant,r,t+"px",n].join(" ").trim()}var Tr=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Mr=/[^\s\,]+/gi;var Rr="\t\n\v\f\r   ᠎             　\u2028\u2029",Ar=new RegExp("([a-z])["+Rr+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Rr+"]*,?["+Rr+"]*)+)","ig"),Nr=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Rr+"]*,?["+Rr+"]*","ig");var Br=/[a-z]/;function Dr(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function kr(e){var t=function(e){if(!e)return null;if(f(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(Ar,(function(e,r,o){var i=[],a=r.toLowerCase();if(o.replace(Nr,(function(e,t){t&&i.push(+t)})),"m"===a&&i.length>2&&(n.push([r].concat(i.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===i.length&&n.push([r,i[0]]),"r"===a)n.push([r].concat(i));else for(;i.length>=t[a]&&(n.push([r].concat(i.splice(0,t[a]))),t[a]););return""})),n}(e);if(!t||!t.length)return[["M",0,0]];for(var n=!1,r=0;r<t.length;r++){var o=t[r][0];if(Br.test(o)||["V","H","T","S"].indexOf(o)>=0){n=!0;break}}if(!n)return t;var i=[],a=0,l=0,s=0,u=0,c=0,d=t[0];"M"!==d[0]&&"m"!==d[0]||(s=a=+d[1],u=l=+d[2],c++,i[0]=["M",a,l]);r=c;for(var h=t.length;r<h;r++){var p=t[r],v=i[r-1],g=[],m=(o=p[0]).toUpperCase();if(o!==m)switch(g[0]=m,m){case"A":g[1]=p[1],g[2]=p[2],g[3]=p[3],g[4]=p[4],g[5]=p[5],g[6]=+p[6]+a,g[7]=+p[7]+l;break;case"V":g[1]=+p[1]+l;break;case"H":g[1]=+p[1]+a;break;case"M":s=+p[1]+a,u=+p[2]+l,g[1]=s,g[2]=u;break;default:for(var y=1,b=p.length;y<b;y++)g[y]=+p[y]+(y%2?a:l)}else g=t[r];switch(m){case"Z":a=+s,l=+u;break;case"H":g=["L",a=g[1],l];break;case"V":g=["L",a,l=g[1]];break;case"T":a=g[1],l=g[2];var C=Dr([v[1],v[2]],[v[3],v[4]]);g=["Q",C[0],C[1],a,l];break;case"S":a=g[g.length-2],l=g[g.length-1];var x=v.length,w=Dr([v[x-4],v[x-3]],[v[x-2],v[x-1]]);g=["C",w[0],w[1],g[1],g[2],a,l];break;case"M":s=g[g.length-2],u=g[g.length-1];break;default:a=g[g.length-2],l=g[g.length-1]}i.push(g)}return i}function Pr(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function zr(e,t){return Pr(e)*Pr(t)?(e[0]*t[0]+e[1]*t[1])/(Pr(e)*Pr(t)):1}function Fr(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(zr(e,t))}function Hr(e,t){return e[0]===t[0]&&e[1]===t[1]}function $r(e,t){var n=t[1],r=t[2],o=x(S(t[3]),2*Math.PI),i=t[4],a=t[5],l=e[0],s=e[1],u=t[6],c=t[7],d=Math.cos(o)*(l-u)/2+Math.sin(o)*(s-c)/2,h=-1*Math.sin(o)*(l-u)/2+Math.cos(o)*(s-c)/2,f=d*d/(n*n)+h*h/(r*r);f>1&&(n*=Math.sqrt(f),r*=Math.sqrt(f));var p=n*n*(h*h)+r*r*(d*d),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;i===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*h/r:0,m=n?v*-r*d/n:0,y=(l+u)/2+Math.cos(o)*g-Math.sin(o)*m,b=(s+c)/2+Math.sin(o)*g+Math.cos(o)*m,C=[(d-g)/n,(h-m)/r],w=[(-1*d-g)/n,(-1*h-m)/r],E=Fr([1,0],C),O=Fr(C,w);return zr(C,w)<=-1&&(O=Math.PI),zr(C,w)>=1&&(O=0),0===a&&O>0&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:y,cy:b,rx:Hr(e,[u,c])?0:n,ry:Hr(e,[u,c])?0:r,startAngle:E,endAngle:E+O,xRotation:o,arcFlag:i,sweepFlag:a}}function jr(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function Wr(e){e=function(e){var t=e||[];return f(t)?t:b(t)?(v(t=t.match(Tr),(function(e,n){if((e=e.match(Mr))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}v(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0}(e);for(var t=[],n=null,r=null,o=null,i=0,a=e.length,l=0;l<a;l++){var s=e[l];r=e[l+1];var u=s[0],c={command:u,prePoint:n,params:s,startTangent:null,endTangent:null};switch(u){case"M":o=[s[1],s[2]],i=l;break;case"A":var d=$r(n,s);c.arcParams=d}if("Z"===u)n=o,r=e[i+1];else{var h=s.length;n=[s[h-2],s[h-1]]}r&&"Z"===r[0]&&(r=e[i],t[i]&&(t[i].prePoint=n)),c.currentPoint=n,t[i]&&Hr(n,t[i].currentPoint)&&(t[i].prePoint=c.prePoint);var p=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=p;var g=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[g[0]-n[0],g[1]-n[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]];else if("Q"===u){var m=[s[1],s[2]];c.startTangent=[g[0]-m[0],g[1]-m[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]]}else if("T"===u){m=jr((x=t[l-1]).currentPoint,g);"Q"===x.command?(c.command="Q",c.startTangent=[g[0]-m[0],g[1]-m[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]]):(c.command="TL",c.startTangent=[g[0]-n[0],g[1]-n[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]])}else if("C"===u){var y=[s[1],s[2]],C=[s[3],s[4]];c.startTangent=[g[0]-y[0],g[1]-y[1]],c.endTangent=[n[0]-C[0],n[1]-C[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[y[0]-C[0],y[1]-C[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[C[0]-y[0],C[1]-y[1]])}else if("S"===u){var x;y=jr((x=t[l-1]).currentPoint,g),C=[s[1],s[2]];"C"===x.command?(c.command="C",c.startTangent=[g[0]-y[0],g[1]-y[1]],c.endTangent=[n[0]-C[0],n[1]-C[1]]):(c.command="SQ",c.startTangent=[g[0]-C[0],g[1]-C[1]],c.endTangent=[n[0]-C[0],n[1]-C[1]])}else if("A"===u){var w=.001,S=c.arcParams||{},E=S.cx,O=void 0===E?0:E,I=S.cy,L=void 0===I?0:I,_=S.rx,T=void 0===_?0:_,M=S.ry,R=void 0===M?0:M,A=S.sweepFlag,N=void 0===A?0:A,B=S.startAngle,D=void 0===B?0:B,k=S.endAngle,P=void 0===k?0:k;0===N&&(w*=-1);var z=T*Math.cos(D-w)+O,F=R*Math.sin(D-w)+L;c.startTangent=[z-o[0],F-o[1]];var H=T*Math.cos(D+P+w)+O,$=R*Math.sin(D+P-w)+L;c.endTangent=[g[0]-H,g[1]-$]}t.push(c)}return t}function Gr(e,t){var n,r,o,i=e.prePoint,a=e.currentPoint,l=e.nextPoint,s=Math.pow(a[0]-i[0],2)+Math.pow(a[1]-i[1],2),u=Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2),c=Math.pow(i[0]-l[0],2)+Math.pow(i[1]-l[1],2),d=Math.acos((s+u-c)/(2*Math.sqrt(s)*Math.sqrt(u)));if(!d||0===Math.sin(d)||(n=d,r=0,void 0===o&&(o=1e-5),Math.abs(n-r)<o))return{xExtra:0,yExtra:0};var h=Math.abs(Math.atan2(l[1]-a[1],l[0]-a[0])),f=Math.abs(Math.atan2(l[0]-a[0],l[1]-a[1]));return h=h>Math.PI/2?Math.PI-h:h,f=f>Math.PI/2?Math.PI-f:f,{xExtra:Math.cos(d/2-h)*(t/2*(1/Math.sin(d/2)))-t/2||0,yExtra:Math.cos(f-d/2)*(t/2*(1/Math.sin(d/2)))-t/2||0}}function Vr(e,t,n,r){var o=e-n,i=t-r;return Math.sqrt(o*o+i*i)}function Ur(e,t,n,r,o,i){return o>=e&&o<=e+n&&i>=t&&i<=t+r}function Zr(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)}function Yr(e,t){return e[0]===t[0]&&e[1]===t[1]}qn("rect",Kn),qn("image",Kn),qn("circle",Qn),qn("marker",Qn),qn("polyline",(function(e){for(var t=e.attr().points,n=[],r=[],o=0;o<t.length;o++){var i=t[o];n.push(i[0]),r.push(i[1])}var a=rr(n,r),l=a.x,s=a.y,u={minX:l,minY:s,maxX:l+a.width,maxY:s+a.height};return{x:(u=Er(e,u)).minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}})),qn("polygon",(function(e){for(var t=e.attr().points,n=[],r=[],o=0;o<t.length;o++){var i=t[o];n.push(i[0]),r.push(i[1])}return rr(n,r)})),qn("text",(function(e){var t=e.attr(),n=t.x,r=t.y,o=t.text,i=t.fontSize,a=t.lineHeight,l=t.font;l||(l=_r(t));var s,u=function(e,t){var n=Ir(),r=0;return h(e)||""===e||(n.save(),n.font=t,b(e)&&e.includes("\n")?v(e.split("\n"),(function(e){var t=n.measureText(e).width;r<t&&(r=t)})):r=n.measureText(e).width,n.restore()),r}(o,l);if(u){var c=t.textAlign,d=t.textBaseline,f=Lr(o,i,a),p={x:n,y:r-f};c&&("end"===c||"right"===c?p.x-=u:"center"===c&&(p.x-=u/2)),d&&("top"===d?p.y+=f:"middle"===d&&(p.y+=f/2)),s={x:p.x,y:p.y,width:u,height:f}}else s={x:n,y:r,width:0,height:0};return s})),qn("path",(function(e){var t=e.attr(),n=t.path,r=t.stroke?t.lineWidth:0,o=function(e,t){for(var n=[],r=[],o=[],i=0;i<e.length;i++){var a=(v=e[i]).currentPoint,l=v.params,s=v.prePoint,u=void 0;switch(v.command){case"Q":u=hr.box(s[0],s[1],l[1],l[2],l[3],l[4]);break;case"C":u=yr.box(s[0],s[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var c=v.arcParams;u=xr(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:n.push(a[0]),r.push(a[1])}u&&(v.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height)),t&&("L"===v.command||"M"===v.command)&&v.prePoint&&v.nextPoint&&o.push(v)}n=n.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0})),r=r.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0}));var d=y(n),h=y(r),f=m(n),p=m(r);if(0===o.length)return{x:d,y:h,width:f-d,height:p-h};for(i=0;i<o.length;i++){var v;(a=(v=o[i]).currentPoint)[0]===d?d-=Gr(v,t).xExtra:a[0]===f&&(f+=Gr(v,t).xExtra),a[1]===h?h-=Gr(v,t).yExtra:a[1]===p&&(p+=Gr(v,t).yExtra)}return{x:d,y:h,width:f-d,height:p-h}}(e.get("segments")||Wr(n),r),i=o.x,a=o.y,l={minX:i,minY:a,maxX:i+o.width,maxY:a+o.height};return{x:(l=Er(e,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}})),qn("line",(function(e){var t=e.attr(),n=t.x1,r=t.y1,o=t.x2,i=t.y2,a={minX:Math.min(n,o),maxX:Math.max(n,o),minY:Math.min(r,i),maxY:Math.max(r,i)};return{x:(a=Er(e,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),qn("ellipse",(function(e){var t=e.attr(),n=t.x,r=t.y,o=t.rx,i=t.ry;return{x:n-o,y:r-i,width:2*o,height:2*i}}));var Xr=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,qr=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Kr=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Qr=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Jr(e,t){v(e.match(Qr),(function(e){var n=e.split(":");t.addColorStop(n[0],n[1])}))}function eo(e,t,n){var r=t.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if(b(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(e,t,n){var r,o,i=Xr.exec(n),a=parseFloat(i[1])%360*(Math.PI/180),l=i[2],s=t.getBBox();a>=0&&a<.5*Math.PI?(r={x:s.minX,y:s.minY},o={x:s.maxX,y:s.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:s.maxX,y:s.minY},o={x:s.minX,y:s.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:s.maxX,y:s.maxY},o={x:s.minX,y:s.minY}):(r={x:s.minX,y:s.maxY},o={x:s.maxX,y:s.minY});var u=Math.tan(a),c=u*u,d=(o.x-r.x+u*(o.y-r.y))/(c+1)+r.x,h=u*(o.x-r.x+u*(o.y-r.y))/(c+1)+r.y,f=e.createLinearGradient(r.x,r.y,d,h);return Jr(l,f),f}(e,t,n);if("r"===n[0])return function(e,t,n){var r=qr.exec(n),o=parseFloat(r[1]),i=parseFloat(r[2]),a=parseFloat(r[3]),l=r[4];if(0===a){var s=l.match(Qr);return s[s.length-1].split(":")[1]}var u=t.getBBox(),c=u.maxX-u.minX,d=u.maxY-u.minY,h=Math.sqrt(c*c+d*d)/2,f=e.createRadialGradient(u.minX+c*o,u.minY+d*i,0,u.minX+c/2,u.minY+d/2,a*h);return Jr(l,f),f}(e,t,n);if("p"===n[0])return function(e,t,n){if(t.get("patternSource")&&t.get("patternSource")===n)return t.get("pattern");var r,o,i=Kr.exec(n),a=i[1],l=i[2];function s(){r=e.createPattern(o,a),t.set("pattern",r),t.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;default:a="no-repeat"}return o=new Image,l.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=l,o.complete?s():(o.onload=s,o.src=o.src),r}(e,t,n)}return n}return n instanceof CanvasPattern?n:void 0}function to(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function no(e,t){return to(e)*to(t)?(e[0]*t[0]+e[1]*t[1])/(to(e)*to(t)):1}function ro(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(no(e,t))}function oo(e,t){var n=t[1],r=t[2],o=x(S(t[3]),2*Math.PI),i=t[4],a=t[5],l=e[0],s=e[1],u=t[6],c=t[7],d=Math.cos(o)*(l-u)/2+Math.sin(o)*(s-c)/2,h=-1*Math.sin(o)*(l-u)/2+Math.cos(o)*(s-c)/2,f=d*d/(n*n)+h*h/(r*r);f>1&&(n*=Math.sqrt(f),r*=Math.sqrt(f));var p=n*n*(h*h)+r*r*(d*d),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;i===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*h/r:0,m=n?v*-r*d/n:0,y=(l+u)/2+Math.cos(o)*g-Math.sin(o)*m,b=(s+c)/2+Math.sin(o)*g+Math.cos(o)*m,C=[(d-g)/n,(h-m)/r],w=[(-1*d-g)/n,(-1*h-m)/r],E=ro([1,0],C),O=ro(C,w);return no(C,w)<=-1&&(O=Math.PI),no(C,w)>=1&&(O=0),0===a&&O>0&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:y,cy:b,rx:Yr(e,[u,c])?0:n,ry:Yr(e,[u,c])?0:r,startAngle:E,endAngle:E+O,xRotation:o,arcFlag:i,sweepFlag:a}}var io=Math.sin,ao=Math.cos,lo=Math.atan2,so=Math.PI;function uo(e,t,n,r,o,i,a){var l=t.stroke,s=t.lineWidth,u=lo(r-i,n-o),c=new Qo({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*ao(so/6)+","+10*io(so/6)+" L0,0 L"+10*ao(so/6)+",-"+10*io(so/6),stroke:l,lineWidth:s}});c.translate(o,i),c.rotateAtPoint(o,i,u),e.set(a?"startArrowShape":"endArrowShape",c)}function co(e,t,n,r,o,i,a){var s=t.startArrow,u=t.endArrow,c=t.stroke,d=t.lineWidth,h=a?s:u,f=h.d,p=h.fill,v=h.stroke,g=h.lineWidth,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(h,["d","fill","stroke","lineWidth"]),y=lo(r-i,n-o);f&&(o-=ao(y)*f,i-=io(y)*f);var b=new Qo({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:l(l({},m),{stroke:v||c,lineWidth:g||d,fill:p})});b.translate(o,i),b.rotateAtPoint(o,i,y),e.set(a?"startArrowShape":"endArrowShape",b)}function ho(e,t,n,r,o){var i=lo(r-t,n-e);return{dx:ao(i)*o,dy:io(i)*o}}function fo(e,t,n,r,o,i){"object"==typeof t.startArrow?co(e,t,n,r,o,i,!0):t.startArrow?uo(e,t,n,r,o,i,!0):e.set("startArrowShape",null)}function po(e,t,n,r,o,i){"object"==typeof t.endArrow?co(e,t,n,r,o,i,!1):t.endArrow?uo(e,t,n,r,o,i,!1):e.set("startArrowShape",null)}var vo={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function go(e,t){var n=t.attr();for(var r in n){var o=n[r],i=vo[r]?vo[r]:r;"matrix"===i&&o?e.transform(o[0],o[1],o[3],o[4],o[6],o[7]):"lineDash"===i&&e.setLineDash?f(o)&&e.setLineDash(o):("strokeStyle"===i||"fillStyle"===i?o=eo(e,t,o):"globalAlpha"===i&&(o*=e.globalAlpha),e[i]=o)}}function mo(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];o.cfg.visible?o.draw(e,n):o.skipDraw()}}function yo(e,t,n){var r=e.get("refreshElements");v(r,(function(t){if(t!==e)for(var n=t.cfg.parent;n&&n!==e&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===e?xo(t):bo(t,n)}function bo(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&xo(r.cfg.children);else if(r.cfg.refresh)r.isGroup()&&bo(r.cfg.children,t);else{var o=wo(r,t);r.cfg.refresh=o,o&&r.isGroup()&&bo(r.cfg.children,t)}}}function Co(e){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&Co(n.cfg.children)}}function xo(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.refresh=!0,r.isGroup()&&xo(r.get("children"))}}function wo(e,t){var n=e.cfg.cacheCanvasBBox;return e.cfg.isInView&&n&&Zr(n,t)}function So(e,t,n,r){var o=n.path,i=n.startArrow,a=n.endArrow;if(o){var l=[0,0],s=[0,0],u={dx:0,dy:0};t.beginPath();for(var c=0;c<o.length;c++){var d=o[c],h=d[0];if(0===c&&i&&i.d)u=ho((f=e.getStartTangent())[0][0],f[0][1],f[1][0],f[1][1],i.d);else if(c===o.length-2&&"Z"===o[c+1][0]&&a&&a.d){if("Z"===o[c+1][0])u=ho((f=e.getEndTangent())[0][0],f[0][1],f[1][0],f[1][1],a.d)}else if(c===o.length-1&&a&&a.d){var f;if("Z"!==o[0])u=ho((f=e.getEndTangent())[0][0],f[0][1],f[1][0],f[1][1],a.d)}var p=u.dx,v=u.dy;switch(h){case"M":t.moveTo(d[1]-p,d[2]-v),s=[d[1],d[2]];break;case"L":t.lineTo(d[1]-p,d[2]-v);break;case"Q":t.quadraticCurveTo(d[1],d[2],d[3]-p,d[4]-v);break;case"C":t.bezierCurveTo(d[1],d[2],d[3],d[4],d[5]-p,d[6]-v);break;case"A":var g=void 0;r?(g=r[c])||(g=oo(l,d),r[c]=g):g=oo(l,d);var m=g.cx,y=g.cy,b=g.rx,C=g.ry,x=g.startAngle,w=g.endAngle,S=g.xRotation,E=g.sweepFlag;if(t.ellipse)t.ellipse(m,y,b,C,S,x,w,1-E);else{var O=b>C?b:C,I=b>C?1:b/C,L=b>C?C/b:1;t.translate(m,y),t.rotate(S),t.scale(I,L),t.arc(0,0,O,x,w,1-E),t.scale(1/I,1/L),t.rotate(-S),t.translate(-m,-y)}break;case"Z":t.closePath()}if("Z"===h)l=s;else{var _=d.length;l=[d[_-2],d[_-1]]}}}}function Eo(e,t){var n=e.get("canvas");n&&("remove"===t&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(n.refreshElement(e,t,n),n.get("autoDraw")&&n.draw())))}function Oo(e){var t,n,r;if(e.destroyed)t=e._cacheCanvasBBox;else{var o=e.get("cacheCanvasBBox"),i=o&&!(!o.width||!o.height),a=e.getCanvasBBox(),l=a&&!(!a.width||!a.height);i&&l?(r=a,t=(n=o)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):i?t=o:l&&(t=a)}return t}var Io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onCanvasChange=function(e){Eo(this,e)},t.prototype.getShapeBase=function(){return o},t.prototype.getGroupBase=function(){return t},t.prototype._applyClip=function(e,t){t&&(e.save(),go(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.cacheCanvasBBox=function(){var e=this.cfg.children,t=[],n=[];v(e,(function(e){var r=e.cfg.cacheCanvasBBox;r&&e.cfg.isInView&&(t.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(t.length){var o=y(t),i=m(t),a=y(n),l=m(n);r={minX:o,minY:a,x:o,y:a,maxX:i,maxY:l,width:i-o,height:l-a};var s=this.cfg.canvas;if(s){var u=s.getViewRange();this.set("isInView",Zr(r,u))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},t.prototype.draw=function(e,t){var n=this.cfg.children,r=!t||this.cfg.refresh;n.length&&r&&(e.save(),go(e,this),this._applyClip(e,this.getClip()),mo(e,n,t),e.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},t}(Zn),Lo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.getShapeBase=function(){return o},t.prototype.getGroupBase=function(){return Io},t.prototype.onCanvasChange=function(e){Eo(this,e)},t.prototype.calculateBBox=function(){var e=this.get("type"),t=this.getHitLineWidth(),n=function(e){return Xn.get(e)}(e),r=n(this),o=t/2,i=r.x-o,a=r.y-o,l=r.x+r.width+o,s=r.y+r.height+o;return{x:i,minX:i,y:a,minY:a,width:r.width+t,height:r.height+t,maxX:l,maxY:s}},t.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},t.prototype.isStroke=function(){return!!this.attrs.stroke},t.prototype._applyClip=function(e,t){t&&(e.save(),go(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.draw=function(e,t){var n=this.cfg.clipShape;if(t){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!Zr(t,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}e.save(),go(e,this),this._applyClip(e,n),this.drawPath(e),e.restore(),this._afterDraw()},t.prototype.getCanvasViewBox=function(){var e=this.cfg.canvas;return e?e.getViewRange():null},t.prototype.cacheCanvasBBox=function(){var e=this.getCanvasViewBox();if(e){var t=this.getCanvasBBox(),n=Zr(t,e);this.set("isInView",n),n?this.set("cacheCanvasBBox",t):this.set("cacheCanvasBBox",null)}},t.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},t.prototype.drawPath=function(e){this.createPath(e),this.strokeAndFill(e),this.afterDrawPath(e)},t.prototype.fill=function(e){e.fill()},t.prototype.stroke=function(e){e.stroke()},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,o=t.strokeOpacity,i=t.fillOpacity;this.isFill()&&(h(i)||1===i?this.fill(e):(e.globalAlpha=i,this.fill(e),e.globalAlpha=r)),this.isStroke()&&n>0&&(h(o)||1===o||(e.globalAlpha=o),this.stroke(e)),this.afterDrawPath(e)},t.prototype.createPath=function(e){},t.prototype.afterDrawPath=function(e){},t.prototype.isInShape=function(e,t){var n=this.isStroke(),r=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(e,t,n,r,o)},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){return!1},t.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var e=this.attrs;return e.lineWidth+e.lineAppendWidth},t}(Yn),_o=Lo,To=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{x:0,y:0,r:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.attr(),a=i.x,l=i.y,s=i.r,u=o/2,c=Vr(a,l,e,t);return r&&n?c<=s+u:r?c<=s:!!n&&(c>=s-u&&c<=s+u)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,o=t.r;e.beginPath(),e.arc(n,r,o,0,2*Math.PI,!1),e.closePath()},t}(_o),Mo=To;function Ro(e,t,n,r){return e/(n*n)+t/(r*r)}var Ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.attr(),a=o/2,l=i.x,s=i.y,u=i.rx,c=i.ry,d=(e-l)*(e-l),h=(t-s)*(t-s);return r&&n?Ro(d,h,u+a,c+a)<=1:r?Ro(d,h,u,c)<=1:!!n&&(Ro(d,h,u-a,c-a)>=1&&Ro(d,h,u+a,c+a)<=1)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,o=t.rx,i=t.ry;if(e.beginPath(),e.ellipse)e.ellipse(n,r,o,i,0,0,2*Math.PI,!1);else{var a=o>i?o:i,l=o>i?1:o/i,s=o>i?i/o:1;e.save(),e.translate(n,r),e.scale(l,s),e.arc(0,0,a,0,2*Math.PI),e.restore(),e.closePath()}},t}(_o),No=Ao;function Bo(e){return e instanceof HTMLElement&&b(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase()}var Do=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{x:0,y:0,width:0,height:0})},t.prototype.initAttrs=function(e){this._setImage(e.img)},t.prototype.isStroke=function(){return!1},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var e=this.get("canvas");e?e.draw():this.createPath(this.get("context"))}},t.prototype._setImage=function(e){var t=this,n=this.attrs;if(b(e)){var r=new Image;r.onload=function(){if(t.destroyed)return!1;t.attr("img",r),t.set("loading",!1),t._afterLoading();var e=t.get("callback");e&&e.call(t)},r.crossOrigin="Anonymous",r.src=e,this.set("loading",!0)}else e instanceof Image?(n.width||(n.width=e.width),n.height||(n.height=e.height)):Bo(e)&&(n.width||(n.width=Number(e.getAttribute("width"))),n.height||(n.height,Number(e.getAttribute("height"))))},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"img"===t&&this._setImage(n)},t.prototype.createPath=function(e){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",e);var t=this.attr(),n=t.x,r=t.y,o=t.width,i=t.height,a=t.sx,l=t.sy,s=t.swidth,u=t.sheight,c=t.img;(c instanceof Image||Bo(c))&&(h(a)||h(l)||h(s)||h(u)?e.drawImage(c,n,r,o,i):e.drawImage(c,a,l,s,u,n,r,o,i))},t}(_o),ko=Do;function Po(e,t,n,r,o,i,a){var l=Math.min(e,n),s=Math.max(e,n),u=Math.min(t,r),c=Math.max(t,r),d=o/2;return i>=l-d&&i<=s+d&&a>=u-d&&a<=c+d&&ir.pointToLine(e,t,n,r,i,a)<=o/2}var zo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow()},t.prototype.setArrow=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,o=e.y2,i=e.startArrow,a=e.endArrow;i&&fo(this,e,r,o,t,n),a&&po(this,e,t,n,r,o)},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){if(!n||!o)return!1;var i=this.attr();return Po(i.x1,i.y1,i.x2,i.y2,o,e,t)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x1,r=t.y1,o=t.x2,i=t.y2,a=t.startArrow,l=t.endArrow,s={dx:0,dy:0},u={dx:0,dy:0};a&&a.d&&(s=ho(n,r,o,i,t.startArrow.d)),l&&l.d&&(u=ho(n,r,o,i,t.endArrow.d)),e.beginPath(),e.moveTo(n+s.dx,r+s.dy),e.lineTo(o-u.dx,i-u.dy)},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,o=e.y2;return ir.length(t,n,r,o)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,o=t.x2,i=t.y2;return ir.pointAt(n,r,o,i,e)},t}(_o),Fo=zo,Ho={circle:function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]},"triangle-down":function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},$o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.initAttrs=function(e){this._resetParamsCache()},t.prototype._resetParamsCache=function(){this.set("paramsCache",{})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._getR=function(e){return h(e.r)?e.radius:e.r},t.prototype._getPath=function(){var e,n,r=this.attr(),o=r.x,i=r.y,a=r.symbol||"circle",l=this._getR(r);if(d(a))n=kr(n=(e=a)(o,i,l));else{if(!(e=t.Symbols[a]))return console.warn(a+" marker is not supported."),null;n=e(o,i,l)}return n},t.prototype.createPath=function(e){So(this,e,{path:this._getPath()},this.get("paramsCache"))},t.Symbols=Ho,t}(_o),jo=$o;function Wo(e,t,n){var r=Ir();return e.createPath(r),r.isPointInPath(t,n)}function Go(e){return Math.abs(e)<1e-6?0:e<0?-1:1}function Vo(e,t,n){return(n[0]-e[0])*(t[1]-e[1])==(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function Uo(e,t,n){var r=!1,o=e.length;if(o<=2)return!1;for(var i=0;i<o;i++){var a=e[i],l=e[(i+1)%o];if(Vo(a,l,[t,n]))return!0;Go(a[1]-n)>0!=Go(l[1]-n)>0&&Go(t-(n-a[1])*(a[0]-l[0])/(a[1]-l[1])-a[0])<0&&(r=!r)}return r}function Zo(e,t,n,r,o,i,a,l){var s=(Math.atan2(l-t,a-e)+2*Math.PI)%(2*Math.PI);if(s<r||s>o)return!1;var u={x:e+n*Math.cos(s),y:t+n*Math.sin(s)};return Vr(u.x,u.y,a,l)<=i/2}var Yo=ze;var Xo=l({hasArc:function(e){for(var t=!1,n=e.length,r=0;r<n;r++){var o=e[r][0];if("C"===o||"A"===o||"Q"===o){t=!0;break}}return t},extractPolygons:function(e){for(var t=e.length,n=[],r=[],o=[],i=0;i<t;i++){var a=e[i],l=a[0];"M"===l?(o.length&&(r.push(o),o=[]),o.push([a[1],a[2]])):"Z"===l?o.length&&(n.push(o),o=[]):o.push([a[1],a[2]])}return o.length>0&&r.push(o),{polygons:n,polylines:r}},isPointInStroke:function(e,t,n,r,o){for(var i=!1,a=t/2,l=0;l<e.length;l++){var s=e[l],u=s.currentPoint,c=s.params,d=s.prePoint,h=s.box;if(!h||Ur(h.x-a,h.y-a,h.width+t,h.height+t,n,r)){switch(s.command){case"L":case"Z":i=Po(d[0],d[1],u[0],u[1],t,n,r);break;case"Q":i=hr.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],n,r)<=t/2;break;case"C":i=yr.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,o)<=t/2;break;case"A":var f=s.arcParams,p=f.cx,v=f.cy,g=f.rx,m=f.ry,y=f.startAngle,b=f.endAngle,C=f.xRotation,x=[n,r,1],w=g>m?g:m;Ne(x,x,Yo(null,[["t",-p,-v],["r",-C],["s",1/(g>m?1:g/m),1/(g>m?m/g:1)]])),i=Zo(0,0,w,y,b,t,x[0],x[1])}if(i)break}}return i}},ce);function qo(e,t,n){for(var r=!1,o=0;o<e.length;o++){if(r=Uo(e[o],t,n))break}return r}var Ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this._setPathArr(e.path),this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"path"===t&&this._setPathArr(n),this.setArrow()},t.prototype._setPathArr=function(e){this.attrs.path=kr(e);var t=Xo.hasArc(e);this.set("hasArc",t),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},t.prototype.getSegments=function(){var e=this.get("segements");return e||(e=Wr(this.attr("path")),this.set("segments",e)),e},t.prototype.setArrow=function(){var e,t=this.attr(),n=t.startArrow,r=t.endArrow;n&&fo(this,t,(e=this.getStartTangent())[0][0],e[0][1],e[1][0],e[1][1]);r&&po(this,t,(e=this.getEndTangent())[0][0],e[0][1],e[1][0],e[1][1])},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.getSegments(),a=this.get("hasArc"),l=!1;if(n){var s=this.getTotalLength();l=Xo.isPointInStroke(i,o,e,t,s)}if(!l&&r)if(a)l=Wo(this,e,t);else{var u=this.attr("path"),c=Xo.extractPolygons(u);l=qo(c.polygons,e,t)||qo(c.polylines,e,t)}return l},t.prototype.createPath=function(e){So(this,e,this.attr(),this.get("paramsCache"))},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.get("totalLength");return h(e)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):e},t.prototype.getPoint=function(e){var t,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var o=this.get("curve");if(!r||0===r.length)return o?{x:o[0][1],y:o[0][2]}:null;v(r,(function(r,o){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=o)}));var i=o[n];if(h(i)||h(n))return null;var a=i.length,l=o[n+1];return yr.pointAt(i[a-2],i[a-1],l[1],l[2],l[3],l[4],l[5],l[6],t)},t.prototype._calculateCurve=function(){var e=this.attr().path;this.set("curve",Xo.pathToCurve(e))},t.prototype._setTcache=function(){var e,t,n,r,o=0,i=0,a=[],l=this.get("curve");l&&(v(l,(function(e,t){n=l[t+1],r=e.length,n&&(o+=yr.length(e[r-2],e[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",o),0!==o?(v(l,(function(s,u){n=l[u+1],r=s.length,n&&((e=[])[0]=i/o,t=yr.length(s[r-2],s[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),i+=t||0,e[1]=i/o,a.push(e))})),this.set("tCache",a)):this.set("tCache",[]))},t.prototype.getStartTangent=function(){var e,t=this.getSegments();if(t.length>1){var n=t[0].currentPoint,r=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([r[0],r[1]]),e.push([n[0],n[1]]))}return e},t.prototype.getEndTangent=function(){var e,t=this.getSegments(),n=t.length;if(n>1){var r=t[n-2].currentPoint,o=t[n-1].currentPoint,i=t[n-1].endTangent;e=[],i?(e.push([o[0]-i[0],o[1]-i[1]]),e.push([o[0],o[1]])):(e.push([r[0],r[1]]),e.push([o[0],o[1]]))}return e},t}(_o),Qo=Ko;function Jo(e,t,n,r,o){var i=e.length;if(i<2)return!1;for(var a=0;a<i-1;a++){if(Po(e[a][0],e[a][1],e[a+1][0],e[a+1][1],t,n,r))return!0}if(o){var l=e[0],s=e[i-1];if(Po(l[0],l[1],s[0],s[1],t,n,r))return!0}return!1}var ei=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.attr().points,a=!1;return n&&(a=Jo(i,o,e,t,!0)),!a&&r&&(a=Uo(i,e,t)),a},t.prototype.createPath=function(e){var t=this.attr().points;if(!(t.length<2)){e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];0===n?e.moveTo(r[0],r[1]):e.lineTo(r[0],r[1])}e.closePath()}},t}(_o),ti=ei,ni=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.setArrow=function(){var e=this.attr(),t=this.attrs,n=t.points,r=t.startArrow,o=t.endArrow,i=n.length,a=n[0][0],l=n[0][1],s=n[i-1][0],u=n[i-1][1];r&&fo(this,e,n[1][0],n[1][1],a,l),o&&po(this,e,n[i-2][0],n[i-2][1],s,u)},t.prototype.isFill=function(){return!1},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){return!(!n||!o)&&Jo(this.attr().points,o,e,t,!1)},t.prototype.isStroke=function(){return!0},t.prototype.createPath=function(e){var t=this.attr(),n=t.points,r=t.startArrow,o=t.endArrow,i=n.length;if(!(n.length<2)){var a,l=n[0][0],s=n[0][1],u=n[i-1][0],c=n[i-1][1];if(r&&r.d)l+=(a=ho(l,s,n[1][0],n[1][1],r.d)).dx,s+=a.dy;if(o&&o.d)u-=(a=ho(n[i-2][0],n[i-2][1],u,c,o.d)).dx,c-=a.dy;e.beginPath(),e.moveTo(l,s);for(var d=0;d<i-1;d++){var h=n[d];e.lineTo(h[0],h[1])}e.lineTo(u,c)}},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return h(t)?(this.set("totalLength",wr(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,o=this.get("tCache");return o||(this._setTcache(),o=this.get("tCache")),v(o,(function(r,o){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=o)})),ir.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,o=0,i=[];v(e,(function(a,l){e[l+1]&&((n=[])[0]=o/t,r=ir.length(a[0],a[1],e[l+1][0],e[l+1][1]),o+=r,n[1]=o/t,i.push(n))})),this.set("tCache",i)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(_o),ri=ni;var oi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.attr(),a=i.x,l=i.y,s=i.width,u=i.height,c=i.radius;if(c){var d=!1;return n&&(d=function(e,t,n,r,o,i,a,l){return Po(e+o,t,e+n-o,t,i,a,l)||Po(e+n,t+o,e+n,t+r-o,i,a,l)||Po(e+n-o,t+r,e+o,t+r,i,a,l)||Po(e,t+r-o,e,t+o,i,a,l)||Zo(e+n-o,t+o,o,1.5*Math.PI,2*Math.PI,i,a,l)||Zo(e+n-o,t+r-o,o,0,.5*Math.PI,i,a,l)||Zo(e+o,t+r-o,o,.5*Math.PI,Math.PI,i,a,l)||Zo(e+o,t+o,o,Math.PI,1.5*Math.PI,i,a,l)}(a,l,s,u,c,o,e,t)),!d&&r&&(d=Wo(this,e,t)),d}var h=o/2;return r&&n?Ur(a-h,l-h,s+h,u+h,e,t):r?Ur(a,l,s,u,e,t):n?function(e,t,n,r,o,i,a){var l=o/2;return Ur(e-l,t-l,n,o,i,a)||Ur(e+n-l,t-l,o,r,i,a)||Ur(e+l,t+r-l,n,o,i,a)||Ur(e-l,t+l,o,r,i,a)}(a,l,s,u,o,e,t):void 0},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,o=t.width,i=t.height,a=t.radius;if(e.beginPath(),0===a)e.rect(n,r,o,i);else{var l=function(e){var t=0,n=0,r=0,o=0;return f(e)?1===e.length?t=n=r=o=e[0]:2===e.length?(t=r=e[0],n=o=e[1]):3===e.length?(t=e[0],n=o=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],o=e[3]):t=n=r=o=e,[t,n,r,o]}(a),s=l[0],u=l[1],c=l[2],d=l[3];e.moveTo(n+s,r),e.lineTo(n+o-u,r),0!==u&&e.arc(n+o-u,r+u,u,-Math.PI/2,0),e.lineTo(n+o,r+i-c),0!==c&&e.arc(n+o-c,r+i-c,c,0,Math.PI/2),e.lineTo(n+d,r+i),0!==d&&e.arc(n+d,r+i-d,d,Math.PI/2,Math.PI),e.lineTo(n,r+s),0!==s&&e.arc(n+s,r+s,s,Math.PI,1.5*Math.PI),e.closePath()}},t}(_o),ii=oi,ai=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return l(l({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.isOnlyHitBox=function(){return!0},t.prototype.initAttrs=function(e){this._assembleFont(),e.text&&this._setText(e.text)},t.prototype._assembleFont=function(){var e=this.attrs;e.font=_r(e)},t.prototype._setText=function(e){var t=null;b(e)&&-1!==e.indexOf("\n")&&(t=e.split("\n")),this.set("textArr",t)},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(n)},t.prototype._getSpaceingY=function(){var e=this.attrs,t=e.lineHeight,n=1*e.fontSize;return t?t-n:.14*n},t.prototype._drawTextArr=function(e,t,n){var r,o=this.attrs,i=o.textBaseline,a=o.x,l=o.y,s=1*o.fontSize,u=this._getSpaceingY(),c=Lr(o.text,o.fontSize,o.lineHeight);v(t,(function(t,o){r=l+o*(u+s)-c+s,"middle"===i&&(r+=c-s-(c-s)/2),"top"===i&&(r+=c-s),h(t)||(n?e.fillText(t,a,r):e.strokeText(t,a,r))}))},t.prototype._drawText=function(e,t){var n=this.attr(),r=n.x,o=n.y,i=this.get("textArr");if(i)this._drawTextArr(e,i,t);else{var a=n.text;h(a)||(t?e.fillText(a,r,o):e.strokeText(a,r,o))}},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,o=t.strokeOpacity,i=t.fillOpacity;this.isStroke()&&n>0&&(h(o)||1===o||(e.globalAlpha=r),this.stroke(e)),this.isFill()&&(h(i)||1===i?this.fill(e):(e.globalAlpha=i,this.fill(e),e.globalAlpha=r)),this.afterDrawPath(e)},t.prototype.fill=function(e){this._drawText(e,!0)},t.prototype.stroke=function(e){this._drawText(e,!1)},t}(_o),li=ai;function si(e,t,n){var r,o,i=e.getTotalMatrix();if(i){var a=(r=[t,n,1],(o=i)?He($e(o),r):r);return[a[0],a[1]]}return[t,n]}function ui(e,t,n){if(e.isCanvas&&e.isCanvas())return!0;if(!ye(e)||!1===e.cfg.isInView)return!1;if(e.cfg.clipShape){var r=si(e,t,n),o=r[0],i=r[1];if(e.isClipped(o,i))return!1}var a=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return t>=a.minX&&t<=a.maxX&&n>=a.minY&&n<=a.maxY}function ci(e,t,n){if(!ui(e,t,n))return null;for(var r=null,o=e.getChildren(),i=o.length-1;i>=0;i--){var a=o[i];if(a.isGroup())r=ci(a,t,n);else if(ui(a,t,n)){var l=a,s=si(a,t,n),u=s[0],c=s[1];l.isInShape(u,c)&&(r=a)}if(r)break}return r}var di,hi,fi,pi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},t.prototype.onCanvasChange=function(e){"attr"!==e&&"sort"!==e&&"changeSize"!==e||(this.set("refreshElements",[this]),this.draw())},t.prototype.getShapeBase=function(){return o},t.prototype.getGroupBase=function(){return Io},t.prototype.getPixelRatio=function(){var e=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return e>=1?Math.ceil(e):1},t.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},t.prototype.createDom=function(){var e=document.createElement("canvas"),t=e.getContext("2d");return this.set("context",t),e},t.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var r=this.get("context"),o=this.get("el"),i=this.getPixelRatio();o.width=i*t,o.height=i*n,i>1&&r.scale(i,i)},t.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},t.prototype.getShape=function(t,n){return this.get("quickHit")?ci(this,t,n):e.prototype.getShape.call(this,t,n,null)},t.prototype._getRefreshRegion=function(){var e,t=this.get("refreshElements"),n=this.getViewRange();t.length&&t[0]===this?e=n:(e=function(e){if(!e.length)return null;var t=[],n=[],r=[],o=[];return v(e,(function(e){var i=Oo(e);i&&(t.push(i.minX),n.push(i.minY),r.push(i.maxX),o.push(i.maxY))})),{minX:y(t),minY:y(n),maxX:m(r),maxY:m(o)}}(t),e&&(e.minX=Math.floor(e.minX),e.minY=Math.floor(e.minY),e.maxX=Math.ceil(e.maxX),e.maxY=Math.ceil(e.maxY),e.maxY+=1,this.get("clipView")&&(e=function(e,t){return e&&t&&Zr(e,t)?{minX:Math.max(e.minX,t.minX),minY:Math.max(e.minY,t.minY),maxX:Math.min(e.maxX,t.maxX),maxY:Math.min(e.maxY,t.maxY)}:null}(e,n))));return e},t.prototype.refreshElement=function(e){this.get("refreshElements").push(e)},t.prototype._clearFrame=function(){var e,t=this.get("drawFrame");t&&(e=t,(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e),this.set("drawFrame",null),this.set("refreshElements",[]))},t.prototype.draw=function(){var e=this.get("drawFrame");this.get("autoDraw")&&e||this._startDraw()},t.prototype._drawAll=function(){var e=this.get("context"),t=this.get("el"),n=this.getChildren();e.clearRect(0,0,t.width,t.height),go(e,this),mo(e,n),this.set("refreshElements",[])},t.prototype._drawRegion=function(){var e=this.get("context"),t=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(e.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.save(),e.beginPath(),e.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.clip(),go(e,this),yo(this,n,r),mo(e,n,r),e.restore()):t.length&&Co(t),v(t,(function(e){e.get("hasChanged")&&e.set("hasChanged",!1)})),this.set("refreshElements",[])},t.prototype._startDraw=function(){var e,t=this,n=this.get("drawFrame");n||(e=function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)},n=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e),this.set("drawFrame",n))},t.prototype.skipDraw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.width=0,e.height=0,e.parentNode.removeChild(e)},t}(Un);!function(e){e.DATA_CELL_CLICK_EVENT="interaction:data-cell-click",e.MERGED_CELLS_CLICK_EVENT="interaction:merged-cells-click",e.CORNER_TEXT_CLICK_EVENT="interaction:corner-cell-text-click",e.ROW_COLUMN_CLICK_EVENT="interaction:row-column-click",e.ROW_TEXT_CLICK_EVENT="interaction:row-text-click",e.HOVER_EVENT="interaction:hover",e.TREND_ICON_CLICK="interaction:trend-icon-click"}(di||(di={})),function(e){e.MOUSE_DOWN="mousedown",e.MOUSE_MOVE="mousemove",e.MOUSE_OUT="mouseout",e.MOUSE_LEAVE="mouseleave",e.MOUSE_UP="mouseup",e.KEY_DOWN="keydown",e.KEY_UP="keyup",e.CLICK="click",e.HOVER="hover",e.DOUBLE_CLICK="dblclick",e.CONTEXT_MENU="contextmenu"}(hi||(hi={})),function(e){e.ROW_CELL_HOVER="row-cell:hover",e.ROW_CELL_CLICK="row-cell:click",e.ROW_CELL_DOUBLE_CLICK="row-cell:double-click",e.ROW_CELL_CONTEXT_MENU="row-cell:context-menu",e.ROW_CELL_MOUSE_DOWN="row-cell:mouse-down",e.ROW_CELL_MOUSE_UP="row-cell:mouse-up",e.ROW_CELL_MOUSE_MOVE="row-cell:mouse-move",e.ROW_CELL_COLLAPSE_TREE_ROWS="row-cell:collapsed-tree-rows",e.ROW_CELL_SCROLL="row-cell:scroll",e.ROW_CELL_BRUSH_SELECTION="row-cell:brush-selection",e.COL_CELL_HOVER="col-cell:hover",e.COL_CELL_CLICK="col-cell:click",e.COL_CELL_DOUBLE_CLICK="col-cell:double-click",e.COL_CELL_CONTEXT_MENU="col-cell:context-menu",e.COL_CELL_MOUSE_DOWN="col-cell:mouse-down",e.COL_CELL_MOUSE_UP="col-cell:mouse-up",e.COL_CELL_MOUSE_MOVE="col-cell:mouse-move",e.COL_CELL_BRUSH_SELECTION="col-cell:brush-selection",e.DATA_CELL_HOVER="data-cell:hover",e.DATA_CELL_CLICK="data-cell:click",e.DATA_CELL_DOUBLE_CLICK="data-cell:double-click",e.DATA_CELL_CONTEXT_MENU="data-cell:context-menu",e.DATA_CELL_MOUSE_UP="data-cell:mouse-up",e.DATA_CELL_MOUSE_DOWN="data-cell:mouse-down",e.DATA_CELL_MOUSE_MOVE="data-cell:mouse-move",e.DATA_CELL_TREND_ICON_CLICK="data-cell:trend-icon-click",e.DATA_CELL_BRUSH_SELECTION="data-cell:brush-selection",e.DATA_CELL_SELECT_MOVE="data-cell:select-move",e.CORNER_CELL_HOVER="corner-cell:hover",e.CORNER_CELL_CLICK="corner-cell:click",e.CORNER_CELL_DOUBLE_CLICK="corner-cell:double-click",e.CORNER_CELL_CONTEXT_MENU="corner-cell:context-menu",e.CORNER_CELL_MOUSE_DOWN="corner-cell:mouse-down",e.CORNER_CELL_MOUSE_UP="corner-cell:mouse-up",e.CORNER_CELL_MOUSE_MOVE="corner-cell:mouse-move",e.MERGED_CELLS_HOVER="merged-cells:hover",e.MERGED_CELLS_CLICK="merged-cells:click",e.MERGED_CELLS_DOUBLE_CLICK="merged-cells:double-click",e.MERGED_CELLS_CONTEXT_MENU="merged-cell:context-menu",e.MERGED_CELLS_MOUSE_DOWN="merged-cells:mouse-down",e.MERGED_CELLS_MOUSE_UP="merged-cells:mouse-up",e.MERGED_CELLS_MOUSE_MOVE="merged-cells:mouse-move",e.RANGE_SORT="sort:range-sort",e.RANGE_SORTED="sort:range-sorted",e.RANGE_FILTER="filter:range-filter",e.RANGE_FILTERED="filter:range-filtered",e.LAYOUT_AFTER_HEADER_LAYOUT="layout:after-header-layout",e.LAYOUT_CELL_SCROLL="layout:cell-scroll",e.LAYOUT_PAGINATION="layout:pagination",e.LAYOUT_COLLAPSE_ROWS="layout:collapsed-rows",e.LAYOUT_AFTER_COLLAPSE_ROWS="layout:after-collapsed-rows",e.LAYOUT_AFTER_REAL_DATA_CELL_RENDER="layout:after-real-data-cell-render",e.LAYOUT_TREE_ROWS_COLLAPSE_ALL="layout:toggle-collapse-all",e.LAYOUT_COLS_EXPANDED="layout:table-col-expanded",e.LAYOUT_COLS_HIDDEN="layout:table-col-hidden",e.LAYOUT_AFTER_RENDER="layout:after-render",e.LAYOUT_BEFORE_RENDER="layout:before-render",e.LAYOUT_DESTROY="layout:destroy",e.LAYOUT_RESIZE="layout:resize",e.LAYOUT_RESIZE_SERIES_WIDTH="layout:resize-series-width",e.LAYOUT_RESIZE_ROW_WIDTH="layout:resize-row-width",e.LAYOUT_RESIZE_ROW_HEIGHT="layout:resize-row-height",e.LAYOUT_RESIZE_COL_WIDTH="layout:resize-column-width",e.LAYOUT_RESIZE_COL_HEIGHT="layout:resize-column-height",e.LAYOUT_RESIZE_TREE_WIDTH="layout:resize-tree-width",e.LAYOUT_RESIZE_MOUSE_DOWN="layout:resize:mouse-down",e.LAYOUT_RESIZE_MOUSE_MOVE="layout:resize:mouse-move",e.LAYOUT_RESIZE_MOUSE_UP="layout:resize-mouse-up",e.GLOBAL_KEYBOARD_DOWN="global:keyboard-down",e.GLOBAL_KEYBOARD_UP="global:keyboard-up",e.GLOBAL_COPIED="global:copied",e.GLOBAL_MOUSE_UP="global:mouse-up",e.GLOBAL_MOUSE_MOVE="global:mouse-move",e.GLOBAL_ACTION_ICON_CLICK="global:action-icon-click",e.GLOBAL_ACTION_ICON_HOVER="global:action-icon-hover",e.GLOBAL_ACTION_ICON_HOVER_OFF="global:action-icon-hover-off",e.GLOBAL_CONTEXT_MENU="global:context-menu",e.GLOBAL_CLICK="global:click",e.GLOBAL_DOUBLE_CLICK="global:double-click",e.GLOBAL_SELECTED="global:selected",e.GLOBAL_HOVER="global:hover",e.GLOBAL_RESET="global:reset",e.GLOBAL_LINK_FIELD_JUMP="global:link-field-jump",e.GLOBAL_SCROLL="global:scroll"}(fi||(fi={}));var vi,gi="$$value$$",mi="$$extra$$",yi="$$extra_column$$",bi="$$total$$",Ci="$$series_number$$",xi="mergedCellsGroup",wi="frozenRowGroup",Si="frozenColGroup",Ei="frozenTrailingRowGroup",Oi="frozenTrailingColGroup",Ii="frozenTopGroup",Li="frozenBottomGroup",_i="rowResizeAreaGroup",Ti="rowFrozenResizeAreaGroup",Mi="frozenSplitLine",Ri="rowIndexResizeAreaGroup",Ai="cornerResizeAreaGroup",Ni="colResizeAreaGroup",Bi="colFrozenResizeAreaGroup",Di="gridGroup",ki="horizontal-resize-area-",Pi="root",zi="[&]",Fi="-",Hi=/^root\[&\]*/;!function(e){e.Line="line",e.Bar="bar",e.Bullet="bullet"}(vi||(vi={}));var $i,ji,Wi,Gi="square",Vi="...",Ui="antv-s2",Zi="valueRanges",Yi={},Xi="#000000",qi="#FFFFFF",Ki={data:[],totalData:[],fields:{rows:[],columns:[],values:[],customTreeItems:[],valueInCols:!0},meta:[],sortParams:[],filterParams:[]};!function(e){e.ROW="row",e.COL="col",e.TRAILING_ROW="trailingRow",e.TRAILING_COL="trailingCol",e.SCROLL="scroll",e.TOP="top",e.BOTTOM="bottom"}(ji||(ji={})),function(e){e.FROZEN_COL="frozenCol",e.FROZEN_ROW="frozenRow",e.FROZEN_TRAILING_COL="frozenTrailingCol",e.FROZEN_TRAILING_ROW="frozenTrailingRow"}(Wi||(Wi={}));var Qi,Ji,ea,ta=(($i={})[ji.ROW]="frozenRowGroup",$i[ji.COL]="frozenColGroup",$i[ji.TRAILING_COL]="frozenTrailingColGroup",$i[ji.TRAILING_ROW]="frozenTrailingRowGroup",$i[ji.SCROLL]="panelScrollGroup",$i[ji.TOP]="frozenTopGroup",$i[ji.BOTTOM]="frozenBottomGroup",$i);!function(e){e.CORNER_CELL_CLICK="cornerCellClick",e.DATA_CELL_CLICK="dataCellClick",e.MERGED_CELLS_CLICK="mergedCellsClick",e.ROW_COLUMN_CLICK="rowColumnClick",e.ROW_TEXT_CLICK="rowTextClick",e.HOVER="hover",e.BRUSH_SELECTION="brushSelection",e.ROW_BRUSH_SELECTION="rowBrushSelection",e.COL_BRUSH_SELECTION="colBrushSelection",e.COL_ROW_RESIZE="rowColResize",e.DATA_CELL_MULTI_SELECTION="dataCellMultiSelection",e.RANGE_SELECTION="rangeSelection",e.SELECTED_CELL_MOVE="selectedCellMove"}(Qi||(Qi={})),function(e){e.ALL_SELECTED="allSelected",e.SELECTED="selected",e.UNSELECTED="unselected",e.HOVER="hover",e.HOVER_FOCUS="hoverFocus",e.HIGHLIGHT="highlight",e.SEARCH_RESULT="searchResult",e.PREPARE_SELECT="prepareSelect"}(Ji||(Ji={})),function(e){e.DATA_CELL="dataCell",e.HEADER_CELL="headerCell",e.ROW_CELL="rowCell",e.COL_CELL="colCell",e.CORNER_CELL="cornerCell",e.MERGED_CELL="mergedCell"}(ea||(ea={}));var na,ra,oa,ia,aa={textOpacity:"fillOpacity",backgroundOpacity:"fillOpacity",backgroundColor:"fill",borderOpacity:"strokeOpacity",borderColor:"stroke",borderWidth:"lineWidth",opacity:"opacity"},la={textShape:["textOpacity"],textShapes:["textOpacity"],linkFieldShape:["opacity"],interactiveBgShape:["backgroundColor","backgroundOpacity"],interactiveBorderShape:["borderColor","borderOpacity","borderWidth"]},sa="interactionStateInfo";!function(e){e.CLICK="click",e.UN_DRAGGED="unDragged",e.DRAGGED="dragged"}(na||(na={})),function(e){e.SHIFT="Shift",e.COPY="c",e.ESC="Escape",e.META="Meta",e.CONTROL="Control",e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight"}(ra||(ra={})),function(e){e.ASC="ASC",e.DESC="DESC"}(oa||(oa={})),function(e){e.HOVER="hover",e.CLICK="click",e.BRUSH_SELECTION="brushSelection",e.ROW_BRUSH_SELECTION="rowBrushSelection",e.COL_BRUSH_SELECTION="colBrushSelection",e.MULTI_SELECTION="multiSelection",e.RESIZE="resize"}(ia||(ia={}));var ua,ca,da,ha={x:{value:0,scroll:!1},y:{value:0,scroll:!1}};!function(e){e.CONTENT="content",e.CANVAS="canvas"}(ua||(ua={})),function(e){e.SCROLL_UP="scrollUp",e.SCROLL_DOWN="scrollDown"}(ca||(ca={})),function(e){e[e.SCROLL_UP=-1]="SCROLL_UP",e[e.SCROLL_DOWN=1]="SCROLL_DOWN"}(da||(da={}));var fa,pa,va;!function(e){e.Horizontal="col",e.Vertical="row"}(fa||(fa={})),function(e){e.Field="field",e.Cell="cell",e.Tree="tree",e.Series="series"}(pa||(pa={})),function(e){e.ALL="all",e.CURRENT="current"}(va||(va={}));var ga;!function(e){e.Adaptive="adaptive",e.ColAdaptive="colAdaptive",e.Compact="compact"}(ga||(ga={}));var ma={layoutWidthType:ga.Adaptive,showTreeLeafNodeAlignDot:!1,collapsedRows:{},collapsedCols:{},cellCfg:{width:96,height:30},rowCfg:{width:null,widthByField:{},heightByField:{}},colCfg:{height:30,widthByFieldValue:{},heightByField:{}},device:"pc"},ya={width:600,height:480,debug:!1,hierarchyType:"grid",conditions:{},totals:{},tooltip:{showTooltip:!1,autoAdjustBoundary:"body",operation:{hiddenColumns:!1,trend:!1,sort:!1,menus:[]}},interaction:{linkFields:[],hiddenColumnFields:[],selectedCellsSpotlight:!1,hoverHighlight:!0,hoverFocus:{duration:800},scrollSpeedRatio:{horizontal:1,vertical:1},autoResetSheetStyle:!0,brushSelection:{data:!0,row:!1,col:!1},multiSelection:!0,rangeSelection:!0,scrollbarPosition:ua.CONTENT,resize:{rowCellVertical:!0,cornerCellHorizontal:!0,colCellHorizontal:!0,colCellVertical:!0,rowResizeType:va.ALL},eventListenerOptions:!1,selectedCellHighlight:!1,overscrollBehavior:"auto"},showSeriesNumber:!1,customSVGIcons:[],showDefaultHeaderActionIcon:!1,headerActionIcons:[],style:ma,frozenRowHeader:!0,frozenRowCount:0,frozenColCount:0,frozenTrailingRowCount:0,frozenTrailingColCount:0,hdAdapter:!0,cornerText:"",cornerExtraFieldText:"",placeholder:Fi,supportCSSTransform:!1,devicePixelRatio:window.devicePixelRatio},ba=function(e,t){return ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ba(e,t)};function Ca(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ba(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var xa=function(){return xa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xa.apply(this,arguments)};function wa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Sa(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ea(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Oa(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var Ia="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,La="object"==typeof self&&self&&self.Object===Object&&self,_a=Ia||La||Function("return this")(),Ta=_a.Symbol,Ma=Object.prototype,Ra=Ma.hasOwnProperty,Aa=Ma.toString,Na=Ta?Ta.toStringTag:void 0;var Ba=Object.prototype.toString;var Da=Ta?Ta.toStringTag:void 0;function ka(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Da&&Da in Object(e)?function(e){var t=Ra.call(e,Na),n=e[Na];try{e[Na]=void 0;var r=!0}catch(e){}var o=Aa.call(e);return r&&(t?e[Na]=n:delete e[Na]),o}(e):function(e){return Ba.call(e)}(e)}function Pa(e){return null!=e&&"object"==typeof e}function za(e){return"symbol"==typeof e||Pa(e)&&"[object Symbol]"==ka(e)}function Fa(e){return"number"==typeof e?e:za(e)?NaN:+e}function Ha(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var $a=Array.isArray,ja=Ta?Ta.prototype:void 0,Wa=ja?ja.toString:void 0;function Ga(e){if("string"==typeof e)return e;if($a(e))return Ha(e,Ga)+"";if(za(e))return Wa?Wa.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function Va(e,t){return function(n,r){var o;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=Ga(n),r=Ga(r)):(n=Fa(n),r=Fa(r)),o=e(n,r)}return o}}var Ua=Va((function(e,t){return e+t}),0),Za=/\s/;function Ya(e){for(var t=e.length;t--&&Za.test(e.charAt(t)););return t}var Xa=/^\s+/;function qa(e){return e?e.slice(0,Ya(e)+1).replace(Xa,""):e}function Ka(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Qa=/^[-+]0x[0-9a-f]+$/i,Ja=/^0b[01]+$/i,el=/^0o[0-7]+$/i,tl=parseInt;function nl(e){if("number"==typeof e)return e;if(za(e))return NaN;if(Ka(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ka(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=qa(e);var n=Ja.test(e);return n||el.test(e)?tl(e.slice(2),n?2:8):Qa.test(e)?NaN:+e}var rl=1/0;function ol(e){return e?(e=nl(e))===rl||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function il(e){var t=ol(e),n=t%1;return t==t?n?t-n:t:0}function al(e){return e}function ll(e){if(!Ka(e))return!1;var t=ka(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var sl,ul=_a["__core-js_shared__"],cl=(sl=/[^.]+$/.exec(ul&&ul.keys&&ul.keys.IE_PROTO||""))?"Symbol(src)_1."+sl:"";var dl=Function.prototype.toString;function hl(e){if(null!=e){try{return dl.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var fl=/^\[object .+?Constructor\]$/,pl=Function.prototype,vl=Object.prototype,gl=pl.toString,ml=vl.hasOwnProperty,yl=RegExp("^"+gl.call(ml).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bl(e){return!(!Ka(e)||function(e){return!!cl&&cl in e}(e))&&(ll(e)?yl:fl).test(hl(e))}function Cl(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return bl(n)?n:void 0}var xl=Cl(_a,"WeakMap"),wl=xl&&new xl,Sl=wl?function(e,t){return wl.set(e,t),e}:al,El=Sl,Ol=Object.create,Il=function(){function e(){}return function(t){if(!Ka(t))return{};if(Ol)return Ol(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Ll=Il;function _l(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ll(e.prototype),r=e.apply(n,t);return Ka(r)?r:n}}function Tl(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Ml=Math.max;function Rl(e,t,n,r){for(var o=-1,i=e.length,a=n.length,l=-1,s=t.length,u=Ml(i-a,0),c=Array(s+u),d=!r;++l<s;)c[l]=t[l];for(;++o<a;)(d||o<i)&&(c[n[o]]=e[o]);for(;u--;)c[l++]=e[o++];return c}var Al=Math.max;function Nl(e,t,n,r){for(var o=-1,i=e.length,a=-1,l=n.length,s=-1,u=t.length,c=Al(i-l,0),d=Array(c+u),h=!r;++o<c;)d[o]=e[o];for(var f=o;++s<u;)d[f+s]=t[s];for(;++a<l;)(h||o<i)&&(d[f+n[a]]=e[o++]);return d}function Bl(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function Dl(){}function kl(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Pl(){}kl.prototype=Ll(Dl.prototype),kl.prototype.constructor=kl;var zl=wl?function(e){return wl.get(e)}:Pl,Fl=zl,Hl={},$l=Object.prototype.hasOwnProperty;function jl(e){for(var t=e.name+"",n=Hl[t],r=$l.call(Hl,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Wl(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Gl(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Vl(e){if(e instanceof kl)return e.clone();var t=new Wl(e.__wrapped__,e.__chain__);return t.__actions__=Gl(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}Wl.prototype=Ll(Dl.prototype),Wl.prototype.constructor=Wl;var Ul=Object.prototype.hasOwnProperty;function Zl(e){if(Pa(e)&&!$a(e)&&!(e instanceof kl)){if(e instanceof Wl)return e;if(Ul.call(e,"__wrapped__"))return Vl(e)}return new Wl(e)}function Yl(e){var t=jl(e),n=Zl[t];if("function"!=typeof n||!(t in kl.prototype))return!1;if(e===n)return!0;var r=Fl(n);return!!r&&e===r[0]}Zl.prototype=Dl.prototype,Zl.prototype.constructor=Zl;var Xl=Date.now;function ql(e){var t=0,n=0;return function(){var r=Xl(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Kl=ql(El),Ql=/\{\n\/\* \[wrapped with (.+)\] \*/,Jl=/,? & /;var es=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function ts(e){return function(){return e}}var ns=function(){try{var e=Cl(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),rs=ns,os=rs?function(e,t){return rs(e,"toString",{configurable:!0,enumerable:!1,value:ts(t),writable:!0})}:al,is=ql(os);function as(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ls(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function ss(e){return e!=e}function us(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):ls(e,ss,n)}function cs(e,t){return!!(null==e?0:e.length)&&us(e,t,0)>-1}var ds=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function hs(e,t,n){var r=t+"";return is(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(es,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return as(ds,(function(n){var r="_."+n[0];t&n[1]&&!cs(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Ql);return t?t[1].split(Jl):[]}(r),n)))}function fs(e,t,n,r,o,i,a,l,s,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var d=[e,t,o,c?i:void 0,c?a:void 0,c?void 0:i,c?void 0:a,l,s,u],h=n.apply(void 0,d);return Yl(e)&&Kl(h,d),h.placeholder=r,hs(h,e,t)}function ps(e){return e.placeholder}var vs=/^(?:0|[1-9]\d*)$/;function gs(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&vs.test(e))&&e>-1&&e%1==0&&e<t}var ms=Math.min;function ys(e,t){for(var n=e.length,r=ms(t.length,n),o=Gl(e);r--;){var i=t[r];e[r]=gs(i,n)?o[i]:void 0}return e}var bs="__lodash_placeholder__";function Cs(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==bs||(e[n]=bs,i[o++]=n)}return i}function xs(e,t,n,r,o,i,a,l,s,u){var c=128&t,d=1&t,h=2&t,f=24&t,p=512&t,v=h?void 0:_l(e);return function g(){for(var m=arguments.length,y=Array(m),b=m;b--;)y[b]=arguments[b];if(f)var C=ps(g),x=Bl(y,C);if(r&&(y=Rl(y,r,o,f)),i&&(y=Nl(y,i,a,f)),m-=x,f&&m<u){var w=Cs(y,C);return fs(e,t,xs,g.placeholder,n,y,w,l,s,u-m)}var S=d?n:this,E=h?S[e]:e;return m=y.length,l?y=ys(y,l):p&&m>1&&y.reverse(),c&&s<m&&(y.length=s),this&&this!==_a&&this instanceof g&&(E=v||_l(E)),E.apply(S,y)}}var ws="__lodash_placeholder__",Ss=128,Es=Math.min;var Os=Math.max;function Is(e,t,n,r,o,i,a,l){var s=2&t;if(!s&&"function"!=typeof e)throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(t&=-97,r=o=void 0),a=void 0===a?a:Os(il(a),0),l=void 0===l?l:il(l),u-=o?o.length:0,64&t){var c=r,d=o;r=o=void 0}var h=s?void 0:Fl(e),f=[e,t,n,r,o,c,d,i,a,l];if(h&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==Ss&&8==n||r==Ss&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var l=t[3];if(l){var s=e[3];e[3]=s?Rl(s,l,t[4]):l,e[4]=s?Cs(e[3],ws):t[4]}(l=t[5])&&(s=e[5],e[5]=s?Nl(s,l,t[6]):l,e[6]=s?Cs(e[5],ws):t[6]),(l=t[7])&&(e[7]=l),r&Ss&&(e[8]=null==e[8]?t[8]:Es(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(f,h),e=f[0],t=f[1],n=f[2],r=f[3],o=f[4],!(l=f[9]=void 0===f[9]?s?0:e.length:Os(f[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?function(e,t,n){var r=_l(e);return function o(){for(var i=arguments.length,a=Array(i),l=i,s=ps(o);l--;)a[l]=arguments[l];var u=i<3&&a[0]!==s&&a[i-1]!==s?[]:Cs(a,s);return(i-=u.length)<n?fs(e,t,xs,o.placeholder,void 0,a,u,void 0,void 0,n-i):Tl(this&&this!==_a&&this instanceof o?r:e,this,a)}}(e,t,l):32!=t&&33!=t||o.length?xs.apply(void 0,f):function(e,t,n,r){var o=1&t,i=_l(e);return function t(){for(var a=-1,l=arguments.length,s=-1,u=r.length,c=Array(u+l),d=this&&this!==_a&&this instanceof t?i:e;++s<u;)c[s]=r[s];for(;l--;)c[s++]=arguments[++a];return Tl(d,o?n:this,c)}}(e,t,n,r);else var p=function(e,t,n){var r=1&t,o=_l(e);return function t(){return(this&&this!==_a&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return hs((h?El:Kl)(p,f),e,t)}function Ls(e,t,n){return t=n?void 0:t,Is(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function _s(e,t,n){"__proto__"==t&&rs?rs(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ts(e,t){return e===t||e!=e&&t!=t}var Ms=Object.prototype.hasOwnProperty;function Rs(e,t,n){var r=e[t];Ms.call(e,t)&&Ts(r,n)&&(void 0!==n||t in e)||_s(e,t,n)}function As(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=r?r(n[l],e[l],l,n,e):void 0;void 0===s&&(s=e[l]),o?_s(n,l,s):Rs(n,l,s)}return n}var Ns=Math.max;function Bs(e,t,n){return t=Ns(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Ns(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),Tl(e,this,l)}}function Ds(e,t){return is(Bs(e,t,al),e+"")}function ks(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ps(e){return null!=e&&ks(e.length)&&!ll(e)}function zs(e,t,n){if(!Ka(n))return!1;var r=typeof t;return!!("number"==r?Ps(n)&&gs(t,n.length):"string"==r&&t in n)&&Ts(n[t],e)}function Fs(e){return Ds((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&zs(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t}))}var Hs=Object.prototype;function $s(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Hs)}function js(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ws(e){return Pa(e)&&"[object Arguments]"==ka(e)}var Gs=Object.prototype,Vs=Gs.hasOwnProperty,Us=Gs.propertyIsEnumerable,Zs=Ws(function(){return arguments}())?Ws:function(e){return Pa(e)&&Vs.call(e,"callee")&&!Us.call(e,"callee")},Ys=Zs;function Xs(){return!1}var qs="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ks=qs&&e&&!e.nodeType&&e,Qs=Ks&&Ks.exports===qs?_a.Buffer:void 0,Js=(Qs?Qs.isBuffer:void 0)||Xs,eu={};function tu(e){return function(t){return e(t)}}eu["[object Float32Array]"]=eu["[object Float64Array]"]=eu["[object Int8Array]"]=eu["[object Int16Array]"]=eu["[object Int32Array]"]=eu["[object Uint8Array]"]=eu["[object Uint8ClampedArray]"]=eu["[object Uint16Array]"]=eu["[object Uint32Array]"]=!0,eu["[object Arguments]"]=eu["[object Array]"]=eu["[object ArrayBuffer]"]=eu["[object Boolean]"]=eu["[object DataView]"]=eu["[object Date]"]=eu["[object Error]"]=eu["[object Function]"]=eu["[object Map]"]=eu["[object Number]"]=eu["[object Object]"]=eu["[object RegExp]"]=eu["[object Set]"]=eu["[object String]"]=eu["[object WeakMap]"]=!1;var nu="object"==typeof exports&&exports&&!exports.nodeType&&exports,ru=nu&&e&&!e.nodeType&&e,ou=ru&&ru.exports===nu&&Ia.process,iu=function(){try{var e=ru&&ru.require&&ru.require("util").types;return e||ou&&ou.binding&&ou.binding("util")}catch(e){}}(),au=iu&&iu.isTypedArray,lu=au?tu(au):function(e){return Pa(e)&&ks(e.length)&&!!eu[ka(e)]},su=Object.prototype.hasOwnProperty;function uu(e,t){var n=$a(e),r=!n&&Ys(e),o=!n&&!r&&Js(e),i=!n&&!r&&!o&&lu(e),a=n||r||o||i,l=a?js(e.length,String):[],s=l.length;for(var u in e)!t&&!su.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||gs(u,s))||l.push(u);return l}function cu(e,t){return function(n){return e(t(n))}}var du=cu(Object.keys,Object),hu=Object.prototype.hasOwnProperty;function fu(e){if(!$s(e))return du(e);var t=[];for(var n in Object(e))hu.call(e,n)&&"constructor"!=n&&t.push(n);return t}function pu(e){return Ps(e)?uu(e):fu(e)}var vu=Object.prototype.hasOwnProperty,gu=Fs((function(e,t){if($s(t)||Ps(t))As(t,pu(t),e);else for(var n in t)vu.call(t,n)&&Rs(e,n,t[n])})),mu=gu;var yu=Object.prototype.hasOwnProperty;function bu(e){if(!Ka(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=$s(e),n=[];for(var r in e)("constructor"!=r||!t&&yu.call(e,r))&&n.push(r);return n}function Cu(e){return Ps(e)?uu(e,!0):bu(e)}var xu=Fs((function(e,t){As(t,Cu(t),e)})),wu=xu,Su=Fs((function(e,t,n,r){As(t,Cu(t),e,r)})),Eu=Su,Ou=Fs((function(e,t,n,r){As(t,pu(t),e,r)})),Iu=Ou,Lu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_u=/^\w*$/;function Tu(e,t){if($a(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!za(e))||(_u.test(e)||!Lu.test(e)||null!=t&&e in Object(t))}var Mu=Cl(Object,"create");var Ru=Object.prototype.hasOwnProperty;var Au=Object.prototype.hasOwnProperty;function Nu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bu(e,t){for(var n=e.length;n--;)if(Ts(e[n][0],t))return n;return-1}Nu.prototype.clear=function(){this.__data__=Mu?Mu(null):{},this.size=0},Nu.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nu.prototype.get=function(e){var t=this.__data__;if(Mu){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ru.call(t,e)?t[e]:void 0},Nu.prototype.has=function(e){var t=this.__data__;return Mu?void 0!==t[e]:Au.call(t,e)},Nu.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mu&&void 0===t?"__lodash_hash_undefined__":t,this};var Du=Array.prototype.splice;function ku(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ku.prototype.clear=function(){this.__data__=[],this.size=0},ku.prototype.delete=function(e){var t=this.__data__,n=Bu(t,e);return!(n<0)&&(n==t.length-1?t.pop():Du.call(t,n,1),--this.size,!0)},ku.prototype.get=function(e){var t=this.__data__,n=Bu(t,e);return n<0?void 0:t[n][1]},ku.prototype.has=function(e){return Bu(this.__data__,e)>-1},ku.prototype.set=function(e,t){var n=this.__data__,r=Bu(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Pu=Cl(_a,"Map");function zu(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Fu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fu.prototype.clear=function(){this.size=0,this.__data__={hash:new Nu,map:new(Pu||ku),string:new Nu}},Fu.prototype.delete=function(e){var t=zu(this,e).delete(e);return this.size-=t?1:0,t},Fu.prototype.get=function(e){return zu(this,e).get(e)},Fu.prototype.has=function(e){return zu(this,e).has(e)},Fu.prototype.set=function(e,t){var n=zu(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Hu(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Hu.Cache||Fu),n}Hu.Cache=Fu;var $u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ju=/\\(\\)?/g,Wu=function(e){var t=Hu(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($u,(function(e,n,r,o){t.push(r?o.replace(ju,"$1"):n||e)})),t})),Gu=Wu;function Vu(e){return null==e?"":Ga(e)}function Uu(e,t){return $a(e)?e:Tu(e,t)?[e]:Gu(Vu(e))}function Zu(e){if("string"==typeof e||za(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function Yu(e,t){for(var n=0,r=(t=Uu(t,e)).length;null!=e&&n<r;)e=e[Zu(t[n++])];return n&&n==r?e:void 0}function Xu(e,t,n){var r=null==e?void 0:Yu(e,t);return void 0===r?n:r}function qu(e,t){for(var n=-1,r=t.length,o=Array(r),i=null==e;++n<r;)o[n]=i?void 0:Xu(e,t[n]);return o}function Ku(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var Qu=Ta?Ta.isConcatSpreadable:void 0;function Ju(e){return $a(e)||Ys(e)||!!(Qu&&e&&e[Qu])}function ec(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Ju),o||(o=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?ec(l,t-1,n,r,o):Ku(o,l):r||(o[o.length]=l)}return o}function tc(e){return(null==e?0:e.length)?ec(e,1):[]}function nc(e){return is(Bs(e,void 0,tc),e+"")}var rc=nc(qu),oc=cu(Object.getPrototypeOf,Object),ic=Function.prototype,ac=Object.prototype,lc=ic.toString,sc=ac.hasOwnProperty,uc=lc.call(Object);function cc(e){if(!Pa(e)||"[object Object]"!=ka(e))return!1;var t=oc(e);if(null===t)return!0;var n=sc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&lc.call(n)==uc}function dc(e){if(!Pa(e))return!1;var t=ka(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!cc(e)}var hc=Ds((function(e,t){try{return Tl(e,void 0,t)}catch(e){return dc(e)?e:new Error(e)}})),fc=hc;function pc(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=il(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var vc=Ds((function(e,t,n){var r=1;if(n.length){var o=Cs(n,ps(vc));r|=32}return Is(e,r,t,n,o)}));vc.placeholder={};var gc=vc,mc=nc((function(e,t){return as(t,(function(t){t=Zu(t),_s(e,t,gc(e[t],e))})),e})),yc=mc,bc=Ds((function(e,t,n){var r=3;if(n.length){var o=Cs(n,ps(bc));r|=32}return Is(t,r,e,n,o)}));bc.placeholder={};var Cc=bc;function xc(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function wc(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:xc(e,t,n)}var Sc=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Ec(e){return Sc.test(e)}var Oc="\\ud800-\\udfff",Ic="["+Oc+"]",Lc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",_c="\\ud83c[\\udffb-\\udfff]",Tc="[^"+Oc+"]",Mc="(?:\\ud83c[\\udde6-\\uddff]){2}",Rc="[\\ud800-\\udbff][\\udc00-\\udfff]",Ac="(?:"+Lc+"|"+_c+")"+"?",Nc="[\\ufe0e\\ufe0f]?",Bc=Nc+Ac+("(?:\\u200d(?:"+[Tc,Mc,Rc].join("|")+")"+Nc+Ac+")*"),Dc="(?:"+[Tc+Lc+"?",Lc,Mc,Rc,Ic].join("|")+")",kc=RegExp(_c+"(?="+_c+")|"+Dc+Bc,"g");function Pc(e){return Ec(e)?function(e){return e.match(kc)||[]}(e):function(e){return e.split("")}(e)}function zc(e){return function(t){var n=Ec(t=Vu(t))?Pc(t):void 0,r=n?n[0]:t.charAt(0),o=n?wc(n,1).join(""):t.slice(1);return r[e]()+o}}var Fc=zc("toUpperCase");function Hc(e){return Fc(Vu(e).toLowerCase())}function $c(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function jc(e){return function(t){return null==e?void 0:e[t]}}var Wc=jc({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Gc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Vc=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function Uc(e){return(e=Vu(e))&&e.replace(Gc,Wc).replace(Vc,"")}var Zc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Yc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Xc="\\ud800-\\udfff",qc="\\u2700-\\u27bf",Kc="a-z\\xdf-\\xf6\\xf8-\\xff",Qc="A-Z\\xc0-\\xd6\\xd8-\\xde",Jc="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ed="["+Jc+"]",td="\\d+",nd="["+qc+"]",rd="["+Kc+"]",od="[^"+Xc+Jc+td+qc+Kc+Qc+"]",id="(?:\\ud83c[\\udde6-\\uddff]){2}",ad="[\\ud800-\\udbff][\\udc00-\\udfff]",ld="["+Qc+"]",sd="(?:"+rd+"|"+od+")",ud="(?:"+ld+"|"+od+")",cd="(?:['’](?:d|ll|m|re|s|t|ve))?",dd="(?:['’](?:D|LL|M|RE|S|T|VE))?",hd="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",fd="[\\ufe0e\\ufe0f]?",pd=fd+hd+("(?:\\u200d(?:"+["[^"+Xc+"]",id,ad].join("|")+")"+fd+hd+")*"),vd="(?:"+[nd,id,ad].join("|")+")"+pd,gd=RegExp([ld+"?"+rd+"+"+cd+"(?="+[ed,ld,"$"].join("|")+")",ud+"+"+dd+"(?="+[ed,ld+sd,"$"].join("|")+")",ld+"?"+sd+"+"+cd,ld+"+"+dd,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",td,vd].join("|"),"g");function md(e,t,n){return e=Vu(e),void 0===(t=n?void 0:t)?function(e){return Yc.test(e)}(e)?function(e){return e.match(gd)||[]}(e):function(e){return e.match(Zc)||[]}(e):e.match(t)||[]}var yd=RegExp("['’]","g");function bd(e){return function(t){return $c(md(Uc(t).replace(yd,"")),e,"")}}var Cd=bd((function(e,t,n){return t=t.toLowerCase(),e+(n?Hc(t):t)})),xd=Cd;var wd=_a.isFinite,Sd=Math.min;function Ed(e){var t=Math[e];return function(e,n){if(e=nl(e),(n=null==n?0:Sd(il(n),292))&&wd(e)){var r=(Vu(e)+"e").split("e");return+((r=(Vu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Od=Ed("ceil");function Id(e){var t=Zl(e);return t.__chain__=!0,t}var Ld=Math.ceil,_d=Math.max;function Td(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Md(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=nl(n))==n?n:0),void 0!==t&&(t=(t=nl(t))==t?t:0),Td(nl(e),t,n)}function Rd(e){var t=this.__data__=new ku(e);this.size=t.size}function Ad(e,t){return e&&As(t,pu(t),e)}Rd.prototype.clear=function(){this.__data__=new ku,this.size=0},Rd.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Rd.prototype.get=function(e){return this.__data__.get(e)},Rd.prototype.has=function(e){return this.__data__.has(e)},Rd.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ku){var r=n.__data__;if(!Pu||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Fu(r)}return n.set(e,t),this.size=n.size,this};var Nd="object"==typeof exports&&exports&&!exports.nodeType&&exports,Bd=Nd&&e&&!e.nodeType&&e,Dd=Bd&&Bd.exports===Nd?_a.Buffer:void 0,kd=Dd?Dd.allocUnsafe:void 0;function Pd(e,t){if(t)return e.slice();var n=e.length,r=kd?kd(n):new e.constructor(n);return e.copy(r),r}function zd(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Fd(){return[]}var Hd=Object.prototype.propertyIsEnumerable,$d=Object.getOwnPropertySymbols,jd=$d?function(e){return null==e?[]:(e=Object(e),zd($d(e),(function(t){return Hd.call(e,t)})))}:Fd,Wd=jd;var Gd=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ku(t,Wd(e)),e=oc(e);return t}:Fd,Vd=Gd;function Ud(e,t,n){var r=t(e);return $a(e)?r:Ku(r,n(e))}function Zd(e){return Ud(e,pu,Wd)}function Yd(e){return Ud(e,Cu,Vd)}var Xd=Cl(_a,"DataView"),qd=Cl(_a,"Promise"),Kd=Cl(_a,"Set"),Qd="[object Map]",Jd="[object Promise]",eh="[object Set]",th="[object WeakMap]",nh="[object DataView]",rh=hl(Xd),oh=hl(Pu),ih=hl(qd),ah=hl(Kd),lh=hl(xl),sh=ka;(Xd&&sh(new Xd(new ArrayBuffer(1)))!=nh||Pu&&sh(new Pu)!=Qd||qd&&sh(qd.resolve())!=Jd||Kd&&sh(new Kd)!=eh||xl&&sh(new xl)!=th)&&(sh=function(e){var t=ka(e),n="[object Object]"==t?e.constructor:void 0,r=n?hl(n):"";if(r)switch(r){case rh:return nh;case oh:return Qd;case ih:return Jd;case ah:return eh;case lh:return th}return t});var uh=sh,ch=Object.prototype.hasOwnProperty;var dh=_a.Uint8Array;function hh(e){var t=new e.constructor(e.byteLength);return new dh(t).set(new dh(e)),t}var fh=/\w*$/;var ph=Ta?Ta.prototype:void 0,vh=ph?ph.valueOf:void 0;function gh(e,t){var n=t?hh(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function mh(e,t,n){var r,o=e.constructor;switch(t){case"[object ArrayBuffer]":return hh(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var n=t?hh(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gh(e,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,fh.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return r=e,vh?Object(vh.call(r)):{}}}function yh(e){return"function"!=typeof e.constructor||$s(e)?{}:Ll(oc(e))}var bh=iu&&iu.isMap,Ch=bh?tu(bh):function(e){return Pa(e)&&"[object Map]"==uh(e)};var xh=iu&&iu.isSet,wh=xh?tu(xh):function(e){return Pa(e)&&"[object Set]"==uh(e)},Sh="[object Arguments]",Eh="[object Function]",Oh="[object Object]",Ih={};function Lh(e,t,n,r,o,i){var a,l=1&t,s=2&t,u=4&t;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!Ka(e))return e;var c=$a(e);if(c){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ch.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Gl(e,a)}else{var d=uh(e),h=d==Eh||"[object GeneratorFunction]"==d;if(Js(e))return Pd(e,l);if(d==Oh||d==Sh||h&&!o){if(a=s||h?{}:yh(e),!l)return s?function(e,t){return As(e,Vd(e),t)}(e,function(e,t){return e&&As(t,Cu(t),e)}(a,e)):function(e,t){return As(e,Wd(e),t)}(e,Ad(a,e))}else{if(!Ih[d])return o?e:{};a=mh(e,d,l)}}i||(i=new Rd);var f=i.get(e);if(f)return f;i.set(e,a),wh(e)?e.forEach((function(r){a.add(Lh(r,t,n,r,e,i))})):Ch(e)&&e.forEach((function(r,o){a.set(o,Lh(r,t,n,o,e,i))}));var p=c?void 0:(u?s?Yd:Zd:s?Cu:pu)(e);return as(p||e,(function(r,o){p&&(r=e[o=r]),Rs(a,o,Lh(r,t,n,o,e,i))})),a}Ih[Sh]=Ih["[object Array]"]=Ih["[object ArrayBuffer]"]=Ih["[object DataView]"]=Ih["[object Boolean]"]=Ih["[object Date]"]=Ih["[object Float32Array]"]=Ih["[object Float64Array]"]=Ih["[object Int8Array]"]=Ih["[object Int16Array]"]=Ih["[object Int32Array]"]=Ih["[object Map]"]=Ih["[object Number]"]=Ih[Oh]=Ih["[object RegExp]"]=Ih["[object Set]"]=Ih["[object String]"]=Ih["[object Symbol]"]=Ih["[object Uint8Array]"]=Ih["[object Uint8ClampedArray]"]=Ih["[object Uint16Array]"]=Ih["[object Uint32Array]"]=!0,Ih["[object Error]"]=Ih[Eh]=Ih["[object WeakMap]"]=!1;function _h(e){return Lh(e,4)}function Th(e){return Lh(e,5)}function Mh(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}function Rh(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Ku($a(n)?Gl(n):[n],ec(t,1))}function Ah(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Fu;++t<n;)this.add(e[t])}function Nh(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Bh(e,t){return e.has(t)}Ah.prototype.add=Ah.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ah.prototype.has=function(e){return this.__data__.has(e)};function Dh(e,t,n,r,o,i){var a=1&n,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,f=2&n?new Ah:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var p=e[d],v=t[d];if(r)var g=a?r(v,p,d,t,e,i):r(p,v,d,e,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!Nh(t,(function(e,t){if(!Bh(f,t)&&(p===e||o(p,e,n,r,i)))return f.push(t)}))){h=!1;break}}else if(p!==v&&!o(p,v,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function kh(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Ph(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var zh=Ta?Ta.prototype:void 0,Fh=zh?zh.valueOf:void 0;var Hh=Object.prototype.hasOwnProperty;var $h="[object Arguments]",jh="[object Array]",Wh="[object Object]",Gh=Object.prototype.hasOwnProperty;function Vh(e,t,n,r,o,i){var a=$a(e),l=$a(t),s=a?jh:uh(e),u=l?jh:uh(t),c=(s=s==$h?Wh:s)==Wh,d=(u=u==$h?Wh:u)==Wh,h=s==u;if(h&&Js(e)){if(!Js(t))return!1;a=!0,c=!1}if(h&&!c)return i||(i=new Rd),a||lu(e)?Dh(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new dh(e),new dh(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ts(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=kh;case"[object Set]":var s=1&r;if(l||(l=Ph),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=Dh(l(e),l(t),r,o,i,a);return a.delete(e),c;case"[object Symbol]":if(Fh)return Fh.call(e)==Fh.call(t)}return!1}(e,t,s,n,r,o,i);if(!(1&n)){var f=c&&Gh.call(e,"__wrapped__"),p=d&&Gh.call(t,"__wrapped__");if(f||p){var v=f?e.value():e,g=p?t.value():t;return i||(i=new Rd),o(v,g,n,r,i)}}return!!h&&(i||(i=new Rd),function(e,t,n,r,o,i){var a=1&n,l=Zd(e),s=l.length;if(s!=Zd(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:Hh.call(t,c)))return!1}var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var f=!0;i.set(e,t),i.set(t,e);for(var p=a;++u<s;){var v=e[c=l[u]],g=t[c];if(r)var m=a?r(g,v,c,t,e,i):r(v,g,c,e,t,i);if(!(void 0===m?v===g||o(v,g,n,r,i):m)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,o,i))}function Uh(e,t,n,r,o){return e===t||(null==e||null==t||!Pa(e)&&!Pa(t)?e!=e&&t!=t:Vh(e,t,n,r,Uh,o))}function Zh(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var s=(l=n[o])[0],u=e[s],c=l[1];if(a&&l[2]){if(void 0===u&&!(s in e))return!1}else{var d=new Rd;if(r)var h=r(u,c,s,e,t,d);if(!(void 0===h?Uh(c,u,3,r,d):h))return!1}}return!0}function Yh(e){return e==e&&!Ka(e)}function Xh(e){for(var t=pu(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Yh(o)]}return t}function qh(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function Kh(e){var t=Xh(e);return 1==t.length&&t[0][2]?qh(t[0][0],t[0][1]):function(n){return n===e||Zh(n,e,t)}}function Qh(e,t){return null!=e&&t in Object(e)}function Jh(e,t,n){for(var r=-1,o=(t=Uu(t,e)).length,i=!1;++r<o;){var a=Zu(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ks(o)&&gs(a,o)&&($a(e)||Ys(e))}function ef(e,t){return null!=e&&Jh(e,t,Qh)}function tf(e,t){return Tu(e)&&Yh(t)?qh(Zu(e),t):function(n){var r=Xu(n,e);return void 0===r&&r===t?ef(n,e):Uh(t,r,3)}}function nf(e){return function(t){return null==t?void 0:t[e]}}function rf(e){return Tu(e)?nf(Zu(e)):function(e){return function(t){return Yu(t,e)}}(e)}function of(e){return"function"==typeof e?e:null==e?al:"object"==typeof e?$a(e)?tf(e[0],e[1]):Kh(e):rf(e)}function af(e){var t=null==e?0:e.length,n=of;return e=t?Ha(e,(function(e){if("function"!=typeof e[1])throw new TypeError("Expected a function");return[n(e[0]),e[1]]})):[],Ds((function(n){for(var r=-1;++r<t;){var o=e[r];if(Tl(o[0],this,n))return Tl(o[1],this,n)}}))}function lf(e,t,n){var r=n.length;if(null==e)return!r;for(e=Object(e);r--;){var o=n[r],i=t[o],a=e[o];if(void 0===a&&!(o in e)||!i(a))return!1}return!0}function sf(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function uf(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),l=a.length;l--;){var s=a[e?l:++o];if(!1===n(i[s],s,i))break}return t}}var cf=uf();function df(e,t){return e&&cf(e,t,pu)}function hf(e,t){return function(n,r){if(null==n)return n;if(!Ps(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}var ff=hf(df);function pf(e,t,n,r){return ff(e,(function(e,o,i){t(r,e,n(e),i)})),r}function vf(e,t){return function(n,r){var o=$a(n)?sf:pf,i=t?t():{};return o(n,e,of(r),i)}}var gf=Object.prototype.hasOwnProperty,mf=vf((function(e,t,n){gf.call(e,n)?++e[n]:_s(e,n,1)})),yf=mf;function bf(e,t,n){var r=Is(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=bf.placeholder,r}bf.placeholder={};function Cf(e,t,n){var r=Is(e,16,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Cf.placeholder,r}Cf.placeholder={};var xf=function(){return _a.Date.now()},wf=Math.max,Sf=Math.min;function Ef(e,t,n){var r,o,i,a,l,s,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function p(e){return u=e,l=setTimeout(g,t),c?f(e):a}function v(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-u>=i}function g(){var e=xf();if(v(e))return m(e);l=setTimeout(g,function(e){var n=t-(e-s);return d?Sf(n,i-(e-u)):n}(e))}function m(e){return l=void 0,h&&r?f(e):(r=o=void 0,a)}function y(){var e=xf(),n=v(e);if(r=arguments,o=this,s=e,n){if(void 0===l)return p(s);if(d)return clearTimeout(l),l=setTimeout(g,t),f(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=nl(t)||0,Ka(n)&&(c=!!n.leading,i=(d="maxWait"in n)?wf(nl(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=s=o=l=void 0},y.flush=function(){return void 0===l?a:m(xf())},y}var Of=Object.prototype,If=Of.hasOwnProperty,Lf=Ds((function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&zs(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=Cu(i),l=-1,s=a.length;++l<s;){var u=a[l],c=e[u];(void 0===c||Ts(c,Of[u])&&!If.call(e,u))&&(e[u]=i[u])}return e})),_f=Lf;function Tf(e,t,n){(void 0!==n&&!Ts(e[t],n)||void 0===n&&!(t in e))&&_s(e,t,n)}function Mf(e){return Pa(e)&&Ps(e)}function Rf(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function Af(e){return As(e,Cu(e))}function Nf(e,t,n,r,o){e!==t&&cf(t,(function(i,a){if(o||(o=new Rd),Ka(i))!function(e,t,n,r,o,i,a){var l=Rf(e,n),s=Rf(t,n),u=a.get(s);if(u)Tf(e,n,u);else{var c=i?i(l,s,n+"",e,t,a):void 0,d=void 0===c;if(d){var h=$a(s),f=!h&&Js(s),p=!h&&!f&&lu(s);c=s,h||f||p?$a(l)?c=l:Mf(l)?c=Gl(l):f?(d=!1,c=Pd(s,!0)):p?(d=!1,c=gh(s,!0)):c=[]:cc(s)||Ys(s)?(c=l,Ys(l)?c=Af(l):Ka(l)&&!ll(l)||(c=yh(s))):d=!1}d&&(a.set(s,c),o(c,s,r,i,a),a.delete(s)),Tf(e,n,c)}}(e,t,a,n,Nf,r,o);else{var l=r?r(Rf(e,a),i,a+"",e,t,o):void 0;void 0===l&&(l=i),Tf(e,a,l)}}),Cu)}function Bf(e,t,n,r,o,i){return Ka(e)&&Ka(t)&&(i.set(t,e),Nf(e,t,void 0,Bf,i),i.delete(t)),e}var Df=Fs((function(e,t,n,r){Nf(e,t,n,r)})),kf=Df,Pf=Ds((function(e){return e.push(void 0,Bf),Tl(kf,void 0,e)}));function zf(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,n)}),t)}var Ff=Ds((function(e,t){return zf(e,1,t)})),Hf=Ff,$f=Ds((function(e,t,n){return zf(e,nl(t)||0,n)})),jf=$f;function Wf(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Gf(e,t,n,r){var o=-1,i=cs,a=!0,l=e.length,s=[],u=t.length;if(!l)return s;n&&(t=Ha(t,tu(n))),r?(i=Wf,a=!1):t.length>=200&&(i=Bh,a=!1,t=new Ah(t));e:for(;++o<l;){var c=e[o],d=null==n?c:n(c);if(c=r||0!==c?c:0,a&&d==d){for(var h=u;h--;)if(t[h]===d)continue e;s.push(c)}else i(t,d,r)||s.push(c)}return s}var Vf=Ds((function(e,t){return Mf(e)?Gf(e,ec(t,1,Mf,!0)):[]})),Uf=Vf;function Zf(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Yf=Ds((function(e,t){var n=Zf(t);return Mf(n)&&(n=void 0),Mf(e)?Gf(e,ec(t,1,Mf,!0),of(n)):[]})),Xf=Yf,qf=Ds((function(e,t){var n=Zf(t);return Mf(n)&&(n=void 0),Mf(e)?Gf(e,ec(t,1,Mf,!0),void 0,n):[]})),Kf=qf,Qf=Va((function(e,t){return e/t}),1);function Jf(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?xc(e,r?0:i,r?i+1:o):xc(e,r?i+1:0,r?o:i)}function ep(e){return"function"==typeof e?e:al}function tp(e,t){return($a(e)?as:ff)(e,ep(t))}function np(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}var rp=uf(!0);function op(e,t){return e&&rp(e,t,pu)}var ip=hf(op,!0);function ap(e,t){return($a(e)?np:ip)(e,ep(t))}function lp(e,t,n){e=Vu(e),t=Ga(t);var r=e.length,o=n=void 0===n?r:Td(il(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t}function sp(e){return function(t){var n=uh(t);return"[object Map]"==n?kh(t):"[object Set]"==n?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Ha(t,(function(t){return[t,e[t]]}))}(t,e(t))}}var up=sp(pu),cp=sp(Cu),dp=jc({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),hp=/[&<>"']/g,fp=RegExp(hp.source);function pp(e){return(e=Vu(e))&&fp.test(e)?e.replace(hp,dp):e}var vp=/[\\^$.*+?()[\]{}|]/g,gp=RegExp(vp.source);function mp(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function yp(e,t){var n=!0;return ff(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function bp(e,t,n){var r=$a(e)?mp:yp;return n&&zs(e,t,n)&&(t=void 0),r(e,of(t))}function Cp(e){return e?Td(il(e),0,4294967295):0}function xp(e,t){var n=[];return ff(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function wp(e,t){return($a(e)?zd:xp)(e,of(t))}function Sp(e){return function(t,n,r){var o=Object(t);if(!Ps(t)){var i=of(n);t=pu(t),n=function(e){return i(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:void 0}}var Ep=Math.max;function Op(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:il(n);return o<0&&(o=Ep(r+o,0)),ls(e,of(t),o)}var Ip=Sp(Op);function Lp(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}var _p=Math.max,Tp=Math.min;function Mp(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=il(n),o=n<0?_p(r+o,0):Tp(o,r-1)),ls(e,of(t),o,!0)}var Rp=Sp(Mp);function Ap(e){return e&&e.length?e[0]:void 0}function Np(e,t){var n=-1,r=Ps(e)?Array(e.length):[];return ff(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function Bp(e,t){return($a(e)?Ha:Np)(e,of(t))}var Dp=Ed("floor");function kp(e){return nc((function(t){var n=t.length,r=n,o=Wl.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new TypeError("Expected a function");if(o&&!a&&"wrapper"==jl(i))var a=new Wl([],!0)}for(r=a?r:n;++r<n;){var l=jl(i=t[r]),s="wrapper"==l?Fl(i):void 0;a=s&&Yl(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[jl(s[0])].apply(a,s[3]):1==i.length&&Yl(i)?a[l]():a.thru(i)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&$a(r))return a.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}var Pp=kp(),zp=kp(!0);function Fp(e,t){return null==e?e:cf(e,ep(t),Cu)}function Hp(e,t){return zd(t,(function(t){return ll(e[t])}))}var $p=Object.prototype.hasOwnProperty,jp=vf((function(e,t,n){$p.call(e,n)?e[n].push(t):_s(e,n,[t])})),Wp=jp;function Gp(e,t){return e>t}function Vp(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=nl(t),n=nl(n)),e(t,n)}}var Up=Vp(Gp),Zp=Vp((function(e,t){return e>=t})),Yp=Object.prototype.hasOwnProperty;function Xp(e,t){return null!=e&&Yp.call(e,t)}function qp(e,t){return null!=e&&Jh(e,t,Xp)}var Kp=Math.max,Qp=Math.min;function Jp(e,t,n){return t=ol(t),void 0===n?(n=t,t=0):n=ol(n),function(e,t,n){return e>=Qp(t,n)&&e<Kp(t,n)}(e=nl(e),t,n)}function ev(e){return"string"==typeof e||!$a(e)&&Pa(e)&&"[object String]"==ka(e)}function tv(e,t){return Ha(t,(function(t){return e[t]}))}function nv(e){return null==e?[]:tv(e,pu(e))}var rv=Math.max;function ov(e,t,n,r){e=Ps(e)?e:nv(e),n=n&&!r?il(n):0;var o=e.length;return n<0&&(n=rv(o+n,0)),ev(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&us(e,t,n)>-1}var iv=Math.max;function av(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:il(n);return o<0&&(o=iv(r+o,0)),us(e,t,o)}var lv=Math.min;function sv(e,t,n){for(var r=n?Wf:cs,o=e[0].length,i=e.length,a=i,l=Array(i),s=1/0,u=[];a--;){var c=e[a];a&&t&&(c=Ha(c,tu(t))),s=lv(c.length,s),l[a]=!n&&(t||o>=120&&c.length>=120)?new Ah(a&&c):void 0}c=e[0];var d=-1,h=l[0];e:for(;++d<o&&u.length<s;){var f=c[d],p=t?t(f):f;if(f=n||0!==f?f:0,!(h?Bh(h,p):r(u,p,n))){for(a=i;--a;){var v=l[a];if(!(v?Bh(v,p):r(e[a],p,n)))continue e}h&&h.push(p),u.push(f)}}return u}function uv(e){return Mf(e)?e:[]}var cv=Ds((function(e){var t=Ha(e,uv);return t.length&&t[0]===e[0]?sv(t):[]})),dv=Ds((function(e){var t=Zf(e),n=Ha(e,uv);return t===Zf(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?sv(n,of(t)):[]})),hv=dv,fv=Ds((function(e){var t=Zf(e),n=Ha(e,uv);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?sv(n,void 0,t):[]}));function pv(e,t){return function(n,r){return function(e,t,n,r){return df(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}var vv=Object.prototype.toString,gv=pv((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=vv.call(t)),e[t]=n}),ts(al)),mv=gv,yv=Object.prototype,bv=yv.hasOwnProperty,Cv=yv.toString,xv=pv((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Cv.call(t)),bv.call(e,t)?e[t].push(n):e[t]=[n]}),of),wv=xv;function Sv(e,t){return t.length<2?e:Yu(e,xc(t,0,-1))}function Ev(e,t,n){var r=null==(e=Sv(e,t=Uu(t,e)))?e:e[Zu(Zf(t))];return null==r?void 0:Tl(r,e,n)}var Ov=Ds(Ev),Iv=Ds((function(e,t,n){var r=-1,o="function"==typeof t,i=Ps(e)?Array(e.length):[];return ff(e,(function(e){i[++r]=o?Tl(t,e,n):Ev(e,t,n)})),i})),Lv=Iv;var _v=iu&&iu.isArrayBuffer,Tv=_v?tu(_v):function(e){return Pa(e)&&"[object ArrayBuffer]"==ka(e)};function Mv(e){return!0===e||!1===e||Pa(e)&&"[object Boolean]"==ka(e)}var Rv=iu&&iu.isDate,Av=Rv?tu(Rv):function(e){return Pa(e)&&"[object Date]"==ka(e)};var Nv=Object.prototype.hasOwnProperty;function Bv(e){if(null==e)return!0;if(Ps(e)&&($a(e)||"string"==typeof e||"function"==typeof e.splice||Js(e)||lu(e)||Ys(e)))return!e.length;var t=uh(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if($s(e))return!fu(e).length;for(var n in e)if(Nv.call(e,n))return!1;return!0}function Dv(e,t){return Uh(e,t)}var kv=_a.isFinite;function Pv(e){return"number"==typeof e&&e==il(e)}function zv(e){return"number"==typeof e||Pa(e)&&"[object Number]"==ka(e)}function Fv(e){return zv(e)&&e!=+e}var Hv=ul?ll:Xs;function $v(e){return null==e}var jv=iu&&iu.isRegExp,Wv=jv?tu(jv):function(e){return Pa(e)&&"[object RegExp]"==ka(e)},Gv=9007199254740991;function Vv(e){return void 0===e}var Uv=Array.prototype.join;var Zv=bd((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Yv=Zv,Xv=vf((function(e,t,n){_s(e,n,t)})),qv=Xv;var Kv=Math.max,Qv=Math.min;var Jv=bd((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),eg=Jv,tg=zc("toLowerCase");function ng(e,t){return e<t}var rg=Vp(ng),og=Vp((function(e,t){return e<=t}));function ig(e,t){var n={};return t=of(t),df(e,(function(e,r,o){_s(n,t(e,r,o),e)})),n}function ag(e){return Kh(Lh(e,1))}function lg(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(void 0===l?a==a&&!za(a):n(a,l)))var l=a,s=i}return s}function sg(e){return e&&e.length?lg(e,al,Gp):void 0}function ug(e,t){return e&&e.length?lg(e,of(t),Gp):void 0}function cg(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}function dg(e,t){var n=null==e?0:e.length;return n?cg(e,t)/n:NaN}var hg=Fs((function(e,t,n){Nf(e,t,n)})),fg=hg,pg=Ds((function(e,t){return function(n){return Ev(n,e,t)}})),vg=pg,gg=Ds((function(e,t){return function(n){return Ev(e,n,t)}})),mg=gg;function yg(e){return e&&e.length?lg(e,al,ng):void 0}function bg(e,t,n){var r=pu(t),o=Hp(t,r),i=!(Ka(n)&&"chain"in n&&!n.chain),a=ll(e);return as(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=Gl(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ku([this.value()],arguments))})})),e}var Cg=Va((function(e,t){return e*t}),1);function xg(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var wg=Ta?Ta.iterator:void 0;function Sg(e){if(!e)return[];if(Ps(e))return ev(e)?Pc(e):Gl(e);if(wg&&e[wg])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[wg]());var t=uh(e);return("[object Map]"==t?kh:"[object Set]"==t?Ph:nv)(e)}function Eg(e,t){var n=e.length;if(n)return gs(t+=t<0?n:0,n)?e[t]:void 0}function Og(e,t){return null==(e=Sv(e,t=Uu(t,e)))||delete e[Zu(Zf(t))]}function Ig(e){return cc(e)?void 0:e}var Lg=nc((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ha(t,(function(t){return t=Uu(t,e),r||(r=t.length>1),t})),As(e,Yd(e),n),r&&(n=Lh(n,7,Ig));for(var o=t.length;o--;)Og(n,t[o]);return n})),_g=Lg;function Tg(e,t,n,r){if(!Ka(e))return e;for(var o=-1,i=(t=Uu(t,e)).length,a=i-1,l=e;null!=l&&++o<i;){var s=Zu(t[o]),u=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(o!=a){var c=l[s];void 0===(u=r?r(c,s,l):void 0)&&(u=Ka(c)?c:gs(t[o+1])?[]:{})}Rs(l,s,u),l=l[s]}return e}function Mg(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],l=Yu(e,a);n(l,a)&&Tg(i,Uu(a,e),l)}return i}function Rg(e,t){if(null==e)return{};var n=Ha(Yd(e),(function(e){return[e]}));return t=of(t),Mg(e,n,(function(e,n){return t(e,n[0])}))}function Ag(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=za(e),a=void 0!==t,l=null===t,s=t==t,u=za(t);if(!l&&!u&&!i&&e>t||i&&a&&s&&!l&&!u||r&&a&&s||!n&&s||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||l&&n&&o||!a&&o||!s)return-1}return 0}function Ng(e,t,n){t=t.length?Ha(t,(function(e){return $a(e)?function(t){return Yu(t,1===e.length?e[0]:e)}:e})):[al];var r=-1;t=Ha(t,tu(of));var o=Np(e,(function(e,n,o){var i=Ha(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,l=n.length;++r<a;){var s=Ag(o[r],i[r]);if(s)return r>=l?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Bg(e,t,n,r){return null==e?[]:($a(t)||(t=null==t?[]:[t]),$a(n=r?void 0:n)||(n=null==n?[]:[n]),Ng(e,t,n))}function Dg(e){return nc((function(t){return t=Ha(t,tu(of)),Ds((function(n){var r=this;return e(t,(function(e){return Tl(e,r,n)}))}))}))}var kg=Dg(Ha),Pg=Ds,zg=Math.min,Fg=Pg((function(e,t){var n=(t=1==t.length&&$a(t[0])?Ha(t[0],tu(of)):Ha(ec(t,1),tu(of))).length;return Ds((function(r){for(var o=-1,i=zg(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Tl(e,this,r)}))})),Hg=Fg,$g=Dg(mp),jg=Dg(Nh),Wg=Math.floor;function Gg(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Wg(t/2))&&(e+=e)}while(t);return n}var Vg=nf("length"),Ug="\\ud800-\\udfff",Zg="["+Ug+"]",Yg="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Xg="\\ud83c[\\udffb-\\udfff]",qg="[^"+Ug+"]",Kg="(?:\\ud83c[\\udde6-\\uddff]){2}",Qg="[\\ud800-\\udbff][\\udc00-\\udfff]",Jg="(?:"+Yg+"|"+Xg+")"+"?",em="[\\ufe0e\\ufe0f]?",tm=em+Jg+("(?:\\u200d(?:"+[qg,Kg,Qg].join("|")+")"+em+Jg+")*"),nm="(?:"+[qg+Yg+"?",Yg,Kg,Qg,Zg].join("|")+")",rm=RegExp(Xg+"(?="+Xg+")|"+nm+tm,"g");function om(e){return Ec(e)?function(e){for(var t=rm.lastIndex=0;rm.test(e);)++t;return t}(e):Vg(e)}var im=Math.ceil;function am(e,t){var n=(t=void 0===t?" ":Ga(t)).length;if(n<2)return n?Gg(t,e):t;var r=Gg(t,im(e/om(t)));return Ec(t)?wc(Pc(r),0,e).join(""):r.slice(0,e)}var lm=Math.ceil,sm=Math.floor;var um=/^\s+/,cm=_a.parseInt;var dm=Ds((function(e,t){return Is(e,32,void 0,t,Cs(t,ps(dm)))}));dm.placeholder={};var hm=dm,fm=Ds((function(e,t){return Is(e,64,void 0,t,Cs(t,ps(fm)))}));fm.placeholder={};var pm=fm,vm=vf((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),gm=vm;var mm=nc((function(e,t){return null==e?{}:function(e,t){return Mg(e,t,(function(t,n){return ef(e,n)}))}(e,t)})),ym=mm;function bm(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}var Cm=Array.prototype.splice;function xm(e,t,n,r){var o=r?bm:us,i=-1,a=t.length,l=e;for(e===t&&(t=Gl(t)),n&&(l=Ha(e,tu(n)));++i<a;)for(var s=0,u=t[i],c=n?n(u):u;(s=o(l,c,s,r))>-1;)l!==e&&Cm.call(l,s,1),Cm.call(e,s,1);return e}function wm(e,t){return e&&e.length&&t&&t.length?xm(e,t):e}var Sm=Ds(wm);var Em=Array.prototype.splice;function Om(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;gs(o)?Em.call(e,o,1):Og(e,o)}}return e}var Im=nc((function(e,t){var n=null==e?0:e.length,r=qu(e,t);return Om(e,Ha(t,(function(e){return gs(e,n)?+e:e})).sort(Ag)),r})),Lm=Im,_m=Math.floor,Tm=Math.random;function Mm(e,t){return e+_m(Tm()*(t-e+1))}var Rm=parseFloat,Am=Math.min,Nm=Math.random;var Bm=Math.ceil,Dm=Math.max;function km(e){return function(t,n,r){return r&&"number"!=typeof r&&zs(t,n,r)&&(n=r=void 0),t=ol(t),void 0===n?(n=t,t=0):n=ol(n),function(e,t,n,r){for(var o=-1,i=Dm(Bm((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}(t,n,r=void 0===r?t<n?1:-1:ol(r),e)}}var Pm=km(),zm=km(!0),Fm=nc((function(e,t){return Is(e,256,void 0,void 0,void 0,t)})),Hm=Fm;function $m(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function jm(e,t,n){var r=$a(e)?$c:$m,o=arguments.length<3;return r(e,of(t),n,o,ff)}function Wm(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Gm(e,t,n){return t=(n?zs(e,t,n):void 0===t)?1:il(t),Gg(Vu(e),t)}var Vm=Array.prototype.reverse;function Um(e){return null==e?e:Vm.call(e)}var Zm=Ed("round");function Ym(e){var t=e.length;return t?e[Mm(0,t-1)]:void 0}function Xm(e){return Ym(nv(e))}function qm(e,t){var n=-1,r=e.length,o=r-1;for(t=void 0===t?r:t;++n<t;){var i=Mm(n,o),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}function Km(e,t){return qm(Gl(e),Td(t,0,e.length))}function Qm(e,t){var n=nv(e);return qm(n,Td(t,0,n.length))}function Jm(e,t,n){return null==e?e:Tg(e,t,n)}function ey(e){return qm(Gl(e))}function ty(e){return qm(nv(e))}function ny(e){if(null==e)return 0;if(Ps(e))return ev(e)?om(e):e.length;var t=uh(e);return"[object Map]"==t||"[object Set]"==t?e.size:fu(e).length}var ry=bd((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),oy=ry;function iy(e,t){var n;return ff(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}var ay=Ds((function(e,t){if(null==e)return[];var n=t.length;return n>1&&zs(e,t[0],t[1])?t=[]:n>2&&zs(t[0],t[1],t[2])&&(t=[t[0]]),Ng(e,ec(t,1),[])})),ly=ay,sy=Math.floor,uy=Math.min;function cy(e,t,n,r){var o=0,i=null==e?0:e.length;if(0===i)return 0;for(var a=(t=n(t))!=t,l=null===t,s=za(t),u=void 0===t;o<i;){var c=sy((o+i)/2),d=n(e[c]),h=void 0!==d,f=null===d,p=d==d,v=za(d);if(a)var g=r||p;else g=u?p&&(r||h):l?p&&h&&(r||!f):s?p&&h&&!f&&(r||!v):!f&&!v&&(r?d<=t:d<t);g?o=c+1:i=c}return uy(i,4294967294)}function dy(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!za(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return cy(e,t,al,n)}function hy(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],l=t?t(a):a;if(!n||!Ts(l,s)){var s=l;i[o++]=0===a?0:a}}return i}function fy(e,t,n){return n&&"number"!=typeof n&&zs(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=Vu(e))&&("string"==typeof t||null!=t&&!Wv(t))&&!(t=Ga(t))&&Ec(e)?wc(Pc(e),0,n):e.split(t,n):[]}var py=Math.max;var vy=bd((function(e,t,n){return e+(n?" ":"")+Fc(t)})),gy=vy;function my(){return!0}var yy=Va((function(e,t){return e-t}),0);function by(e,t){return e&&e.length?cg(e,of(t)):0}var Cy=Object.prototype,xy=Cy.hasOwnProperty;function wy(e,t,n,r){return void 0===e||Ts(e,Cy[n])&&!xy.call(r,n)?t:e}var Sy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Ey(e){return"\\"+Sy[e]}var Oy=/<%=([\s\S]+?)%>/g,Iy={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Oy,variable:"",imports:{_:{escape:pp}}},Ly=/\b__p \+= '';/g,_y=/\b(__p \+=) '' \+/g,Ty=/(__e\(.*?\)|\b__t\)) \+\n'';/g,My=/[()=,{}\[\]\/\s]/,Ry=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ay=/($^)/,Ny=/['\n\r\u2028\u2029\\]/g,By=Object.prototype.hasOwnProperty;function Dy(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Ka(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ef(e,t,{leading:r,maxWait:t,trailing:o})}function ky(e,t){return t(e)}var Py=4294967295,zy=Math.min;function Fy(e,t){var n=e;return n instanceof kl&&(n=n.value()),$c(t,(function(e,t){return t.func.apply(t.thisArg,Ku([e],t.args))}),n)}function Hy(){return Fy(this.__wrapped__,this.__actions__)}var $y=9007199254740991;function jy(e){return Vu(e).toUpperCase()}function Wy(e,t){for(var n=e.length;n--&&us(t,e[n],0)>-1;);return n}function Gy(e,t){for(var n=-1,r=e.length;++n<r&&us(t,e[n],0)>-1;);return n}function Vy(e,t,n){if((e=Vu(e))&&(n||void 0===t))return qa(e);if(!e||!(t=Ga(t)))return e;var r=Pc(e),o=Pc(t);return wc(r,Gy(r,o),Wy(r,o)+1).join("")}var Uy=/^\s+/;var Zy=/\w*$/;var Yy=jc({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Xy=/&(?:amp|lt|gt|quot|#39);/g,qy=RegExp(Xy.source);var Ky=Kd&&1/Ph(new Kd([,-0]))[1]==1/0?function(e){return new Kd(e)}:Pl,Qy=Ky;function Jy(e,t,n){var r=-1,o=cs,i=e.length,a=!0,l=[],s=l;if(n)a=!1,o=Wf;else if(i>=200){var u=t?null:Qy(e);if(u)return Ph(u);a=!1,o=Bh,s=new Ah}else s=t?[]:l;e:for(;++r<i;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var h=s.length;h--;)if(s[h]===d)continue e;t&&s.push(d),l.push(c)}else o(s,d,n)||(s!==l&&s.push(d),l.push(c))}return l}var eb=Ds((function(e){return Jy(ec(e,1,Mf,!0))})),tb=Ds((function(e){var t=Zf(e);return Mf(t)&&(t=void 0),Jy(ec(e,1,Mf,!0),of(t))})),nb=tb,rb=Ds((function(e){var t=Zf(e);return t="function"==typeof t?t:void 0,Jy(ec(e,1,Mf,!0),void 0,t)}));function ob(e){return e&&e.length?Jy(e):[]}function ib(e,t){return e&&e.length?Jy(e,of(t)):[]}var ab=0;function lb(e,t){return null==e||Og(e,t)}var sb=Math.max;function ub(e){if(!e||!e.length)return[];var t=0;return e=zd(e,(function(e){if(Mf(e))return t=sb(e.length,t),!0})),js(t,(function(t){return Ha(e,nf(t))}))}function cb(e,t){if(!e||!e.length)return[];var n=ub(e);return null==t?n:Ha(n,(function(e){return Tl(t,void 0,e)}))}function db(e,t,n,r){return Tg(e,t,n(Yu(e,t)),r)}var hb=bd((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),fb=hb;var pb=Ds((function(e,t){return Mf(e)?Gf(e,t):[]})),vb=pb;var gb=nc((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return qu(t,e)};return!(t>1||this.__actions__.length)&&r instanceof kl&&gs(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ky,args:[o],thisArg:void 0}),new Wl(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(o)})),mb=gb;function yb(e,t,n){var r=e.length;if(r<2)return r?Jy(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var a=e[o],l=-1;++l<r;)l!=o&&(i[o]=Gf(i[o]||a,e[l],t,n));return Jy(ec(i,1),t,n)}var bb=Ds((function(e){return yb(zd(e,Mf))})),Cb=Ds((function(e){var t=Zf(e);return Mf(t)&&(t=void 0),yb(zd(e,Mf),of(t))})),xb=Cb,wb=Ds((function(e){var t=Zf(e);return t="function"==typeof t?t:void 0,yb(zd(e,Mf),void 0,t)})),Sb=Ds(ub);function Eb(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var l=r<i?t[r]:void 0;n(a,e[r],l)}return a}var Ob=Ds((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,cb(e,n)})),Ib={chunk:function(e,t,n){t=(n?zs(e,t,n):void 0===t)?1:_d(il(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=Array(Ld(r/t));o<r;)a[i++]=xc(e,o,o+=t);return a},compact:Mh,concat:Rh,difference:Uf,differenceBy:Xf,differenceWith:Kf,drop:function(e,t,n){var r=null==e?0:e.length;return r?xc(e,(t=n||void 0===t?1:il(t))<0?0:t,r):[]},dropRight:function(e,t,n){var r=null==e?0:e.length;return r?xc(e,0,(t=r-(t=n||void 0===t?1:il(t)))<0?0:t):[]},dropRightWhile:function(e,t){return e&&e.length?Jf(e,of(t),!0,!0):[]},dropWhile:function(e,t){return e&&e.length?Jf(e,of(t),!0):[]},fill:function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&zs(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=il(n))<0&&(n=-n>o?0:o+n),(r=void 0===r||r>o?o:il(r))<0&&(r+=o),r=n>r?0:Cp(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},findIndex:Op,findLastIndex:Mp,first:Ap,flatten:tc,flattenDeep:function(e){return(null==e?0:e.length)?ec(e,Infinity):[]},flattenDepth:function(e,t){return(null==e?0:e.length)?ec(e,t=void 0===t?1:il(t)):[]},fromPairs:function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},head:Ap,indexOf:av,initial:function(e){return(null==e?0:e.length)?xc(e,0,-1):[]},intersection:cv,intersectionBy:hv,intersectionWith:fv,join:function(e,t){return null==e?"":Uv.call(e,t)},last:Zf,lastIndexOf:function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return void 0!==n&&(o=(o=il(n))<0?Kv(r+o,0):Qv(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):ls(e,ss,o,!0)},nth:function(e,t){return e&&e.length?Eg(e,il(t)):void 0},pull:Sm,pullAll:wm,pullAllBy:function(e,t,n){return e&&e.length&&t&&t.length?xm(e,t,of(n)):e},pullAllWith:function(e,t,n){return e&&e.length&&t&&t.length?xm(e,t,void 0,n):e},pullAt:Lm,remove:function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=of(t);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Om(e,o),n},reverse:Um,slice:function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&zs(e,t,n)?(t=0,n=r):(t=null==t?0:il(t),n=void 0===n?r:il(n)),xc(e,t,n)):[]},sortedIndex:function(e,t){return dy(e,t)},sortedIndexBy:function(e,t,n){return cy(e,t,of(n))},sortedIndexOf:function(e,t){var n=null==e?0:e.length;if(n){var r=dy(e,t);if(r<n&&Ts(e[r],t))return r}return-1},sortedLastIndex:function(e,t){return dy(e,t,!0)},sortedLastIndexBy:function(e,t,n){return cy(e,t,of(n),!0)},sortedLastIndexOf:function(e,t){if(null==e?0:e.length){var n=dy(e,t,!0)-1;if(Ts(e[n],t))return n}return-1},sortedUniq:function(e){return e&&e.length?hy(e):[]},sortedUniqBy:function(e,t){return e&&e.length?hy(e,of(t)):[]},tail:function(e){var t=null==e?0:e.length;return t?xc(e,1,t):[]},take:function(e,t,n){return e&&e.length?xc(e,0,(t=n||void 0===t?1:il(t))<0?0:t):[]},takeRight:function(e,t,n){var r=null==e?0:e.length;return r?xc(e,(t=r-(t=n||void 0===t?1:il(t)))<0?0:t,r):[]},takeRightWhile:function(e,t){return e&&e.length?Jf(e,of(t),!1,!0):[]},takeWhile:function(e,t){return e&&e.length?Jf(e,of(t)):[]},union:eb,unionBy:nb,unionWith:rb,uniq:ob,uniqBy:ib,uniqWith:function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Jy(e,void 0,t):[]},unzip:ub,unzipWith:cb,without:vb,xor:bb,xorBy:xb,xorWith:wb,zip:Sb,zipObject:function(e,t){return Eb(e||[],t||[],Rs)},zipObjectDeep:function(e,t){return Eb(e||[],t||[],Tg)},zipWith:Ob},Lb={countBy:yf,each:tp,eachRight:ap,every:bp,filter:wp,find:Ip,findLast:Rp,flatMap:function(e,t){return ec(Bp(e,t),1)},flatMapDeep:function(e,t){return ec(Bp(e,t),Infinity)},flatMapDepth:function(e,t,n){return n=void 0===n?1:il(n),ec(Bp(e,t),n)},forEach:tp,forEachRight:ap,groupBy:Wp,includes:ov,invokeMap:Lv,keyBy:qv,map:Bp,orderBy:Bg,partition:gm,reduce:jm,reduceRight:function(e,t,n){var r=$a(e)?Wm:$m,o=arguments.length<3;return r(e,of(t),n,o,ip)},reject:function(e,t){return($a(e)?zd:xp)(e,xg(of(t)))},sample:function(e){return($a(e)?Ym:Xm)(e)},sampleSize:function(e,t,n){return t=(n?zs(e,t,n):void 0===t)?1:il(t),($a(e)?Km:Qm)(e,t)},shuffle:function(e){return($a(e)?ey:ty)(e)},size:ny,some:function(e,t,n){var r=$a(e)?Nh:iy;return n&&zs(e,t,n)&&(t=void 0),r(e,of(t))},sortBy:ly},_b={now:xf},Tb={after:function(e,t){if("function"!=typeof t)throw new TypeError("Expected a function");return e=il(e),function(){if(--e<1)return t.apply(this,arguments)}},ary:Ls,before:pc,bind:gc,bindKey:Cc,curry:bf,curryRight:Cf,debounce:Ef,defer:Hf,delay:jf,flip:function(e){return Is(e,512)},memoize:Hu,negate:xg,once:function(e){return pc(2,e)},overArgs:Hg,partial:hm,partialRight:pm,rearg:Hm,rest:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return Ds(e,t=void 0===t?t:il(t))},spread:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return t=null==t?0:py(il(t),0),Ds((function(n){var r=n[t],o=wc(n,0,t);return r&&Ku(o,r),Tl(e,this,o)}))},throttle:Dy,unary:function(e){return Ls(e,1)},wrap:function(e,t){return hm(ep(t),e)}},Mb={castArray:function(){if(!arguments.length)return[];var e=arguments[0];return $a(e)?e:[e]},clone:_h,cloneDeep:Th,cloneDeepWith:function(e,t){return Lh(e,5,t="function"==typeof t?t:void 0)},cloneWith:function(e,t){return Lh(e,4,t="function"==typeof t?t:void 0)},conformsTo:function(e,t){return null==t||lf(e,t,pu(t))},eq:Ts,gt:Up,gte:Zp,isArguments:Ys,isArray:$a,isArrayBuffer:Tv,isArrayLike:Ps,isArrayLikeObject:Mf,isBoolean:Mv,isBuffer:Js,isDate:Av,isElement:function(e){return Pa(e)&&1===e.nodeType&&!cc(e)},isEmpty:Bv,isEqual:Dv,isEqualWith:function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?Uh(e,t,void 0,n):!!r},isError:dc,isFinite:function(e){return"number"==typeof e&&kv(e)},isFunction:ll,isInteger:Pv,isLength:ks,isMap:Ch,isMatch:function(e,t){return e===t||Zh(e,t,Xh(t))},isMatchWith:function(e,t,n){return n="function"==typeof n?n:void 0,Zh(e,t,Xh(t),n)},isNaN:Fv,isNative:function(e){if(Hv(e))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return bl(e)},isNil:$v,isNull:function(e){return null===e},isNumber:zv,isObject:Ka,isObjectLike:Pa,isPlainObject:cc,isRegExp:Wv,isSafeInteger:function(e){return Pv(e)&&e>=-9007199254740991&&e<=Gv},isSet:wh,isString:ev,isSymbol:za,isTypedArray:lu,isUndefined:Vv,isWeakMap:function(e){return Pa(e)&&"[object WeakMap]"==uh(e)},isWeakSet:function(e){return Pa(e)&&"[object WeakSet]"==ka(e)},lt:rg,lte:og,toArray:Sg,toFinite:ol,toInteger:il,toLength:Cp,toNumber:nl,toPlainObject:Af,toSafeInteger:function(e){return e?Td(il(e),-9007199254740991,$y):0===e?e:0},toString:Vu},Rb={add:Ua,ceil:Od,divide:Qf,floor:Dp,max:sg,maxBy:ug,mean:function(e){return dg(e,al)},meanBy:function(e,t){return dg(e,of(t))},min:yg,minBy:function(e,t){return e&&e.length?lg(e,of(t),ng):void 0},multiply:Cg,round:Zm,subtract:yy,sum:function(e){return e&&e.length?cg(e,al):0},sumBy:by},Ab=Md,Nb=Jp,Bb=function(e,t,n){if(n&&"boolean"!=typeof n&&zs(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ol(e),void 0===t?(t=e,e=0):t=ol(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Nm();return Am(e+o*(t-e+Rm("1e-"+((o+"").length-1))),t)}return Mm(e,t)},Db={assign:mu,assignIn:wu,assignInWith:Eu,assignWith:Iu,at:rc,create:function(e,t){var n=Ll(e);return null==t?n:Ad(n,t)},defaults:_f,defaultsDeep:Pf,entries:up,entriesIn:cp,extend:wu,extendWith:Eu,findKey:function(e,t){return Lp(e,of(t),df)},findLastKey:function(e,t){return Lp(e,of(t),op)},forIn:Fp,forInRight:function(e,t){return null==e?e:rp(e,ep(t),Cu)},forOwn:function(e,t){return e&&df(e,ep(t))},forOwnRight:function(e,t){return e&&op(e,ep(t))},functions:function(e){return null==e?[]:Hp(e,pu(e))},functionsIn:function(e){return null==e?[]:Hp(e,Cu(e))},get:Xu,has:qp,hasIn:ef,invert:mv,invertBy:wv,invoke:Ov,keys:pu,keysIn:Cu,mapKeys:ig,mapValues:function(e,t){var n={};return t=of(t),df(e,(function(e,r,o){_s(n,r,t(e,r,o))})),n},merge:fg,mergeWith:kf,omit:_g,omitBy:function(e,t){return Rg(e,xg(of(t)))},pick:ym,pickBy:Rg,result:function(e,t,n){var r=-1,o=(t=Uu(t,e)).length;for(o||(o=1,e=void 0);++r<o;){var i=null==e?void 0:e[Zu(t[r])];void 0===i&&(r=o,i=n),e=ll(i)?i.call(e):i}return e},set:Jm,setWith:function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Tg(e,t,n,r)},toPairs:up,toPairsIn:cp,transform:function(e,t,n){var r=$a(e),o=r||Js(e)||lu(e);if(t=of(t),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Ka(e)&&ll(i)?Ll(oc(e)):{}}return(o?as:df)(e,(function(e,r,o){return t(n,e,r,o)})),n},unset:lb,update:function(e,t,n){return null==e?e:db(e,t,ep(n))},updateWith:function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:db(e,t,ep(n),r)},values:nv,valuesIn:function(e){return null==e?[]:tv(e,Cu(e))}},kb={at:mb,chain:Id,commit:function(){return new Wl(this.value(),this.__chain__)},lodash:Zl,next:function(){void 0===this.__values__&&(this.__values__=Sg(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},plant:function(e){for(var t,n=this;n instanceof Dl;){var r=Vl(n);r.__index__=0,r.__values__=void 0,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},reverse:function(){var e=this.__wrapped__;if(e instanceof kl){var t=e;return this.__actions__.length&&(t=new kl(this)),(t=t.reverse()).__actions__.push({func:ky,args:[Um],thisArg:void 0}),new Wl(t,this.__chain__)}return this.thru(Um)},tap:function(e,t){return t(e),e},thru:ky,toIterator:function(){return this},toJSON:Hy,value:Hy,valueOf:Hy,wrapperChain:function(){return Id(this)}},Pb={camelCase:xd,capitalize:Hc,deburr:Uc,endsWith:lp,escape:pp,escapeRegExp:function(e){return(e=Vu(e))&&gp.test(e)?e.replace(vp,"\\$&"):e},kebabCase:Yv,lowerCase:eg,lowerFirst:tg,pad:function(e,t,n){e=Vu(e);var r=(t=il(t))?om(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return am(sm(o),n)+e+am(lm(o),n)},padEnd:function(e,t,n){e=Vu(e);var r=(t=il(t))?om(e):0;return t&&r<t?e+am(t-r,n):e},padStart:function(e,t,n){e=Vu(e);var r=(t=il(t))?om(e):0;return t&&r<t?am(t-r,n)+e:e},parseInt:function(e,t,n){return n||null==t?t=0:t&&(t=+t),cm(Vu(e).replace(um,""),t||0)},repeat:Gm,replace:function(){var e=arguments,t=Vu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},snakeCase:oy,split:fy,startCase:gy,startsWith:function(e,t,n){return e=Vu(e),n=null==n?0:Td(il(n),0,e.length),t=Ga(t),e.slice(n,n+t.length)==t},template:function(e,t,n){var r=Iy.imports._.templateSettings||Iy;n&&zs(e,t,n)&&(t=void 0),e=Vu(e),t=Eu({},t,r,wy);var o,i,a=Eu({},t.imports,r.imports,wy),l=pu(a),s=tv(a,l),u=0,c=t.interpolate||Ay,d="__p += '",h=RegExp((t.escape||Ay).source+"|"+c.source+"|"+(c===Oy?Ry:Ay).source+"|"+(t.evaluate||Ay).source+"|$","g"),f=By.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(h,(function(t,n,r,a,l,s){return r||(r=a),d+=e.slice(u,s).replace(Ny,Ey),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),l&&(i=!0,d+="';\n"+l+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=s+t.length,t})),d+="';\n";var p=By.call(t,"variable")&&t.variable;if(p){if(My.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(i?d.replace(Ly,""):d).replace(_y,"$1").replace(Ty,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=fc((function(){return Function(l,f+"return "+d).apply(void 0,s)}));if(v.source=d,dc(v))throw v;return v},templateSettings:Iy,toLower:function(e){return Vu(e).toLowerCase()},toUpper:jy,trim:Vy,trimEnd:function(e,t,n){if((e=Vu(e))&&(n||void 0===t))return e.slice(0,Ya(e)+1);if(!e||!(t=Ga(t)))return e;var r=Pc(e);return wc(r,0,Wy(r,Pc(t))+1).join("")},trimStart:function(e,t,n){if((e=Vu(e))&&(n||void 0===t))return e.replace(Uy,"");if(!e||!(t=Ga(t)))return e;var r=Pc(e);return wc(r,Gy(r,Pc(t))).join("")},truncate:function(e,t){var n=30,r="...";if(Ka(t)){var o="separator"in t?t.separator:o;n="length"in t?il(t.length):n,r="omission"in t?Ga(t.omission):r}var i=(e=Vu(e)).length;if(Ec(e)){var a=Pc(e);i=a.length}if(n>=i)return e;var l=n-om(r);if(l<1)return r;var s=a?wc(a,0,l).join(""):e.slice(0,l);if(void 0===o)return s+r;if(a&&(l+=s.length-l),Wv(o)){if(e.slice(l).search(o)){var u,c=s;for(o.global||(o=RegExp(o.source,Vu(Zy.exec(o))+"g")),o.lastIndex=0;u=o.exec(c);)var d=u.index;s=s.slice(0,void 0===d?l:d)}}else if(e.indexOf(Ga(o),l)!=l){var h=s.lastIndexOf(o);h>-1&&(s=s.slice(0,h))}return s+r},unescape:function(e){return(e=Vu(e))&&qy.test(e)?e.replace(Xy,Yy):e},upperCase:fb,upperFirst:Fc,words:md},zb={attempt:fc,bindAll:yc,cond:af,conforms:function(e){return function(e){var t=pu(e);return function(n){return lf(n,e,t)}}(Lh(e,1))},constant:ts,defaultTo:function(e,t){return null==e||e!=e?t:e},flow:Pp,flowRight:zp,identity:al,iteratee:function(e){return of("function"==typeof e?e:Lh(e,1))},matches:ag,matchesProperty:function(e,t){return tf(e,Lh(t,1))},method:vg,methodOf:mg,mixin:bg,noop:Pl,nthArg:function(e){return e=il(e),Ds((function(t){return Eg(t,e)}))},over:kg,overEvery:$g,overSome:jg,property:rf,propertyOf:function(e){return function(t){return null==e?void 0:Yu(e,t)}},range:Pm,rangeRight:zm,stubArray:Fd,stubFalse:Xs,stubObject:function(){return{}},stubString:function(){return""},stubTrue:my,times:function(e,t){if((e=il(e))<1||e>9007199254740991)return[];var n=Py,r=zy(e,Py);t=ep(t),e-=Py;for(var o=js(r,t);++n<e;)t(n);return o},toPath:function(e){return $a(e)?Ha(e,Zu):za(e)?[e]:Gl(Gu(Vu(e)))},uniqueId:function(e){var t=++ab;return Vu(e)+t}};var Fb=Math.max,Hb=Math.min;var $b=Math.min;var jb,Wb=4294967295,Gb=Array.prototype,Vb=Object.prototype.hasOwnProperty,Ub=Ta?Ta.iterator:void 0,Zb=Math.max,Yb=Math.min,Xb=function(e){return function(t,n,r){if(null==r){var o=Ka(n),i=o&&pu(n),a=i&&i.length&&Hp(n,i);(a?a.length:o)||(r=n,n=t,t=this)}return e(t,n,r)}}(bg);Zl.after=Tb.after,Zl.ary=Tb.ary,Zl.assign=Db.assign,Zl.assignIn=Db.assignIn,Zl.assignInWith=Db.assignInWith,Zl.assignWith=Db.assignWith,Zl.at=Db.at,Zl.before=Tb.before,Zl.bind=Tb.bind,Zl.bindAll=zb.bindAll,Zl.bindKey=Tb.bindKey,Zl.castArray=Mb.castArray,Zl.chain=kb.chain,Zl.chunk=Ib.chunk,Zl.compact=Ib.compact,Zl.concat=Ib.concat,Zl.cond=zb.cond,Zl.conforms=zb.conforms,Zl.constant=zb.constant,Zl.countBy=Lb.countBy,Zl.create=Db.create,Zl.curry=Tb.curry,Zl.curryRight=Tb.curryRight,Zl.debounce=Tb.debounce,Zl.defaults=Db.defaults,Zl.defaultsDeep=Db.defaultsDeep,Zl.defer=Tb.defer,Zl.delay=Tb.delay,Zl.difference=Ib.difference,Zl.differenceBy=Ib.differenceBy,Zl.differenceWith=Ib.differenceWith,Zl.drop=Ib.drop,Zl.dropRight=Ib.dropRight,Zl.dropRightWhile=Ib.dropRightWhile,Zl.dropWhile=Ib.dropWhile,Zl.fill=Ib.fill,Zl.filter=Lb.filter,Zl.flatMap=Lb.flatMap,Zl.flatMapDeep=Lb.flatMapDeep,Zl.flatMapDepth=Lb.flatMapDepth,Zl.flatten=Ib.flatten,Zl.flattenDeep=Ib.flattenDeep,Zl.flattenDepth=Ib.flattenDepth,Zl.flip=Tb.flip,Zl.flow=zb.flow,Zl.flowRight=zb.flowRight,Zl.fromPairs=Ib.fromPairs,Zl.functions=Db.functions,Zl.functionsIn=Db.functionsIn,Zl.groupBy=Lb.groupBy,Zl.initial=Ib.initial,Zl.intersection=Ib.intersection,Zl.intersectionBy=Ib.intersectionBy,Zl.intersectionWith=Ib.intersectionWith,Zl.invert=Db.invert,Zl.invertBy=Db.invertBy,Zl.invokeMap=Lb.invokeMap,Zl.iteratee=zb.iteratee,Zl.keyBy=Lb.keyBy,Zl.keys=pu,Zl.keysIn=Db.keysIn,Zl.map=Lb.map,Zl.mapKeys=Db.mapKeys,Zl.mapValues=Db.mapValues,Zl.matches=zb.matches,Zl.matchesProperty=zb.matchesProperty,Zl.memoize=Tb.memoize,Zl.merge=Db.merge,Zl.mergeWith=Db.mergeWith,Zl.method=zb.method,Zl.methodOf=zb.methodOf,Zl.mixin=Xb,Zl.negate=xg,Zl.nthArg=zb.nthArg,Zl.omit=Db.omit,Zl.omitBy=Db.omitBy,Zl.once=Tb.once,Zl.orderBy=Lb.orderBy,Zl.over=zb.over,Zl.overArgs=Tb.overArgs,Zl.overEvery=zb.overEvery,Zl.overSome=zb.overSome,Zl.partial=Tb.partial,Zl.partialRight=Tb.partialRight,Zl.partition=Lb.partition,Zl.pick=Db.pick,Zl.pickBy=Db.pickBy,Zl.property=zb.property,Zl.propertyOf=zb.propertyOf,Zl.pull=Ib.pull,Zl.pullAll=Ib.pullAll,Zl.pullAllBy=Ib.pullAllBy,Zl.pullAllWith=Ib.pullAllWith,Zl.pullAt=Ib.pullAt,Zl.range=zb.range,Zl.rangeRight=zb.rangeRight,Zl.rearg=Tb.rearg,Zl.reject=Lb.reject,Zl.remove=Ib.remove,Zl.rest=Tb.rest,Zl.reverse=Ib.reverse,Zl.sampleSize=Lb.sampleSize,Zl.set=Db.set,Zl.setWith=Db.setWith,Zl.shuffle=Lb.shuffle,Zl.slice=Ib.slice,Zl.sortBy=Lb.sortBy,Zl.sortedUniq=Ib.sortedUniq,Zl.sortedUniqBy=Ib.sortedUniqBy,Zl.split=Pb.split,Zl.spread=Tb.spread,Zl.tail=Ib.tail,Zl.take=Ib.take,Zl.takeRight=Ib.takeRight,Zl.takeRightWhile=Ib.takeRightWhile,Zl.takeWhile=Ib.takeWhile,Zl.tap=kb.tap,Zl.throttle=Tb.throttle,Zl.thru=ky,Zl.toArray=Mb.toArray,Zl.toPairs=Db.toPairs,Zl.toPairsIn=Db.toPairsIn,Zl.toPath=zb.toPath,Zl.toPlainObject=Mb.toPlainObject,Zl.transform=Db.transform,Zl.unary=Tb.unary,Zl.union=Ib.union,Zl.unionBy=Ib.unionBy,Zl.unionWith=Ib.unionWith,Zl.uniq=Ib.uniq,Zl.uniqBy=Ib.uniqBy,Zl.uniqWith=Ib.uniqWith,Zl.unset=Db.unset,Zl.unzip=Ib.unzip,Zl.unzipWith=Ib.unzipWith,Zl.update=Db.update,Zl.updateWith=Db.updateWith,Zl.values=Db.values,Zl.valuesIn=Db.valuesIn,Zl.without=Ib.without,Zl.words=Pb.words,Zl.wrap=Tb.wrap,Zl.xor=Ib.xor,Zl.xorBy=Ib.xorBy,Zl.xorWith=Ib.xorWith,Zl.zip=Ib.zip,Zl.zipObject=Ib.zipObject,Zl.zipObjectDeep=Ib.zipObjectDeep,Zl.zipWith=Ib.zipWith,Zl.entries=Db.toPairs,Zl.entriesIn=Db.toPairsIn,Zl.extend=Db.assignIn,Zl.extendWith=Db.assignInWith,Xb(Zl,Zl),Zl.add=Rb.add,Zl.attempt=zb.attempt,Zl.camelCase=Pb.camelCase,Zl.capitalize=Pb.capitalize,Zl.ceil=Rb.ceil,Zl.clamp=Ab,Zl.clone=Mb.clone,Zl.cloneDeep=Mb.cloneDeep,Zl.cloneDeepWith=Mb.cloneDeepWith,Zl.cloneWith=Mb.cloneWith,Zl.conformsTo=Mb.conformsTo,Zl.deburr=Pb.deburr,Zl.defaultTo=zb.defaultTo,Zl.divide=Rb.divide,Zl.endsWith=Pb.endsWith,Zl.eq=Mb.eq,Zl.escape=Pb.escape,Zl.escapeRegExp=Pb.escapeRegExp,Zl.every=Lb.every,Zl.find=Lb.find,Zl.findIndex=Ib.findIndex,Zl.findKey=Db.findKey,Zl.findLast=Lb.findLast,Zl.findLastIndex=Ib.findLastIndex,Zl.findLastKey=Db.findLastKey,Zl.floor=Rb.floor,Zl.forEach=Lb.forEach,Zl.forEachRight=Lb.forEachRight,Zl.forIn=Db.forIn,Zl.forInRight=Db.forInRight,Zl.forOwn=Db.forOwn,Zl.forOwnRight=Db.forOwnRight,Zl.get=Db.get,Zl.gt=Mb.gt,Zl.gte=Mb.gte,Zl.has=Db.has,Zl.hasIn=Db.hasIn,Zl.head=Ib.head,Zl.identity=al,Zl.includes=Lb.includes,Zl.indexOf=Ib.indexOf,Zl.inRange=Nb,Zl.invoke=Db.invoke,Zl.isArguments=Mb.isArguments,Zl.isArray=$a,Zl.isArrayBuffer=Mb.isArrayBuffer,Zl.isArrayLike=Mb.isArrayLike,Zl.isArrayLikeObject=Mb.isArrayLikeObject,Zl.isBoolean=Mb.isBoolean,Zl.isBuffer=Mb.isBuffer,Zl.isDate=Mb.isDate,Zl.isElement=Mb.isElement,Zl.isEmpty=Mb.isEmpty,Zl.isEqual=Mb.isEqual,Zl.isEqualWith=Mb.isEqualWith,Zl.isError=Mb.isError,Zl.isFinite=Mb.isFinite,Zl.isFunction=Mb.isFunction,Zl.isInteger=Mb.isInteger,Zl.isLength=Mb.isLength,Zl.isMap=Mb.isMap,Zl.isMatch=Mb.isMatch,Zl.isMatchWith=Mb.isMatchWith,Zl.isNaN=Mb.isNaN,Zl.isNative=Mb.isNative,Zl.isNil=Mb.isNil,Zl.isNull=Mb.isNull,Zl.isNumber=Mb.isNumber,Zl.isObject=Ka,Zl.isObjectLike=Mb.isObjectLike,Zl.isPlainObject=Mb.isPlainObject,Zl.isRegExp=Mb.isRegExp,Zl.isSafeInteger=Mb.isSafeInteger,Zl.isSet=Mb.isSet,Zl.isString=Mb.isString,Zl.isSymbol=Mb.isSymbol,Zl.isTypedArray=Mb.isTypedArray,Zl.isUndefined=Mb.isUndefined,Zl.isWeakMap=Mb.isWeakMap,Zl.isWeakSet=Mb.isWeakSet,Zl.join=Ib.join,Zl.kebabCase=Pb.kebabCase,Zl.last=Zf,Zl.lastIndexOf=Ib.lastIndexOf,Zl.lowerCase=Pb.lowerCase,Zl.lowerFirst=Pb.lowerFirst,Zl.lt=Mb.lt,Zl.lte=Mb.lte,Zl.max=Rb.max,Zl.maxBy=Rb.maxBy,Zl.mean=Rb.mean,Zl.meanBy=Rb.meanBy,Zl.min=Rb.min,Zl.minBy=Rb.minBy,Zl.stubArray=zb.stubArray,Zl.stubFalse=zb.stubFalse,Zl.stubObject=zb.stubObject,Zl.stubString=zb.stubString,Zl.stubTrue=zb.stubTrue,Zl.multiply=Rb.multiply,Zl.nth=Ib.nth,Zl.noop=zb.noop,Zl.now=_b.now,Zl.pad=Pb.pad,Zl.padEnd=Pb.padEnd,Zl.padStart=Pb.padStart,Zl.parseInt=Pb.parseInt,Zl.random=Bb,Zl.reduce=Lb.reduce,Zl.reduceRight=Lb.reduceRight,Zl.repeat=Pb.repeat,Zl.replace=Pb.replace,Zl.result=Db.result,Zl.round=Rb.round,Zl.sample=Lb.sample,Zl.size=Lb.size,Zl.snakeCase=Pb.snakeCase,Zl.some=Lb.some,Zl.sortedIndex=Ib.sortedIndex,Zl.sortedIndexBy=Ib.sortedIndexBy,Zl.sortedIndexOf=Ib.sortedIndexOf,Zl.sortedLastIndex=Ib.sortedLastIndex,Zl.sortedLastIndexBy=Ib.sortedLastIndexBy,Zl.sortedLastIndexOf=Ib.sortedLastIndexOf,Zl.startCase=Pb.startCase,Zl.startsWith=Pb.startsWith,Zl.subtract=Rb.subtract,Zl.sum=Rb.sum,Zl.sumBy=Rb.sumBy,Zl.template=Pb.template,Zl.times=zb.times,Zl.toFinite=Mb.toFinite,Zl.toInteger=il,Zl.toLength=Mb.toLength,Zl.toLower=Pb.toLower,Zl.toNumber=Mb.toNumber,Zl.toSafeInteger=Mb.toSafeInteger,Zl.toString=Mb.toString,Zl.toUpper=Pb.toUpper,Zl.trim=Pb.trim,Zl.trimEnd=Pb.trimEnd,Zl.trimStart=Pb.trimStart,Zl.truncate=Pb.truncate,Zl.unescape=Pb.unescape,Zl.uniqueId=zb.uniqueId,Zl.upperCase=Pb.upperCase,Zl.upperFirst=Pb.upperFirst,Zl.each=Lb.forEach,Zl.eachRight=Lb.forEachRight,Zl.first=Ib.head,Xb(Zl,(jb={},df(Zl,(function(e,t){Vb.call(Zl.prototype,t)||(jb[t]=e)})),jb),{chain:!1}),Zl.VERSION="4.17.21",(Zl.templateSettings=Pb.templateSettings).imports._=Zl,as(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Zl[e].placeholder=Zl})),as(["drop","take"],(function(e,t){kl.prototype[e]=function(n){n=void 0===n?1:Zb(il(n),0);var r=this.__filtered__&&!t?new kl(this):this.clone();return r.__filtered__?r.__takeCount__=Yb(n,r.__takeCount__):r.__views__.push({size:Yb(n,Wb),type:e+(r.__dir__<0?"Right":"")}),r},kl.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),as(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;kl.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:of(e),type:n}),t.__filtered__=t.__filtered__||r,t}})),as(["head","last"],(function(e,t){var n="take"+(t?"Right":"");kl.prototype[e]=function(){return this[n](1).value()[0]}})),as(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");kl.prototype[e]=function(){return this.__filtered__?new kl(this):this[n](1)}})),kl.prototype.compact=function(){return this.filter(al)},kl.prototype.find=function(e){return this.filter(e).head()},kl.prototype.findLast=function(e){return this.reverse().find(e)},kl.prototype.invokeMap=Ds((function(e,t){return"function"==typeof e?new kl(this):this.map((function(n){return Ev(n,e,t)}))})),kl.prototype.reject=function(e){return this.filter(xg(of(e)))},kl.prototype.slice=function(e,t){e=il(e);var n=this;return n.__filtered__&&(e>0||t<0)?new kl(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=il(t))<0?n.dropRight(-t):n.take(t-e)),n)},kl.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},kl.prototype.toArray=function(){return this.take(Wb)},df(kl.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Zl[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(Zl.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof kl,s=a[0],u=l||$a(t),c=function(e){var t=o.apply(Zl,Ku([e],a));return r&&d?t[0]:t};u&&n&&"function"==typeof s&&1!=s.length&&(l=u=!1);var d=this.__chain__,h=!!this.__actions__.length,f=i&&!d,p=l&&!h;if(!i&&u){t=p?t:new kl(this);var v=e.apply(t,a);return v.__actions__.push({func:ky,args:[c],thisArg:void 0}),new Wl(v,d)}return f&&p?e.apply(this,a):(v=this.thru(c),f?r?v.value()[0]:v.value():v)})})),as(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Gb[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Zl.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply($a(o)?o:[],e)}return this[n]((function(n){return t.apply($a(n)?n:[],e)}))}})),df(kl.prototype,(function(e,t){var n=Zl[t];if(n){var r=n.name+"";Vb.call(Hl,r)||(Hl[r]=[]),Hl[r].push({name:t,func:n})}})),Hl[xs(void 0,2).name]=[{name:"wrapper",func:void 0}],kl.prototype.clone=function(){var e=new kl(this.__wrapped__);return e.__actions__=Gl(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Gl(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Gl(this.__views__),e},kl.prototype.reverse=function(){if(this.__filtered__){var e=new kl(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},kl.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=$a(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Hb(t,e+a);break;case"takeRight":e=Fb(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,l=i.end,s=l-a,u=r?l:a-1,c=this.__iteratees__,d=c.length,h=0,f=$b(s,this.__takeCount__);if(!n||!r&&o==s&&f==s)return Fy(e,this.__actions__);var p=[];e:for(;s--&&h<f;){for(var v=-1,g=e[u+=t];++v<d;){var m=c[v],y=m.iteratee,b=m.type,C=y(g);if(2==b)g=C;else if(!C){if(1==b)continue e;break e}}p[h++]=g}return p},Zl.prototype.at=kb.at,Zl.prototype.chain=kb.wrapperChain,Zl.prototype.commit=kb.commit,Zl.prototype.next=kb.next,Zl.prototype.plant=kb.plant,Zl.prototype.reverse=kb.reverse,Zl.prototype.toJSON=Zl.prototype.valueOf=Zl.prototype.value=kb.value,Zl.prototype.first=Zl.prototype.head,Ub&&(Zl.prototype[Ub]=kb.toIterator);var qb={exports:{}};!function(e){!function(t){var n=/^\s+/,r=/\s+$/,o=0,i=t.round,a=t.min,l=t.max,s=t.random;function u(e,s){if(s=s||{},(e=e||"")instanceof u)return e;if(!(this instanceof u))return new u(e,s);var c=function(e){var o={r:0,g:0,b:0},i=1,s=null,u=null,c=null,d=!1,h=!1;"string"==typeof e&&(e=function(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t,o=!1;if(L[e])e=L[e],o=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=H.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=H.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=H.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=H.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=H.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=H.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=H.hex8.exec(e))return{r:A(t[1]),g:A(t[2]),b:A(t[3]),a:k(t[4]),format:o?"name":"hex8"};if(t=H.hex6.exec(e))return{r:A(t[1]),g:A(t[2]),b:A(t[3]),format:o?"name":"hex"};if(t=H.hex4.exec(e))return{r:A(t[1]+""+t[1]),g:A(t[2]+""+t[2]),b:A(t[3]+""+t[3]),a:k(t[4]+""+t[4]),format:o?"name":"hex8"};if(t=H.hex3.exec(e))return{r:A(t[1]+""+t[1]),g:A(t[2]+""+t[2]),b:A(t[3]+""+t[3]),format:o?"name":"hex"};return!1}(e));"object"==typeof e&&($(e.r)&&$(e.g)&&$(e.b)?(f=e.r,p=e.g,v=e.b,o={r:255*M(f,255),g:255*M(p,255),b:255*M(v,255)},d=!0,h="%"===String(e.r).substr(-1)?"prgb":"rgb"):$(e.h)&&$(e.s)&&$(e.v)?(s=B(e.s),u=B(e.v),o=function(e,n,r){e=6*M(e,360),n=M(n,100),r=M(r,100);var o=t.floor(e),i=e-o,a=r*(1-n),l=r*(1-i*n),s=r*(1-(1-i)*n),u=o%6,c=[r,l,a,a,s,r][u],d=[s,r,r,l,a,a][u],h=[a,a,s,r,r,l][u];return{r:255*c,g:255*d,b:255*h}}(e.h,s,u),d=!0,h="hsv"):$(e.h)&&$(e.s)&&$(e.l)&&(s=B(e.s),c=B(e.l),o=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=M(e,360),t=M(t,100),n=M(n,100),0===t)r=o=i=n;else{var l=n<.5?n*(1+t):n+t-n*t,s=2*n-l;r=a(s,l,e+1/3),o=a(s,l,e),i=a(s,l,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,s,c),d=!0,h="hsl"),e.hasOwnProperty("a")&&(i=e.a));var f,p,v;return i=T(i),{ok:d,format:e.format||h,r:a(255,l(o.r,0)),g:a(255,l(o.g,0)),b:a(255,l(o.b,0)),a:i}}(e);this._originalInput=e,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=i(100*this._a)/100,this._format=s.format||c.format,this._gradientType=s.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=c.ok,this._tc_id=o++}function c(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,o,i=l(e,t,n),s=a(e,t,n),u=(i+s)/2;if(i==s)r=o=0;else{var c=i-s;switch(o=u>.5?c/(2-i-s):c/(i+s),i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:o,l:u}}function d(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,o,i=l(e,t,n),s=a(e,t,n),u=i,c=i-s;if(o=0===i?0:c/i,i==s)r=0;else{switch(i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:o,v:u}}function h(e,t,n,r){var o=[N(i(e).toString(16)),N(i(t).toString(16)),N(i(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function f(e,t,n,r){return[N(D(r)),N(i(e).toString(16)),N(i(t).toString(16)),N(i(n).toString(16))].join("")}function p(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s-=t/100,n.s=R(n.s),u(n)}function v(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s+=t/100,n.s=R(n.s),u(n)}function g(e){return u(e).desaturate(100)}function m(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l+=t/100,n.l=R(n.l),u(n)}function y(e,t){t=0===t?0:t||10;var n=u(e).toRgb();return n.r=l(0,a(255,n.r-i(-t/100*255))),n.g=l(0,a(255,n.g-i(-t/100*255))),n.b=l(0,a(255,n.b-i(-t/100*255))),u(n)}function b(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l-=t/100,n.l=R(n.l),u(n)}function C(e,t){var n=u(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,u(n)}function x(e){var t=u(e).toHsl();return t.h=(t.h+180)%360,u(t)}function w(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+120)%360,s:t.s,l:t.l}),u({h:(n+240)%360,s:t.s,l:t.l})]}function S(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+90)%360,s:t.s,l:t.l}),u({h:(n+180)%360,s:t.s,l:t.l}),u({h:(n+270)%360,s:t.s,l:t.l})]}function E(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+72)%360,s:t.s,l:t.l}),u({h:(n+216)%360,s:t.s,l:t.l})]}function O(e,t,n){t=t||6,n=n||30;var r=u(e).toHsl(),o=360/n,i=[u(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(u(r));return i}function I(e,t){t=t||6;for(var n=u(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],l=1/t;t--;)a.push(u({h:r,s:o,v:i})),i=(i+l)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,n,r,o=this.toRgb();return e=o.r/255,n=o.g/255,r=o.b/255,.2126*(e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=T(e),this._roundA=i(100*this._a)/100,this},toHsv:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return h(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var a=[N(i(e).toString(16)),N(i(t).toString(16)),N(i(n).toString(16)),N(D(r))];if(o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*M(this._r,255))+"%",g:i(100*M(this._g,255))+"%",b:i(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*M(this._r,255))+"%, "+i(100*M(this._g,255))+"%, "+i(100*M(this._b,255))+"%)":"rgba("+i(100*M(this._r,255))+"%, "+i(100*M(this._g,255))+"%, "+i(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(_[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+f(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=u(e);n="#"+f(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},u.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:B(e[r]));e=n}return u(e,t)},u.equals=function(e,t){return!(!e||!t)&&u(e).toRgbString()==u(t).toRgbString()},u.random=function(){return u.fromRatio({r:s(),g:s(),b:s()})},u.mix=function(e,t,n){n=0===n?0:n||50;var r=u(e).toRgb(),o=u(t).toRgb(),i=n/100;return u({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},u.readability=function(e,n){var r=u(e),o=u(n);return(t.max(r.getLuminance(),o.getLuminance())+.05)/(t.min(r.getLuminance(),o.getLuminance())+.05)},u.isReadable=function(e,t,n){var r,o,i=u.readability(e,t);switch(o=!1,r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},u.mostReadable=function(e,t,n){var r,o,i,a,l=null,s=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=u.readability(e,t[c]))>s&&(s=r,l=u(t[c]));return u.isReadable(e,l,{level:i,size:a})||!o?l:(n.includeFallbackColors=!1,u.mostReadable(e,["#fff","#000"],n))};var L=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},_=u.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(L);function T(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function M(e,n){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=a(n,l(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function R(e){return a(1,l(0,e))}function A(e){return parseInt(e,16)}function N(e){return 1==e.length?"0"+e:""+e}function B(e){return e<=1&&(e=100*e+"%"),e}function D(e){return t.round(255*parseFloat(e)).toString(16)}function k(e){return A(e)/255}var P,z,F,H=(z="[\\s|\\(]+("+(P="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",F="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",{CSS_UNIT:new RegExp(P),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+F),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+F),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+F),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function $(e){return!!H.CSS_UNIT.exec(e)}e.exports?e.exports=u:window.tinycolor=u}(Math)}(qb);var Kb,Qb=qb.exports,Jb=[95,85,75,30,15,0,15,30,45,60,80],eC=function(e){return Qb(e).getLuminance()<=.5},tC=[{fontColorIndex:0,bgColorIndex:3},{fontColorIndex:13,bgColorIndex:8},{fontColorIndex:14,bgColorIndex:1}],nC=function(e){void 0===e&&(e={});var t=Array.from(Array(15)).fill(qi),n=e.basicColorRelations,r=void 0===n?[]:n,o=function(e){for(var t=[],n=0;n<11;n++){var r=Jb[n];t.push(jy(0===r?e:Qb.mix(e,n<5?"#FFFFFF":"#000000",r).toHexString()))}return t}(e.brandColor);return r.forEach((function(e){t[e.basicColorIndex]=o[e.standardColorIndex]})),tC.forEach((function(e){var n=e.fontColorIndex,r=e.bgColorIndex;t[n]=eC(t[r])?qi:Xi})),xa(xa({},e),{basicColors:t})},rC=nC({brandColor:"#3471F9",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:5},{basicColorIndex:4,standardColorIndex:6},{basicColorIndex:5,standardColorIndex:6},{basicColorIndex:6,standardColorIndex:6},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:4},{basicColorIndex:11,standardColorIndex:4},{basicColorIndex:12,standardColorIndex:5}]}),oC={default:nC({brandColor:"#326EF4",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:5},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:5},{basicColorIndex:12,standardColorIndex:5}]}),colorful:rC,gray:nC({brandColor:"#9DA7B6",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:8},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:3},{basicColorIndex:12,standardColorIndex:3}]})},iC="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif",aC="zh_CN",lC=aC,sC={zh_CN:{"小计":"小计","总计":"总计","总和":"总和","项":"项","已选择":"已选择","序号":"序号","度量":"度量","数值":"数值","共计":"共计","条":"条","趋势":"趋势","隐藏":"隐藏","组内升序":"组内升序","升序":"升序","降序":"降序","组内降序":"组内降序","不排序":"不排序"},en_US:{"小计":"Total","总计":"Total","总和":"SUM","项":"items","已选择":"selected","序号":"Index","度量":"Measure","数值":"Measure","共计":"Total","条":"","隐藏":"Hide","趋势":"Trend","组内升序":"Group ASC","组内降序":"Group DESC","升序":"ASC","降序":"DESC","不排序":"No order"}},uC=function(){return lC},cC=function(e){sC=fg({},sC,e)},dC=function(e,t){return void 0===t&&(t=e),Xu(sC,[lC,e],t)},hC="".concat(Ui,"-tooltip"),fC="".concat(hC,"-container"),pC="".concat(fC,"-show"),vC="".concat(fC,"-hide"),gC=("".concat(hC,"-operation"),15),mC=10;!function(e){e[e.ALL=0]="ALL",e[e.COL=1]="COL",e[e.ROW=2]="ROW"}(Kb||(Kb={}));function yC(e){return"mobile"===e||/(iPhone|iPad|SymbianOS|Windows Phone|iPod|iOS|Android)/i.test(navigator.userAgent)}function bC(){return/windows/i.test(navigator.userAgent)}var CC=function(e){var t,n,r,o,i,a,l=(null==e?void 0:e.palette)||(a=null==e?void 0:e.name,oC[(a||"default").toLowerCase()]),s=l.basicColors,u=l.semanticColors,c=l.others,d=null===(t=null==e?void 0:e.spreadsheet)||void 0===t?void 0:t.isTableMode(),h=bC()?"bold":700,f=function(){var e,t;return{bolderText:{fontFamily:iC,fontSize:12,fontWeight:h,fill:s[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:s[6]},text:{fontFamily:iC,fontSize:12,fontWeight:"normal",fill:s[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:s[6]},cell:{crossBackgroundColor:s[1],backgroundColor:s[8],backgroundColorOpacity:1,horizontalBorderColor:s[9],horizontalBorderColorOpacity:1,verticalBorderColor:s[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:s[2],backgroundOpacity:.6},hoverFocus:{backgroundColor:s[2],backgroundOpacity:.6,borderColor:s[14],borderWidth:1,borderOpacity:1},selected:{backgroundColor:s[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},searchResult:{backgroundColor:null!==(e=null==c?void 0:c.results)&&void 0!==e?e:s[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(t=null==c?void 0:c.highlight)&&void 0!==t?t:s[6],backgroundOpacity:1},prepareSelect:{borderColor:s[14],borderOpacity:1,borderWidth:1}}},miniChart:{line:{point:{size:2.2,fill:s[6],opacity:1},linkLine:{size:1.5,fill:s[6],opacity:.6}},bar:{intervalPadding:4,fill:s[6],opacity:1},bullet:{progressBar:{widthPercent:.6,height:10,innerHeight:6},comparativeMeasure:{width:1,height:12,fill:s[13],opacity:.25},rangeColors:{good:null==u?void 0:u.green,satisfactory:u.yellow,bad:u.red},backgroundColor:"#E9E9E9"},interval:{height:12,fill:s[7]}},icon:{fill:s[13],downIconColor:u.red,upIconColor:u.green,size:10,margin:{right:4,left:4}}}};return{cornerCell:{bolderText:{fontFamily:iC,fontSize:12,fontWeight:h,fill:s[0],opacity:1,textAlign:d?"center":"left",textBaseline:"middle"},text:{fontFamily:iC,fontSize:12,fontWeight:h,fill:s[0],opacity:1,textAlign:"right",textBaseline:"middle"},cell:{backgroundColor:s[3],backgroundColorOpacity:1,horizontalBorderColor:s[10],horizontalBorderColorOpacity:1,verticalBorderColor:s[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8}},icon:{fill:s[0],size:10,margin:{right:4,left:4}}},rowCell:{seriesText:{fontFamily:iC,fontSize:12,fontWeight:"normal",fill:s[14],linkTextFill:s[6],opacity:1,textBaseline:"middle",textAlign:"center"},measureText:{fontFamily:iC,fontSize:12,fontWeight:"normal",fill:s[14],linkTextFill:s[6],opacity:1,textAlign:d?"center":"left",textBaseline:"top"},bolderText:{fontFamily:iC,fontSize:12,fontWeight:h,fill:s[14],linkTextFill:s[6],opacity:1,textAlign:d?"center":"left",textBaseline:"top"},text:{fontFamily:iC,fontSize:12,fontWeight:"normal",fill:s[14],linkTextFill:s[6],opacity:1,textBaseline:"top",textAlign:d?"center":"left"},cell:{backgroundColor:s[1],backgroundColorOpacity:1,horizontalBorderColor:s[9],horizontalBorderColorOpacity:1,verticalBorderColor:s[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:s[2],backgroundOpacity:.6},selected:{backgroundColor:s[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:s[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(n=null==c?void 0:c.results)&&void 0!==n?n:s[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(r=null==c?void 0:c.highlight)&&void 0!==r?r:s[6],backgroundOpacity:1}}},icon:{fill:s[14],size:10,margin:{right:4,left:4}},seriesNumberWidth:80},colCell:{measureText:{fontFamily:iC,fontSize:12,fontWeight:"normal",fill:s[0],opacity:1,textAlign:"right",textBaseline:"middle"},bolderText:{fontFamily:iC,fontSize:12,fontWeight:h,fill:s[0],opacity:1,textAlign:"center",textBaseline:"middle"},text:{fontFamily:iC,fontSize:12,fontWeight:"normal",fill:s[0],opacity:1,textAlign:"center",textBaseline:"middle"},cell:{backgroundColor:s[3],backgroundColorOpacity:1,horizontalBorderColor:s[10],horizontalBorderColorOpacity:1,verticalBorderColor:s[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:s[4],backgroundOpacity:.6},selected:{backgroundColor:s[4],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:s[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(o=null==c?void 0:c.results)&&void 0!==o?o:s[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(i=null==c?void 0:c.highlight)&&void 0!==i?i:s[6],backgroundOpacity:1}}},icon:{fill:s[0],size:10,margin:{top:6,right:4,bottom:6,left:4}}},dataCell:f(),mergedCell:f(),resizeArea:{size:3,background:s[7],backgroundOpacity:0,guideLineColor:s[7],guideLineDisableColor:"rgba(0,0,0,0.25)",guideLineDash:[3,3],interactionState:{hover:{backgroundColor:s[7],backgroundOpacity:1}}},scrollBar:{trackColor:"rgba(0,0,0,0.01)",thumbHoverColor:"rgba(0,0,0,0.25)",thumbColor:"rgba(0,0,0,0.15)",thumbHorizontalMinSize:32,thumbVerticalMinSize:32,size:yC()?3:6,hoverSize:yC()?4:8,lineCap:"round"},splitLine:{horizontalBorderColor:s[12],horizontalBorderColorOpacity:.2,horizontalBorderWidth:2,verticalBorderColor:s[11],verticalBorderColorOpacity:.25,verticalBorderWidth:2,showShadow:!0,shadowWidth:8,shadowColors:{left:"rgba(0,0,0,0.1)",right:"rgba(0,0,0,0)"}},prepareSelectMask:{backgroundColor:s[5],backgroundOpacity:.3},background:{color:s[8],opacity:1}}},xC=function(){function e(e){this.x=0,this.y=0,this.width=0,this.height=0,this.colIndex=-1,this.level=0,this.isLeaf=!1,this.children=[],this.padding=0;var t=e.id,n=e.key,r=e.value,o=e.label,i=e.parent,a=e.level,l=e.rowIndex,s=e.isTotals,u=e.isGrandTotals,c=e.isSubTotals,d=e.isCollapsed,h=e.hierarchy,f=e.isPivotMode,p=e.seriesNumberWidth,v=e.field,g=e.spreadsheet,m=e.query,y=e.belongsCell,b=e.inCollapseNode,C=e.isTotalMeasure,x=e.isLeaf,w=e.extra;this.id=t,this.key=n,this.value=r,this.label=o||r,this.parent=i,this.level=a,this.rowIndex=l,this.isTotals=s,this.isCollapsed=d,this.hierarchy=h,this.isPivotMode=f,this.seriesNumberWidth=p,this.field=v,this.spreadsheet=g,this.query=m,this.belongsCell=y,this.inCollapseNode=b,this.isTotalMeasure=C,this.isLeaf=x,this.isGrandTotals=u,this.isSubTotals=c,this.extra=w}return e.getFieldPath=function(e,t){if(e&&!e.isTotals||e&&t){for(var n=e.parent,r=[e.field];n&&n.id!==Pi;)r.push(n.field),n=n.parent;return r.reverse()}return[]},e.getAllLeaveNodes=function(e){var t=[];if(e.isLeaf)return[e];for(var n=Oa([],Ea(e.children),!1),r=n.shift();r;)r.isLeaf?t.push(r):n.unshift.apply(n,Oa([],Ea(r.children),!1)),r=n.shift();return t},e.getAllChildrenNodes=function(e){var t=[];if(e.isLeaf)return[e];for(var n=Oa([],Ea(e.children||[]),!1),r=n.shift();r;)t.push(r),n.unshift.apply(n,Oa([],Ea(r.children),!1)),r=n.shift();return t},e.getAllBranch=function(e){for(var t=[],n=this.getAllLeaveNodes(e),r=n.shift(),o=[];r;){o.unshift(r);for(var i=r.parent;i&&!Dv(i,e);)o.unshift(i),i=i.parent;t.push(o),r=n.shift(),o=[]}return t},e.blankNode=function(){return new e({id:"",key:"",value:""})},e.rootNode=function(){return new e({id:"root",key:"",value:""})},e.prototype.toJSON=function(){return _g(this,["config","hierarchy","parent","spreadsheet"])},e.prototype.getHeadLeafChild=function(){for(var e=this;!Bv(e.children);)e=Ap(e.children);return e},e}(),wC=function(){function e(){this.width=0,this.height=0,this.maxLevel=-1,this.sampleNodesForAllLevels=[],this.sampleNodeForLastLevel=null,this.allNodesWithoutRoot=[],this.indexNode=[]}return e.prototype.getLeaves=function(){return this.allNodesWithoutRoot.filter((function(e){return e.isLeaf}))},e.prototype.getNodes=function(e){return void 0!==e?this.allNodesWithoutRoot.filter((function(t){return t.level===e})):this.allNodesWithoutRoot},e.prototype.getNodesLessThanLevel=function(e){return this.allNodesWithoutRoot.filter((function(t){return t.level<=e}))},e.prototype.pushNode=function(e,t){void 0===t&&(t=-1),-1===t?this.allNodesWithoutRoot.push(e):this.allNodesWithoutRoot.splice(t,0,e)},e.prototype.pushIndexNode=function(e){this.indexNode.push(e)},e.prototype.getIndexNodes=function(){return this.indexNode},e}(),SC=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.label=e,this.isSubTotals=t,this.isGrandTotals=n};function EC(e,t){for(var n={},r=e;r&&r.key;)r.isTotals&&!t||(n[r.key]=r.value),r=r.parent;return n}var OC=function(e,t,n,r){return t.layoutArrange?t.layoutArrange(t.spreadsheet,n,r,e):e},IC=function(e,t,n,r){var o,i;if(null===(i=null===(o=e.spreadsheet)||void 0===o?void 0:o.facet)||void 0===i?void 0:i.getHiddenColumnsInfo(n))return!1;var a=!0,l=function(e,n,o){void 0===n&&(n=-1),void 0===o&&(o=-1),-1===n?(t.children.push(e),r.pushNode(e)):(t.children.splice(n,0,e),r.pushNode(e,o))};if(e.layoutHierarchy){var s=e.layoutHierarchy(e.spreadsheet,n);if(s){var u=!!Mv(null==s?void 0:s.delete)&&(null==s?void 0:s.delete);a=!u;var c=s.push,d=s.unshift,h=t.children.length,f=r.getNodes().length;Bv(d)||(tp(d,(function(e){l(e)})),h=t.children.length,f=r.getNodes().length),Bv(c)||tp(c,(function(e){l(e)})),u||l(n,h,f)}else l(n)}else l(n);return a},LC=function(e,t,n){(null==e?void 0:e.layoutCoordinate)&&((null==t?void 0:t.isLeaf)||(null==n?void 0:n.isLeaf))&&(null==e||e.layoutCoordinate(e.spreadsheet,t,n))},_C=function(e){this.label=e},TC=function(e){var t,n=e.addTotalMeasureInTotal,r=e.addMeasureInTotalQuery,o=e.parentNode,i=e.currentField,a=e.fields,l=e.facetCfg,s=e.hierarchy,u=a.indexOf(i),c=l.dataSet,d=l.values,h=l.spreadsheet,f=[],p={};if(o.isTotals)n&&(p=EC(o.parent,!0),f.push.apply(f,Oa([],Ea(d.map((function(e){return new _C(e)}))),!1)));else{p=EC(o,!0);var v=c.getDimensionValues(i,p),g=OC(v,l,o,i);f.push.apply(f,Oa([],Ea(g||[]),!1));var m=c.getFieldName(i);Bv(f)&&(i===mi?f.push.apply(f,Oa([],Ea(null===(t=c.fields)||void 0===t?void 0:t.values),!1)):f.push(m)),function(e,t,n){var r,o,i,a,l=null!==(a=null===(i=n.colCfg)||void 0===i?void 0:i.hideMeasureColumn)&&void 0!==a&&a,s=n.dataSet.fields.valueInCols;try{for(var u=Sa(e),c=u.next();!c.done;c=u.next()){var d=c.value;l&&s&&t===mi&&e.splice(e.indexOf(d),1)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}(f,i,l),function(e){var t,n,r,o=e.isFirstField,i=e.currentField,a=e.fieldValues,l=e.spreadsheet,s=e.lastField,u=l.getTotalsConfig(o?i:s);o?(null==u?void 0:u.showGrandTotals)&&(n=u.reverseLayout?"unshift":"push",r=new SC(u.label,!1,!0)):(null==u?void 0:u.showSubTotals)&&(Zl.size(a)>1||!1!==Zl.get(u,"showSubTotals.always"))&&i!==mi&&(n=u.reverseSubLayout?"unshift":"push",r=new SC(u.subLabel,!0)),null===(t=a[n])||void 0===t||t.call(a,r)}({currentField:i,lastField:a[u-1],isFirstField:0===u,fieldValues:f,spreadsheet:h})}var y=f.filter((function(e){return!Vv(e)}));RC({currentField:i,fields:a,fieldValues:y,facetCfg:l,hierarchy:s,parentNode:o,level:u,query:p,addMeasureInTotalQuery:r,addTotalMeasureInTotal:n})},MC=function(e,t){return"".concat(e).concat(zi).concat(t)},RC=function(e){var t,n,r,o,i,a,l,s,u,c,d,h,f=e.currentField,p=e.fields,v=e.fieldValues,g=e.facetCfg,m=e.hierarchy,y=e.parentNode,b=e.level,C=e.query,x=e.addMeasureInTotalQuery,w=e.addTotalMeasureInTotal,S=g.spreadsheet,E=g.collapsedCols,O=g.colCfg;try{for(var I=Sa(v.entries()),L=I.next();!L.done;L=I.next()){var _=Ea(L.value,2),T=_[0],M=_[1],R=M instanceof SC,A=M instanceof _C,N=void 0,B=void 0,D=!1,k=!1,P=!1,z=f;if(R){var F=M;k=F.isGrandTotals,P=F.isSubTotals,N=dC(M.label),x?(B=xa(xa({},C),((r={})[mi]=null===(l=null==S?void 0:S.dataSet)||void 0===l?void 0:l.fields.values[0],r)),D=!0):(B=C,w||(D=!0))}else if(A)N=dC(M.label),B=xa(xa({},C),((o={})[mi]=N,o)),z=mi,D=!0;else if(S.isTableMode())N=M,z=p[T],B=xa(xa({},C),((i={})[z]=N,i)),D=!0;else{N=M,B=xa(xa({},C),((a={})[f]=N,a));var H=null===(u=null===(s=S.dataCfg.fields)||void 0===s?void 0:s.valueInCols)||void 0===u||u,$=(null==O?void 0:O.hideMeasureColumn)&&H&&ov(p,mi)?2:1;D=b===p.length-$}var j=MC(y.id,N);if(!j)return;var W=!!Mv(null==E?void 0:E[j])&&(null==E?void 0:E[j]),G=new xC({id:j,key:z,value:N,level:b,field:z,parent:y,isTotals:R,isGrandTotals:k,isSubTotals:P,isTotalMeasure:A,isCollapsed:W,hierarchy:m,query:B,spreadsheet:S,isLeaf:D||W}),V=IC(g,y,G,m),U=null===(c=null==S?void 0:S.facet)||void 0===c?void 0:c.getHiddenColumnsInfo(G);U&&y&&(y.hiddenChildNodeInfo=U),!(b>m.maxLevel)||k||y.isGrandTotals||y.isSubTotals||G.isSubTotals||(m.sampleNodesForAllLevels.push(G),m.maxLevel=b,m.sampleNodeForLastLevel=U?(null===(d=null==U?void 0:U.displaySiblingNode)||void 0===d?void 0:d.next)||(null===(h=null==U?void 0:U.displaySiblingNode)||void 0===h?void 0:h.prev):G),D||W||!V?(G.isLeaf=!0,m.pushIndexNode(G),G.rowIndex=m.getIndexNodes().length-1):TC({addTotalMeasureInTotal:w,addMeasureInTotalQuery:x,parentNode:G,currentField:p[b+1],fields:p,facetCfg:g,hierarchy:m})}}catch(e){t={error:e}}finally{try{L&&!L.done&&(n=I.return)&&n.call(I)}finally{if(t)throw t.error}}},AC=function(e,t,n,r){var o=t.facetCfg,i=t.hierarchy,a=t.parentNode,l=o.dataSet;e.forEach((function(e,s){"string"==typeof e&&(e={key:e});var u=e.key,c=u===Ci?dC("序号"):l.getFieldName(u),d=r||a;if(RC({currentField:u,fields:[u],fieldValues:[c],facetCfg:o,hierarchy:i,parentNode:d,level:n,query:{},addMeasureInTotalQuery:!1,addTotalMeasureInTotal:!1}),e.children&&e.children.length){var h=d.children[s];h.isLeaf=!1,AC(e.children,t,n+1,h)}}))},NC=function(e,t){return t>0&&e<t},BC=function(e,t,n){return t>0&&e>=n-t},DC=function(e,t,n){return n>0&&e<t+n},kC=function(e,t,n){return n>0&&e>=t+1-n},PC=function(e,t,n,r,o,i){var a=Op(n,(function(t,r){var a=e-($v(i)?0:i)+o.x;return a>=t&&a<n[r+1]}),0);a=Math.max(a,0);var l=Op(n,(function(t,r){var i=o.width+e+o.x;return i>=t&&i<n[r+1]}),a);l=Math.min(-1===l?1/0:l,n.length-2);var s=r.getIndexRange(t+o.y,o.height+t+o.y);return[a,l,s.start,s.end]},zC=function(e,t,n){var r,o,i=null==e?void 0:e.getMatrix(),a=null!==(r=null==i?void 0:i[6])&&void 0!==r?r:0,l=null!==(o=null==i?void 0:i[7])&&void 0!==o?o:0;null==e||e.translate(t-a,n-l)},FC=function(e,t){var n,r=null==e?void 0:e.getMatrix(),o=null!==(n=null==r?void 0:r[6])&&void 0!==n?n:0;null==e||e.translate(t-o,0)},HC=function(e,t,n){var r=t,o=n,i=function(e){return e.isLeaf?1:e.children?e.children.reduce((function(e,t){return e+=i(t)}),0):0};return t&&(r=e.slice(0,t).reduce((function(e,t){return e+=i(t)}),0)),n&&(o=e.slice(e.length-n).reduce((function(e,t){return e+=i(t)}),0)),{colCount:r,trailingColCount:o}},$C=function(e,t){return e.reduce((function(e,n){"string"==typeof n&&(n={key:n});var r=xa({},n);return r.children?(r.children=$C(r.children,t),e.push(r),e):(t[r.key]&&e.push(r),e)}),[])},jC=function(e){return"root"===e.parent.id},WC=function(e){var t=function(e){var t=[],n=function(e){e.forEach((function(e){"string"!=typeof e&&e.children?n(e.children):t.push(e)}))};return n(e),t}(e);return t.map((function(e){return"string"==typeof e?e:e.key}))},GC=function(e){var t=e.children[0];return t?t.isLeaf?t:GC(t):e},VC=function(){function e(){var e=this;this.debug=!1,this.debugCallback=function(t,n){if(e.debug){var r=performance.now();n();var o=performance.now();console.log(t,"".concat(o-r," ms"))}else n()},this.logger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.debug&&console.log.apply(console,Oa([t],Ea(n),!1))}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setDebug=function(e){this.debug=e},e}(),UC=Object.freeze({__proto__:null,ArrowDown:'\n<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="↓" fill="#29A294">\n        <tspan x="-0.225097656" y="8.5">↓</tspan>\n    </text>\n</g>\n</svg>',ArrowUp:'<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="↑" fill="#FF4D4F">\n        <tspan x="-0.225097656" y="8.5">↑</tspan>\n    </text>\n</g>\n</svg>\n',CellDown:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>down</title>\n    <desc>Created with Sketch.</desc>\n    <g id="一期开发" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="down" fill="#58AE57" transform="translate(3.500000, 4.500000) scale(1, -1) translate(-3.500000, -4.500000) " points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg>',CellUp:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>up</title>\n    <desc>Created with Sketch.</desc>\n    <g id="一期开发" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="up" fill="#F46649" points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg> ',GlobalAsc:'<svg t="1557124621626" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17452"\nxmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n<defs>\n  <style type="text/css"></style>\n</defs>\n<path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 626.944h176c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8h-176A8 8 0 0 1 384 857.984v-56c0-4.416 3.584-8 8-8z m0-424h368c4.416 0 8 3.648 8 8v56a8 8 0 0 1-8 8h-368A8 8 0 0 1 384 433.984v-56c0-4.352 3.584-8 8-8z m528-139.968h-528A8 8 0 0 1 384 222.016v-56c0-4.416 3.584-8 8-8h528c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z m-256 424h-272A8 8 0 0 1 384 646.016v-56c0-4.416 3.584-8 8-8h272c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z" p-id="17453"></path>\n</svg>',GlobalDesc:'<svg t="1557124685600" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17561"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h176A8 8 0 0 0 576 222.016v-56a8 8 0 0 0-8-8h-176A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h368a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-368A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m-256-424h-272A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h272a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17562"></path>\n</svg>',GroupAsc:'<svg t="1557124695786" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17670"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 62.976h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17671"></path>\n</svg>',GroupDesc:'<svg t="1557124710652" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17779"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17780"></path>\n</svg>',GroupNone:'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="设计输出" stroke="none" stroke-width="1" fill-opacity="0.25" fill-rule="evenodd">\n    <g id="设计输出-移动端指标详情页-阅读端" transform="translate(-3275.000000, -724.000000)" fill-rule="nonzero">\n        <g id="编组-39" transform="translate(3064.500000, 667.000000)">\n            <g id="编组-36" transform="translate(80.500000, 44.000000)">\n                <g id="不排序" transform="translate(130.000000, 13.000000)">\n                    <path d="M12.0009375,12.40625 C12.0696875,12.40625 12.1259375,12.4625 12.1259375,12.53125 L12.1259375,12.53125 L12.1259375,13.40625 C12.1259375,13.475 12.0696875,13.53125 12.0009375,13.53125 L12.0009375,13.53125 L6.25093747,13.53125 C6.18218747,13.53125 6.12593747,13.475 6.12593747,13.40625 L6.12593747,13.40625 L6.12593747,12.53125 C6.12593747,12.4625 6.18218747,12.40625 6.25093747,12.40625 L6.25093747,12.40625 Z M2.93949997,2.5801875 L2.97437497,2.6109375 L4.72437497,4.828125 C4.78062497,4.89776786 4.74503823,4.99725765 4.66779698,5.02426203 L4.62593747,5.03125 L3.438,5.03089062 L3.43843747,10.9691406 L4.62593747,10.9691406 C4.73062497,10.9691406 4.78999997,11.0910156 4.72437497,11.1722656 L2.97437497,13.3894531 C2.92437497,13.4535156 2.82749997,13.4535156 2.77749997,13.3894531 L1.02749997,11.1722656 C0.961874969,11.0894531 1.02124997,10.9691406 1.12593747,10.9691406 L2.31343747,10.9691406 L2.313,5.03089062 L1.12593747,5.03125 C1.03620533,5.03125 0.979764,4.94285714 1.00679571,4.8654519 L1.02749997,4.828125 L2.77749997,2.6109375 C2.81749997,2.5596875 2.88749997,2.5494375 2.93949997,2.5801875 Z M10.5009375,9.09375 C10.5696875,9.09375 10.6259375,9.15 10.6259375,9.21875 L10.6259375,9.21875 L10.6259375,10.09375 C10.6259375,10.1625 10.5696875,10.21875 10.5009375,10.21875 L10.5009375,10.21875 L6.25093747,10.21875 C6.18218747,10.21875 6.12593747,10.1625 6.12593747,10.09375 L6.12593747,10.09375 L6.12593747,9.21875 C6.12593747,9.15 6.18218747,9.09375 6.25093747,9.09375 L6.25093747,9.09375 Z M14.5009375,5.78125 C14.5696875,5.78125 14.6259375,5.8375 14.6259375,5.90625 L14.6259375,5.90625 L14.6259375,6.78125 C14.6259375,6.85 14.5696875,6.90625 14.5009375,6.90625 L14.5009375,6.90625 L6.25093747,6.90625 C6.18218747,6.90625 6.12593747,6.85 6.12593747,6.78125 L6.12593747,6.78125 L6.12593747,5.90625 C6.12593747,5.8375 6.18218747,5.78125 6.25093747,5.78125 L6.25093747,5.78125 Z M9.00093747,2.46875 C9.06968747,2.46875 9.12593747,2.525 9.12593747,2.59375 L9.12593747,2.59375 L9.12593747,3.46875 C9.12593747,3.5375 9.06968747,3.59375 9.00093747,3.59375 L9.00093747,3.59375 L6.25093747,3.59375 C6.18218747,3.59375 6.12593747,3.5375 6.12593747,3.46875 L6.12593747,3.46875 L6.12593747,2.59375 C6.12593747,2.525 6.18218747,2.46875 6.25093747,2.46875 L6.25093747,2.46875 Z" id="形状结合"></path>\n                </g>\n            </g>\n        </g>\n    </g>q\n</g>\n</svg>',Minus:'<svg t="1557140120188" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="16909" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="16910">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="16911">\n\t</path>\n</svg>',Plus:'<svg t="1557140186692" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17025" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="17026">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="17027">\n\t</path>\n</svg>',SortDown:'<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',SortUp:'<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\n    p-id="17621"></path>\n</svg>\n',SortDownSelected:'<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',SortUpSelected:'<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\np-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n<defs>\n<style type="text/css"></style>\n</defs>\n<path\nd="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\np-id="17621"></path>\n</svg>\n',InfoCircle:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1590389330617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19656" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M512 64c-247.4 0-448 200.6-448 448s200.6 448 448 448 448-200.6 448-448-200.6-448-448-448z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="" p-id="19657"></path><path d="M464 336c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zM536 448h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-272c0-4.4-3.6-8-8-8z" fill="" p-id="19658"></path></svg>',ExpandColIcon:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="23px" height="12px" viewBox="0 0 23 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>编组 8备份 3</title>\n    <g id="----隐藏列标注！" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="隐藏列标注" transform="translate(-275.000000, -824.000000)">\n            <rect fill="#FFFFFF" x="0" y="0" width="1333" height="1167"></rect>\n            <g id="编组-8备份-3" transform="translate(275.000000, 824.000000)">\n                <rect id="矩形" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="0.5" y="0.5" width="11" height="11"></rect>\n                <rect id="矩形备份-9" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="11.5" y="0.5" width="11" height="11"></rect>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) " fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(17.000000, 6.000000) rotate(270.000000) translate(-17.000000, -6.000000) translate(11.000000, 0.000000)" fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n            </g>\n            <line x1="286.5" y1="813" x2="286.5" y2="864.5" id="路径-2备份-3" stroke="#000000" opacity="0.25"></line>\n        </g>\n    </g>\n</svg>',Trend:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1596433821690" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20229" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6c-3.1-3.1-8.2-3.1-11.3 0l-230 229.9L461.4 404c-3.1-3.1-8.2-3.1-11.3 0L266.3 586.7c-3.1 3.1-3.1 8.2 0 11.3l39.5 39.7z" p-id="20230"></path></svg>',DrillDownIcon:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1608030723688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21482" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M547.648 696a32 32 0 0 1 31.488 26.24l0.512 5.76v151.68l145.216-144.512a32 32 0 0 1 40.832-3.648l4.416 3.712a32 32 0 0 1 3.584 40.832l-3.712 4.48-203.072 202.24a32 32 0 0 1-40.768 3.648l-4.416-3.712-202.24-202.24a32 32 0 0 1 40.832-48.96l4.416 3.712 150.912 150.912v-158.144a32 32 0 0 1 32-32z m194.56-529.28l4.928 3.072 233.792 180.224a32 32 0 0 1 1.728 49.28l-4.864 3.52-409.792 245.568a32 32 0 0 1-27.328 2.624l-5.184-2.432-422.4-245.568a32 32 0 0 1-7.552-49.28l4.544-4.032 242.816-180.288a32 32 0 0 1 42.432 47.552l-4.288 3.84-203.84 151.296 364.16 211.648 353.28-211.712-196.608-151.552a32 32 0 0 1-8.896-40l3.136-4.864a32 32 0 0 1 40-8.96zM547.712 28.672a32 32 0 0 1 31.488 26.24l0.512 5.76v396.992a32 32 0 0 1-63.488 5.76l-0.512-5.76V60.736a32 32 0 0 1 32-32z" p-id="21483" fill="currentColor"></path></svg>\n',EyeOutlined:'<svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg>'}),ZC={},YC=function(e,t){ZC[eg(e)]=t},XC=function(e){return ZC[eg(e)]};pu(UC).forEach((function(e){YC(e,UC[e])}));var qC,KC,QC,JC="<svg",ex="data:image/svg+xml",tx={},nx=function(e){function t(t){var n=e.call(this,t)||this;return n.isOnlineLink=function(e){return/^(https?:)?(\/\/)/.test(e)},n.render(),n}return Ca(t,e),t.prototype.getImage=function(e,t,n){var r=this;return new Promise((function(o,i){var a=XC(e);if(a){var l=new Image;l.onload=function(){tx[t]=l,o(l)},l.onerror=i,a.includes(ex)||r.isOnlineLink(a)?l.src=a:(n&&(a=(a=a.replace(/fill=[\'\"]#?\w+[\'\"]/g,"")).replace(/fill>/g,">")),a=a.replace(JC,"".concat(JC,' fill="').concat(n,'"')),l.src="".concat(ex,";utf-8,").concat(encodeURIComponent(a)))}}))},t.prototype.render=function(){var e=this.cfg,n=e.name,r=e.fill,o=_h(this.cfg),i=xa(xa({},_g(o,"fill")),{type:t.type}),a=new ko({attrs:i});this.iconImageShape=a,this.setImageAttrs({name:n,fill:r})},t.prototype.setImageAttrs=function(e){var t=this,n=e.name,r=e.fill,o=this.iconImageShape;n=n||o.attrs.name,r=r||o.attrs.fill;var i="".concat(n,"-").concat(r),a=tx[i];a?(o.attr("img",a),this.addShape("image",o)):this.getImage(n,i,r).then((function(e){t.destroyed||(o.attr("img",e),t.addShape("image",o))})).catch((function(e){console.error("GuiIcon ".concat(n," load failed"),e)}))},t.type="__GUI_ICON__",t}(Io);!function(e){e.TOP="TOP",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.RIGHT="RIGHT"}(qC||(qC={})),function(e){e.SUM="SUM",e.MIN="MIN",e.MAX="MAX",e.AVG="AVG"}(KC||(KC={})),function(e){e.Row="row",e.Col="col",e.Series="series"}(QC||(QC={}));var rx=function(){function e(){this.store=new Map}return e.prototype.set=function(e,t){return this.store.set(e,t)},e.prototype.get=function(e,t){var n;return null!==(n=this.store.get(e))&&void 0!==n?n:t},e.prototype.clear=function(){this.store.clear()},e.prototype.size=function(){return this.store.size},e}(),ox=function(e,t,n){return e.sort((function(e,r){n&&(e=n(e),r=n(r));var o=t.indexOf(e),i=t.indexOf(r);return-1===o&&-1===i?0:-1===o?1:-1===i?-1:o-i}))},ix=function(e){return wp(e,(function(e){return!Vv(e)&&"undefined"!==e}))},ax=function(e){var t;return null===(t=pu(e))||void 0===t?void 0:t.reduce((function(t,n){var r=Xu(e,n);return Array.isArray(r)?t=t.concat(ax(r)):null==t||t.push(r),t}),[])},lx=function(e){var t=[];if(Array.isArray(e))for(var n=("undefined"in e),r=e.length+(n?1:0),o=0,i=function(){var n=o===e.length?e[void 0]:e[o];o++,n&&"undefined"in n?pu(n).forEach((function(e){t.push(n[e])})):Array.isArray(n)?t.push.apply(t,Oa([],Ea(n),!1)):t.push(n)};o<r;)i();else t.push(e);return t},sx=function(e,t){var n=[];return null==e||e.forEach((function(e,r){void 0===e&&t[r]&&n.push(t[r])})),n},ux=function(e,t){return!bp(e,(function(e){return t[e]}))};function cx(e,t){var n=t.rows,r=t.columns;return jm(e,(function(e,t){return ux([].concat(n).concat(r),t)&&e.push(t),e}),[])}"KMBTP".split("");var dx=function(e){return Number.parseFloat((nl(e)||0).toPrecision(16))},hx=function(e,t,n){if(void 0===n&&(n=0),!Object.values(e).find((function(e){return e>0})))return e;var r=xa({},e);r.frozenColCount>=t&&(r.frozenColCount=t);var o=t-r.frozenColCount;r.frozenTrailingColCount>o&&(r.frozenTrailingColCount=o),r.frozenRowCount>=n&&(r.frozenRowCount=n);var i=n-r.frozenRowCount;return r.frozenTrailingRowCount>i&&(r.frozenTrailingRowCount=i),r};function fx(e,t,n){var r;return null===(r=null==e?void 0:e.addShape)||void 0===r?void 0:r.call(e,"rect",xa({zIndex:1,attrs:t},n||{}))}function px(e,t){var n;return null===(n=null==e?void 0:e.addShape)||void 0===n?void 0:n.call(e,"circle",{attrs:t})}function vx(e,t,n,r,o,i,a,l){var s;return!Bv(t)&&e&&tp(t,(function(t){e.contain(t)&&e.removeChild(t,!0)})),null===(s=null==e?void 0:e.addShape)||void 0===s?void 0:s.call(e,"text",{attrs:xa(xa({x:n,y:r,text:o,originalText:l},i),a)})}function gx(e,t,n){var r;return null===(r=null==e?void 0:e.addShape)||void 0===r?void 0:r.call(e,"line",{zIndex:100,attrs:xa(xa({},t),n)})}function mx(e,t,n){Bv(e)||($a(e)?e:[e]).forEach((function(e){Jm(e,"attrs.".concat(t),n)}))}function yx(e,t){var n=new nx(t);return null==e||e.add(n),n}function bx(e,t,n,r,o){var i=new nx(xa(xa({name:r?"Plus":"Minus"},t),{fill:n}));return ll(o)&&i.on("click",o),null==e||e.add(i),i}var Cx,xx="s2-offscreen-canvas",wx=function(e){var t;return null!==(t=null==e?void 0:e.position)&&void 0!==t?t:"right"},Sx=function(e,t){var n,r,o,i=e.data,a=e.encode,l=e.type,s=t.getMeta(),u=s.x,c=s.y,d=s.height,h=s.width,f=t.getStyle(ea.DATA_CELL),p=f.cell,v=f.miniChart,g=[],m=Bp(i,(function(e){return g.push(null==e?void 0:e[a.y]),{x:e[a.x],y:e[a.y]}})),y=sg(g),b=yg(g),C=y-b,x=u+p.padding.left,w=u+h-p.padding.right,S=c+p.padding.top,E=c+d-p.padding.bottom,O=E-S,I=l===vi.Bar?(w-x-(g.length-1)*(null===(n=null==v?void 0:v.bar)||void 0===n?void 0:n.intervalPadding))/g.length+(null===(r=null==v?void 0:v.bar)||void 0===r?void 0:r.intervalPadding):null!==(o=(w-x)/(g.length-1))&&void 0!==o?o:0,L=[],_=Bp(m,(function(e,t){var n,r,o=x+t*I;if(r=0!==C?E-((null==e?void 0:e.y)-b)/C*O:b>0?S:E,l===vi.Bar){var i=void 0,a=void 0;b<0&&y>0&&0!==C?(i=E-(0-b)/C*O,a=Math.abs(r-i),(null==e?void 0:e.y)<0&&(r=i)):(i=b<0?S:E,a=0===(C=sg([Math.abs(y),Math.abs(b)]))?O:Math.abs((null==e?void 0:e.y)-0)/C*O,r=i);var s=I-(null===(n=null==v?void 0:v.bar)||void 0===n?void 0:n.intervalPadding);L.push([s,a])}return[o,r]}));return{points:_,box:L}},Ex=function(e,t,n){var r=Number(t)-Number(e);return Number.isNaN(r)||Number(e)<0?n.bad:r<=.1?n.good:r>.1&&r<=.2?n.satisfactory:n.bad},Ox=function(e){var t,n,r,o,i,a;if(!Bv(e)){var l=e.getCellArea(),s=l.x,u=l.y,c=l.height,d=l.width,h=e.findFieldCondition(null===(t=e.cellConditions)||void 0===t?void 0:t.interval);if(h&&h.mapping){var f=e.mappingValue(h);if(!f)return;var p=f.isCompare?f:e.valueRangeByField,v=dx(p.minValue),g=dx(p.maxValue),m=$v(null==f?void 0:f.fieldValue)?dx(e.getMeta().fieldValue):dx(null==f?void 0:f.fieldValue);if(m<v||m>g)return;var y=null!==(r=null===(n=e.getStyle().miniChart.interval)||void 0===n?void 0:n.height)&&void 0!==r?r:e.getStyle().cell.miniBarChartHeight,b=null!==(i=null===(o=e.getStyle().miniChart.interval)||void 0===o?void 0:o.fill)&&void 0!==i?i:e.getStyle().cell.miniBarChartFillColor,C=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),e=dx(e),t=dx(t);var n=e>=0,r=t>=0&&e<=0,o=r?0:n?e:t,i=t-e;return function(t){var a=n?0:1;return{zeroScale:r?Md(Math.abs(0-e)/i,0,1):a,scale:Md((t-o)/i,-1,1)}}}(v,g),x=C(m);return fx(e,{x:s+d*x.zeroScale,y:u+c/2-y/2,width:d*x.scale,height:y,fill:null!==(a=f.fill)&&void 0!==a?a:b})}}},Ix=function(e,t){var n,r=t.getStyle(ea.DATA_CELL),o=t.getMeta(),i=o.x,a=o.y,l=o.height,s=o.width,u=o.spreadsheet;if(Bv(e))vx(t,[],i+s-r.cell.padding.right,a+l/2,Hx(t,u.options.placeholder),r.text);else{var c=r.miniChart.bullet,d=c.progressBar,h=c.comparativeMeasure,f=c.rangeColors,p=c.backgroundColor,v=e.measure,g=e.target,m=Math.max(Number(v),0),y=Math.max(Number(g),0),b=function(e,t){var n,r;void 0===t&&(t={min:0,max:0});var o=Number(e);if(Number.isNaN(o))return e;var i=null!==(n=null==t?void 0:t.min)&&void 0!==n?n:t,a=null!==(r=null==t?void 0:t.max)&&void 0!==r?r:t;return new Intl.NumberFormat("en-US",{minimumFractionDigits:i,maximumFractionDigits:a,useGrouping:!1,style:"percent"}).format(o)}(v,2),C=(null==d?void 0:d.widthPercent)>1?(null==d?void 0:d.widthPercent)/100:null==d?void 0:d.widthPercent,x=r.cell.padding,w=s-x.left-x.right,S=C*w,E=w-S,O=i+s-x.right-S,I=a+l/2-d.height/2;fx(t,{x:O,y:I,width:S,height:d.height,fill:p,textBaseline:r.text.textBaseline});var L=Xu(t.getMeta(),"spreadsheet.options.bullet.getRangeColor"),_=Math.max(Math.min(S*m,S),0);fx(t,{x:O,y:I+(d.height-d.innerHeight)/2,width:_,height:d.innerHeight,fill:null!==(n=null==L?void 0:L(m,y))&&void 0!==n?n:Ex(m,y,f)});var T=O+S*y;gx(t,{x1:T,y1:a+(l-h.height)/2,x2:T,y2:a+(l-h.height)/2+h.height},{stroke:(null==h?void 0:h.fill)||(null==h?void 0:h.color),lineWidth:h.width,opacity:null==h?void 0:h.opacity}),vx(t,[],O-x.right,a+l/2,Dx({measureTextWidth:u.measureTextWidth,text:b,maxWidth:E-x.right,fontParam:r.text}),r.text)}},Lx=function(e,t){switch(null==t?void 0:t.type){case vi.Line:!function(e,t){if(!Bv(null==e?void 0:e.data)&&!Bv(t)){var n=t.getStyle(ea.DATA_CELL).miniChart.line,r=n.point,o=n.linkLine,i=Sx(e,t).points;!function(e,t){var n;null===(n=null==e?void 0:e.addShape)||void 0===n||n.call(e,"polyline",{attrs:t})}(t,{points:i,stroke:o.fill,lineWidth:o.size,opacity:o.opacity});for(var a=0;a<i.length;a++)px(t,{x:i[a][0],y:i[a][1],r:r.size,fill:r.fill,fillOpacity:r.opacity})}}(t,e);break;case vi.Bar:!function(e,t){if(!Bv(null==e?void 0:e.data)&&!Bv(t))for(var n=t.getStyle(ea.DATA_CELL).miniChart.bar,r=Sx(e,t),o=r.points,i=r.box,a=0;a<o.length;a++)fx(t,{x:o[a][0],y:o[a][1],width:i[a][0],height:i[a][1],fill:n.fill,fillOpacity:n.opacity})}(t,e);break;default:Ix(t,e)}},_x=function(e,t){var n=e.x,r=e.y,o=e.width,i=e.height,a=o-(null==t?void 0:t.left)-(null==t?void 0:t.right),l=i-(null==t?void 0:t.top)-(null==t?void 0:t.bottom);return{x:n+(null==t?void 0:t.left),y:r+(null==t?void 0:t.top),width:a,height:l}},Tx=function(e){return fg({size:0,position:"right",margin:{left:0,right:0}},e)},Mx=function(e,t){return e-(t=Tx(t)).size-t.margin.right-t.margin.left},Rx=function(e,t,n){var r=e.y,o=e.height;void 0===n&&(n=0);var i=0;switch(t){case"top":i=r;break;case"middle":i=r+o/2-n/2;break;default:i=r+o-n}return i},Ax=function(e,t,n,r,o){void 0===n&&(n=0),void 0===o&&(o=1);var i,a,l=e.x,s=e.width,u=t.textAlign,c=t.textBaseline,d=Tx(r),h=d.size,f=d.margin,p=d.position,v=o*(h+f.left)+(o?f.right:0);switch(u){case"left":i=l+("left"===p?v:0),a=l+("left"===p?f.left:n+f.left);break;case"center":var g=l+s/2-(v-("left"===p?f.left:f.right)+n)/2;i=g+n/2+("left"===p?v-f.left:0),a=g+("left"===p?0:n+f.left);break;default:i=l+s-("right"===p?v:0),a=l+s-("right"===p?v-f.left:n+v-f.left)}return{text:{x:i,y:Rx(e,c,0)},icon:{x:a,y:Rx(e,c,h)}}},Nx=function(e,t,n){var r,o,i,a,l,s=t.x,u=t.y,c=t.width,d=t.height,h=n.horizontalBorderWidth,f=n.horizontalBorderColorOpacity,p=n.horizontalBorderColor,v=n.verticalBorderWidth,g=n.verticalBorderColor,m=n.verticalBorderColorOpacity;if(e===qC.TOP||e===qC.BOTTOM){var y=u;o=y=e===qC.TOP?u+v/2:u+d-v/2,a=y,r=s,i=s+c,l={lineWidth:h,stroke:p,strokeOpacity:f}}if(e===qC.LEFT||e===qC.RIGHT){var b=s;r=b=e===qC.LEFT?s+h/2:s+c-h/2,i=b,o=u,a=u+d,l={lineWidth:v,stroke:g,strokeOpacity:m}}return{position:{x1:r,x2:i,y1:o,y2:a},style:l}},Bx=(Hu((function(e,t){if(void 0===e&&(e=""),!t)return 0;var n,r=(n=document.getElementById(xx),n||((n=document.createElement("canvas")).id=xx,n.style.display="none",document.body.appendChild(n),n)).getContext("2d"),o=t,i=o.fontSize,a=o.fontFamily,l=o.fontWeight,s=o.fontStyle,u=o.fontVariant;return r.font=[s,u,l,"".concat(i,"px"),a].join(" ").trim(),r.measureText("".concat(e)).width}),(function(e,t){return Oa([e],Ea(nv(t)),!1).join("")})),function(e,t,n,r){var o,i=e(Vi,r);o=ev(t)?t:Vu(t);var a,l,s=n,u=[];if(e(t,r)<=n)return t;for(var c=!0;c;){if((l=e(a=o.substr(0,16),r))+i>s&&l>s){c=!1;break}if(u.push(a),s-=l,!(o=o.substr(16)))return u.join("")}for(var d=!0;d;){if((l=e(a=o.substr(0,1),r))+i>s){d=!1;break}if(u.push(a),s-=l,!(o=o.substr(1)))return u.join("")}return"".concat(u.join(""),"...")}),Dx=function(e){var t=e.measureTextWidth,n=e.text,r=e.maxWidth,o=e.fontParam,i=e.priorityParam,a=e.placeholder,l={},s=null!=a?a:Fi,u=$v(n)||""===n?s:"".concat(n),c=i;if(o&&$a(o)?c=o:l=o||{},!c||!c.length)return Bx(t,u,r,l);var d=[],h=[u];c.forEach((function(e){h.forEach((function(t,n){var r=-1,o=t.match(new RegExp(e));if(o){var i=o[0];r=o.index,d.push(i);var a=r+i.length,l=[t.slice(0,r),t.slice(a)].filter((function(e){return!!e}));h.splice.apply(h,Oa([n,1],Ea(l),!1))}}))})),h=d.concat(h);var f=u,p=t(Vi,l),v=r;return h.forEach((function(e){if(v<=0){var n=f.indexOf(e),r=f.slice(n-3,n);if(r&&r!==Vi){var o=t(e,l);f=f.replace(e,o>p?Vi:e)}else f=f.replace(e,"");v-=p}else{o=t(e,l);if(v<o&&o>p){var i=Bx(t,e,v,l);f=f.replace(e,i),v=0}else v-=o}})),f},kx=function(e){return zv(e)?e>=0:!!e&&!Vy(e).startsWith("-")},Px=function(e){return $v(e)||""===e||0===Number(String(e).replace(/[^0-9.]+/g,""))},zx=function(e,t,n,r){void 0===r&&(r="left");var o=t.right,i=t.left,a=n||0;return"left"===r?e+o/2+a:"right"===r?e-o/2-a:e+i/2+a},Fx=function(e){var t=e.rowIndex,n=e.colIndex,r=e.meta,o=e.data,i=e.textStyle,a=e.textCondition,l=i.fill;return(null==a?void 0:a.mapping)&&(l=null==a?void 0:a.mapping(o,{rowIndex:t,colIndex:n,meta:r}).fill),xa(xa({},i),{fill:l})},Hx=function(e,t){return ll(t)?t(e):t},$x=function(e,t,n){var r,o,i,a;void 0===n&&(n=!0);var l=e.getContentArea(),s=l.x,u=l.y,c=l.height,d=l.width,h=t||e.getMeta().fieldValue,f=h.values,p=e.getMeta().spreadsheet,v=p.options,g=p.measureTextWidth,m=v.style.cellCfg.valuesCfg,y=null===(o=null===(r=null==v?void 0:v.conditions)||void 0===r?void 0:r.text)||void 0===o?void 0:o[0],b=null===(a=null===(i=null==v?void 0:v.conditions)||void 0===i?void 0:i.icon)||void 0===a?void 0:a[0];if($a(f)){var C=null==m?void 0:m.widthPercent,x=0;if(null==h?void 0:h.label){var w=e.getStyle(ea.DATA_CELL).bolderText,S=vx(e,[],s,u+(x=c/(f.length+1))/2,Dx({measureTextWidth:g,text:h.label,maxWidth:d,fontParam:w}),w);e.addTextShape(S)}for(var E,O=function(e){var t,n,r=e.getMeta().isTotals,o=null===(n=(t=e).isMeasureField)||void 0===n?void 0:n.call(t),i=e.getStyle(o?ea.COL_CELL:ea.DATA_CELL);return{cellStyle:i,textStyle:o?i.measureText:r?i.bolderText:i.text}}(e),I=O.cellStyle,L=O.textStyle,_=null==I?void 0:I.icon,T=b&&b.mapping&&{size:null==_?void 0:_.size,margin:null==_?void 0:_.margin,position:null==b?void 0:b.position},M=function(e,t,n){for(var r,o,i,a=e.x,l=e.y,s=e.width,u=e.height/ny(t),c=[],d=0,h=Bp(n,(function(e){return e>1?e/100:e})),f=0;f<ny(t);f++){o=l+u*f;var p=[];r=a,d=0;for(var v=0;v<ny(t[f]);v++)i=Bv(h)?s/ny(t[0]):s*h[v],r=zx(a,{left:0,right:0},d,"left"),d+=i,p.push({x:r,y:o,width:i,height:u});c.push(p)}return c}({x:s,y:u+x,height:c-x,width:d},f,C),R=0;R<f.length;R++)for(var A=_h(f[R]),N=0;N<A.length;N++){E=A[N];var B=n?Fx({rowIndex:R,colIndex:N,meta:null==e?void 0:e.getMeta(),data:E,textStyle:L,textCondition:y}):L,D=(null==e?void 0:e.getMeta().spreadsheet.options).placeholder,k=Hx(null==e?void 0:e.getMeta(),D),P=Mx(M[R][N].width,_),z=Dx({measureTextWidth:g,text:E,maxWidth:P,fontParam:B,placeholder:k}),F=g(z,L),H=Ax(M[R][N],L,F,T,b?1:0);S=vx(e,[],H.text.x,H.text.y,z,B,{},null==E?void 0:E.toString());if(e.addTextShape(S),b&&n){var $=null==b?void 0:b.mapping(E,{rowIndex:R,colIndex:N,meta:null==e?void 0:e.getMeta()});if($){var j=yx(e,xa(xa({},H.icon),{name:$.icon,width:null==_?void 0:_.size,height:null==_?void 0:_.size,fill:$.fill}));e.addConditionIconShape(j)}}}}else Lx(e,f)},jx=function(e,t){return void 0===t&&(t=1),(null==e?void 0:e.width)*t},Wx=function(e){try{return JSON.parse(e)}catch(e){return null}};function Gx(e,t){return!(!e||!t)&&String(e).toLowerCase()===String(t).toLowerCase()}var Vx,Ux=function(e,t){var n=e.getColumnNodes().find((function(e){return e.id===t}));return e.isPivotMode()?null==n?void 0:n.value:null==n?void 0:n.field},Zx=function(e,t){var n=t.getColumnNodes().find((function(t){return t.colIndex===e})),r=Ux(t,n.id);return t.options.interaction.copyWithFormat?t.dataSet.getFieldFormatter(r):function(e){return e}},Yx=function(e,t,n){var r,o;if(n.isPivotMode()){var i=Ea(function(e,t){var n=e.rowIndex,r=e.colIndex;return[t.getRowNodes().find((function(e){return e.rowIndex===n})),t.getColumnNodes().find((function(e){return e.colIndex===r}))]}(e,n),2),a=i[0],l=i[1],s=function(e){var t,n,r,o;return(null===(o=null===(r=null===(n=e.options)||void 0===n?void 0:n.style)||void 0===r?void 0:r.colCfg)||void 0===o?void 0:o.hideMeasureColumn)&&e.isValueInCols()?((t={})[mi]=e.dataCfg.fields.values[0],t):{}}(n),u=n.dataSet.getCellData({query:xa(xa(xa({},a.query),l.query),s),rowNode:a,isTotals:a.isTotals||a.isTotalMeasure||l.isTotals||l.isTotalMeasure});return null!==(r=null==u?void 0:u[gi])&&void 0!==r?r:""}var c=function(e,t){var n=t.getColumnNodes().find((function(t){return t.colIndex===e}));return Ux(t,n.id)}(e.colIndex,n);return null===(o=t[e.rowIndex])||void 0===o?void 0:o[c]},Xx=function(e,t,n){return Zx(e.colIndex,n)(Yx(e,t,n))},qx=function(e){return/\n/.test(e)?'"'+e.replace(/\r\n?/g,"\n")+'"':e},Kx=function(e,t){var n=e.split(zi);return t?n.slice(n.length-t):(n.shift(),n)};!function(e){e.PLAIN="text/plain",e.HTML="text/html"}(Vx||(Vx={}));var Qx=((Cx={})[Vx.PLAIN]=function(e){return{type:Vx.PLAIN,content:Bp(e,(function(e){return e.join("\t")})).join("\r\n")}},Cx[Vx.HTML]=function(e){return{type:Vx.HTML,content:'<meta charset="utf-8"><table><tbody>'.concat((t=e,n="tr",t.map((function(e){return"<".concat(n,">").concat(function(e,t){return e.map((function(e){return"<".concat(t,">").concat(pp(e),"</").concat(t,">")})).join("")}(e,"td"),"</").concat(n,">")})).join("")),"</tbody></table>")};var t,n},Cx);function Jx(e){return Qx[e]}function ew(e,t){return void 0===t&&(t=Vx.PLAIN),Array.isArray(t)?[].concat(e).filter((function(e){return t.includes(e.type)})).map((function(e){return e.content})):[].concat(e).filter((function(e){return(null==e?void 0:e.type)===t})).map((function(e){return e.content}))[0]||""}var tw=function(e,t,n){var r,o,i,a,l,s,u=null!==(o=null===(r=e[0])||void 0===r?void 0:r.length)&&void 0!==o?o:0,c=null!==(i=null==t?void 0:t.length)&&void 0!==i?i:0,d=null!==(l=null===(a=n[0])||void 0===a?void 0:a.length)&&void 0!==l?l:0,h=null!==(s=n.length)&&void 0!==s?s:0,f=u+d,p=c+h,v=Array.from(Array(p),(function(){return new Array(f)}));return v=Bp(v,(function(r,o){return Bp(r,(function(r,i){return i>=0&&i<u&&o>=0&&o<c?"":i>=u&&i<=f&&o>=0&&o<c?t[o][i-u]:i>=0&&i<u&&o>=c&&o<p?e[o-c][i]:i>=u&&i<=f&&o>=c&&o<p?n[o-c][i-u]:void 0}))})),[Jx(Vx.PLAIN)(v),Jx(Vx.HTML)(v)]},nw=function(e,t,n){return Bp(e,(function(e){return t.map((function(t){var r,o=n.dataSet.getCellData({query:xa(xa({},e.query),t.query),rowNode:e,isTotals:e.isTotals||e.isTotalMeasure||t.isTotals||t.isTotalMeasure});return Zx(t.colIndex,n)(null!==(r=null==o?void 0:o[gi])&&void 0!==r?r:"")}))}))};function rw(e,t,n){return e.options.interaction.copyWithHeader?function(e,t,n){var r=Bp(t,(function(e){return Kx(e.id)})),o=Sb.apply(void 0,Oa([],Ea(Bp(n,(function(e){return Kx(e.id)}))),!1)),i=nw(t,n,e);return tw(r,o,i)}(e,t,n):function(e,t,n){var r=nw(t,n,e);return[Jx(Vx.PLAIN)(r),Jx(Vx.HTML)(r)]}(e,t,n)}var ow=function(e,t,n){return t.isPivotMode()?function(e,t){var n=e.getRowNodes().filter((function(t){return t.isLeaf||e.isHierarchyTreeType()})),r=e.getColumnNodes().filter((function(e){return e.isLeaf})),o=t.length?t.reduce((function(e,t){return e.push.apply(e,Oa([],Ea(r.filter((function(e){return e.id.startsWith(t.id)}))),!1)),e}),[]):r;return rw(e,n,o)}(t,n):function(e,t){var n=e.dataSet.getDisplayDataSet(),r=t.length?t.map((function(t){return{field:Ux(e,t.id),formatter:Zx(t.colIndex,e)}})):e.dataCfg.fields.columns.map((function(t){return e.getColumnNodes().find((function(e){return e.field===t}))})).map((function(t){return{field:Ux(e,t.id),formatter:Zx(t.colIndex,e)}})),o=n.map((function(e){return r.map((function(t){var n=t.field,r=t.formatter;return qx(r(e[n]))}))}));return[Jx(Vx.PLAIN)(o),Jx(Vx.HTML)(o)]}(t,n)},iw=function(e,t,n){return t.isPivotMode()?function(e,t){var n=e.getRowNodes().filter((function(t){return t.isLeaf||e.isHierarchyTreeType()})),r=e.getColumnNodes().filter((function(e){return e.isLeaf})),o=t.reduce((function(e,t){return e.push.apply(e,Oa([],Ea(n.filter((function(e){return e.id.startsWith(t.id)}))),!1)),e}),[]);return rw(e,o,r)}(t,n):function(e,t){var n=e.dataSet.getDisplayDataSet().filter((function(e,n){return t.map((function(e){return e.rowIndex})).includes(n)})).map((function(t){var n=e.getColumnNodes().reduce((function(e,t,n){return e[t.field]=n,e}),{});return Object.keys(t).sort((function(e,t){return n[e]-n[t]})).map((function(t){return e.getColumnNodes().find((function(e){return e.field===t}))})).filter(Boolean).map((function(n){return qx(Zx(n.colIndex,e)(t[n.field]))}))}));return[Jx(Vx.PLAIN)(n),Jx(Vx.HTML)(n)]}(t,n)};function aw(e){var t,n=function(e){var t=new Set;return tp(e,(function(e){var n=e.getMeta().level;t.has(n)||t.add(n)})),t}(e),r=null!==(t=sg(Array.from(n)))&&void 0!==t?t:0,o=function(e,t){return wp(e,(function(e){var n=e.getMeta(),r=n.level===t,o=n.isTotals&&Bv(n.children);return r||o}))}(e,r),i=e[0].cellType===ea.COL_CELL,a=function(e,t,n){return Bp(e,(function(e){var r=e.getMeta(),o=r.id,i=r.label,a=r.isTotals,l=r.level,s=o;a&&l!==t&&(s=o+zi+Gm(i,t-l));var u=e.getActualText();return Bp(Kx(s,n.size),(function(e){return Dv(e,i)?u:e}))}))}(o,r,n);return i&&(a=Sb.apply(void 0,Oa([],Ea(a),!1))),[Jx(Vx.PLAIN)(a),Jx(Vx.HTML)(a)]}var lw=function(e,t,n){return Bp(t,(function(t){var r;return null!==(r=e[t])&&void 0!==r?r:n}))};function sw(e,t){var n,r,o=t.filter((function(e){return e.type===ea.COL_CELL})),i=t.filter((function(e){return e.type===ea.ROW_CELL})),a=e.dataSet.getDisplayDataSet();if(e.interaction.getCurrentStateName()===Ji.ALL_SELECTED)r=ow(0,e,[]);else if(o.length)r=ow(0,e,o);else if(i.length)r=iw(0,e,i);else{if(!t.length)return;var l=function(e){if(!(null==e?void 0:e.length))return[];var t=Ea([{row:1/0,col:1/0},{row:0,col:0}],2),n=t[0],r=t[1];e.forEach((function(e){var t=e.rowIndex,o=e.colIndex;n.col=Math.min(o,n.col),n.row=Math.min(t,n.row),r.col=Math.max(o,r.col),r.row=Math.max(t,r.row)}));var o=Ea([r.row-n.row+1,r.col-n.col+1],2),i=o[0],a=o[1],l=new Array(i).fill("").map((function(){return new Array(a).fill("")}));return e.forEach((function(e){var t=e.rowIndex,r=e.colIndex,o=Ea([t-n.row,r-n.col],2),i=o[0],a=o[1];l[i][a]=e})),l}(t);if(e.interaction.getSelectedCellHighlight().currentRow){var s=Bg(t,"rowIndex","asc").map((function(t){return e.dataSet.getRowData(t)}));r=function(e,t){var n=e.options.placeholder,r=e.dataCfg.fields,o=r.rows,i=r.columns,a=r.values,l=Hx(e,n),s=e.getColumnLeafNodes(),u=[];if(e.isTableMode()){var c=wp(s,(function(e){return e.field!==Ci}));u=Bp(t,(function(e){return Bp(c,(function(t){var n;return null!==(n=null==e?void 0:e[t.field])&&void 0!==n?n:l}))}))}else if(e.isPivotMode()){var d=Oa(Oa(Oa([],Ea(o),!1),Ea(i),!1),Ea(a),!1);u=jm(ax(t).filter((function(e){return Oa(Oa([],Ea(o),!1),Ea(i),!1).every((function(t){return!$v(e[t])}))})),(function(e,t){return Oa(Oa([],Ea(e),!1),[lw(t,d,l)],!1)}),[])}return[Jx(Vx.PLAIN)(u),Jx(Vx.HTML)(u)]}(e,s)}else r=(null===(n=e.options.interaction)||void 0===n?void 0:n.copyWithHeader)?function(e,t,n){var r=Sb.apply(void 0,Oa([],Ea(Bp(e[0],(function(e){var t,n,r=null!==(n=null===(t=e.id.split(Fi))||void 0===t?void 0:t[1])&&void 0!==n?n:"";return Kx(r)}))),!1)),o=Bp(e,(function(e){var t,n,r=null!==(n=null===(t=e[0].id.split(Fi))||void 0===t?void 0:t[0])&&void 0!==n?n:"";return Kx(r)})),i=Bp(e,(function(e){return Bp(e,(function(e){return Xx(e,t,n)}))}));return tw(o,r,i)}(l,a,e):function(e,t,n){var r=t.map((function(t){return t.map((function(t){return t?qx(Xx(t,e,n)):""}))}));return[Jx(Vx.PLAIN)(r),Jx(Vx.HTML)(r)]}(a,l,e)}return r}function uw(e){return e?'"'.concat("string"==typeof e?e.replace(/"/g,'""'):e,'"'):e}var cw=function(e){return new Promise((function(t,n){var r;r=Array.isArray(e)?Xu(e.filter((function(e){return e.type===Vx.PLAIN})),"[0].content",""):e.content||"";var o=document.createElement("textarea");o.value=r,document.body.appendChild(o),o.focus({preventScroll:!0}),o.select();var i=document.execCommand("copy");document.body.removeChild(o),i?t():n()}))},dw=function(e,t){var n;return void 0===t&&(t=!1),n="string"==typeof e?{content:e,type:Vx.PLAIN}:e,navigator.clipboard&&window.ClipboardItem&&!t?function(e){return navigator.clipboard.write([new ClipboardItem([].concat(e).reduce((function(e,t){var n,r=t.type,o=t.content.replace(/\x00/g,"");return xa(xa({},e),((n={})[r]=new Blob([o],{type:r}),n))}),{}))]).catch((function(){return cw(e)}))}(n):cw(n)},hw=function(e,t){try{var n=document.createElement("a");n.download="".concat(t,".csv");var r=new Blob(["\ufeff".concat(e)],{type:"text/csv;charset=utf-8"});n.href=URL.createObjectURL(r),n.click(),URL.revokeObjectURL(n.href)}catch(e){console.error(e)}},fw=function(e,t,n){if(!e)return"";var r=e.fieldValue,o=e.valueField,i=e.data;return Ka(r)?function(e){var t=(null==e?void 0:e.label)?[null==e?void 0:e.label]:[],n=null==e?void 0:e.values;return Bv(n)||tp(n,(function(e){t.push(e.join(" "))})),t.join("$")}(r):n?t.dataSet.getFieldFormatter(o)(r,i):"".concat(r)},pw=function(e,t,n,r){var o=[];if(e){var i=e.fieldValue,a=e.valueField,l=e.data;if(Ka(i))return o=function(e,t){var n,r,o,i;return t?null===(i=null==e?void 0:e.values)||void 0===i?void 0:i[0]:null!==(r=null===(n=null==e?void 0:e.originalValues)||void 0===n?void 0:n[0])&&void 0!==r?r:null===(o=null==e?void 0:e.values)||void 0===o?void 0:o[0]}(i,r),o;if($v(i)&&n.length>1)return o.push.apply(o,Oa([],Ea(n),!1)),o;if(r){var s=t.dataSet.getFieldFormatter(a);o.push(s(i,l))}else o.push(i)}else o.push.apply(o,Oa([],Ea(n),!1));return o.join("    ")},vw=function(e){var t=Wx(e);return $a(t)?t:e},gw=function(e,t,n){var r=vw(t.label),o=$a(r)?r.length:1,i=n.options.placeholder,a=ll(i)?i(e):i;return Array(o).fill(a)},mw=function(e){var t,n,r,o,i=null===(r=null===(n=null===(t=e.spreadsheet)||void 0===t?void 0:t.dataSet)||void 0===n?void 0:n.getFieldFormatter)||void 0===r?void 0:r.call(n,e.field);return null!==(o=null==i?void 0:i(e.label))&&void 0!==o?o:e.label},yw=function(e){var t=[],n=function(e){if(e.id!==Pi){var r=mw(e);return t.unshift(r),(null==e?void 0:e.parent)?n(e.parent):void 0}};return n(e),t},bw=function(e,t,n){var r,o,i,a,l,s=function(e){var t,n;return"object"==typeof e?{isFormatHeader:null!==(t=e.isFormatHeader)&&void 0!==t&&t,isFormatData:null!==(n=e.isFormatData)&&void 0!==n&&n}:{isFormatHeader:null!=e&&e,isFormatData:null!=e&&e}}(n),u=s.isFormatHeader,c=s.isFormatData,d=null===(l=null==e?void 0:e.facet)||void 0===l?void 0:l.layoutResult,h=d.rowsHierarchy,f=d.rowLeafNodes,p=d.colLeafNodes,v=d.getCellMeta,g=h.maxLevel,m=e.dataCfg.fields.valueInCols,y=h.sampleNodesForAllLevels.map((function(t){return e.dataSet.getFieldName(t.key)})),b=f.reduce((function(e,t){var n,r=(null!==(n=t.level)&&void 0!==n?n:0)+1;return r>e?r:e}),0),C=[],x=0;if(e.isPivotMode()){var w=f.filter((function(e){return 0!==e.height}));try{for(var S=Sa(w),E=S.next();!E.done;E=S.next()){var O=E.value,I=[];if(u)I=yw(O);else O.label=Vy(null==O?void 0:O.label),I=O.id.replace(Hi,"").split(zi);var L=g+1-I.length;L>0&&I.push.apply(I,Oa([],Ea(new Array(L)),!1));var _=e.dataSet.getFieldName(Zf(I));I[I.length-1]=_;try{for(var T=(i=void 0,Sa(p)),M=T.next();!M.done;M=T.next()){var R=M.value;if(m){var A=v(O.rowIndex,R.colIndex);I.push(fw(A,e,c))}else{A=v(O.rowIndex,R.colIndex);var N=gw(A,R,e),B=pw(A,e,N,c);$a(B)?I=I.concat.apply(I,Oa([],Ea(B),!1)):I.push(B)}}}catch(e){i={error:e}}finally{try{M&&!M.done&&(a=T.return)&&a.call(T)}finally{if(i)throw i.error}}x=sg([I.length,x]);var D=I.map((function(e){return uw(e)})).join(t);C.push(D)}}catch(e){r={error:e}}finally{try{E&&!E.done&&(o=S.return)&&o.call(S)}finally{if(r)throw r.error}}}else C=function(e,t,n){var r,o,i,a=e.dataSet.getDisplayDataSet(),l=(null===(i=e.dataCfg)||void 0===i?void 0:i.fields).columns,s=WC(l||[]),u=[],c=function(r,o){var i=[];i=n?s.map((function(t){return uw(e.dataSet.getFieldFormatter(t)(o[t],o))})):s.map((function(e){return uw(o[e])})),e.options.showSeriesNumber&&(i=[uw(r+1)].concat(i)),u.push(i.join(t))};try{for(var d=Sa(a.entries()),h=d.next();!h.done;h=d.next()){var f=Ea(h.value,2);c(f[0],f[1])}}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return u}(e,t,c);var k=[];if(Bv(p)&&!e.isPivotMode())k=[y];else{var P=0,z=_h(p).map((function(t){for(var n=t,r=[];void 0!==n.level;){var o=vw(n.label);$a(o)?P=sg([P,ny(o)]):o=u&&e.isPivotMode()?mw(n):o,r.push(o),n=n.parent}return r}));P>1&&(z=function(e){return e.map((function(e){return e.map((function(t){return $a(t)?t:$a(e[0])?Oa([t],Ea(new Array(e[0].length-1)),!1):t}))}))}(z));for(var F=sg(z.map((function(e){return e.length}))),H=[],$=function(t){var n=z.map((function(e){return e.length<F?Oa(Oa([],Ea(new Array(F-e.length)),!1),Ea(e),!1):e})).map((function(e){return e[t]})).map((function(t){return e.dataSet.getFieldName(t)}));H.push(tc(n))},j=F-1;j>=0;j-=1)$(j);k=H.map((function(t,n){var r,o;if(e.isPivotMode()){var i=e.facet.cornerHeader.cfg,a=i.columns,l=i.rows,s=i.data.filter((function(e){return e.cornerType===QC.Col}));if(n<H.length-1)return Oa(Oa(Oa([],Ea(Array(g).fill("")),!1),[(null===(o=s.find((function(e){return e.field===a[n]})))||void 0===o?void 0:o.label)||""],!1),Ea(t),!1);var u=l.slice(0,b);return u.length<b&&u.unshift.apply(u,Oa([],Ea(Array(b-u.length).fill("")),!1)),Oa(Oa([],Ea(u.map((function(t){return e.dataSet.getFieldName(t)||""}))),!1),Ea(t),!1)}return n<H.length?(r=Array(b).fill("")).concat.apply(r,Oa([],Ea(t),!1)):y.concat.apply(y,Oa([],Ea(t),!1))}))}var W=k.map((function(e){var n=x-e.length;return n>0&&e.unshift.apply(e,Oa([],Ea(new Array(n)),!1)),e.map((function(e){return uw(e)})).join(t)})).join("\r\n");return[W].concat(C).join("\r\n")},Cw=function(e){var t,n,r,o,i,a,l=null===(r=null===(n=null===(t=e.target)||void 0===t?void 0:t.attrs)||void 0===n?void 0:n.appendInfo)||void 0===r?void 0:r.cellData,s=null===(i=(o=e.target).get)||void 0===i?void 0:i.call(o,"parent");return{target:s,viewMeta:(null===(a=null==s?void 0:s.getMeta)||void 0===a?void 0:a.call(s))||l,event:e}},xw=function(e,t,n){var r,o=e.split(zi);if(n)r=[e];else{r=[MC(o[0],o[1])];for(var i=2;i<o.length;i+=1)r.push(MC(r[i-2],o[i]))}var a=wp(t,(function(e){var t;return r.includes(null===(t=e.getMeta())||void 0===t?void 0:t.id)}));return a},ww=function(e,t,n){e&&tp(xw(e,t),(function(e){e.updateByState(n)}))},Sw=function(e){function t(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=e.call(this,{})||this;return i.textShapes=[],i.actualTextWidth=0,i.conditionIconShapes=[],i.stateShapes=new Map,i.meta=t,i.spreadsheet=n,i.theme=n.theme,i.conditions=i.spreadsheet.options.conditions,i.handleRestOptions.apply(i,Oa([],Ea(r),!1)),i.shouldInit()&&i.initCell(),i}return Ca(t,e),t.prototype.getMeta=function(){return this.meta},t.prototype.setMeta=function(e){this.meta=e},t.prototype.getIconStyle=function(){return this.theme[this.cellType].icon},t.prototype.getTextAndIconPosition=function(e){void 0===e&&(e=1);var t=this.getTextStyle(),n=this.getIconStyle();return Ax(this.getContentArea(),t,this.actualTextWidth,n,e)},t.prototype.getActualText=function(){return this.actualText},t.prototype.getFieldValue=function(){return this.getFormattedFieldValue().formattedValue},t.prototype.handleRestOptions=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.shouldInit=function(){var e=this.meta,t=e.width,n=e.height;return t>0&&n>0},t.prototype.getStyle=function(e){return Xu(this.theme,e||this.cellType)},t.prototype.getResizeAreaStyle=function(){return this.getStyle("resizeArea")},t.prototype.shouldDrawResizeAreaByType=function(e,t){var n=this.spreadsheet.options.interaction.resize;return Mv(n)?n:ll(n.visible)?n.visible(t):n[e]},t.prototype.getCellArea=function(){var e=this.meta;return{x:e.x,y:e.y,height:e.height,width:e.width}},t.prototype.getContentArea=function(){var e=this.getStyle()||this.theme.dataCell,t=(null==e?void 0:e.cell).padding;return _x(this.getCellArea(),t)},t.prototype.getIconPosition=function(e){return void 0===e&&(e=1),this.getTextAndIconPosition(e).icon},t.prototype.drawTextShape=function(){var e=this.getFormattedFieldValue().formattedValue,t=this.getMaxTextWidth(),n=this.getTextStyle(),r=this.spreadsheet,o=r.options.placeholder,i=r.measureTextWidth,a=Hx(this,o),l=Dx({measureTextWidth:i,text:e,maxWidth:t,fontParam:n,placeholder:a});this.actualText=l,this.actualTextWidth=i(l,n);var s=this.getTextPosition();this.textShape=vx(this,[this.textShape],s.x,s.y,l,n),this.textShapes.push(this.textShape)},t.prototype.drawLinkFieldShape=function(e,t){if(e){if(!yC(this.spreadsheet.options.style.device)){var n=this.getTextStyle(),r=this.getTextPosition().x;"center"===n.textAlign?r-=this.actualTextWidth/2:"right"===n.textAlign&&(r-=this.actualTextWidth);var o=this.textShape.getBBox().maxY;this.linkFieldShape=gx(this,{x1:r,y1:o+1,x2:r+this.actualTextWidth,y2:o+1},{stroke:t,lineWidth:1})}this.textShape.attr({fill:t,cursor:"pointer",appendInfo:{isLinkFieldText:!0,cellData:this.meta}})}},t.prototype.getLinkFieldStyle=function(){return this.getTextStyle().linkTextFill},t.prototype.drawLinkField=function(e){var t=this.spreadsheet.options.interaction.linkFields,n=void 0===t?[]:t,r=this.getLinkFieldStyle(),o=function(e,t){return"function"==typeof e?e(t):e.some((function(e){return e===t.key||e===t.id||e===t.valueField}))}(n,e);this.drawLinkFieldShape(o,r)},t.prototype.updateByState=function(e,t){var n=this;this.spreadsheet.interaction.setInteractedCells(t),tp(Xu(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(e)),(function(e,t){pu(Rg(la,(function(e){return ov(e,t)}))).forEach((function(r){var o=n.stateShapes.has(r),i=o?n.stateShapes.get(r):n[r],a=$a(i)?i:[i];(o&&a.forEach((function(e){e.set("visible",!0)})),"interactiveBorderShape"===r&&"borderWidth"===t)&&(zv(e)&&tp(n.getInteractiveBorderShapeStyle(e),(function(e,t){mx(a,t,e)})));mx(a,aa[t],e)}))}))},t.prototype.getInteractiveBorderShapeStyle=function(e){var t=this.getCellArea(),n=t.x,r=t.y,o=t.height,i=t.width,a=this.theme.dataCell.cell,l=a.horizontalBorderWidth,s=a.verticalBorderWidth;return{x:n+s/2+e/2,y:r+l/2+e/2,width:i-s-e,height:o-l-e}},t.prototype.hideInteractionShape=function(){this.stateShapes.forEach((function(e){mx(e,aa.backgroundOpacity,0),mx(e,aa.backgroundColor,"transparent"),mx(e,aa.borderOpacity,0),mx(e,aa.borderWidth,1),mx(e,aa.borderColor,"transparent")}))},t.prototype.clearUnselectedState=function(){mx(this.backgroundShape,aa.backgroundOpacity,1),mx(this.textShapes,aa.textOpacity,1),mx(this.linkFieldShape,aa.opacity,1)},t.prototype.getTextShape=function(){return this.textShape},t.prototype.getTextShapes=function(){return this.textShapes||[this.textShape]},t.prototype.addTextShape=function(e){e&&this.textShapes.push(e)},t.prototype.getConditionIconShape=function(){return this.conditionIconShape},t.prototype.getConditionIconShapes=function(){return this.conditionIconShapes||[this.conditionIconShape]},t.prototype.addConditionIconShape=function(e){e&&this.conditionIconShapes.push(e)},t.prototype.resetTextAndConditionIconShapes=function(){this.textShapes=[],this.conditionIconShapes=[]},Object.defineProperty(t.prototype,"cellConditions",{get:function(){return this.conditions},enumerable:!1,configurable:!0}),t.prototype.drawConditionIconShapes=function(){var e,t=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.icon);if(t&&t.mapping){var n=this.mappingValue(t),r=this.getIconPosition(),o=this.theme.dataCell.icon.size;Bv(null==n?void 0:n.icon)||(this.conditionIconShape=yx(this,xa(xa({},r),{name:n.icon,width:o,height:o,fill:n.fill})),this.addConditionIconShape(this.conditionIconShape))}},t.prototype.getTextConditionFill=function(e){var t,n,r=e.fill,o=this.findFieldCondition(null===(t=this.conditions)||void 0===t?void 0:t.text);return(null==o?void 0:o.mapping)&&(r=(null===(n=this.mappingValue(o))||void 0===n?void 0:n.fill)||e.fill),r},t.prototype.getCrossBackgroundColor=function(e){var t=this.getStyle().cell,n=t.crossBackgroundColor,r=t.backgroundColorOpacity;return n&&e%2==0?{backgroundColorOpacity:r,backgroundColor:n}:{backgroundColorOpacity:r,backgroundColor:this.getStyle().cell.backgroundColor}},t}(Io),Ew=function(e,t){return t?t(e[mi],e[gi]):e[gi]},Ow=function(e,t){var n=t.getMeta().id;return e.some((function(e){return Dv(e.id,n)}))},Iw=function(e,t){return"".concat(e).concat(Fi).concat(t)},Lw=function(e){return e.type===ea.DATA_CELL},_w=function(e,t,n){var r=n.interaction.getSelectedCellHighlight(),o=r.rowHeader,i=r.colHeader,a=r.currentRow,l=r.currentCol,s=t.cellType===ea.ROW_CELL,u=n.isTableMode()&&n.options.showSeriesNumber&&o&&s;(a||u)&&function(e,t){tp(e,(function(e){Lw(e)&&e.rowIndex===t.getMeta().rowIndex&&t.updateByState(Ji.SELECTED)}))}(e,t),l&&function(e,t){tp(e,(function(e){Lw(e)&&e.colIndex===t.getMeta().colIndex&&t.updateByState(Ji.SELECTED)}))}(e,t),(o||i)&&function(e,t){tp(e,(function(e){Lw(e)&&e.rowIndex===t.getMeta().rowIndex&&e.colIndex===t.getMeta().colIndex&&t.updateByState(Ji.SELECTED)}))}(e,t)},Tw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Object.defineProperty(t.prototype,"cellType",{get:function(){return ea.DATA_CELL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueRangeByField",{get:function(){return this.spreadsheet.dataSet.getValueRangeByField(this.meta.valueField)},enumerable:!1,configurable:!0}),t.prototype.handleByStateName=function(e,t){Ow(e,this)&&this.updateByState(t)},t.prototype.handleSearchResult=function(e){Ow(e,this)&&(Ip(e,(function(e){return null==e?void 0:e.isTarget})).id===this.getMeta().id?this.updateByState(Ji.HIGHLIGHT):this.updateByState(Ji.SEARCH_RESULT))},t.prototype.handleSelect=function(e){var t;switch(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.type){case ea.COL_CELL:this.changeRowColSelectState("colIndex");break;case ea.ROW_CELL:this.changeRowColSelectState("rowIndex");break;case ea.DATA_CELL:!function(e){var t=e.interaction.getSelectedCellHighlight(),n=t.currentRow,r=t.currentCol,o=t.rowHeader,i=t.colHeader;return n||r||o||i}(this.spreadsheet)?Ow(e,this)?this.updateByState(Ji.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight&&this.updateByState(Ji.UNSELECTED):_w(e,this,this.spreadsheet)}},t.prototype.handleHover=function(e){var t=Ap(e);if(t.type===ea.DATA_CELL){var n=this.spreadsheet.interaction.getHoverHighlight(),r=n.currentRow,o=n.currentCol;if(r||o){var i=this.meta.colIndex,a=this.meta.rowIndex;o&&i===(null==t?void 0:t.colIndex)||r&&a===(null==t?void 0:t.rowIndex)?this.updateByState(Ji.HOVER):this.hideInteractionShape()}var l=this.getMeta(),s=l.id,u=l.rowIndex,c=l.colIndex;Dv(t.id,s)&&Dv(t.rowIndex,u)&&Dv(t.colIndex,c)&&this.updateByState(Ji.HOVER_FOCUS)}else this.hideInteractionShape()},t.prototype.update=function(){var e=this.spreadsheet.interaction.getCurrentStateName(),t=this.spreadsheet.interaction.getCells();if(e!==Ji.ALL_SELECTED){if(!Bv(t)&&e)switch(e){case Ji.SELECTED:this.handleSelect(t);break;case Ji.HOVER_FOCUS:case Ji.HOVER:this.handleHover(t);break;case Ji.SEARCH_RESULT:this.handleSearchResult(t);break;default:this.handleByStateName(t,e)}}else this.updateByState(Ji.SELECTED)},t.prototype.setMeta=function(t){e.prototype.setMeta.call(this,t),this.initCell()},t.prototype.drawTextShape=function(){e.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},t.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.shouldHideRowSubtotalData()||(this.drawConditionIntervalShape(),this.drawTextShape(),this.drawConditionIconShapes()),this.drawInteractiveBorderShape(),this.meta.isFrozenCorner&&this.drawBorderShape(),this.update()},t.prototype.getDefaultTextFill=function(e){var t=e.fill,n=this.getBackgroundColor(),r=n.backgroundColor,o=n.intelligentReverseTextColor;return eC(r)&&e.fill===Xi&&o&&(t=qi),t},t.prototype.getTextStyle=function(){var e=this.meta.isTotals?this.theme.dataCell.bolderText:this.theme.dataCell.text,t=this.getTextConditionFill(xa(xa({},e),{fill:this.getDefaultTextFill(e)}));return xa(xa({},e),{fill:t})},t.prototype.getIconStyle=function(){var e,t=this.theme.dataCell.icon,n=t.size,r=t.margin,o=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.icon);return o&&o.mapping&&{size:n,margin:r,position:wx(o)}},t.prototype.drawConditionIntervalShape=function(){this.conditionIntervalShape=Ox(this)},t.prototype.shouldHideRowSubtotalData=function(){var e,t=(null!==(e=this.spreadsheet.options.totals)&&void 0!==e?e:{}).row,n=void 0===t?{}:t,r=this.meta.rowIndex,o=this.spreadsheet.facet.layoutResult.rowLeafNodes[r],i=!(null==o?void 0:o.isGrandTotals)&&(null==o?void 0:o.isTotals);return"tree"===this.spreadsheet.options.hierarchyType&&!n.showSubTotals&&i},t.prototype.getFormattedFieldValue=function(){if(this.shouldHideRowSubtotalData())return{value:null,formattedValue:Fi};var e=this.meta,t=e.rowId,n=e.valueField,r=e.fieldValue,o=e.data,i=this.spreadsheet.dataSet.getFieldMeta(t)?t:n;return{value:r,formattedValue:this.spreadsheet.dataSet.getFieldFormatter(i)(r,o,this.meta)}},t.prototype.getMaxTextWidth=function(){var e=this.getContentArea().width;return Mx(e,this.getIconStyle())},t.prototype.getTextPosition=function(){return this.getTextAndIconPosition().text},t.prototype.getBackgroundColor=function(){var e,t=this.getCrossBackgroundColor(this.meta.rowIndex),n=t.backgroundColor,r=t.backgroundColorOpacity;if(this.shouldHideRowSubtotalData())return{backgroundColor:n,backgroundColorOpacity:r};var o=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.background),i=!1;if(o&&o.mapping){var a=this.mappingValue(o);a&&(n=a.fill,i=a.intelligentReverseTextColor)}return{backgroundColor:n,backgroundColorOpacity:r,intelligentReverseTextColor:i}},t.prototype.drawBackgroundShape=function(){var e=this.getBackgroundColor(),t=e.backgroundColor,n=e.backgroundColorOpacity;this.backgroundShape=fx(this,xa(xa({},this.getCellArea()),{fill:t,fillOpacity:n}))},t.prototype.drawInteractiveBorderShape=function(){var e=this.getCellArea(),t=e.x,n=e.y,r=e.height,o=e.width;this.stateShapes.set("interactiveBorderShape",fx(this,{x:t+1,y:n+1,width:o-2,height:r-2},{capture:!1,visible:!1}))},t.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",fx(this,xa({},this.getCellArea()),{visible:!1}))},t.prototype.changeRowColSelectState=function(e){var t=this.spreadsheet.interaction,n=Xu(this.meta,e),r=t.getState(),o=r.nodes,i=void 0===o?[]:o,a=r.cells,l=void 0===a?[]:a,s=!1;this.spreadsheet.isTableMode()&&i.length?s=i[0].hierarchy.getLeaves().some((function(e,t){return!!i.some((function(t){return t===e}))&&t===n})):s=Oa(Oa([],Ea(i),!1),Ea(l),!1).some((function(t){return Xu(t,e)===n}));s?this.updateByState(Ji.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight?this.updateByState(Ji.UNSELECTED):this.hideInteractionShape()},t.prototype.drawBorderShape=function(){var e=this;[qC.BOTTOM,qC.RIGHT].forEach((function(t){var n=Nx(t,e.getCellArea(),e.getStyle().cell),r=n.position,o=n.style;gx(e,r,o)}))},t.prototype.findFieldCondition=function(e){var t=this;return Rp(e,(function(e){return e.field instanceof RegExp?e.field.test(t.meta.valueField):e.field===t.meta.valueField}))},t.prototype.mappingValue=function(e){var t=this.meta.fieldValue,n=this.spreadsheet.isTableMode()?this.spreadsheet.dataSet.getCellData({query:{rowIndex:this.meta.rowIndex}}):this.meta.data;return null==e?void 0:e.mapping(t,n)},t.prototype.updateByState=function(t){if(e.prototype.updateByState.call(this,t,this),t===Ji.UNSELECTED){var n=Xu(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(t));n&&this.toggleConditionIntervalShapeOpacity(n.opacity)}},t.prototype.clearUnselectedState=function(){e.prototype.clearUnselectedState.call(this),this.toggleConditionIntervalShapeOpacity(1)},t.prototype.toggleConditionIntervalShapeOpacity=function(e){mx(this.conditionIntervalShape,aa.backgroundOpacity,e),mx(this.conditionIconShapes,aa.opacity,e)},t.prototype.drawLeftBorder=function(){var e=Nx(qC.LEFT,this.getCellArea(),this.getStyle().cell);gx(this,e.position,e.style)},t}(Sw),Mw=function(e){function t(t,n,r){return e.call(this,r,t,n)||this}return Ca(t,e),t.prototype.handleRestOptions=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ea(e,1),r=n[0];this.cells=r},Object.defineProperty(t.prototype,"cellType",{get:function(){return ea.MERGED_CELL},enumerable:!1,configurable:!0}),t.prototype.update=function(){},t.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.conditions=this.spreadsheet.options.conditions,this.drawBackgroundShape(),this.drawTextShape()},t.prototype.drawBackgroundShape=function(){var e=Aw(this.cells),t=this.theme.dataCell.cell;this.backgroundShape=function(e,t){var n;return null===(n=null==e?void 0:e.addShape)||void 0===n?void 0:n.call(e,"polygon",{attrs:t})}(this,{points:e,stroke:t.horizontalBorderColor,fill:t.backgroundColor,lineHeight:t.horizontalBorderWidth})},t.prototype.drawTextShape=function(){Bv(this.meta)||(Ka(this.meta.fieldValue)?$x(this):e.prototype.drawTextShape.call(this))},t}(Tw),Rw=function(e,t){return Ip(t,(function(t){return Dv(t[0],e[1])}))},Aw=function(e){var t=[];e.forEach((function(e){var n=e.getMeta(),r=n.x,o=n.y,i=n.width,a=n.height;t=t.concat(function(e,t,n,r){var o=[e,t],i=[e+n,t],a=[e+n,t+r],l=[e,t+r];return[[o,i],[i,a],[a,l],[l,o]]}(r,o,i,a))})),t=function(e){var t=[];return tp(e,(function(n){var r=[n[1],n[0]];JSON.stringify(e).includes(JSON.stringify(r))||t.push(n)})),t}(t);for(var n=[],r=t[0],o=r,i=[];!Dv(r,i);)n=n.concat(o),o=i=Rw(o,t);return n},Nw=function(e,t,n){var r;void 0===n&&(n=[]);var o=function(e,t){var n,r=[],o=[];return tp(e,(function(e){var i=Ip(t,(function(t){var n,r=null===(n=null==t?void 0:t.getMeta)||void 0===n?void 0:n.call(t);if((null==r?void 0:r.colIndex)===(null==e?void 0:e.colIndex)&&(null==r?void 0:r.rowIndex)===(null==e?void 0:e.rowIndex))return t}));i?(r.push(i),n=(null==e?void 0:e.showText)?null==i?void 0:i.getMeta():n):o.push(e)})),{cells:r,invisibleCellInfo:o,cellsMeta:n}}(n,e),i=o.cellsMeta,a=o.cells,l=o.invisibleCellInfo,s=i,u=a;if((null==l?void 0:l.length)>0&&l.length<n.length){var c=function(e,t){var n,r=[];return tp(e,(function(e){var o,i,a,l=null===(i=null===(o=null==t?void 0:t.facet)||void 0===o?void 0:o.layoutResult)||void 0===i?void 0:i.getCellMeta(e.rowIndex,e.colIndex);if(l){var s=null===(a=null==t?void 0:t.facet)||void 0===a?void 0:a.cfg.dataCell(l);n=(null==e?void 0:e.showText)?l:n,r.push(s)}})),{cells:r,cellsMeta:n}}(l,t),d=c.cells,h=c.cellsMeta;s=s||h,u=a.concat(d)}return Bv(a)||s||(s=null===(r=u[0])||void 0===r?void 0:r.getMeta()),{cells:u,viewMeta:s}},Bw=function(e,t,n){return e.options.mergedCell?e.options.mergedCell(e,t,n):new Mw(e,t,n)},Dw=function(e,t,n){var r,o=t||function(e){var t=e.interaction.getActiveCells(),n=[];return tp(t,(function(e,t){var r=e.getMeta(),o=0===t?{showText:!0}:{};n.push(xa(xa({},o),{colIndex:null==r?void 0:r.colIndex,rowIndex:null==r?void 0:r.rowIndex}))})),n}(e);if((null==o?void 0:o.length)<=1)console.error("then merged cells must be more than one");else{var i=e.interaction.getPanelGroupAllDataCells(),a=Nw(i,e,o),l=a.cells,s=a.viewMeta;if(!Bv(l)){var u=(null===(r=e.options)||void 0===r?void 0:r.mergedCellsInfo)||[];u.push(o),e.setOptions({mergedCellsInfo:u});var c=n?void 0:s;e.panelScrollGroup.addMergeCell(Bw(e,l,c))}}},kw=function(e,t){var n,r,o;if(t&&t.cellType===ea.MERGED_CELL){var i,a,l,s=(i=t,a=null===(n=e.options)||void 0===n?void 0:n.mergedCellsInfo,l=Bp(i.cells,(function(e){return{colIndex:e.getMeta().colIndex,rowIndex:e.getMeta().rowIndex}})),wp(a,(function(e){return!Dv(e.map((function(e){return e.showText?{colIndex:e.colIndex,rowIndex:e.rowIndex}:e})),l)})));(null==s?void 0:s.length)!==(null===(o=null===(r=e.options)||void 0===r?void 0:r.mergedCellsInfo)||void 0===o?void 0:o.length)&&(e.setOptions({mergedCellsInfo:s}),t.remove(!0))}else console.error("unmergeCell: the ".concat(t," is not a MergedCell"))},Pw=function(e,t){return Kf(e,t,(function(e,t){return Dv(e.viewMeta.id,t.viewMeta.id)}))},zw=function(e,t){var n,r=null===(n=e.options)||void 0===n?void 0:n.mergedCellsInfo;if(!Bv(r)){var o=e.interaction.getPanelGroupAllDataCells();if(!Bv(o)){var i=[];r.forEach((function(t){var n=Nw(o,e,t);n.cells.length>0&&i.push(n)}));var a=t.getChildren(),l=function(e){return Bp(e,(function(e){return{cells:e.cells,viewMeta:e.getMeta()}}))}(a),s=Pw(l,i),u=Pw(i,l);tp(s,(function(e){var t=Ip(a,(function(t){return Dv(t.getMeta().id,e.viewMeta.id)}));null==t||t.remove(!0)})),tp(u,(function(n){var r=n.cells,o=n.viewMeta;t.add(Bw(e,r,o))}))}}},Fw=function(e){return e.includes(zi)?"id":"field"},Hw=function(e,t){void 0===t&&(t=[]);var n=e.getInitColumnLeafNodes();return Mh(t.map((function(e){var t=Fw(e);return n.find((function(n){return n[t]===e}))})))},$w=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var r=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]),e.setOptions({interaction:{hiddenColumnFields:t}}),e.interaction.reset(),e.store.set("hiddenColumnsDetail",n),e.render(!1,{reBuildHiddenColumnsDetail:!1})};if(Bv(t)&&n)r();else{var o=e.store.get("hiddenColumnsDetail",[]),i=e.options.interaction.hiddenColumnFields;if(!Dv(t,i)||n){var a=ob(Oa(Oa([],Ea(t),!1),Ea(i),!1)),l=Hw(e,a).every((function(e,t,n){var r=n[t+1];return!r||1===Math.abs(e.colIndex-r.colIndex)})),s=function(e,t){if(void 0===t&&(t=[]),Bv(t))return{prev:null,next:null};var n=e.getInitColumnLeafNodes(),r=Hw(e,t).map((function(e){return null==e?void 0:e.colIndex})),o=Math.max.apply(Math,Oa([],Ea(r),!1)),i=Math.min.apply(Math,Oa([],Ea(r),!1)),a=n.find((function(e){return e.colIndex===o+1}));return{prev:n.find((function(e){return e.colIndex===i-1}))||null,next:a||null}}(e,l?a:t),u={hideColumnNodes:Hw(e,t),displaySiblingNode:s},c=Oa(Oa([],Ea(o),!1),[u],!1);e.emit(fi.LAYOUT_COLS_HIDDEN,u,c),r(a,c)}}},jw=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1),Bv(t)&&n&&$w(e,t,!0);var r=function(e){var t=e.dataCfg.fields.columns,n=void 0===t?[]:t;return e.isTableMode()?n:e.getInitColumnLeafNodes().map((function(e){return e.id}))}(e),o=function(e,t){if(Bv(t))return[];var n=Number.NEGATIVE_INFINITY;return e.reduce((function(e,r,o){if(!t.includes(r))return e;if(o===n+1)Zf(e).push(r);else{var i=[r];e.push(i)}return n=o,e}),[])}(WC(r),t);o.forEach((function(t){$w(e,t,n)}))},Ww=function(e,t){return function(e){var t=function(e){return(null==e?void 0:e.next)||(null==e?void 0:e.prev)}(e);return null==t?void 0:t.id}(e)===t},Gw=function(e){var t=e.type,n=e.id,r=e.theme,o=e.width,i=e.height,a=wa(e,["type","id","theme","width","height"]),l=t===fa.Horizontal?r.size:null,s=t===fa.Vertical?r.size:null;return{fill:r.background,fillOpacity:r.backgroundOpacity,cursor:"".concat(t,"-resize"),width:l,height:s,appendInfo:xa(xa({},a),{isResizeArea:!0,type:t,id:n,width:o,height:i,size:r.size})}},Vw=function(e,t){if(e.foregroundGroup)return e.foregroundGroup.findById(t)||e.foregroundGroup.addGroup({id:t,zIndex:5})},Uw=function(e,t,n){var r=null!=n?n:{},o=r.scrollX,i=void 0===o?0:o,a=r.scrollY,l=void 0===a?0:a,s=!(e.x-i>t.x+t.width||e.x+e.width-i<t.x),u=!(e.y-l>t.y+t.height||e.y+e.height-l<t.y);return s&&u},Zw=function(e,t,n){var r=Ip(e,(function(e){return function(e,t,n){if(!e)return!1;var r=e.iconNames,o=e.displayCondition,i=e.belongsCell;return!Bv(r)&&i===n&&(!o||r.some((function(e){return o(t,e)})))}(e,t,n)}));if(r){var o=r.iconNames;return r.displayCondition&&(o=o.filter((function(e){return r.displayCondition(t,e)}))),xa(xa({},r),{iconNames:o})}},Yw=function(e,t){var n=e.label;return Dv(e.field,mi)?{formattedValue:t||n,value:n}:{formattedValue:n,value:n}};function Xw(e,t){return t.map((function(t){var n=e[t];return void 0===n?n:"".concat(n)}))}function qw(e){return e.map((function(e){var t=null==e?void 0:e.split(zi);return t[(null==t?void 0:t.length)-1]||e}))}function Kw(e){var t=e.rowDimensionValues,n=e.colDimensionValues,r=e.careUndefined,o=e.isFirstCreate,i=e.onFirstCreate,a=e.rowFields,l=e.colFields,s=e.rowPivotMeta,u=e.colPivotMeta,c=function(e,t,n,s){void 0===t&&(t=!0);for(var u=t?n:s,c=t?a:l,d=[],h=0;h<e.length;h++){var f=e[h];if(!u.has(f))if(o)u.set(f,{level:u.size,children:new Map}),null==i||i({isRow:t,dimension:null==c?void 0:c[h],dimensionPath:e.slice(0,h+1)});else{var p=u.get(f);if(p&&d.push(p.level),!r)break}var v=u.get(f);Vv(f)&&r?d.push(f):d.push(null==v?void 0:v.level),v&&(o&&(v.childField=null==c?void 0:c[h+1]),u=null==v?void 0:v.children)}return d},d=c(t,!0,s,u),h=c(n,!1,s,u);return d.concat.apply(d,Oa([],Ea(h),!1))}function Qw(e,t){return jm(e,(function(e,n){return e.push(t[n]),e}),[])}function Jw(e){var t=e.rows,n=e.columns,r=e.originData,o=void 0===r?[]:r,i=e.indexesData,a=void 0===i?[]:i,l=e.totalData,s=void 0===l?[]:l,u=e.sortedDimensionValues,c=e.rowPivotMeta,d=e.colPivotMeta,h=[],f=new Set(cv(t,n)),p=function(e){var t=e.isRow,n=e.dimension,r=e.dimensionPath;!t&&f.has(n)||(u[n]||(u[n]=[])).push(r.map((function(e){return"".concat(e)})).join(zi))};return o.concat(s).forEach((function(e){var r=Kw({rowDimensionValues:Xw(e,t),colDimensionValues:Xw(e,n),rowPivotMeta:c,colPivotMeta:d,isFirstCreate:!0,onFirstCreate:p,careUndefined:(null==s?void 0:s.length)>0,rowFields:t,colFields:n});h.push(r),Jm(a,r,e)})),{paths:h,indexesData:a,rowPivotMeta:c,colPivotMeta:d,sortedDimensionValues:u}}function eS(e,t){if(e&&t){var n=t.split(zi),r=Zf(n),o=e;tp(n,(function(e,t){var n=o.get(e);return n?(e===r?(n.children=new Map,n.childField=void 0):o=n.children,!0):0===t&&e===Pi}))}}function tS(e,t,n){var r={field:mi,name:t||n,formatter:function(t){return function(t){var n=Ip(e,(function(e){return e.field===t}));return Xu(n,"name",t)}(t)}};return r}var nS=function(e){return"ASC"===jy(e)},rS=function(e){return"DESC"===jy(e)},oS=function(e){return!Fv(Number(e))},iS=function(e,t,n){var r=nS(t)?1:-1,o=["-",void 0];return null==e?void 0:e.sort((function(e,t){var i=e,a=t;if(n){if(i=e[n],a=t[n],oS(i)&&oS(a))return(Number(i)-Number(a))*r;if(i&&(null==o?void 0:o.includes(null==i?void 0:i.toString())))return-r;if(Number(i)&&(null==o?void 0:o.includes(null==a?void 0:a.toString())))return r}return $v(i)||$v(a)?i?r:-r:i.toString().localeCompare(a.toString(),"zh")*r}))},aS=function(e,t,n){return n?function(e,t){var n;return null===(n=null==e?void 0:e.filter((function(e){return!(null==t?void 0:t.includes(e))})))||void 0===n?void 0:n.concat(t)}(t,ob(e)):Oa([],Ea(new Set(Oa(Oa([],Ea(e),!1),Ea(t),!1))),!1)},lS=function(e){var t=e.sortByValues,n=e.originValues,r=n.filter((function(e){return t.find((function(t){return lp(e,t)}))})).map((function(e){var t=e.split(zi);return t.length>1?[t.slice(0,t.length-1).join(zi),t[t.length-1]]:t})),o=Array.from(new Set(r.map((function(e){return e[0]}))));r.sort((function(e,n){var r=e.slice(0,e.length-1),i=n.slice(0,n.length-1);return r.join()!==i.join()?o.indexOf(r[0])-o.indexOf(i[0]):t.indexOf(e[e.length-1])-t.indexOf(n[n.length-1])}));var i=r.map((function(e){return e.join(zi)}));return ox(n,i)},sS=function(e){var t,n=e.sortParam,r=e.measureValues,o=e.originValues,i=e.dataSet,a=n.sortByMeasure,l=n.query,s=n.sortFieldId,u=n.sortMethod,c=i.fields,d=c.rows,h=c.columns,f=d.includes(s);if(a){var p=iS(r,u,a===bi?l[mi]:a);t=function(e,t,n){var r,o=t.slice(0,t.indexOf(e)+1);return null===(r=n.map((function(e){return o.map((function(t){return e[t]})).join("".concat(zi))})))||void 0===r?void 0:r.filter((function(e){return e}))}(s,f?d:WC(h),p)}else t=Bp(iS(r,u));return aS(t,o,nS(u))},uS=function(e){var t=e.sortParam,n=e.originValues,r=e.measureValues,o=e.dataSet,i=t.sortFunc,a=t.sortMethod,l=t.sortBy,s=n,u={originValues:n,measureValues:r,sortParam:t,dataSet:o};return i?s=function(e){var t=e.originValues,n=e.measureValues,r=e.sortParam,o=e.dataSet,i=r.sortFunc,a=r.sortFieldId,l=r.sortMethod,s=i(xa({data:n},r));return(null==s?void 0:s.length)?(o.fields.rows.indexOf(a)>0||o.fields.columns.indexOf(a)>0)&&!ov(s[0],zi)?lS({sortByValues:s,originValues:t}):aS(s,t,nS(l)):t}(u):l?s=lS({sortByValues:l,originValues:n}):(nS(a)||rS(a))&&(s=sS(u)),s},cS=function(e){return e.filter((function(e){return e!==mi}))},dS=function(e){var t=e.dataSet,n=e.sortParam,r=e.originValues,o=t.fields,i=n.sortByMeasure,a=n.query,l=n.sortFieldId,s=t.getMultiData(a),u=WC(o.columns);if(i!==bi){var c=Rh(o.rows,u);return s.filter((function(e){var t=new Set(pu(e));return c.every((function(e){return t.has(e)}))}))}var d=ov(o.rows,l),h=cS(d?o.rows:u),f=cS(d?u:o.rows),p=h[h.indexOf(l)+1],v=pu(a),g=f.filter((function(e){return!v.includes(e)})),m=s.filter((function(e){var t=new Set(pu(e));return!!t.has(l)&&(!t.has(p)&&g.every((function(e){return!t.has(e)})))}));return Bv(m)?Mh(Bp(r,(function(e){var n=function(e,t,n){var r,o={};if(ov(e,zi))for(var i=fy(e,zi),a=(null===(r=null==t?void 0:t.rows)||void 0===r?void 0:r.includes(n))?t.rows:WC(t.columns),l=0;l<=av(a,n);l++)o[a[l]]=i[l];else o[n]=e;return o}(e,o,l);return t.getTotalValue(xa(xa({},a),n))}))):m},hS=function(e){var t,n=e.dataSet,r=e.sortParam,o=e.originValues;return t=e.isSortByMeasure?dS(e):o,uS({sortParam:r,originValues:o,measureValues:t,dataSet:n})},fS=function(e,t){if(null==e?void 0:e.sortMethod){if(nS(null==e?void 0:e.sortMethod))return"groupAsc";if(rS(null==e?void 0:e.sortMethod))return"groupDesc"}if(t)return"SortDown"},pS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.handleRestOptions=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ea(e,1),r=n[0];this.headerConfig=xa({},r);var o=this.meta,i=o.value,a=o.query,l=this.spreadsheet.dataCfg.sortParams,s=this.isSortCell(),u=Ip(Oa([],Ea(l),!1).reverse(),(function(e){return s&&(null==e?void 0:e.sortByMeasure)===i&&Dv(Xu(e,"query"),a)})),c=fS(u,s);this.headerConfig.sortParam=xa(xa(xa({},this.headerConfig.sortParam),u||{query:a}),{type:c})},t.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.actionIcons=[],this.hasDefaultHiddenIcon=!1},t.prototype.getInteractiveBorderShapeStyle=function(e){var t=this.getCellArea(),n=t.x,r=t.y,o=t.height;return{x:n+e,y:r+e,width:t.width-2*e,height:o-2*e}},t.prototype.getFormattedFieldValue=function(){var e=this.meta,t=e.label,n=e.isTotals,r=e.isGrandTotals,o=this.spreadsheet.dataSet.getFieldFormatter(this.meta.field);return{formattedValue:!this.spreadsheet.isTableMode()&&(this.spreadsheet.isHierarchyTreeType()?!r:!n)&&o?o(t,void 0,this.meta):t,value:t}},t.prototype.getActionIconCfg=function(){return Zw(this.spreadsheet.options.headerActionIcons,this.meta,this.cellType)},t.prototype.showSortIcon=function(){var e=this.spreadsheet,t=e.options,n=Bv(e.dataCfg.fields.values);if(t.showDefaultHeaderActionIcon&&!n){var r=this.headerConfig.sortParam,o=this.meta.query;return o&&Dv(null==r?void 0:r.query,o)&&(null==r?void 0:r.type)&&"none"!==(null==r?void 0:r.type)}return!1},t.prototype.getActionIconsCount=function(){if(this.showSortIcon())return 1;var e=this.getActionIconCfg();return e?e.iconNames.length:0},t.prototype.getActionIconsWidth=function(){var e=this.getStyle().icon;return(e.size+e.margin.left)*this.getActionIconsCount()},t.prototype.drawSortIcons=function(){var e=this;if(this.showSortIcon()){var t=this.getStyle(),n=t.icon,r=t.text,o=this.getTextConditionFill(r),i=this.headerConfig.sortParam,a=this.getIconPosition(),l=new nx(xa(xa({name:Xu(i,"type","none")},a),{width:n.size,height:n.size,fill:o}));l.on("click",(function(t){e.spreadsheet.emit(fi.GLOBAL_ACTION_ICON_CLICK,t),e.spreadsheet.handleGroupSort(t,e.meta)})),this.add(l),this.actionIcons.push(l)}},t.prototype.hasDefaultHideActionIcon=function(){return this.hasDefaultHiddenIcon},t.prototype.addActionIcon=function(e){var t=this,n=e.x,r=e.y,o=e.iconName,i=e.defaultHide,a=e.action,l=e.onClick,s=e.onHover,u=this.getStyle(),c=u.icon,d=u.text,h=this.getTextConditionFill(d),f=(null==c?void 0:c.fill)||h,p=new nx({name:o,x:n,y:r,width:null==c?void 0:c.size,height:null==c?void 0:c.size,fill:f});p.set("visible",!i),p.on("mouseover",(function(e){t.spreadsheet.emit(fi.GLOBAL_ACTION_ICON_HOVER,e),null==s||s({hovering:!0,iconName:o,meta:t.meta,event:e})})),p.on("mouseleave",(function(e){t.spreadsheet.emit(fi.GLOBAL_ACTION_ICON_HOVER_OFF,e),null==s||s({hovering:!1,iconName:o,meta:t.meta,event:e})})),p.on("click",(function(e){var n;t.spreadsheet.emit(fi.GLOBAL_ACTION_ICON_CLICK,e),null===(n=l||a)||void 0===n||n({iconName:o,meta:t.meta,event:e})})),this.actionIcons.push(p),this.add(p)},t.prototype.drawActionIcons=function(){var e=this;if(this.showSortIcon())this.drawSortIcons();else{var t=this.getActionIconCfg();if(t){var n=t.iconNames,r=t.action,o=t.onClick,i=t.onHover,a=t.defaultHide,l=this.getIconPosition(n.length),s=this.getStyle().icon,u=s.size,c=s.margin;tp(n,(function(t,n){var s=l.x+n*u+n*c.left,d=l.y,h="function"==typeof a?a(e.meta,t):a;h&&(e.hasDefaultHiddenIcon=!0),e.addActionIcon({iconName:t,x:s,y:d,defaultHide:h,action:r,onClick:o,onHover:i})}))}}},t.prototype.drawBackgroundShape=function(){var e=this.getBackgroundColor(),t=e.backgroundColor,n=e.backgroundColorOpacity;this.backgroundShape=fx(this,xa(xa({},this.getCellArea()),{fill:t,fillOpacity:n}))},t.prototype.isSortCell=function(){var e,t,n,r=null===(t=null===(e=this.meta.spreadsheet)||void 0===e?void 0:e.isValueInCols)||void 0===t?void 0:t.call(e),o=this.meta.level===(null===(n=this.meta.hierarchy)||void 0===n?void 0:n.maxLevel);return r?o&&this.cellType===ea.COL_CELL:o&&this.cellType===ea.ROW_CELL},t.prototype.handleByStateName=function(e,t){Ow(e,this)&&this.updateByState(t)},t.prototype.handleSearchResult=function(e){Ow(e,this)&&(Ip(e,(function(e){return null==e?void 0:e.isTarget})).id===this.getMeta().id?this.updateByState(Ji.HIGHLIGHT):this.updateByState(Ji.SEARCH_RESULT))},t.prototype.handleHover=function(e){var t;Ow(e,this)&&(this.updateByState(Ji.HOVER),this.hasDefaultHideActionIcon()&&this.toggleActionIcon(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.id))},t.prototype.handleSelect=function(e,t){Ow(e,this)&&this.updateByState(Ji.SELECTED),ov(Bp(t,"id"),this.meta.id)&&this.updateByState(Ji.SELECTED)},t.prototype.getTextStyle=function(){var e,t=this.getStyle(),n=t.text,r=t.bolderText,o=t.measureText;e=this.isMeasureField()?o||n:this.isBolderText()?r:n;var i=this.getTextConditionFill(e);return xa(xa({},e),{fill:i})},t.prototype.getBackgroundColor=function(){var e,t=(null===(e=this.getStyle())||void 0===e?void 0:e.cell)||{},n=t.backgroundColor,r=t.backgroundColorOpacity;return this.getBackgroundColorByCondition(n,r)},t.prototype.getBackgroundColorByCondition=function(e,t){var n,r=e,o=this.findFieldCondition(null===(n=this.conditions)||void 0===n?void 0:n.background);if(o&&o.mapping){var i=this.mappingValue(o);i&&(r=i.fill)}return{backgroundColor:r,backgroundColorOpacity:t}},t.prototype.toggleActionIcon=function(e){if(this.getMeta().id===e){var t=[];tp(this.actionIcons,(function(e){e.get("visible")||(e.set("visible",!0),t.push(e))})),this.spreadsheet.store.set("visibleActionIcons",t)}},t.prototype.update=function(){var e=this.spreadsheet.interaction,t=null==e?void 0:e.getState(),n=null==e?void 0:e.getCells([ea.CORNER_CELL,ea.COL_CELL,ea.ROW_CELL]);if(Ap(n))switch(null==t?void 0:t.stateName){case Ji.SELECTED:this.handleSelect(n,null==t?void 0:t.nodes);break;case Ji.HOVER_FOCUS:case Ji.HOVER:this.handleHover(n);break;case Ji.SEARCH_RESULT:this.handleSearchResult(n);break;default:this.handleByStateName(n,null==t?void 0:t.stateName)}},t.prototype.updateByState=function(t){e.prototype.updateByState.call(this,t,this)},t.prototype.hideInteractionShape=function(){e.prototype.hideInteractionShape.call(this)},t.prototype.isMeasureField=function(){return[mi,yi].includes(this.meta.field)},t.prototype.mappingValue=function(e){var t=this.getMeta().label;return null==e?void 0:e.mapping(t,this.meta)},t.prototype.findFieldCondition=function(e){var t=this;return Rp(e,(function(e){return e.field instanceof RegExp?e.field.test(t.meta.field):e.field===t.meta.field}))},t}(Sw),vS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Object.defineProperty(t.prototype,"cellType",{get:function(){return ea.COL_CELL},enumerable:!1,configurable:!0}),t.prototype.initCell=function(){e.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorders(),this.drawResizeArea(),this.addExpandColumnIconShapes(),this.update()},t.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",fx(this,xa({},this.getCellArea()),{visible:!1}))},t.prototype.drawInteractiveBorderShape=function(){this.stateShapes.set("interactiveBorderShape",fx(this,this.getInteractiveBorderShapeStyle(2),{visible:!1}))},t.prototype.getMaxTextWidth=function(){return this.getContentArea().width-this.getActionIconsWidth()},t.prototype.getIconPosition=function(){if(this.meta.isLeaf)return e.prototype.getIconPosition.call(this,this.getActionIconsCount());var t=this.getIconStyle(),n=t.margin.left,r=this.getTextStyle(),o=this.textPosition,i=o.x,a=o.y-t.size/2;return"left"===r.textAlign?{x:i+this.actualTextWidth+n,y:a}:"right"===r.textAlign?{x:i+n,y:a}:{x:i+this.actualTextWidth/2+n,y:a}},t.prototype.isBolderText=function(){var e=this.meta,t=e.isLeaf;return!(!e.isTotals&&t)},t.prototype.getTextPosition=function(){var e,t=this.meta.isLeaf,n=this.headerConfig,r=n.width,o=n.scrollContainsRowHeader,i=n.cornerWidth,a=n.scrollX,l=this.getTextStyle(),s=this.getContentArea(),u=this.getIconStyle();if(t)return Ax(s,l,this.actualTextWidth,u,this.getActionIconsCount()).text;var c={start:a-(o?i:0),width:r+(o?i:0)},d=this.getTextStyle().textAlign,h=function(e,t,n){void 0===n&&(n={left:0,right:0});var r=xa({},e);return"left"===t?(r.start+=n.left,r.width-=n.left):"right"===t&&(r.width-=n.right),r}(c,d,null===(e=this.getStyle().cell)||void 0===e?void 0:e.padding),f=this.getActionIconsWidth(),p=this.actualTextWidth+f,v=function(e,t,n){var r,o,i=t.start+t.width,a=e.start+e.width;if(t.start<=e.start&&i>=a)r=e.start+e.width/2,o=e.width;else if(t.start<=e.start)r=(l=t.width-(e.start-t.start))<n?i-n/2:i-l/2,o=l;else if(i>=a){var l;r=(l=t.width-(i-a))<n?t.start+n/2:t.start+l/2,o=l}else r=t.start+t.width/2,o=t.width;return{start:r,width:o}}(h,{start:s.x,width:s.width},p),g=function(e,t,n,r){var o=t+n,i=e.start;if("center"===r)return i-n/2;var a=e.width-o>0?e.width/2:o/2;return"left"===r?i-a:i+a-n}(v,this.actualTextWidth,f,d),m=s.y+s.height/2;return this.textPosition={x:g,y:m},this.textPosition},t.prototype.getActionIconsWidth=function(){var e=this.getStyle().icon,t=e.size,n=e.margin,r=this.getActionIconsCount();return(t+n.left)*r+(r>0?n.right:0)},t.prototype.getColResizeAreaKey=function(){return this.meta.key},t.prototype.getColResizeArea=function(){return Vw(this.spreadsheet,Ni)},t.prototype.getHorizontalResizeAreaName=function(){return"".concat(ki).concat(this.meta.key)},t.prototype.drawHorizontalResizeArea=function(){var e,t;if(!(0===(null===(t=null===(e=this.spreadsheet.options.style)||void 0===e?void 0:e.colCfg)||void 0===t?void 0:t.height))&&this.shouldDrawResizeAreaByType("colCellVertical",this)){var n=this.headerConfig,r=n.cornerWidth,o=n.viewportWidth,i=this.meta,a=i.y,l=i.height,s=this.getResizeAreaStyle(),u=this.getColResizeArea(),c=this.getHorizontalResizeAreaName();if(!u.find((function(e){return e.attrs.name===c}))){var d=r+o;u.addShape("rect",{attrs:xa(xa({},Gw({theme:s,type:fa.Vertical,id:this.getColResizeAreaKey(),effect:pa.Field,offsetX:0,offsetY:a,width:d,height:l,meta:this.meta})),{name:c,x:0,y:a+l-s.size/2,width:d})})}}},t.prototype.shouldAddVerticalResizeArea=function(){var e=this.meta,t=e.x,n=e.y,r=e.width,o=e.height,i=this.headerConfig,a=i.scrollX,l=i.scrollY,s=i.scrollContainsRowHeader,u=i.cornerWidth,c=i.height,d=i.width,h=this.getResizeAreaStyle(),f={x:t+r-h.size/2,y:n,width:h.size,height:o};return Uw(f,{x:s?-u:0,y:0,width:s?u+d:d,height:c},{scrollX:a,scrollY:l})},t.prototype.getVerticalResizeAreaOffset=function(){var e=this.meta,t=e.x,n=e.y,r=this.headerConfig,o=r.scrollX,i=r.position;return{x:i.x+t-o,y:i.y+n}},t.prototype.drawVerticalResizeArea=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("colCellHorizontal",this)){var e=this.meta,t=e.label,n=e.width,r=e.height,o=this.getResizeAreaStyle(),i=this.getColResizeArea();if(this.shouldAddVerticalResizeArea()){var a=this.getVerticalResizeAreaOffset(),l=a.x,s=a.y;i.addShape("rect",{attrs:xa(xa({},Gw({theme:o,type:fa.Horizontal,effect:pa.Cell,id:t,offsetX:l,offsetY:s,width:n,height:r,meta:this.meta})),{x:l+n-o.size/2,y:s,height:r})})}}},t.prototype.drawResizeArea=function(){this.drawHorizontalResizeArea(),this.drawVerticalResizeArea()},t.prototype.drawHorizontalBorder=function(){var e=Nx(qC.TOP,this.meta,this.theme.colCell.cell);gx(this,e.position,e.style)},t.prototype.drawVerticalBorder=function(e){var t=Nx(e,this.meta,this.theme.colCell.cell);gx(this,t.position,t.style)},t.prototype.drawBorders=function(){var e=this.spreadsheet,t=e.options,n=e.isTableMode;0===this.meta.colIndex&&n()&&!t.showSeriesNumber&&this.drawVerticalBorder(qC.LEFT),this.drawHorizontalBorder(),this.drawVerticalBorder(qC.RIGHT)},t.prototype.hasHiddenColumnCell=function(){var e=this,t=this.spreadsheet.options,n=t.interaction.hiddenColumnFields,r=void 0===n?[]:n,o=t.tooltip.operation,i=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return!(Bv(i)||Bv(r)||!o.hiddenColumns)&&!!i.find((function(t){return Ww(null==t?void 0:t.displaySiblingNode,e.meta.id)}))},t.prototype.getExpandIconTheme=function(){return this.getStyle().icon},t.prototype.addExpandColumnSplitLine=function(){var e=this.meta,t=e.x,n=e.y,r=e.width,o=e.height,i=this.theme.splitLine,a=i.horizontalBorderColor,l=i.horizontalBorderWidth,s=i.horizontalBorderColorOpacity,u=this.isLastColumn()?t+r-l:t;gx(this,{x1:u,y1:n,x2:u,y2:n+o},{stroke:a,lineWidth:l,strokeOpacity:s})},t.prototype.addExpandColumnIconShapes=function(){this.hasHiddenColumnCell()&&(this.addExpandColumnSplitLine(),this.addExpandColumnIcons())},t.prototype.addExpandColumnIcons=function(){var e=this.isLastColumn();this.addExpandColumnIcon(e),this.isAllDisplaySiblingNodeHidden()&&e&&this.addExpandColumnIcon(!1)},t.prototype.addExpandColumnIcon=function(e){var t=this,n=this.getExpandColumnIconConfig(e);yx(this,xa(xa({},n),{name:"ExpandColIcon",cursor:"pointer"})).on("click",(function(){t.spreadsheet.emit(fi.LAYOUT_COLS_EXPANDED,t.meta)}))},t.prototype.getExpandColumnIconConfig=function(e){var t=this.getExpandIconTheme().size,n=this.getCellArea(),r=n.x,o=n.y,i=n.width,a=r-t;return{x:e?a+i:a,y:o+n.height/2-t/2,width:2*t,height:t}},t.prototype.isLastColumn=function(){return e=this.spreadsheet,t=this.meta.id,n=e.getColumnLeafNodes(),r=e.getInitColumnLeafNodes(),o=Fw(t),Xu(Zf(n),o)===t&&Xu(Zf(r),o)!==t;var e,t,n,r,o},t.prototype.isAllDisplaySiblingNodeHidden=function(){var e=this.meta.id,t=this.spreadsheet.store.get("hiddenColumnsDetail",[]),n=t.find((function(t){var n,r=t.displaySiblingNode;return(null===(n=null==r?void 0:r.next)||void 0===n?void 0:n.id)===e})),r=t.find((function(t){var n,r=t.displaySiblingNode;return(null===(n=null==r?void 0:r.prev)||void 0===n?void 0:n.id)===e}));return r&&n},t}(pS),gS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.isBolderText=function(){return this.meta.cornerType===QC.Col},Object.defineProperty(t.prototype,"cellType",{get:function(){return ea.CORNER_CELL},enumerable:!1,configurable:!0}),t.prototype.initCell=function(){e.prototype.initCell.call(this),this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawTreeIcon(),this.drawCellText(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorderShape(),this.drawResizeArea(),this.update()},t.prototype.drawCellText=function(){this.drawTextShape()},t.prototype.drawTextShape=function(){var e=this.getContentArea().x,t=this.getCellArea(),n=t.y,r=t.height,o=this.getTextStyle(),i=this.getCornerText(),a=this.getMaxTextWidth(),l=Hx(this.meta,this.spreadsheet.options.placeholder),s=this.spreadsheet.measureTextWidth,u=Dx({measureTextWidth:s,text:i,maxWidth:a,fontParam:o,placeholder:l});this.actualText=u;var c=u.indexOf(Vi),d=u,h="";if(-1!==c&&this.spreadsheet.isHierarchyTreeType()){var f=c+(/iPhone/gi.test(navigator.userAgent)&&812===window.screen.height&&375===window.screen.width?1:0);d=i.substr(0,f),h=i.slice(f),h=Dx({measureTextWidth:s,text:h,maxWidth:a,fontParam:o})}var p,v,g=(p={x:e+this.getTreeIconWidth(),y:n,width:a,height:r},v=o,Ax(p,v).text).x,m=n+(Bv(h)?r/2:r/4);this.addTextShape(vx(this,[this.textShapes[0]],g,m,d,o)),Bv(h)||this.addTextShape(vx(this,[this.textShapes[1]],g,n+.75*r,h,o)),this.actualTextWidth=sg([s(d,o),s(h,o)])},t.prototype.drawTreeIcon=function(){var e=this;if(this.showTreeIcon()&&this.meta.cornerType!==QC.Col){var t=this.headerConfig.hierarchyCollapse,n=this.getStyle().icon.size,r=this.getTextStyle(),o=r.textBaseline,i=r.fill,a=this.getContentArea();this.treeIcon=bx(this,{x:a.x,y:Rx(a,o,n),width:n,height:n},i,t,(function(){e.headerConfig.spreadsheet.store.set("scrollY",0),e.headerConfig.spreadsheet.emit(fi.LAYOUT_TREE_ROWS_COLLAPSE_ALL,t)}))}},t.prototype.drawBorderShape=function(){var e=this;[qC.TOP,qC.LEFT].forEach((function(t){var n=Nx(t,e.getCellArea(),e.getStyle().cell),r=n.position,o=n.style;gx(e,r,o)}))},t.prototype.isLastRowCornerCell=function(){var e=this.meta,t=e.cornerType,n=e.field,r=this.headerConfig.rows;return t===QC.Row&&(this.spreadsheet.isHierarchyTreeType()||Zf(r)===n)},t.prototype.getResizeAreaEffect=function(){return this.meta.cornerType===QC.Series?pa.Series:this.isLastRowCornerCell()&&this.spreadsheet.isHierarchyTreeType()?pa.Tree:pa.Field},t.prototype.drawResizeArea=function(){if(this.shouldDrawResizeAreaByType("cornerCellHorizontal",this)){var e=this.getResizeAreaStyle(),t=Vw(this.spreadsheet,Ai),n=this.headerConfig,r=n.position,o=n.scrollX,i=n.scrollY,a=n.width,l=n.height,s=this.meta,u=s.x,c=s.y,d=s.width,h=s.height,f=s.field,p=s.cornerType,v={x:u+d-e.size/2,y:c,width:e.size,height:h},g={x:0,y:0,width:a,height:l};if(p!==QC.Col&&Uw(v,g,{scrollX:o,scrollY:i})){var m=r.x+u-o,y=r.y+(this.isLastRowCornerCell()?0:c);t.addShape("rect",{attrs:xa(xa({},Gw({theme:e,id:f,type:fa.Horizontal,effect:this.getResizeAreaEffect(),offsetX:m,offsetY:y,width:d,height:h,meta:this.meta})),{x:m+d-e.size/2,y:y,height:this.isLastRowCornerCell()?l:h})})}}},t.prototype.showTreeIcon=function(){var e;return this.spreadsheet.isHierarchyTreeType()&&0===(null===(e=this.meta)||void 0===e?void 0:e.x)},t.prototype.getIconPosition=function(){var e,t,n=null===(t=null===(e=this.textShapes)||void 0===e?void 0:e[0])||void 0===t?void 0:t.cfg.attrs,r=this.getTextStyle(),o=r.textBaseline,i=r.textAlign,a=this.getStyle().icon,l=a.size,s=a.margin;return{x:(null==n?void 0:n.x)+af([[ag("center"),ts(this.actualTextWidth/2)],[ag("right"),ts(0)],[my,ts(this.actualTextWidth)]])(i)+s.left,y:Rx(this.getContentArea(),o,l)}},t.prototype.getTreeIconWidth=function(){var e=this.getStyle().icon,t=e.size,n=e.margin;return this.showTreeIcon()?t+n.right:0},t.prototype.getTextStyle=function(){var e=this.getStyle(),t=e.text,n=e.bolderText,r=this.isBolderText()?t:n,o=this.getTextConditionFill(r);return xa(xa({},r),{fill:o})},t.prototype.getMaxTextWidth=function(){return this.getContentArea().width-this.getTreeIconWidth()-this.getActionIconsWidth()},t.prototype.getTextPosition=function(){return{x:0,y:0}},t.prototype.getFormattedFieldValue=function(){return Yw(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},t.prototype.getCornerText=function(){return this.getFormattedFieldValue().formattedValue},t}(pS),mS=function(){function e(e){this.EVENT="gesture",this.gm=e}return e.prototype.do=function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"touchcancel":this.onTouchCancel(e);break;default:return}},e.prototype.emit=function(e){this.gm.emit(this.EVENT,e)},e}(),yS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EVENT="pan",t}return Ca(t,e),t.prototype.onTouchCancel=function(e){},t.prototype.onTouchEnd=function(e){},t.prototype.onTouchMove=function(e){var t=e.x,n=e.y,r=t-this.preX,o=n-this.preY;this.preX=t,this.preY=n,this.emit({x:t,y:n,deltaX:r,deltaY:o,event:e})},t.prototype.onTouchStart=function(e){var t=e.x,n=e.y;this.preX=t,this.preY=n},t}(mS),bS="object"==typeof performance&&performance.now?performance:Date,CS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EVENT="press",t}return Ca(t,e),t.prototype.onTouchCancel=function(e){this.clearTimeout()},t.prototype.onTouchEnd=function(e){this.clearTimeout()},t.prototype.onTouchMove=function(e){var t=e.x,n=e.y;(t-this.touchStartX>10||n-this.touchStartY>10)&&this.clearTimeout()},t.prototype.onTouchStart=function(e){var t=this;this.clearTimeout();var n=e.x,r=e.y;this.touchStartTime=bS.now(),this.touchStartX=n,this.touchStartY=r,this.pressTimeout=window.setTimeout((function(){t.emit({x:n,y:r,event:e})}),300)},t.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},t}(mS),xS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return Ca(t,e),t.prototype.onTouchCancel=function(e){},t.prototype.onTouchEnd=function(e){var t=this.speedX,n=this.speedY;if(bS.now()-this.latestMoveTime<100){var r=e.x,o=e.y;this.emit({x:r,y:o,speedX:t,speedY:n,event:e})}},t.prototype.onTouchMove=function(e){var t=e.x,n=e.y,r=bS.now(),o=t-this.preX,i=n-this.preY,a=r-this.ms;this.speedX=o/a,this.speedY=i/a,this.latestMoveTime=r},t.prototype.onTouchStart=function(e){var t=e.x,n=e.y;this.speedX=this.speedY=0,this.preX=t,this.preY=n,this.ms=bS.now()},t}(mS),wS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EVENT="tap",t}return Ca(t,e),t.prototype.onTouchCancel=function(e){},t.prototype.onTouchEnd=function(e){var t=e.x,n=e.y;t-this.touchStartX<2&&n-this.touchStartY<2&&bS.now()-this.touchStartTime<300&&this.emit({x:t,y:n,event:e})},t.prototype.onTouchMove=function(e){},t.prototype.onTouchStart=function(e){var t=e.x,n=e.y;this.touchStartTime=bS.now(),this.touchStartX=t,this.touchStartY=n},t}(mS),SS={Pan:yS,Press:CS,Swipe:xS,Tap:wS},ES=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.onTouchStart=function(e){r.preventEvent(e),r.element.on("touchmove",r.onTouchMove),r.element.on("touchend",r.onTouchEnd),r.element.on("touchcancel",r.onTouchCancel),r.emit("touchdown",e),r.doGestures(e)},r.onTouchMove=function(e){r.preventEvent(e),r.emit("touchmove",e),r.doGestures(e)},r.onTouchEnd=function(e){r.preventEvent(e),r.emit("touchend",e),r.element.off("touchmove",r.onTouchMove),r.element.off("touchend",r.onTouchEnd),r.element.off("touchcancel",r.onTouchCancel),r.doGestures(e)},r.onTouchCancel=function(e){r.preventEvent(e),r.emit("touchcancel",e),r.element.off("touchmove",r.onTouchMove),r.element.off("touchend",r.onTouchEnd),r.element.off("touchcancel",r.onTouchCancel),r.doGestures(e)},r.element=t,r.options=n,r.initialGestures(),r.bindTouchStart(),r}return Ca(t,e),t.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},t.prototype.initialGestures=function(){var e=this,t=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=t.map((function(t){return new(0,SS[t])(e)}))},t.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},t.prototype.preventEvent=function(e){var t=e.type;(this.options.prevents||[]).includes(t)&&e.preventDefault()},t.prototype.doGestures=function(e){this.gestures.forEach((function(t){t.do(e)}))},t}(pe),OS=hn,IS="wheel",LS=function(e){function t(t){var n=e.call(this)||this;return n.rafMs=0,n.onPan=function(e){n.raf&&cancelAnimationFrame(n.raf);var t=e.deltaX,r=e.deltaY,o=n.getWrapperEvent(e,t,r);n.emit(IS,o)},n.onSwipe=function(e){var t=e.speedX,r=e.speedY;n.rafMs=bS.now(),n.ms=n.rafMs,0===t&&0===r||n.rafInertia(e)},n.element=t,n.gm=new ES(t,{gestures:["Pan","Swipe"]}),n.gm.on("swipe",n.onSwipe),n.gm.on("pan",n.onPan),n}return Ca(t,e),t.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},t.prototype.rafInertia=function(e){var t=this,n=e.speedX,r=e.speedY;this.raf=window.requestAnimationFrame((function(){var o=bS.now(),i=(o-t.ms)/800;if(i<1){i=OS(1-i);var a=o-t.rafMs,l=n*i*a,s=r*i*a,u=t.getWrapperEvent(e,l,s);t.emit(IS,u),t.rafMs=o,t.rafInertia(e)}}))},t.prototype.getWrapperEvent=function(e,t,n){return xa(xa({},e),{deltaX:-t,deltaY:-n})},t}(pe),_S=function(e,t,n,r,o){var i=n+r;return e+o>=i?e:i<e+(t+o)/2?n+r-o:n>e+(t-o)/2?e+t-n>o?n:e+t-o:e+(t-o)/2},TS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Object.defineProperty(t.prototype,"cellType",{get:function(){return ea.ROW_CELL},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){var t;e.prototype.destroy.call(this),null===(t=this.gm)||void 0===t||t.destroy()},t.prototype.initCell=function(){e.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawTreeIcon(),this.drawTreeLeafNodeAlignDot(),this.drawRectBorder(),this.drawResizeAreaInLeaf(),this.drawActionIcons(),this.update()},t.prototype.getBackgroundColor=function(){var e=this.getCrossBackgroundColor(this.meta.rowIndex),t=e.backgroundColor,n=e.backgroundColorOpacity;return this.getBackgroundColorByCondition(t,n)},t.prototype.drawInteractiveBorderShape=function(){this.stateShapes.set("interactiveBorderShape",fx(this,this.getInteractiveBorderShapeStyle(2),{visible:!1}))},t.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",fx(this,xa({},this.getCellArea()),{visible:!1}))},t.prototype.showTreeIcon=function(){return this.spreadsheet.isHierarchyTreeType()&&!this.meta.isLeaf},t.prototype.showTreeLeafNodeAlignDot=function(){var e;return(null===(e=this.spreadsheet.options.style)||void 0===e?void 0:e.showTreeLeafNodeAlignDot)&&this.spreadsheet.isHierarchyTreeType()},t.prototype.getParentTreeIconCfg=function(){if(this.showTreeLeafNodeAlignDot()&&this.spreadsheet.isHierarchyTreeType()&&this.meta.isLeaf)return Xu(this.meta,"parent.belongsCell.treeIcon.cfg")},t.prototype.drawTreeIcon=function(){var e=this;if(this.showTreeIcon()){var t=this.meta,n=t.isCollapsed,r=t.id,o=t.hierarchy,i=this.getContentArea().x,a=this.getTextStyle().fill,l=this.getStyle().icon.size,s=i+this.getContentIndent(),u=this.getIconYPosition();this.treeIcon=bx(this,{x:s,y:u,width:l,height:l},a,n,(function(){if(!yC()){if(!n){var t=e.spreadsheet.store.get("scrollY"),i=e.spreadsheet.facet.panelBBox.viewportHeight||0,a=(u=e.meta,c=0,null==(d=u.children)||d.forEach((function(e){c+=e.height||0})),c),l=o.height-a;if(t>0&&t+i>l){var s=l-i;e.spreadsheet.store.set("scrollY",s>0?s:0)}}var u,c,d;e.spreadsheet.emit(fi.ROW_CELL_COLLAPSE_TREE_ROWS,{id:r,isCollapsed:!n,node:e.meta})}})),yC()&&(this.gm=new ES(this,{gestures:["Tap"]}),this.gm.on("tap",(function(){e.spreadsheet.emit(fi.ROW_CELL_COLLAPSE_TREE_ROWS,{id:r,isCollapsed:!n,node:e.meta})})))}},t.prototype.drawTreeLeafNodeAlignDot=function(){var e=this.getParentTreeIconCfg();if(e){var t=this.getStyle().icon,n=t.size,r=t.margin,o=e.x+n+r.right,i=this.getTextPosition().y,a=this.getTextStyle(),l=a.fill,s=a.fontSize,u=n/5;this.treeLeafNodeAlignDot=px(this,{x:o+n/2,y:i+(s-u)/2,r:u,fill:l,fillOpacity:.3})}},t.prototype.isBolderText=function(){var e=this.meta,t=e.isLeaf,n=e.isTotals,r=e.level;return!t&&0===r||n},t.prototype.drawTextShape=function(){e.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},t.prototype.drawRectBorder=function(){var e=this,t=this.getCellArea().x,n=this.getContentIndent(),r=this.spreadsheet.isHierarchyTreeType()?t:t+n;[qC.BOTTOM,qC.LEFT].forEach((function(t){var n=Nx(t,xa(xa({},e.getCellArea()),{x:r}),e.getStyle().cell),o=n.position,i=n.style;gx(e,o,i)}))},t.prototype.drawResizeAreaInLeaf=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("rowCellVertical",this)){var e=this.getCellArea(),t=e.x,n=e.y,r=e.width,o=e.height,i=this.getResizeAreaStyle(),a=Vw(this.spreadsheet,_i),l=this.headerConfig,s=l.position,u=l.seriesNumberWidth,c=l.width,d=l.viewportHeight,h=l.scrollX,f=l.scrollY,p={x:t,y:n+o-i.size/2,width:r,height:i.size};if(Uw(p,{x:0,y:0,width:c,height:d},{scrollX:h,scrollY:f})){var v=(null==s?void 0:s.x)+t-h+u,g=(null==s?void 0:s.y)+n-f,m=this.spreadsheet.isFrozenRowHeader()?c-u-(t-h):r;a.addShape("rect",{attrs:xa(xa({},Gw({id:this.meta.id,theme:i,type:fa.Vertical,effect:pa.Cell,offsetX:v,offsetY:g,width:r,height:o,meta:this.meta})),{x:v,y:g+o-i.size/2,width:m})})}}},t.prototype.getContentIndent=function(){if(!this.spreadsheet.isHierarchyTreeType())return 0;for(var e=this.getStyle(),t=e.icon,n=e.cell,r=t.size+t.margin.right,o=this.meta.parent,i=0;o;)0!==o.height&&(i+=r),o=o.parent;return this.showTreeLeafNodeAlignDot()&&(i+=this.isTreeLevel()?0:n.padding.right+t.margin.right),i},t.prototype.getTextIndent=function(){var e=this.getStyle().icon,t=e.size,n=e.margin;return this.getContentIndent()+(this.showTreeIcon()||this.isTreeLevel()&&this.showTreeLeafNodeAlignDot()?t+n.right:0)},t.prototype.isTreeLevel=function(){return Ip(Xu(this.meta,"parent.children"),(function(e){return!e.isLeaf}))},t.prototype.getIconPosition=function(){var e=this.textShape.cfg.attrs,t=e.x,n=e.y,r=e.textAlign,o=this.getStyle().icon.margin.left;return"left"===r?{x:t+this.actualTextWidth+o,y:n}:"right"===r?{x:t+o,y:n}:{x:t+this.actualTextWidth/2+o,y:n}},t.prototype.getMaxTextWidth=function(){return this.getContentArea().width-this.getTextIndent()-this.getActionIconsWidth()},t.prototype.getTextArea=function(){var e=this.getContentArea(),t=this.getTextIndent();return xa(xa({},e),{x:e.x+t,width:e.width-t})},t.prototype.getAdjustTextAreaHeight=function(e,t,n){var r=e.height;return!this.spreadsheet.facet.vScrollBar&&e.y+e.height>t+n&&(r=t+n-e.y),r},t.prototype.getTextPosition=function(){var e=this.getTextArea(),t=this.headerConfig,n=t.scrollY,r=t.viewportHeight,o=this.getAdjustTextAreaHeight(e,n,r),i=this.getTextStyle().fontSize,a=_S(e.y,o,n,r,i);return{x:Ax(e,this.getTextStyle(),0,this.getIconStyle(),this.getActionIconsCount()).text.x,y:a}},t.prototype.getIconYPosition=function(){var e=this.getTextPosition().y,t=this.getStyle().icon.size;return e+(this.getTextStyle().fontSize-t)/2},t}(pS),MS=function(e,t,n){var r,o,i=(null===(r=n.icon.margin)||void 0===r?void 0:r.left)||0,a=(null===(o=n.icon.margin)||void 0===o?void 0:o.right)||0,l=e.store.get("hiddenColumnsDetail",[]),s=!1,u=!1;l.forEach((function(e){var n,r,o,i;(null===(r=null===(n=null==e?void 0:e.displaySiblingNode)||void 0===n?void 0:n.prev)||void 0===r?void 0:r.field)===t&&(s=!0),(null===(i=null===(o=null==e?void 0:e.displaySiblingNode)||void 0===o?void 0:o.next)||void 0===i?void 0:i.field)===t&&(u=!0)}));var c=Xu(n,"icon.size");return{left:u?c+a:0,right:s?c+i:0}},RS=function(e,t,n){var r=Xu(n,"cell.padding"),o=MS(e,t.field,n);return r.left+r.right+function(e,t,n,r){var o,i,a=Xu(r,"size"),l=Xu(r,"margin"),s=0;return(s=e.options.showDefaultHeaderActionIcon?1:null!==(i=null===(o=Zw(e.options.headerActionIcons,t,n))||void 0===o?void 0:o.iconNames.length)&&void 0!==i?i:0)*(a+l.left)+(s>0?l.right:0)}(e,t,ea.COL_CELL,Xu(n,"icon"))+o.left+o.right},AS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.handleRestOptions=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ea(e,1),r=n[0];this.headerConfig=xa({},r);var o=this.meta.field,i=this.spreadsheet.dataCfg.sortParams,a=Ip(i,(function(e){return(null==e?void 0:e.sortFieldId)===o})),l=fS(a,!0);this.headerConfig.sortParam=xa(xa(xa({},this.headerConfig.sortParam),a||{}),{type:l})},t.prototype.isFrozenCell=function(){var e=this.spreadsheet.options,t=e.frozenColCount,n=e.frozenTrailingColCount,r=this.spreadsheet.facet.layoutResult.colNodes.filter((function(e){return jC(e)})),o=function(e){for(;!jC(e);)e=e.parent;return e}(this.meta).colIndex;return NC(o,t)||BC(o,n,r.length)},t.prototype.getFormattedFieldValue=function(){return Yw(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},t.prototype.shouldAddVerticalResizeArea=function(){return!!this.isFrozenCell()||e.prototype.shouldAddVerticalResizeArea.call(this)},t.prototype.getVerticalResizeAreaOffset=function(){var e=this.meta,t=e.x,n=e.y,r=this.headerConfig,o=r.scrollX,i=r.position;return this.isFrozenCell()?{x:t,y:n}:{x:i.x+t-o,y:i.y+n}},t.prototype.getColResizeArea=function(){return this.isFrozenCell()?Vw(this.spreadsheet,Bi):e.prototype.getColResizeArea.call(this)},t.prototype.isSortCell=function(){return!0},t.prototype.showSortIcon=function(){return this.spreadsheet.options.showDefaultHeaderActionIcon},t.prototype.getTextStyle=function(){var e=this.getStyle();return null==e?void 0:e.bolderText},t.prototype.getContentArea=function(){var e,t=((null===(e=this.getStyle())||void 0===e?void 0:e.cell)||this.theme.dataCell.cell).padding,n=xa({},t),r=MS(this.spreadsheet,this.meta.field,this.getStyle());return r.left&&(n.left=(n.left||0)+r.left),r.right&&(n.right=(n.right||0)+r.right),_x(this.getCellArea(),n)},t.prototype.getHorizontalResizeAreaName=function(){return"".concat(ki).concat("table-col-cell")},t.prototype.drawBackgroundShape=function(){var e=this.getStyle().cell.backgroundColor;this.backgroundShape=fx(this,xa(xa({},this.getCellArea()),{fill:e}))},t}(vS),NS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.getStyle=function(e){return e?this.theme[e]:Xu(this,"theme.cornerCell")},t.prototype.showSortIcon=function(){return!1},t.prototype.drawLeftBorder=function(){var e=Nx(qC.LEFT,this.getCellArea(),this.getStyle().cell);gx(this,e.position,e.style)},t.prototype.drawBorders=function(){e.prototype.drawBorders.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},t}(AS),BS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.getLinkFieldStyle=function(){return this.theme.rowCell.text.linkTextFill},t.prototype.drawBorderShape=function(){e.prototype.drawBorderShape.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},t.prototype.shouldDrawResizeArea=function(){return 0===this.meta.colIndex},t.prototype.drawResizeArea=function(){if(this.shouldDrawResizeArea()){var e=this.getCellArea(),t=e.x,n=e.y,r=e.width,o=e.height,i=this.meta.rowIndex,a=this.getResizeAreaStyle(),l=this.spreadsheet.options,s=l.frozenRowCount,u=l.frozenTrailingRowCount,c=this.spreadsheet.facet.getCellRange(),d=DC(i,c.start,s),h=kC(i,c.end,u),f=d||h?Ti:_i,p=Vw(this.spreadsheet,f),v=this.spreadsheet.facet.layoutResult.colsHierarchy.height,g=this.spreadsheet.facet.getScrollOffset().scrollY,m=this.spreadsheet.facet.getPaginationScrollY(),y=n+(h?0:v);h||(y-=d?m:g+m),p.addShape("rect",{attrs:xa(xa({},Gw({id:String(this.meta.rowIndex),theme:a,type:fa.Vertical,effect:pa.Cell,offsetX:t,offsetY:y,width:r,height:o,meta:this.meta})),{x:t,y:y+o-a.size/2,width:r})})}},t}(Tw),DS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Object.defineProperty(t.prototype,"cellType",{get:function(){return ea.ROW_CELL},enumerable:!1,configurable:!0}),t.prototype.getTextStyle=function(){return this.theme.rowCell.seriesText},t}(BS),kS=function(e){return[ra.META,ra.CONTROL].includes(e.key)},PS=function(e){return e.ctrlKey||e.metaKey},zS=function(e){var t=e.getMeta()||{},n=t.id,r=t.colIndex,o=t.rowIndex,i=t.rowQuery;return{id:n,colIndex:r,rowIndex:o,type:e.cellType,rowQuery:i}};function FS(e,t){var n=Math.min(e.rowIndex,t.rowIndex),r=Math.max(e.rowIndex,t.rowIndex);return{start:{rowIndex:n,colIndex:Math.min(e.colIndex,t.colIndex)},end:{rowIndex:r,colIndex:Math.max(e.colIndex,t.colIndex)}}}var HS,$S,jS=function(e,t){var n=e.getSelectedCellHighlight(),r=n.colHeader,o=n.rowHeader;r&&e.updateCells(e.getAllColHeaderCells()),o&&e.updateCells(e.getAllRowHeaderCells()),t()},WS=function(e){var t=e.store.get("visibleActionIcons"),n=e.interaction.getInteractedCells(),r=e.interaction.getState().cells;if(Bv(n)&&Bv(r)&&Bv(t))return!1;(tp(t,(function(e){e.set("visible",!1)})),e.store.set("visibleActionIcons",[]),tp(n,(function(e){e.hideInteractionShape()})),e.interaction.resetState(),e.options.interaction.selectedCellsSpotlight)&&tp(e.interaction.getPanelGroupAllUnSelectedDataCells()||[],(function(e){e.clearUnselectedState()}));return!0},GS=function(e,t,n){var r,o,i=n.facet,a=i.panelBBox.width,l=null==i?void 0:i.frozenGroupInfo,s=null!==(r=null==l?void 0:l.frozenCol.width)&&void 0!==r?r:0,u=null!==(o=null==l?void 0:l.frozenTrailingCol.width)&&void 0!==o?o:0,c=i.layoutResult.colLeafNodes[e];return t===ca.SCROLL_UP?c.x-s:c.x+c.width-(a-u)},VS=function(e,t,n){var r,o,i=n.facet,a=i.viewCellHeights.getCellOffsetY,l=i.panelBBox.height,s=a(e+1);if($v(s))return 0;var u=null==i?void 0:i.frozenGroupInfo,c=null!==(r=null==u?void 0:u.frozenRow.height)&&void 0!==r?r:0,d=null!==(o=null==u?void 0:u.frozenTrailingRow.height)&&void 0!==o?o:0;return t===ca.SCROLL_UP?a(e)-c:s-(l-d)},US=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e,t){if($a(e)&&$a(t))return t},r=Oa(Oa([],Ea(e),!1),[n],!1);return kf.apply(void 0,Oa([{}],Ea(r),!1))},ZS=function(e){var t=["rows","columns","values"].reduce((function(t,n){var r=e[n],o=ob(r);return Dv(o,r)||console.warn("fields.".concat(n,":[").concat(r,"] should be unique")),t[n]=o,t}),{});return xa(xa({},e),t)},YS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=US.apply(void 0,Oa([Ki],Ea(e),!1));return n.fields=ZS(n.fields),Bv(n.fields.customTreeItems)&&!Bv(n.fields.values)||(n.fields.valueInCols=!1),n},XS=function(e){return US(ya,e)},qS=9e15,KS=1e9,QS="0123456789abcdef",JS="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",eE="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",tE={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-qS,maxE:qS,crypto:!1},nE=!0,rE="[DecimalError] ",oE=rE+"Invalid argument: ",iE=rE+"Precision limit exceeded",aE=rE+"crypto unavailable",lE="[object Decimal]",sE=Math.floor,uE=Math.pow,cE=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,dE=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,hE=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,fE=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pE=1e7,vE=JS.length-1,gE=eE.length-1,mE={toStringTag:lE};function yE(e){var t,n,r,o=e.length-1,i="",a=e[0];if(o>0){for(i+=a,t=1;t<o;t++)(n=7-(r=e[t]+"").length)&&(i+=TE(n)),i+=r;(n=7-(r=(a=e[t])+"").length)&&(i+=TE(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return i+a}function bE(e,t,n){if(e!==~~e||e<t||e>n)throw Error(oE+e)}function CE(e,t,n,r){var o,i,a,l;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=7,o=0):(o=Math.ceil((t+1)/7),t%=7),i=uE(10,7-t),l=e[o]%i|0,null==r?t<3?(0==t?l=l/100|0:1==t&&(l=l/10|0),a=n<4&&99999==l||n>3&&49999==l||5e4==l||0==l):a=(n<4&&l+1==i||n>3&&l+1==i/2)&&(e[o+1]/i/100|0)==uE(10,t-2)-1||(l==i/2||0==l)&&0==(e[o+1]/i/100|0):t<4?(0==t?l=l/1e3|0:1==t?l=l/100|0:2==t&&(l=l/10|0),a=(r||n<4)&&9999==l||!r&&n>3&&4999==l):a=((r||n<4)&&l+1==i||!r&&n>3&&l+1==i/2)&&(e[o+1]/i/1e3|0)==uE(10,t-3)-1,a}function xE(e,t,n){for(var r,o,i=[0],a=0,l=e.length;a<l;){for(o=i.length;o--;)i[o]*=t;for(i[0]+=QS.indexOf(e.charAt(a++)),r=0;r<i.length;r++)i[r]>n-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}mE.absoluteValue=mE.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),SE(e)},mE.ceil=function(){return SE(new this.constructor(this),this.e+1,2)},mE.clampedTo=mE.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(oE+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},mE.comparedTo=mE.cmp=function(e){var t,n,r,o,i=this,a=i.d,l=(e=new i.constructor(e)).d,s=i.s,u=e.s;if(!a||!l)return s&&u?s!==u?s:a===l?0:!a^s<0?1:-1:NaN;if(!a[0]||!l[0])return a[0]?s:l[0]?-u:0;if(s!==u)return s;if(i.e!==e.e)return i.e>e.e^s<0?1:-1;for(t=0,n=(r=a.length)<(o=l.length)?r:o;t<n;++t)if(a[t]!==l[t])return a[t]>l[t]^s<0?1:-1;return r===o?0:r>o^s<0?1:-1},mE.cosine=mE.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,o;if(t.isZero())return t;r=t.d.length,r<32?o=(1/FE(4,n=Math.ceil(r/3))).toString():(n=16,o="2.3283064365386962890625e-10");e.precision+=n,t=zE(e,1,t.times(o),new e(1));for(var i=n;i--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(r,HE(r,n)),r.precision=e,r.rounding=t,SE(2==$S||3==$S?n.neg():n,e,t,!0)):new r(1):new r(NaN)},mE.cubeRoot=mE.cbrt=function(){var e,t,n,r,o,i,a,l,s,u,c=this,d=c.constructor;if(!c.isFinite()||c.isZero())return new d(c);for(nE=!1,(i=c.s*uE(c.s*c,1/3))&&Math.abs(i)!=1/0?r=new d(i.toString()):(n=yE(c.d),(i=((e=c.e)-n.length+1)%3)&&(n+=1==i||-2==i?"0":"00"),i=uE(n,1/3),e=sE((e+1)/3)-(e%3==(e<0?-1:2)),(r=new d(n=i==1/0?"5e"+e:(n=i.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=c.s),a=(e=d.precision)+3;;)if(u=(s=(l=r).times(l).times(l)).plus(c),r=wE(u.plus(c).times(l),u.plus(s),a+2,1),yE(l.d).slice(0,a)===(n=yE(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(SE(r,e+1,1),t=!r.times(r).times(r).eq(c));break}if(!o&&(SE(l,e+1,0),l.times(l).times(l).eq(c))){r=l;break}a+=4,o=1}return nE=!0,SE(r,e,d.rounding,t)},mE.decimalPlaces=mE.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-sE(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},mE.dividedBy=mE.div=function(e){return wE(this,new this.constructor(e))},mE.dividedToIntegerBy=mE.divToInt=function(e){var t=this.constructor;return SE(wE(this,new t(e),0,1,1),t.precision,t.rounding)},mE.equals=mE.eq=function(e){return 0===this.cmp(e)},mE.floor=function(){return SE(new this.constructor(this),this.e+1,3)},mE.greaterThan=mE.gt=function(e){return this.cmp(e)>0},mE.greaterThanOrEqualTo=mE.gte=function(e){var t=this.cmp(e);return 1==t||0===t},mE.hyperbolicCosine=mE.cosh=function(){var e,t,n,r,o,i=this,a=i.constructor,l=new a(1);if(!i.isFinite())return new a(i.s?1/0:NaN);if(i.isZero())return l;n=a.precision,r=a.rounding,a.precision=n+Math.max(i.e,i.sd())+4,a.rounding=1,(o=i.d.length)<32?t=(1/FE(4,e=Math.ceil(o/3))).toString():(e=16,t="2.3283064365386962890625e-10"),i=zE(a,1,i.times(t),new a(1),!0);for(var s,u=e,c=new a(8);u--;)s=i.times(i),i=l.minus(s.times(c.minus(s.times(c))));return SE(i,a.precision=n,a.rounding=r,!0)},mE.hyperbolicSine=mE.sinh=function(){var e,t,n,r,o=this,i=o.constructor;if(!o.isFinite()||o.isZero())return new i(o);if(t=i.precision,n=i.rounding,i.precision=t+Math.max(o.e,o.sd())+4,i.rounding=1,(r=o.d.length)<3)o=zE(i,2,o,o,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,o=zE(i,2,o=o.times(1/FE(5,e)),o,!0);for(var a,l=new i(5),s=new i(16),u=new i(20);e--;)a=o.times(o),o=o.times(l.plus(a.times(s.times(a).plus(u))))}return i.precision=t,i.rounding=n,SE(o,t,n,!0)},mE.hyperbolicTangent=mE.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,wE(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},mE.inverseCosine=mE.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),o=n.precision,i=n.rounding;return-1!==r?0===r?t.isNeg()?LE(n,o,i):new n(0):new n(NaN):t.isZero()?LE(n,o+4,i).times(.5):(n.precision=o+6,n.rounding=1,t=t.asin(),e=LE(n,o+4,i).times(.5),n.precision=o,n.rounding=i,e.minus(t))},mE.inverseHyperbolicCosine=mE.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,nE=!1,n=n.times(n).minus(1).sqrt().plus(n),nE=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},mE.inverseHyperbolicSine=mE.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,nE=!1,n=n.times(n).plus(1).sqrt().plus(n),nE=!0,r.precision=e,r.rounding=t,n.ln())},mE.inverseHyperbolicTangent=mE.atanh=function(){var e,t,n,r,o=this,i=o.constructor;return o.isFinite()?o.e>=0?new i(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(e=i.precision,t=i.rounding,r=o.sd(),Math.max(r,e)<2*-o.e-1?SE(new i(o),e,t,!0):(i.precision=n=r-o.e,o=wE(o.plus(1),new i(1).minus(o),n+e,1),i.precision=e+4,i.rounding=1,o=o.ln(),i.precision=e,i.rounding=t,o.times(.5))):new i(NaN)},mE.inverseSine=mE.asin=function(){var e,t,n,r,o=this,i=o.constructor;return o.isZero()?new i(o):(t=o.abs().cmp(1),n=i.precision,r=i.rounding,-1!==t?0===t?((e=LE(i,n+4,r).times(.5)).s=o.s,e):new i(NaN):(i.precision=n+6,i.rounding=1,o=o.div(new i(1).minus(o.times(o)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,o.times(2)))},mE.inverseTangent=mE.atan=function(){var e,t,n,r,o,i,a,l,s,u=this,c=u.constructor,d=c.precision,h=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&d+4<=gE)return(a=LE(c,d+4,h).times(.25)).s=u.s,a}else{if(!u.s)return new c(NaN);if(d+4<=gE)return(a=LE(c,d+4,h).times(.5)).s=u.s,a}for(c.precision=l=d+10,c.rounding=1,e=n=Math.min(28,l/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(nE=!1,t=Math.ceil(l/7),r=1,s=u.times(u),a=new c(u),o=u;-1!==e;)if(o=o.times(s),i=a.minus(o.div(r+=2)),o=o.times(s),void 0!==(a=i.plus(o.div(r+=2))).d[t])for(e=t;a.d[e]===i.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),nE=!0,SE(a,c.precision=d,c.rounding=h,!0)},mE.isFinite=function(){return!!this.d},mE.isInteger=mE.isInt=function(){return!!this.d&&sE(this.e/7)>this.d.length-2},mE.isNaN=function(){return!this.s},mE.isNegative=mE.isNeg=function(){return this.s<0},mE.isPositive=mE.isPos=function(){return this.s>0},mE.isZero=function(){return!!this.d&&0===this.d[0]},mE.lessThan=mE.lt=function(e){return this.cmp(e)<0},mE.lessThanOrEqualTo=mE.lte=function(e){return this.cmp(e)<1},mE.logarithm=mE.log=function(e){var t,n,r,o,i,a,l,s,u=this,c=u.constructor,d=c.precision,h=c.rounding;if(null==e)e=new c(10),t=!0;else{if(n=(e=new c(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:1!=u.s?NaN:n?0:1/0);if(t)if(n.length>1)i=!0;else{for(o=n[0];o%10==0;)o/=10;i=1!==o}if(nE=!1,a=BE(u,l=d+5),r=t?IE(c,l+10):BE(e,l),CE((s=wE(a,r,l,1)).d,o=d,h))do{if(a=BE(u,l+=10),r=t?IE(c,l+10):BE(e,l),s=wE(a,r,l,1),!i){+yE(s.d).slice(o+1,o+15)+1==1e14&&(s=SE(s,d+1,0));break}}while(CE(s.d,o+=10,h));return nE=!0,SE(s,d,h)},mE.minus=mE.sub=function(e){var t,n,r,o,i,a,l,s,u,c,d,h,f=this,p=f.constructor;if(e=new p(e),!f.d||!e.d)return f.s&&e.s?f.d?e.s=-e.s:e=new p(e.d||f.s!==e.s?f:NaN):e=new p(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(u=f.d,h=e.d,l=p.precision,s=p.rounding,!u[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!u[0])return new p(3===s?-0:0);e=new p(f)}return nE?SE(e,l,s):e}if(n=sE(e.e/7),c=sE(f.e/7),u=u.slice(),i=c-n){for((d=i<0)?(t=u,i=-i,a=h.length):(t=h,n=c,a=u.length),i>(r=Math.max(Math.ceil(l/7),a)+2)&&(i=r,t.length=1),t.reverse(),r=i;r--;)t.push(0);t.reverse()}else{for((d=(r=u.length)<(a=h.length))&&(a=r),r=0;r<a;r++)if(u[r]!=h[r]){d=u[r]<h[r];break}i=0}for(d&&(t=u,u=h,h=t,e.s=-e.s),a=u.length,r=h.length-a;r>0;--r)u[a++]=0;for(r=h.length;r>i;){if(u[--r]<h[r]){for(o=r;o&&0===u[--o];)u[o]=pE-1;--u[o],u[r]+=pE}u[r]-=h[r]}for(;0===u[--a];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(e.d=u,e.e=OE(u,n),nE?SE(e,l,s):e):new p(3===s?-0:0)},mE.modulo=mE.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?SE(new r(n),r.precision,r.rounding):(nE=!1,9==r.modulo?(t=wE(n,e.abs(),0,3,1)).s*=e.s:t=wE(n,e,0,r.modulo,1),t=t.times(e),nE=!0,n.minus(t))},mE.naturalExponential=mE.exp=function(){return NE(this)},mE.naturalLogarithm=mE.ln=function(){return BE(this)},mE.negated=mE.neg=function(){var e=new this.constructor(this);return e.s=-e.s,SE(e)},mE.plus=mE.add=function(e){var t,n,r,o,i,a,l,s,u,c,d=this,h=d.constructor;if(e=new h(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new h(e.d||d.s===e.s?d:NaN)):e=new h(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(u=d.d,c=e.d,l=h.precision,s=h.rounding,!u[0]||!c[0])return c[0]||(e=new h(d)),nE?SE(e,l,s):e;if(i=sE(d.e/7),r=sE(e.e/7),u=u.slice(),o=i-r){for(o<0?(n=u,o=-o,a=c.length):(n=c,r=i,a=u.length),o>(a=(i=Math.ceil(l/7))>a?i+1:a+1)&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((a=u.length)-(o=c.length)<0&&(o=a,n=c,c=u,u=n),t=0;o;)t=(u[--o]=u[o]+c[o]+t)/pE|0,u[o]%=pE;for(t&&(u.unshift(t),++r),a=u.length;0==u[--a];)u.pop();return e.d=u,e.e=OE(u,r),nE?SE(e,l,s):e},mE.precision=mE.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(oE+e);return n.d?(t=_E(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},mE.round=function(){var e=this,t=e.constructor;return SE(new t(e),e.e+1,t.rounding)},mE.sine=mE.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:zE(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/FE(5,n)),t=zE(e,2,t,t);for(var o,i=new e(5),a=new e(16),l=new e(20);n--;)o=t.times(t),t=t.times(i.plus(o.times(a.times(o).minus(l))));return t}(r,HE(r,n)),r.precision=e,r.rounding=t,SE($S>2?n.neg():n,e,t,!0)):new r(NaN)},mE.squareRoot=mE.sqrt=function(){var e,t,n,r,o,i,a=this,l=a.d,s=a.e,u=a.s,c=a.constructor;if(1!==u||!l||!l[0])return new c(!u||u<0&&(!l||l[0])?NaN:l?a:1/0);for(nE=!1,0==(u=Math.sqrt(+a))||u==1/0?(((t=yE(l)).length+s)%2==0&&(t+="0"),u=Math.sqrt(t),s=sE((s+1)/2)-(s<0||s%2),r=new c(t=u==1/0?"5e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new c(u.toString()),n=(s=c.precision)+3;;)if(r=(i=r).plus(wE(a,i,n+2,1)).times(.5),yE(i.d).slice(0,n)===(t=yE(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(SE(r,s+1,1),e=!r.times(r).eq(a));break}if(!o&&(SE(i,s+1,0),i.times(i).eq(a))){r=i;break}n+=4,o=1}return nE=!0,SE(r,s,c.rounding,e)},mE.tangent=mE.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=wE(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,SE(2==$S||4==$S?n.neg():n,e,t,!0)):new r(NaN)},mE.times=mE.mul=function(e){var t,n,r,o,i,a,l,s,u,c=this,d=c.constructor,h=c.d,f=(e=new d(e)).d;if(e.s*=c.s,!(h&&h[0]&&f&&f[0]))return new d(!e.s||h&&!h[0]&&!f||f&&!f[0]&&!h?NaN:h&&f?0*e.s:e.s/0);for(n=sE(c.e/7)+sE(e.e/7),(s=h.length)<(u=f.length)&&(i=h,h=f,f=i,a=s,s=u,u=a),i=[],r=a=s+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,o=s+r;o>r;)l=i[o]+f[r]*h[o-r-1]+t,i[o--]=l%pE|0,t=l/pE|0;i[o]=(i[o]+t)%pE|0}for(;!i[--a];)i.pop();return t?++n:i.shift(),e.d=i,e.e=OE(i,n),nE?SE(e,d.precision,d.rounding):e},mE.toBinary=function(e,t){return $E(this,2,e,t)},mE.toDecimalPlaces=mE.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(bE(e,0,KS),void 0===t?t=r.rounding:bE(t,0,8),SE(n,e+n.e+1,t))},mE.toExponential=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=EE(r,!0):(bE(e,0,KS),void 0===t?t=o.rounding:bE(t,0,8),n=EE(r=SE(new o(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},mE.toFixed=function(e,t){var n,r,o=this,i=o.constructor;return void 0===e?n=EE(o):(bE(e,0,KS),void 0===t?t=i.rounding:bE(t,0,8),n=EE(r=SE(new i(o),e+o.e+1,t),!1,e+r.e+1)),o.isNeg()&&!o.isZero()?"-"+n:n},mE.toFraction=function(e){var t,n,r,o,i,a,l,s,u,c,d,h,f=this,p=f.d,v=f.constructor;if(!p)return new v(f);if(u=n=new v(1),r=s=new v(0),a=(i=(t=new v(r)).e=_E(p)-f.e-1)%7,t.d[0]=uE(10,a<0?7+a:a),null==e)e=i>0?t:u;else{if(!(l=new v(e)).isInt()||l.lt(u))throw Error(oE+l);e=l.gt(t)?i>0?t:u:l}for(nE=!1,l=new v(yE(p)),c=v.precision,v.precision=i=7*p.length*2;d=wE(l,t,0,1,1),1!=(o=n.plus(d.times(r))).cmp(e);)n=r,r=o,o=u,u=s.plus(d.times(o)),s=o,o=t,t=l.minus(d.times(o)),l=o;return o=wE(e.minus(n),r,0,1,1),s=s.plus(o.times(u)),n=n.plus(o.times(r)),s.s=u.s=f.s,h=wE(u,r,i,1).minus(f).abs().cmp(wE(s,n,i,1).minus(f).abs())<1?[u,r]:[s,n],v.precision=c,nE=!0,h},mE.toHexadecimal=mE.toHex=function(e,t){return $E(this,16,e,t)},mE.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:bE(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(nE=!1,n=wE(n,e,0,t,1).times(e),nE=!0,SE(n)):(e.s=n.s,n=e),n},mE.toNumber=function(){return+this},mE.toOctal=function(e,t){return $E(this,8,e,t)},mE.toPower=mE.pow=function(e){var t,n,r,o,i,a,l=this,s=l.constructor,u=+(e=new s(e));if(!(l.d&&e.d&&l.d[0]&&e.d[0]))return new s(uE(+l,u));if((l=new s(l)).eq(1))return l;if(r=s.precision,i=s.rounding,e.eq(1))return SE(l,r,i);if((t=sE(e.e/7))>=e.d.length-1&&(n=u<0?-u:u)<=9007199254740991)return o=ME(s,l,n,r),e.s<0?new s(1).div(o):SE(o,r,i);if((a=l.s)<0){if(t<e.d.length-1)return new s(NaN);if(0==(1&e.d[t])&&(a=1),0==l.e&&1==l.d[0]&&1==l.d.length)return l.s=a,l}return(t=0!=(n=uE(+l,u))&&isFinite(n)?new s(n+"").e:sE(u*(Math.log("0."+yE(l.d))/Math.LN10+l.e+1)))>s.maxE+1||t<s.minE-1?new s(t>0?a/0:0):(nE=!1,s.rounding=l.s=1,n=Math.min(12,(t+"").length),(o=NE(e.times(BE(l,r+n)),r)).d&&CE((o=SE(o,r+5,1)).d,r,i)&&(t=r+10,+yE((o=SE(NE(e.times(BE(l,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(o=SE(o,r+1,0))),o.s=a,nE=!0,s.rounding=i,SE(o,r,i))},mE.toPrecision=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=EE(r,r.e<=o.toExpNeg||r.e>=o.toExpPos):(bE(e,1,KS),void 0===t?t=o.rounding:bE(t,0,8),n=EE(r=SE(new o(r),e,t),e<=r.e||r.e<=o.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},mE.toSignificantDigits=mE.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(bE(e,1,KS),void 0===t?t=n.rounding:bE(t,0,8)),SE(new n(this),e,t)},mE.toString=function(){var e=this,t=e.constructor,n=EE(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},mE.truncated=mE.trunc=function(){return SE(new this.constructor(this),this.e+1,1)},mE.valueOf=mE.toJSON=function(){var e=this,t=e.constructor,n=EE(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var wE=function(){function e(e,t,n){var r,o=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+o,e[i]=r%n|0,o=r/n|0;return o&&e.unshift(o),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,i,a,l,s){var u,c,d,h,f,p,v,g,m,y,b,C,x,w,S,E,O,I,L,_,T=r.constructor,M=r.s==o.s?1:-1,R=r.d,A=o.d;if(!(R&&R[0]&&A&&A[0]))return new T(r.s&&o.s&&(R?!A||R[0]!=A[0]:A)?R&&0==R[0]||!A?0*M:M/0:NaN);for(s?(f=1,c=r.e-o.e):(s=pE,f=7,c=sE(r.e/f)-sE(o.e/f)),L=A.length,O=R.length,y=(m=new T(M)).d=[],d=0;A[d]==(R[d]||0);d++);if(A[d]>(R[d]||0)&&c--,null==i?(w=i=T.precision,a=T.rounding):w=l?i+(r.e-o.e)+1:i,w<0)y.push(1),p=!0;else{if(w=w/f+2|0,d=0,1==L){for(h=0,A=A[0],w++;(d<O||h)&&w--;d++)S=h*s+(R[d]||0),y[d]=S/A|0,h=S%A|0;p=h||d<O}else{for((h=s/(A[0]+1)|0)>1&&(A=e(A,h,s),R=e(R,h,s),L=A.length,O=R.length),E=L,C=(b=R.slice(0,L)).length;C<L;)b[C++]=0;(_=A.slice()).unshift(0),I=A[0],A[1]>=s/2&&++I;do{h=0,(u=t(A,b,L,C))<0?(x=b[0],L!=C&&(x=x*s+(b[1]||0)),(h=x/I|0)>1?(h>=s&&(h=s-1),1==(u=t(v=e(A,h,s),b,g=v.length,C=b.length))&&(h--,n(v,L<g?_:A,g,s))):(0==h&&(u=h=1),v=A.slice()),(g=v.length)<C&&v.unshift(0),n(b,v,C,s),-1==u&&(u=t(A,b,L,C=b.length))<1&&(h++,n(b,L<C?_:A,C,s)),C=b.length):0===u&&(h++,b=[0]),y[d++]=h,u&&b[0]?b[C++]=R[E]||0:(b=[R[E]],C=1)}while((E++<O||void 0!==b[0])&&w--);p=void 0!==b[0]}y[0]||y.shift()}if(1==f)m.e=c,HS=p;else{for(d=1,h=y[0];h>=10;h/=10)d++;m.e=d+c*f-1,SE(m,l?i+m.e+1:i,a,p)}return m}}();function SE(e,t,n,r){var o,i,a,l,s,u,c,d,h,f=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(o=1,l=d[0];l>=10;l/=10)o++;if((i=t-o)<0)i+=7,a=t,s=(c=d[h=0])/uE(10,o-a-1)%10|0;else if((h=Math.ceil((i+1)/7))>=(l=d.length)){if(!r)break e;for(;l++<=h;)d.push(0);c=s=0,o=1,a=(i%=7)-7+1}else{for(c=l=d[h],o=1;l>=10;l/=10)o++;s=(a=(i%=7)-7+o)<0?0:c/uE(10,o-a-1)%10|0}if(r=r||t<0||void 0!==d[h+1]||(a<0?c:c%uE(10,o-a-1)),u=n<4?(s||r)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||r||6==n&&(i>0?a>0?c/uE(10,o-a):0:d[h-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=uE(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==i?(d.length=h,l=1,h--):(d.length=h+1,l=uE(10,7-i),d[h]=a>0?(c/uE(10,o-a)%uE(10,a)|0)*l:0),u)for(;;){if(0==h){for(i=1,a=d[0];a>=10;a/=10)i++;for(a=d[0]+=l,l=1;a>=10;a/=10)l++;i!=l&&(e.e++,d[0]==pE&&(d[0]=1));break}if(d[h]+=l,d[h]!=pE)break;d[h--]=0,l=1}for(i=d.length;0===d[--i];)d.pop()}return nE&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function EE(e,t,n){if(!e.isFinite())return DE(e);var r,o=e.e,i=yE(e.d),a=i.length;return t?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+TE(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):o<0?(i="0."+TE(-o-1)+i,n&&(r=n-a)>0&&(i+=TE(r))):o>=a?(i+=TE(o+1-a),n&&(r=n-o-1)>0&&(i=i+"."+TE(r))):((r=o+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(o+1===a&&(i+="."),i+=TE(r))),i}function OE(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function IE(e,t,n){if(t>vE)throw nE=!0,n&&(e.precision=n),Error(iE);return SE(new e(JS),t,1,!0)}function LE(e,t,n){if(t>gE)throw Error(iE);return SE(new e(eE),t,n,!0)}function _E(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function TE(e){for(var t="";e--;)t+="0";return t}function ME(e,t,n,r){var o,i=new e(1),a=Math.ceil(r/7+4);for(nE=!1;;){if(n%2&&jE((i=i.times(t)).d,a)&&(o=!0),0===(n=sE(n/2))){n=i.d.length-1,o&&0===i.d[n]&&++i.d[n];break}jE((t=t.times(t)).d,a)}return nE=!0,i}function RE(e){return 1&e.d[e.d.length-1]}function AE(e,t,n){for(var r,o=new e(t[0]),i=0;++i<t.length;){if(!(r=new e(t[i])).s){o=r;break}o[n](r)&&(o=r)}return o}function NE(e,t){var n,r,o,i,a,l,s,u=0,c=0,d=0,h=e.constructor,f=h.rounding,p=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(nE=!1,s=p):s=t,l=new h(.03125);e.e>-2;)e=e.times(l),d+=5;for(s+=r=Math.log(uE(2,d))/Math.LN10*2+5|0,n=i=a=new h(1),h.precision=s;;){if(i=SE(i.times(e),s,1),n=n.times(++c),yE((l=a.plus(wE(i,n,s,1))).d).slice(0,s)===yE(a.d).slice(0,s)){for(o=d;o--;)a=SE(a.times(a),s,1);if(null!=t)return h.precision=p,a;if(!(u<3&&CE(a.d,s-r,f,u)))return SE(a,h.precision=p,f,nE=!0);h.precision=s+=10,n=i=l=new h(1),c=0,u++}a=l}}function BE(e,t){var n,r,o,i,a,l,s,u,c,d,h,f=1,p=e,v=p.d,g=p.constructor,m=g.rounding,y=g.precision;if(p.s<0||!v||!v[0]||!p.e&&1==v[0]&&1==v.length)return new g(v&&!v[0]?-1/0:1!=p.s?NaN:v?0:p);if(null==t?(nE=!1,c=y):c=t,g.precision=c+=10,r=(n=yE(v)).charAt(0),!(Math.abs(i=p.e)<15e14))return u=IE(g,c+2,y).times(i+""),p=BE(new g(r+"."+n.slice(1)),c-10).plus(u),g.precision=y,null==t?SE(p,y,m,nE=!0):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=yE((p=p.times(e)).d)).charAt(0),f++;for(i=p.e,r>1?(p=new g("0."+n),i++):p=new g(r+"."+n.slice(1)),d=p,s=a=p=wE(p.minus(1),p.plus(1),c,1),h=SE(p.times(p),c,1),o=3;;){if(a=SE(a.times(h),c,1),yE((u=s.plus(wE(a,new g(o),c,1))).d).slice(0,c)===yE(s.d).slice(0,c)){if(s=s.times(2),0!==i&&(s=s.plus(IE(g,c+2,y).times(i+""))),s=wE(s,new g(f),c,1),null!=t)return g.precision=y,s;if(!CE(s.d,c-10,m,l))return SE(s,g.precision=y,m,nE=!0);g.precision=c+=10,u=a=p=wE(d.minus(1),d.plus(1),c,1),h=SE(p.times(p),c,1),o=l=1}s=u,o+=2}}function DE(e){return String(e.s*e.s/0)}function kE(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(o=t.length;48===t.charCodeAt(o-1);--o);if(t=t.slice(r,o)){if(o-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=7;r<o;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=o;for(;r--;)t+="0";e.d.push(+t),nE&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function PE(e,t){var n,r,o,i,a,l,s,u,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),fE.test(t))return kE(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(dE.test(t))n=16,t=t.toLowerCase();else if(cE.test(t))n=2;else{if(!hE.test(t))throw Error(oE+t);n=8}for((i=t.search(/p/i))>0?(s=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),a=(i=t.indexOf("."))>=0,r=e.constructor,a&&(i=(l=(t=t.replace(".","")).length)-i,o=ME(r,new r(n),i,2*i)),i=c=(u=xE(t,n,pE)).length-1;0===u[i];--i)u.pop();return i<0?new r(0*e.s):(e.e=OE(u,c),e.d=u,nE=!1,a&&(e=wE(e,o,4*l)),s&&(e=e.times(Math.abs(s)<54?uE(2,s):MO.pow(2,s))),nE=!0,e)}function zE(e,t,n,r,o){var i,a,l,s,u=e.precision,c=Math.ceil(u/7);for(nE=!1,s=n.times(n),l=new e(r);;){if(a=wE(l.times(s),new e(t++*t++),u,1),l=o?r.plus(a):r.minus(a),r=wE(a.times(s),new e(t++*t++),u,1),void 0!==(a=l.plus(r)).d[c]){for(i=c;a.d[i]===l.d[i]&&i--;);if(-1==i)break}i=l,l=r,r=a,a=i}return nE=!0,a.d.length=c+1,a}function FE(e,t){for(var n=e;--t;)n*=e;return n}function HE(e,t){var n,r=t.s<0,o=LE(e,e.precision,1),i=o.times(.5);if((t=t.abs()).lte(i))return $S=r?4:1,t;if((n=t.divToInt(o)).isZero())$S=r?3:2;else{if((t=t.minus(n.times(o))).lte(i))return $S=RE(n)?r?2:3:r?4:1,t;$S=RE(n)?r?1:4:r?3:2}return t.minus(o).abs()}function $E(e,t,n,r){var o,i,a,l,s,u,c,d,h,f=e.constructor,p=void 0!==n;if(p?(bE(n,1,KS),void 0===r?r=f.rounding:bE(r,0,8)):(n=f.precision,r=f.rounding),e.isFinite()){for(p?(o=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):o=t,(a=(c=EE(e)).indexOf("."))>=0&&(c=c.replace(".",""),(h=new f(1)).e=c.length-a,h.d=xE(EE(h),10,o),h.e=h.d.length),i=s=(d=xE(c,10,o)).length;0==d[--s];)d.pop();if(d[0]){if(a<0?i--:((e=new f(e)).d=d,e.e=i,d=(e=wE(e,h,n,r,0,o)).d,i=e.e,u=HS),a=d[n],l=o/2,u=u||void 0!==d[n+1],u=r<4?(void 0!==a||u)&&(0===r||r===(e.s<0?3:2)):a>l||a===l&&(4===r||u||6===r&&1&d[n-1]||r===(e.s<0?8:7)),d.length=n,u)for(;++d[--n]>o-1;)d[n]=0,n||(++i,d.unshift(1));for(s=d.length;!d[s-1];--s);for(a=0,c="";a<s;a++)c+=QS.charAt(d[a]);if(p){if(s>1)if(16==t||8==t){for(a=16==t?4:3,--s;s%a;s++)c+="0";for(s=(d=xE(c,o,t)).length;!d[s-1];--s);for(a=1,c="1.";a<s;a++)c+=QS.charAt(d[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)c="0"+c;c="0."+c}else if(++i>s)for(i-=s;i--;)c+="0";else i<s&&(c=c.slice(0,i)+"."+c.slice(i))}else c=p?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=DE(e);return e.s<0?"-"+c:c}function jE(e,t){if(e.length>t)return e.length=t,!0}function WE(e){return new this(e).abs()}function GE(e){return new this(e).acos()}function VE(e){return new this(e).acosh()}function UE(e,t){return new this(e).plus(t)}function ZE(e){return new this(e).asin()}function YE(e){return new this(e).asinh()}function XE(e){return new this(e).atan()}function qE(e){return new this(e).atanh()}function KE(e,t){e=new this(e),t=new this(t);var n,r=this.precision,o=this.rounding,i=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?LE(this,r,o):new this(0)).s=e.s:!e.d||t.isZero()?(n=LE(this,i,1).times(.5)).s=e.s:t.s<0?(this.precision=i,this.rounding=1,n=this.atan(wE(e,t,i,1)),t=LE(this,i,1),this.precision=r,this.rounding=o,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(wE(e,t,i,1)):(n=LE(this,i,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function QE(e){return new this(e).cbrt()}function JE(e){return SE(e=new this(e),e.e+1,2)}function eO(e,t,n){return new this(e).clamp(t,n)}function tO(e){if(!e||"object"!=typeof e)throw Error(rE+"Object expected");var t,n,r,o=!0===e.defaults,i=["precision",1,KS,"rounding",0,8,"toExpNeg",-qS,0,"toExpPos",0,qS,"maxE",0,qS,"minE",-qS,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(n=i[t],o&&(this[n]=tE[n]),void 0!==(r=e[n])){if(!(sE(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(oE+n+": "+r);this[n]=r}if(n="crypto",o&&(this[n]=tE[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(oE+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(aE);this[n]=!0}else this[n]=!1}return this}function nO(e){return new this(e).cos()}function rO(e){return new this(e).cosh()}function oO(e,t){return new this(e).div(t)}function iO(e){return new this(e).exp()}function aO(e){return SE(e=new this(e),e.e+1,3)}function lO(){var e,t,n=new this(0);for(nE=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return nE=!0,new this(1/0);n=t}return nE=!0,n.sqrt()}function sO(e){return e instanceof MO||e&&e.toStringTag===lE||!1}function uO(e){return new this(e).ln()}function cO(e,t){return new this(e).log(t)}function dO(e){return new this(e).log(2)}function hO(e){return new this(e).log(10)}function fO(){return AE(this,arguments,"lt")}function pO(){return AE(this,arguments,"gt")}function vO(e,t){return new this(e).mod(t)}function gO(e,t){return new this(e).mul(t)}function mO(e,t){return new this(e).pow(t)}function yO(e){var t,n,r,o,i=0,a=new this(1),l=[];if(void 0===e?e=this.precision:bE(e,1,KS),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));i<r;)(o=t[i])>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:l[i++]=o%1e7;else{if(!crypto.randomBytes)throw Error(aE);for(t=crypto.randomBytes(r*=4);i<r;)(o=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((127&t[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,i):(l.push(o%1e7),i+=4);i=r/4}else for(;i<r;)l[i++]=1e7*Math.random()|0;for(e%=7,(r=l[--i])&&e&&(o=uE(10,7-e),l[i]=(r/o|0)*o);0===l[i];i--)l.pop();if(i<0)n=0,l=[0];else{for(n=-1;0===l[0];n-=7)l.shift();for(r=1,o=l[0];o>=10;o/=10)r++;r<7&&(n-=7-r)}return a.e=n,a.d=l,a}function bO(e){return SE(e=new this(e),e.e+1,this.rounding)}function CO(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function xO(e){return new this(e).sin()}function wO(e){return new this(e).sinh()}function SO(e){return new this(e).sqrt()}function EO(e,t){return new this(e).sub(t)}function OO(){var e=0,t=arguments,n=new this(t[e]);for(nE=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return nE=!0,SE(n,this.precision,this.rounding)}function IO(e){return new this(e).tan()}function LO(e){return new this(e).tanh()}function _O(e){return SE(e=new this(e),e.e+1,1)}mE[Symbol.for("nodejs.util.inspect.custom")]=mE.toString,mE[Symbol.toStringTag]="Decimal";var TO,MO=mE.constructor=function e(t){var n,r,o;function i(e){var t,n,r,o=this;if(!(o instanceof i))return new i(e);if(o.constructor=i,sO(e))return o.s=e.s,void(nE?!e.d||e.e>i.maxE?(o.e=NaN,o.d=null):e.e<i.minE?(o.e=0,o.d=[0]):(o.e=e.e,o.d=e.d.slice()):(o.e=e.e,o.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return o.s=1/e<0?-1:1,o.e=0,void(o.d=[0]);if(e<0?(e=-e,o.s=-1):o.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(nE?t>i.maxE?(o.e=NaN,o.d=null):t<i.minE?(o.e=0,o.d=[0]):(o.e=t,o.d=[e]):(o.e=t,o.d=[e]))}return 0*e!=0?(e||(o.s=NaN),o.e=NaN,void(o.d=null)):kE(o,e.toString())}if("string"!==r)throw Error(oE+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),o.s=-1):(43===n&&(e=e.slice(1)),o.s=1),fE.test(e)?kE(o,e):PE(o,e)}if(i.prototype=mE,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=tO,i.clone=e,i.isDecimal=sO,i.abs=WE,i.acos=GE,i.acosh=VE,i.add=UE,i.asin=ZE,i.asinh=YE,i.atan=XE,i.atanh=qE,i.atan2=KE,i.cbrt=QE,i.ceil=JE,i.clamp=eO,i.cos=nO,i.cosh=rO,i.div=oO,i.exp=iO,i.floor=aO,i.hypot=lO,i.ln=uO,i.log=cO,i.log10=hO,i.log2=dO,i.max=fO,i.min=pO,i.mod=vO,i.mul=gO,i.pow=mO,i.random=yO,i.round=bO,i.sign=CO,i.sin=xO,i.sinh=wO,i.sqrt=SO,i.sub=EO,i.sum=OO,i.tan=IO,i.tanh=LO,i.trunc=_O,void 0===t&&(t={}),t&&!0!==t.defaults)for(o=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<o.length;)t.hasOwnProperty(r=o[n++])||(t[r]=this[r]);return i.config(t),i}(tE);JS=new MO(JS),eE=new MO(eE);var RO,AO=function(e){return"number"==typeof e?Number.isNaN(e):!e||("string"!=typeof e||Number.isNaN(Number(e)))},NO=function(e,t,n){return void 0===n&&(n=!1),(null==e?void 0:e.length)?e.reduce((function(e,r){var o=Xu(r,t),i=AO(o);if(n&&i)return e;var a=i?0:o;return e.push(new MO(a)),e}),[]):[]},BO=function(e,t){var n=NO(e,t);return n.length?MO.sum.apply(MO,Oa([],Ea(n),!1)).toNumber():0},DO=function(e,t,n){var r=NO(t,n,!0);if(null==r?void 0:r.length)return MO[e].apply(MO,Oa([],Ea(r),!1)).toNumber()},kO=((TO={})[KC.SUM]=BO,TO[KC.MIN]=function(e,t){return DO("min",e,t)},TO[KC.MAX]=function(e,t){return DO("max",e,t)},TO[KC.AVG]=function(e,t){var n=NO(e,t);return(null==n?void 0:n.length)?MO.sum.apply(MO,Oa([],Ea(n),!1)).dividedBy(n.length).toNumber():0},TO),PO=function(e){return xa({operator:{onClick:Pl,menus:[]},enterable:!0,enableFormat:!0},e)},zO=function(e){return xa(xa({},null==e?void 0:e.colQuery),null==e?void 0:e.rowQuery)},FO=function(e,t){var n;if(e){var r=t.style,o=t.className,i=void 0===o?[]:o,a=t.visible;if(r&&Object.assign(e.style,r),i.length){var l=i.filter(Boolean);(n=e.classList).add.apply(n,Oa([],Ea(l),!1))}e.classList.toggle(pC,a),e.classList.toggle(vC,!a)}},HO=function(e,t){var n,r=null===(n=null==e?void 0:e.dataSet)||void 0===n?void 0:n.getFieldFormatter(t);return function(e,t){return n=r(e,t),o=zv(n)&&Number.isNaN(n),i=""===n,$v(n)||o||i?"-":n;var n,o,i}},$O=function(e,t){var n,r=t.data,o=t.field,i=t.valueField,a=t.useCompleteDataForFormatter,l=void 0===a||a,s=null===(n=null==e?void 0:e.dataSet)||void 0===n?void 0:n.getFieldName(o),u=HO(e,o),c=Ka(r[o])?JSON.stringify(r[o]):r[o];return{name:s,value:u(i||c,l?r:void 0)}},jO=function(e,t,n){return Bp(wp(Rh([],t),(function(e){return e!==mi&&n[e]})),(function(t){return $O(e,{data:n,field:t,useCompleteDataForFormatter:!1})}))},WO=function(e,t,n){if(t){var r=n.isTotals,o=t[mi],i=t[o],a=[];if(r)a.push($O(e,{data:t,field:o,valueField:Xu(t,gi)}));else if(function(e){return Ka(e)&&"values"in e}(i)&&e.getTooltipDataItemMappingCallback()){var l=Ew(t,e.getTooltipDataItemMappingCallback());tp(l,(function(t,n){a.push($O(e,{data:l,field:n}))}))}else a.push($O(e,{data:t,field:o}));return a}},GO=function(e,t,n){void 0===n&&(n=!0);var r=[];return tp(t,(function(t,o){tp(e,(function(e){n||-1===e.colIndex?n&&-1!==e.rowIndex&&r.push([e.rowIndex,o]):r.push([o,e.colIndex])}))})),r},VO=function(e,t,n){var r,o=null===(r=e.facet)||void 0===r?void 0:r.layoutResult,i=function(e){var n=null==t?void 0:t.getMeta(),r=null==n?void 0:n.isTotals,i=(null==t?void 0:t.cellType)===ea.COL_CELL,a=(null==t?void 0:t.cellType)===ea.ROW_CELL;if(!i&&!a)return!1;var l=o.colNodes.find((function(t){return t.colIndex===e.colIndex})),s=o.rowNodes.find((function(t){return t.rowIndex===e.rowIndex})),u=i?null==s?void 0:s.isTotals:null==l?void 0:l.isTotals;return!r&&(null==e?void 0:e.isTotals)||r&&u};if(n){var a=function(e,t){var n,r=t.rowLeafNodes,o=t.colLeafNodes,i=e.interaction.getState(),a=i.nodes,l=void 0===a?[]:a,s=i.cells,u=void 0===s?[]:s,c=null===(n=null==u?void 0:u[0])||void 0===n?void 0:n.type;return c===ea.COL_CELL?GO(l,r,!1):c===ea.ROW_CELL?GO(l,o):[]}(e,o);return Mh(Bp(a,(function(e){var t=Ea(e,2),n=t[0],r=t[1],a=o.getCellMeta(n,r);if(!i(a))return(null==a?void 0:a.data)||zO(a)})))}return e.interaction.getCells().filter((function(e){var t=o.getCellMeta(e.rowIndex,e.colIndex);return!i(t)})).map((function(e){var t=o.getCellMeta(e.rowIndex,e.colIndex);return(null==t?void 0:t.data)||zO(t)}))},UO=function(e){var t=e.spreadsheet,n=e.targetCell,r=e.options,o=void 0===r?{}:r,i=[],a={};return t.isTableMode()&&(null==o?void 0:o.showSingleTips)?[{selectedData:t.dataSet.getMultiData({}),name:"",value:""}]:(tp(VO(t,n,o.showSingleTips),(function(e){var t;a[null==e?void 0:e[mi]]?null===(t=a[null==e?void 0:e[mi]])||void 0===t||t.push(e):a[null==e?void 0:e[mi]]=[e]})),ig(a,(function(e,n){var r,l=function(e,t,n){var r;if(n)return dC("总计");var o=null===(r=null==e?void 0:e.dataSet)||void 0===r?void 0:r.getFieldName(t);return o&&"undefined"!==o?o:""}(t,n,null==o?void 0:o.isTotals),s="",u="";if(bp(e,(function(e){return AO(Xu(e,gi))}))){var c=t.options.placeholder,d=Hx(a,c);s=d,u=d}else{var h=HO(t,n),f=BO(e,gi);u=f,s=null!==(r=null==h?void 0:h(f,e))&&void 0!==r?r:parseFloat(f.toPrecision(16))}i.push({selectedData:e,name:l,value:s,originValue:u})})),i)},ZO=function(e){var t=e.spreadsheet,n=e.cellInfos,r=void 0===n?[]:n,o=e.options,i=void 0===o?{}:o,a=e.targetCell,l=null,s=null,u=null,c=function(e){if(e){var t=e.getMeta();if(!t.isTotals){var n=Ip(t.spreadsheet.dataCfg.meta,{field:t.field||t.value||t.valueField}),r=null==n?void 0:n.field;return t.spreadsheet.dataSet.getFieldDescription(r)}}}(a),d=r[0]||{};if(null==i?void 0:i.hideSummary)if(i.showSingleTips){var h=HO(t,d.valueField)(d.value),f=i.enableFormat?t.dataSet.getFieldName(d.value)||h:t.dataSet.getFieldName(d.valueField);d.name=f||""}else s=function(e,t,n){var r,o,i,a,l=(n||{}).isTotals,s=[],u=[];if(t){var c=null===(o=null===(r=null==e?void 0:e.dataSet)||void 0===r?void 0:r.fields)||void 0===o?void 0:o.columns,d=null===(a=null===(i=null==e?void 0:e.dataSet)||void 0===i?void 0:i.fields)||void 0===a?void 0:a.rows;s=jO(e,WC(c||[]),t),u=jO(e,d,t)}return Bv(s)&&Bv(u)&&l&&(s=[{value:dC("总计")}]),{cols:s,rows:u}}(t,d,i),u=WO(t,d,i);else l=UO({spreadsheet:t,options:i,targetCell:a});var p=d||{};return{summaries:l,interpretation:p.interpretation,infos:p.infos,tips:p.tips,name:p.name,headInfo:s,details:u,description:c}},YO=function(e){if(!e.interaction.isSelectedState())return[];var t=e.dataCfg.fields.valueInCols;return e.interaction.getCells().reduce((function(n,r){var o=e.facet.layoutResult.getCellMeta(null==r?void 0:r.rowIndex,null==r?void 0:r.colIndex),i=zO(o);if(Bv(o)||Bv(i))return[];var a=xa(xa({},i),{colIndex:t?o.colIndex:null,rowIndex:t?null:o.rowIndex});return n.find((function(e){return Dv(a,e)}))||n.push(a),n}),[])},XO=function(e,t){var n;if(t&&e){var r=null===(n=e.getCellType)||void 0===n?void 0:n.call(e,null==t?void 0:t.target);return function(e,t){void 0===e&&(e={});var n=function(t){return US(e,t)},r=e.col,o=e.row,i=e.data,a=e.corner;return t===ea.COL_CELL?n(r):t===ea.ROW_CELL?n(o):t===ea.DATA_CELL?n(i):t===ea.CORNER_CELL?n(a):xa({},e)}(e.options.tooltip,r)}},qO=function(e,t){var n=t.defaultMenus,r=void 0===n?[]:n,o=t.cell,i=function(e){return void 0===e&&(e=[]),e.filter((function(e){var t;return ll(e.visible)?e.visible(o):null===(t=e.visible)||void 0===t||t})).map((function(e){return e.children&&(e.children=i(e.children)),e}))},a=i(e.menus);return{onClick:e.onClick,menus:Mh(Oa(Oa([],Ea(r),!1),Ea(a),!1))}},KO=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"".concat(Ui,"-").concat(e.join("-"))},QO=function(){function e(e){var t=this;this.getFieldMeta=Hu((function(e,n){return Ip(t.meta||n,(function(t){return t.field===e}))})),this.spreadsheet=e}return e.prototype.getFieldName=function(e){return Xu(this.getFieldMeta(e,this.meta),"name",e)},e.prototype.getFieldFormatter=function(e){return Xu(this.getFieldMeta(e,this.meta),"formatter",al)},e.prototype.getFieldDescription=function(e){return Xu(this.getFieldMeta(e,this.meta),"description")},e.prototype.setDataCfg=function(e){this.getFieldMeta.cache.clear();var t=this.processDataCfg(e),n=t.fields,r=t.meta,o=t.data,i=t.totalData,a=t.sortParams,l=t.filterParams;this.fields=n,this.meta=r,this.originData=o,this.totalData=i,this.sortParams=a,this.filterParams=l,this.displayData=this.originData,this.indexesData=[]},e.prototype.processMeta=function(e,t){var n,r;return void 0===e&&(e=[]),Oa(Oa([],Ea(e),!1),[tS(e,null===(r=null===(n=this.spreadsheet)||void 0===n?void 0:n.options)||void 0===r?void 0:r.cornerExtraFieldText,t)],!1)},e.prototype.getDisplayDataSet=function(){return this.displayData},e.prototype.getValueRangeByField=function(e){var t,n,r,o=(n=this.spreadsheet,r=e,n.store.get(Zi,Yi)[r]);if(o)return o;var i=Mh(Bp(this.originData,(function(t){var n=t[e];return $v(n)?null:Number.parseFloat(n)}))),a={maxValue:sg(i),minValue:yg(i)};return function(e,t){var n=e.store.get(Zi,Yi);e.store.set(Zi,xa(xa({},n),t))}(this.spreadsheet,((t={})[e]=a,t)),a},e.prototype.moreThanOneValue=function(){var e,t;return(null===(t=null===(e=this.fields)||void 0===e?void 0:e.values)||void 0===t?void 0:t.length)>1},e}(),JO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDimensionValuesSort=function(){tp(t.sortParams,(function(e){var n=e.sortFieldId,r=e.sortByMeasure;if(n){var o=Oa([],Ea(t.sortedDimensionValues[n]||[]),!1),i=hS({dataSet:t,sortParam:e,originValues:o,isSortByMeasure:!Bv(r)});t.sortedDimensionValues[n]=i}}))},t.getCustomData=function(e){for(var n,r=!1,o=t.indexesData,i=function(t){var i=e[t];r?o=Vv(i)?lx(o):null===(n=nv(o))||void 0===n?void 0:n.map((function(e){return e&&Xu(e,i)})):Vv(i)?r=!0:o=null==o?void 0:o[i]},a=0;a<e.length;a++)i(a);return o},t.getTotalStatus=function(e){var n=t.fields,r=n.columns,o=n.rows,i=function(t,n){if(n){var r=Ip(t,(function(t){return!qp(e,t)}));return r&&r!==Ap(t)}return bp(t,(function(t){return!qp(e,t)}))},a=function(e,t){return t?e.filter((function(e){return e!==mi})):e};return{isRowTotal:i(a(o,!t.spreadsheet.isValueInCols())),isRowSubTotal:i(o,!0),isColTotal:i(a(r,t.spreadsheet.isValueInCols())),isColSubTotal:i(r,!0)}},t}return Ca(t,e),t.prototype.setDataCfg=function(t){var n=this;e.prototype.setDataCfg.call(this,t),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map,this.totalData=[].concat(cx(t.data,t.fields)).concat(this.totalData),VC.getInstance().debugCallback("Transform Data",(function(){var e=n.fields,t=Jw({rows:e.rows,columns:e.columns,originData:n.originData,totalData:n.totalData,indexesData:n.indexesData,sortedDimensionValues:n.sortedDimensionValues,rowPivotMeta:n.rowPivotMeta,colPivotMeta:n.colPivotMeta}).indexesData;n.indexesData=t})),this.handleDimensionValuesSort()},t.prototype.transformDrillDownData=function(e,t,n){var r,o=this,i=this.fields,a=i.columns,l=i.values,s=Oa(Oa([],Ea(xC.getFieldPath(n,!0)),!1),[e],!1),u=this.spreadsheet.store,c=this.standardTransform(t,l),d=cx(c,{columns:this.fields.columns,rows:s}),h=Uf(c,d),f=null==n?void 0:n.id,p=null!==(r=u.get("drillDownIdPathMap"))&&void 0!==r?r:new Map;p.has(f)&&(tp(p.get(f),(function(e){lb(o.indexesData,e)})),eS(this.rowPivotMeta,f));var v=Jw({rows:s,columns:a,originData:h,totalData:d,indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),g=v.paths,m=v.indexesData,y=v.rowPivotMeta,b=v.colPivotMeta,C=v.sortedDimensionValues;this.indexesData=m,this.rowPivotMeta=y,this.colPivotMeta=b,this.sortedDimensionValues=C,p.set(f,g),u.set("drillDownIdPathMap",p)},t.prototype.clearDrillDownData=function(e){var t=this,n=this.spreadsheet.store,r=n.get("drillDownIdPathMap");if(r){var o=n.get("drillDownDataCache",[]);if(e){var i=r.get(e);i&&tp(i,(function(e){lb(t.indexesData,e)})),eS(this.rowPivotMeta,e),r.delete(e);var a=wp(o,(function(e){return r.has(null==e?void 0:e.rowId)}));n.set("drillDownDataCache",a);var l=a.map((function(e){return null==e?void 0:e.drillLevel})),s=n.get("drillDownFieldInLevel",[]).filter((function(e){return ov(l,null==e?void 0:e.drillLevel)}));n.set("drillDownFieldInLevel",s)}else{r.clear();var u=this.spreadsheet.store.get("originalDataCfg");Bv(u)||this.spreadsheet.setDataCfg(u),this.spreadsheet.store.set("drillItemsNum",-1),this.spreadsheet.store.set("drillDownDataCache",[]),this.spreadsheet.store.set("drillDownFieldInLevel",[])}n.set("drillDownIdPathMap",r)}},t.prototype.standardTransform=function(e,t){if(Bv(t))return e;var n=[];return tp(t,(function(t){tp(e,(function(e){var r;qp(e,t)&&n.push(xa(xa({},e),((r={})[mi]=t,r[gi]=e[t],r)))}))})),n},t.prototype.processDataCfg=function(e){var t=e.data,n=e.meta,r=void 0===n?[]:n,o=e.fields,i=e.sortParams,a=void 0===i?[]:i,l=e.totalData,s=o.columns,u=o.rows,c=o.values,d=o.valueInCols,h=o.customValueOrder,f=s,p=u;d?f=this.isCustomMeasuresPosition(h)?this.handleCustomMeasuresOrder(h,f):ob(Oa(Oa([],Ea(s),!1),[mi],!1)):p=this.isCustomMeasuresPosition(h)?this.handleCustomMeasuresOrder(h,p):ob(Oa(Oa([],Ea(u),!1),[mi],!1));var v=this.processMeta(r,dC("数值")),g=this.standardTransform(t,c),m=this.standardTransform(l,c);return{data:g,meta:v,fields:xa(xa({},o),{rows:p,columns:f,values:c}),totalData:m,sortParams:a}},t.prototype.getDimensionValues=function(e,t){var n,r,o,i,a=this.fields||{},l=a.rows,s=void 0===l?[]:l,u=a.columns,c=void 0===u?[]:u,d=new Map,h=[];if(ov(s,e)?(d=this.rowPivotMeta,h=s):ov(c,e)&&(d=this.colPivotMeta,h=c),!Bv(t)){var f=[],p=[],v=function(e){var n=Xu(t,e);p.push("".concat(n));var r=p.join("".concat(zi));if(d.has(n)&&!Vv(n)){var a=null===(o=d.get(n))||void 0===o?void 0:o.childField;if(d=d.get(n).children,Ip(g.sortParams,(function(e){return e.sortFieldId===a}))&&g.sortedDimensionValues[a]){var l=null===(i=g.sortedDimensionValues[a])||void 0===i?void 0:i.filter((function(e){return null==e?void 0:e.startsWith(r)}));f=qw(Oa([],Ea(l),!1))}else f=Oa([],Ea(d.keys()),!1)}},g=this;try{for(var m=Sa(h),y=m.next();!y.done;y=m.next()){v(y.value)}}catch(e){n={error:e}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}return Bv(f)?[]:ix(ox(Oa([],Ea(d.keys()),!1),f))}return this.sortedDimensionValues[e]?ix(qw(Oa([],Ea(this.sortedDimensionValues[e]),!1))):ix(Oa([],Ea(d.keys()),!1))},t.prototype.getTotalValue=function(e){var t,n,r=function(e,t){var n=e.isRowTotal,r=e.isRowSubTotal,o=e.isColTotal,i=e.isColSubTotal,a=t||{},l=a.row,s=a.col,u=l||{},c=u.calcTotals,d=void 0===c?{}:c,h=u.calcSubTotals,f=void 0===h?{}:h,p=s||{},v=p.calcTotals,g=void 0===v?{}:v,m=p.calcSubTotals,y=void 0===m?{}:m,b=function(e,t){if((e.aggregation||e.calcFunc)&&t)return{aggregation:e.aggregation,calcFunc:e.calcFunc}};return b(g,o)||b(y,i)||b(d,n)||b(f,r)}(this.getTotalStatus(e),null===(n=this.spreadsheet.options)||void 0===n?void 0:n.totals)||{},o=r.aggregation,i=r.calcFunc,a=kO[o];if(a||i){var l=this.getMultiData(e),s=void 0;return i?s=i(e,l):a&&(s=a(l,gi)),xa(xa({},e),((t={})[gi]=s,t[e[mi]]=s,t))}},t.prototype.getCellData=function(e){var t,n,r,o=e||{},i=o.query,a=o.rowNode,l=o.isTotals,s=void 0!==l&&l,u=this.fields,c=u.columns,d=u.rows,h=d,f=null===(t=this.spreadsheet)||void 0===t?void 0:t.store.get("drillDownIdPathMap"),p=Array.from(null!==(n=null==f?void 0:f.keys())&&void 0!==n?n:[]).some((function(e){return a.id.startsWith(e)}));s&&!p||(h=null!==(r=xC.getFieldPath(a,p))&&void 0!==r?r:d);var v=Kw({rowDimensionValues:Qw(h,i),colDimensionValues:Qw(c,i),careUndefined:s||ux([].concat(d).concat(c),i),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),g=Xu(this.indexesData,v);return g||(s?this.getTotalValue(i):g)},t.prototype.getMultiData=function(e,t,n,r){var o;if(Bv(e))return Mh(ax(this.indexesData));var i=this.fields,a=i.rows,l=i.columns,s=i.values,u=Qw(Bv(r)?a:a.concat(r),e),c=Qw(l,e),d=Kw({rowDimensionValues:u,colDimensionValues:c,careUndefined:!0,isFirstCreate:!0,rowFields:a,colFields:l,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),h=this.getCustomData(d),f=Mh(lx(h));if(t){var p=[],v=sx(u,a),g=sx(c,l);if(n)p=v;else if(1===(null===(o=pu(e))||void 0===o?void 0:o.length)&&qp(e,mi))p=g;else{var m=function(e){return null==(t=null==e?void 0:e.filter((function(e){return!(null==s?void 0:s.includes(e))})))?void 0:t.every((function(e){return Vv(e)}));var t},y=m(c),b=m(u);p=y?v:b?g:Oa(Oa([],Ea(v),!1),Ea(g),!1)}f=f.filter((function(e){return!(null==p?void 0:p.find((function(t){var n;return t!==mi&&(null===(n=pu(e))||void 0===n?void 0:n.includes(t))})))}))}return f||[]},t.prototype.getFieldFormatter=function(t,n){return t===bi?this.getFieldFormatterForTotalValue(n):e.prototype.getFieldFormatter.call(this,t)},t.prototype.getFieldFormatterForTotalValue=function(t){var n;return!this.spreadsheet.isValueInCols()&&t&&(n=Xu(t.rowQuery,mi)),n=null!=n?n:Xu(this.fields.values,0),e.prototype.getFieldFormatter.call(this,n)},t.prototype.handleCustomMeasuresOrder=function(e,t){var n=ob(Oa([],Ea(t),!1));return t.length>=e?(n.splice(e,0,mi),n):Oa(Oa([],Ea(n),!1),[mi],!1)},t.prototype.isCustomMeasuresPosition=function(e){return zv(e)},t.prototype.getRowData=function(e){return this.getMultiData(e.rowQuery)},t}(QO),eI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDimensionValueFilter=function(){tp(t.filterParams,(function(e){var n=e.filterKey,r=e.filteredValues,o=e.customFilter,i=new Set(r),a=function(e){return!i.has(e[n])};t.displayData=Oa(Oa(Oa([],Ea(t.getStartRows()),!1),Ea(wp(t.getMovableRows(),(function(e){return o?o(e)&&a(e):a(e)}))),!1),Ea(t.getEndRows()),!1)}))},t.handleDimensionValuesSort=function(){tp(t.sortParams,(function(e){var n=e.sortFieldId,r=e.sortBy,o=e.sortFunc,i=e.sortMethod,a=e.query;if(n){var l=t.getMovableRows(),s=[];if(a){var u=[];l.forEach((function(e){for(var t=Object.keys(a),n=!0,r=0;r<t.length;r++){var o=t[r];if(e[o]!==a[o]){n=!1,s.push(e);break}}n&&u.push(e)})),l=u}var c=l;if(o)c=o(xa(xa({},e),{data:l}));else if(r&&!ll(r)){var d=Oa([],Ea(r),!1).reverse();c=l.sort((function(e,t){var r=d.indexOf(e[n]);return d.indexOf(t[n])-r}))}else if(nS(i)||rS(i)){c=Bg(l,[(ll(r)?r:null)||n],[i.toLocaleLowerCase()])}s.length&&(c=Oa(Oa([],Ea(c),!1),Ea(s),!1)),t.displayData=Oa(Oa(Oa([],Ea(t.getStartRows()),!1),Ea(c),!1),Ea(t.getEndRows()),!1)}}))},t}return Ca(t,e),t.prototype.processDataCfg=function(e){return e},t.prototype.setDataCfg=function(t){e.prototype.setDataCfg.call(this,t),this.handleDimensionValueFilter(),this.handleDimensionValuesSort()},t.prototype.getStartRows=function(){var e=(this.spreadsheet.options||{}).frozenRowCount;return e?this.displayData.slice(0,e):[]},t.prototype.getEndRows=function(){var e=(this.spreadsheet.options||{}).frozenTrailingRowCount;return e?this.displayData.slice(-e):[]},t.prototype.getMovableRows=function(){var e=this.displayData,t=this.spreadsheet.options||{},n=t.frozenTrailingRowCount,r=t.frozenRowCount;return e.slice(r||0,-n||void 0)},t.prototype.getDimensionValues=function(e,t){return[]},t.prototype.getCellData=function(e){var t=e.query;if(0!==this.displayData.length||0!==t.rowIndex){var n=this.displayData[t.rowIndex];return"col"in t&&Ka(n)?n[t.col]:n}},t.prototype.getMultiData=function(e,t){return this.displayData},t.prototype.getRowData=function(e){return this.getCellData({query:{rowIndex:e.rowIndex}})},t}(QO),tI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.getCellData=function(e){var t=e.query,n=this.fields,r=n.columns,o=n.rows,i=Kw({rowDimensionValues:Qw(o,t),colDimensionValues:Qw(r,t),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,isFirstCreate:!0,careUndefined:!0,rowFields:o,colFields:r});return Xu(this.indexesData,i)},t.prototype.setDataCfg=function(t){e.prototype.setDataCfg.call(this,t),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map;var n=this.fields,r=Jw({rows:n.rows,columns:n.columns,originData:this.originData,totalData:[],indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}).indexesData;this.indexesData=r,this.handleDimensionValuesSort()},t.prototype.processDataCfg=function(e){e.fields.valueInCols=!1;var t=e.data,n=e.meta,r=wa(e,["data","meta"]),o=e.fields.values,i=[];tp(t,(function(e){Bv(cv(pu(e),o))?i.push(e):tp(o,(function(t){var n;qp(e,t)&&i.push(xa(xa({},e),((n={})[mi]=t,n[gi]=e[t],n)))}))}));var a=this.processMeta(n,dC("指标"));return xa(xa({},r),{meta:a,data:ob(i),fields:xa(xa({},e.fields),{rows:[mi]})})},t}(JO);!function(e){e.ScrollChange="scroll-change",e.ScrollEnd="scroll-end"}(RO||(RO={}));var nI=function(e){function t(t){var n=e.call(this,t)||this;n.isMobile=!1,n.eventHandlers=[],n.scrollFrameId=null,n.getCoordinatesName=function(){return{from:n.isHorizontal?"x1":"y1",to:n.isHorizontal?"x2":"y2"}},n.getCoordinatesWithBBoxExtraPadding=function(){var e=n.theme.size,t=n.isHorizontal?0:e/2,r=n.isHorizontal?e:e/2;return{start:n.thumbOffset+t,end:n.thumbOffset+n.thumbLen-r}},n.current=function(){var e=n.thumbLen/n.trackLen;return n.thumbOffset/n.trackLen/(1-e)},n.updateThumbLen=function(e){if(n.thumbLen!==e){n.thumbLen=e;var t=n.getCoordinatesName();n.thumbShape.attr(t.to,n.thumbOffset+e),n.emitScrollChange(n.thumbOffset/(n.trackLen-n.thumbLen)*n.scrollTargetMaxOffset,!1)}},n.updateThumbOffset=function(e,t){var r;void 0===t&&(t=!0);var o=n.validateRange(e);if(!(n.thumbOffset===o&&0!==o)){n.thumbOffset=o;var i=n.getCoordinatesName(),a=i.from,l=i.to,s=n.getCoordinatesWithBBoxExtraPadding(),u=s.start,c=s.end;n.thumbShape.attr(((r={})[a]=u,r[l]=c,r)),t&&n.emitScrollChange(o/(n.trackLen-n.thumbLen)*n.scrollTargetMaxOffset,!1)}},n.onlyUpdateThumbOffset=function(e){var t;n.updateThumbOffset(e,!1),null===(t=n.get("canvas"))||void 0===t||t.draw()},n.emitScrollChange=function(e,t){void 0===t&&(t=!0),cancelAnimationFrame(n.scrollFrameId),n.scrollFrameId=requestAnimationFrame((function(){n.emit(RO.ScrollChange,{offset:e,updateThumbOffset:t})}))},n.addEventListener=function(e,t,n){return null==e||e.addEventListener(t,n,!1),{remove:function(){null==e||e.removeEventListener(t,n,!1)}}},n.addEvent=function(e,t,r){e.on(t,r),n.eventHandlers.push({target:e,type:t,handler:r})},n.initScrollBar=function(){n.scrollBarGroup=n.createScrollBarGroup(),n.scrollBarGroup.move(n.position.x,n.position.y),n.bindEvents()},n.createScrollBarGroup=function(){var e=n.addGroup({className:n.isHorizontal?"horizontalBar":"verticalBar"});return n.trackShape=n.createTrackShape(e),n.thumbShape=n.createThumbShape(e),e},n.createTrackShape=function(e){var t=n.theme,r=t.lineCap,o=void 0===r?"round":r,i=t.trackColor,a=t.size,l={lineWidth:a,stroke:i,lineCap:o};return n.isHorizontal?e.addShape("line",{attrs:xa(xa({},l),{x1:0,y1:a/2,x2:n.trackLen,y2:a/2})}):e.addShape("line",{attrs:xa(xa({},l),{x1:a/2,y1:0,x2:a/2,y2:n.trackLen})})},n.createThumbShape=function(e){var t=n.theme,r=t.size,o=t.lineCap,i=void 0===o?"round":o,a={lineWidth:r,stroke:t.thumbColor,lineCap:i,cursor:"default"},l=n.getCoordinatesWithBBoxExtraPadding(),s=l.start,u=l.end;return n.isHorizontal?e.addShape("line",{attrs:xa(xa({},a),{x1:s,y1:r/2,x2:u,y2:r/2})}):e.addShape("line",{attrs:xa(xa({},a),{x1:r/2,y1:s,x2:r/2,y2:u})})},n.bindEvents=function(){n.on("mousedown",n.onStartEvent(!1)),n.on("mouseup",n.onMouseUp),n.on("touchstart",n.onStartEvent(!0)),n.on("touchend",n.onMouseUp),n.trackShape.on("click",n.onTrackClick),n.thumbShape.on("mouseover",n.onTrackMouseOver),n.thumbShape.on("mouseout",n.onTrackMouseOut)},n.onStartEvent=function(e){return function(t){t.preventDefault(),n.isMobile=e;var r=n.isMobile?Xu(t,"touches.0",t):t,o=r.clientX,i=r.clientY;n.startPos=n.isHorizontal?o:i,n.bindLaterEvent()}},n.bindLaterEvent=function(){var e=n.get("canvas"),t=document.body,r=[];n.isMobile?(r=[n.addEventListener(t,"touchmove",n.onMouseMove),n.addEventListener(t,"touchend",n.onMouseUp),n.addEventListener(t,"touchcancel",n.onMouseUp)],n.addEvent(e,"touchend",n.onMouseUp),n.addEvent(e,"touchcancel",n.onMouseUp)):(r=[n.addEventListener(t,"mousemove",n.onMouseMove),n.addEventListener(t,"mouseup",n.onMouseUp),n.addEventListener(t,"mouseleave",n.onMouseUp)],n.addEvent(e,"mouseup",n.onMouseUp)),n.clearEvents=function(){r.forEach((function(e){null==e||e.remove()})),tp(n.eventHandlers,(function(e){var t;null===(t=e.target)||void 0===t||t.off(e.type,e.handler)})),n.eventHandlers.length=0}},n.onTrackClick=function(e){var t=n.isHorizontal?e.x-n.position.x-n.thumbLen/2:e.y-n.position.y-n.thumbLen/2,r=n.validateRange(t);n.updateThumbOffset(r)},n.onMouseMove=function(e){e.preventDefault();var t=n.isMobile?Xu(e,"touches.0",e):e,r=t.clientX,o=t.clientY,i=n.isHorizontal?r:o,a=i-n.startPos;n.startPos=i,n.updateThumbOffset(n.thumbOffset+a)},n.onMouseUp=function(e){var t;n.emit(RO.ScrollEnd,{}),e.preventDefault(),null===(t=n.clearEvents)||void 0===t||t.call(n)},n.onTrackMouseOver=function(){var e=n.theme,t=e.thumbHoverColor,r=e.hoverSize;n.thumbShape.attr("stroke",t),n.thumbShape.attr("lineWidth",r)},n.onTrackMouseOut=function(){var e=n.theme,t=e.thumbColor,r=e.size;n.thumbShape.attr("stroke",t),n.thumbShape.attr("lineWidth",r)},n.validateRange=function(e){var t=e;return e+n.thumbLen>n.trackLen?t=n.trackLen-n.thumbLen:e+n.thumbLen<n.thumbLen&&(t=0),t};var r=t.isHorizontal,o=void 0!==r&&r,i=t.trackLen,a=t.thumbLen,l=t.position,s=t.thumbOffset,u=void 0===s?0:s,c=t.theme,d=t.scrollTargetMaxOffset;return n.isHorizontal=o,n.thumbOffset=u,n.trackLen=i,n.thumbLen=a,n.position=l,n.theme=c,n.scrollTargetMaxOffset=d,n.initScrollBar(),n}return Ca(t,e),t}(Io),rI=function(e,t,n){return e.filter((function(e){return e.level>=t})).map((function(e){return e[n]})).reduce((function(e,t){return e+t}),0)},oI=function(e,t,n){if(n<=0)return{start:0,end:0};var r=Op(e,(function(n,r){return t>=n&&t<e[r+1]}),0);r=Math.max(r,0);var o=n===t?r:Op(e,(function(t,r){return n>t&&n<=e[r+1]}),r);return{start:r,end:o=Math.min(-1===o?1/0:o,e.length-2)}},iI=function(e,t){var n=t.width,r=t.originalWidth,o=Math.min(r-n,e);return o<0?0:o},aI=function(e,t,n){var r=Math.min(t-n,e);return r<0?0:r},lI=function(e,t){if(void 0===e&&(e=[]),Bv(e))return[];var n=[];return e.forEach((function(e){(e instanceof t&&n.push(e),e instanceof Io)&&e.getChildren().forEach((function(e){e instanceof t&&n.push(e)}))})),n},sI=function(e,t,n){return n.slice(e,t+1).map((function(e){return e.x+e.width}))},uI=function(e,t,n){for(var r=[],o=e;o<t+1;o++)r.push(n.getCellOffsetY(o+1));return r},cI=function(e,t,n){var r=Ea(n,4),o=r[0],i=r[1],a=r[2],l=r[3];return e>=o&&e<=i&&t>=a&&t<=l},dI=function(e){for(var t=Ea(e,4),n=t[0],r=t[1],o=t[2],i=t[3],a=[],l=n;l<=r;l+=1)for(var s=o;s<=i;s+=1)a.push([l,s]);return a},hI=function(e,t){var n=[],r=[];return Object.keys(t).forEach((function(o){var i=function(e,t){var n=[],r=[];if(Bv(e))return Bv(t)?{add:n,remove:r}:{add:dI(t),remove:r};if(Bv(t))return{add:n,remove:dI(e)};for(var o=Ea(e,4),i=o[0],a=o[1],l=o[2],s=o[3],u=Ea(t,4),c=u[0],d=u[1],h=u[2],f=u[3],p=i;p<=a;p++)for(var v=l;v<=s;v++)cI(p,v,t)||r.push([p,v]);for(p=c;p<=d;p+=1)for(v=h;v<=f;v+=1)cI(p,v,e)||n.push([p,v]);return{add:n,remove:r}}((null==e?void 0:e[o])||[],t[o]),a=i.add,l=i.remove;n.push.apply(n,Oa([],Ea(a),!1)),r.push.apply(r,Oa([],Ea(l),!1))})),{add:n,remove:r}},fI=function(e,t){void 0===t&&(t=!1),this.x=0,this.y=0,this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.originalWidth=0,this.originalHeight=0,this.viewportHeight=0,this.viewportWidth=0,this.facet=e,this.spreadsheet=e.spreadsheet,this.layoutResult=e.layoutResult,t&&this.calculateBBox()},pI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.calculateBBox=function(){var e=this.getCornerBBoxWidth(),t=this.getCornerBBoxHeight();this.width=e,this.height=t,this.maxX=e,this.maxY=t},t.prototype.getCornerBBoxOriginalHeight=function(){var e=this.layoutResult.colsHierarchy,t=this.spreadsheet.options.style.colCfg;return e.sampleNodeForLastLevel?Math.floor(e.height):null==t?void 0:t.height},t.prototype.getCornerBBoxHeight=function(){return this.originalHeight=this.getCornerBBoxOriginalHeight(),this.originalHeight},t.prototype.getCornerBBoxWidth=function(){var e=this.layoutResult.rowsHierarchy;return this.originalWidth=Math.floor(e.width+this.facet.getSeriesNumberWidth()),this.spreadsheet.isScrollContainsRowHeader()?this.originalWidth:this.adjustCornerBBoxWidth()},t.prototype.adjustCornerBBoxWidth=function(){var e=this.layoutResult.colsHierarchy,t=this.spreadsheet.options.width,n=.5*t,r=null==e?void 0:e.width,o=t-this.originalWidth;if(this.originalWidth<=n||r<=o)return this.originalWidth;var i=0;return i=r<=t-n?this.originalWidth-(r-o):n,Math.floor(i)},t}(fI),vI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.calculateBBox=function(){this.originalWidth=this.facet.getRealWidth(),this.originalHeight=this.facet.getRealHeight();var e=this.facet.cornerBBox,t={x:Math.floor(e.maxX),y:Math.floor(e.maxY)},n=this.spreadsheet.theme.scrollBar.size,r=this.spreadsheet.options,o=r.width,i=r.height,a=Math.max(0,o-t.x),l=Math.max(0,i-t.y-n);this.x=t.x,this.y=t.y,this.width=a,this.height=l,this.viewportHeight=Math.abs(Math.floor(Math.min(l,this.originalHeight))),this.viewportWidth=Math.abs(Math.floor(Math.min(a,this.originalWidth))),this.maxX=t.x+this.viewportWidth,this.maxY=t.y+this.viewportHeight,this.minX=t.x,this.minY=t.y;var s=this.spreadsheet.options,u=s.frozenTrailingColCount,c=s.frozenTrailingRowCount;u>0&&(this.viewportWidth=this.width,this.maxX=t.x+this.width),c>0&&(this.viewportHeight=this.height,this.maxY=t.y+this.height)},t}(fI),gI=function(e){function t(t){var n=e.call(this,t)||this;return n.isHeaderCellInViewport=function(e,t,n,r){return e+t>=n&&n+r>=e},n.headerConfig=t,n}return Ca(t,e),t.prototype.getConfig=function(){return this.headerConfig},t.prototype.clearResizeAreaGroup=function(e){var t=this.get("parent"),n=null==t?void 0:t.findById(e);null==n||n.clear()},t.prototype.render=function(e){this.clearResizeAreaGroup(e),this.clear(),this.layout(),this.offset(),this.clip()},t.prototype.onScrollXY=function(e,t,n){this.headerConfig.scrollX=e,this.headerConfig.scrollY=t,this.render(n)},t.prototype.onRowScrollX=function(e,t){this.headerConfig.scrollX=e,this.render(t)},t.prototype.clear=function(){e.prototype.clear.call(this)},t}(Io),mI=function(e){function t(t){var n=e.call(this,t)||this;return n.scrollGroup=n.addGroup({name:"colScrollGroup",zIndex:3}),n}return Ca(t,e),t.prototype.onColScroll=function(e,t){this.headerConfig.scrollX!==e&&(this.headerConfig.scrollX=e,this.render(t))},t.prototype.clip=function(){var e=this.headerConfig,t=e.width,n=e.height,r=e.scrollX,o=e.spreadsheet.isFrozenRowHeader();this.scrollGroup.setClip({type:"rect",attrs:{x:o?r:0,y:0,width:o?t:t+r,height:n}})},t.prototype.clear=function(){var e,t;null===(e=this.scrollGroup)||void 0===e||e.clear(),null===(t=this.background)||void 0===t||t.remove(!0)},t.prototype.getCellInstance=function(e,t,n){return new vS(e,t,n)},t.prototype.getCellGroup=function(e){return this.scrollGroup},t.prototype.isColCellInRect=function(e){var t=this.headerConfig,n=t.spreadsheet,r=t.cornerWidth,o=t.width,i=t.scrollX;return o+i>e.x&&i-(n.isFrozenRowHeader()?0:r)<e.x+e.width},t.prototype.layout=function(){var e=this,t=this.headerConfig,n=t.data,r=t.spreadsheet,o=r.options.colCell;tp(n,(function(t){var n=t;if(e.isColCellInRect(n)){var i=(null==o?void 0:o(n,r,e.headerConfig))||e.getCellInstance(n,r,e.headerConfig);n.belongsCell=i,e.getCellGroup(n).add(i)}}))},t.prototype.offset=function(){var e=this.headerConfig,t=e.position,n=e.scrollX;FC(this.scrollGroup,t.x-n)},t}(gI),yI=function(e){function t(t){return e.call(this,t)||this}return Ca(t,e),t.getCornerHeader=function(e,n,r,o,i,a){var l=e.width,s=e.height,u=n.originalWidth,c=n.originalHeight,d=n.width,h=n.height;return new t({data:this.getCornerNodes({x:n.x,y:n.y},u,c,o.rows,o.columns,i.rowsHierarchy,i.colsHierarchy,o.dataSet,r,a),position:{x:n.x,y:n.y},width:d,height:h,originalHeight:c,originalWidth:u,viewportWidth:l,viewportHeight:s,hierarchyType:o.hierarchyType,hierarchyCollapse:o.hierarchyCollapse,rows:o.rows,columns:o.columns,seriesNumberWidth:r,spreadsheet:a})},t.getCornerNodes=function(e,t,n,r,o,i,a,l,s,u){var c,d,h,f=[],p=u.options.style.colCfg,v=null==a?void 0:a.sampleNodeForLastLevel,g=null!==(c=null==v?void 0:v.y)&&void 0!==c?c:0,m=null!==(h=null!==(d=null==v?void 0:v.height)&&void 0!==d?d:null==p?void 0:p.height)&&void 0!==h?h:0;if(s){var y=new xC({id:"",key:"series-number-node",value:dC("序号")});y.x=null==e?void 0:e.x,y.y=g,y.width=s,y.height=m,y.isPivotMode=!0,y.spreadsheet=u,y.cornerType=QC.Series,f.push(y)}if(u.isHierarchyTreeType()){var b=this.getTreeCornerText(u),C=new xC({key:"",id:b,value:b});C.x=e.x+s,C.y=g,C.width=t-s,C.height=m,C.seriesNumberWidth=s,C.isPivotMode=!0,C.spreadsheet=u,C.cornerType=QC.Row,f.push(C)}else i.sampleNodesForAllLevels.forEach((function(e){var t=r[e.level],n=new xC({key:t,id:t,value:l.getFieldName(t)});n.x=e.x+s,n.y=g,n.width=e.width,n.height=m,n.field=t,n.isPivotMode=!0,n.cornerType=QC.Row,n.spreadsheet=u,f.push(n)}));return a.sampleNodesForAllLevels.forEach((function(n){if(n.level<a.maxLevel){var r=o[n.level],i=new xC({key:r,id:r,value:l.getFieldName(r)});i.x=e.x,i.y=n.y,i.width=t,i.height=n.height,i.field=r,i.isPivotMode=!0,i.cornerType=QC.Col,i.spreadsheet=u,f.push(i)}})),f},t.getTreeCornerText=function(e){var t=e.dataSet.fields.rows,n=void 0===t?[]:t,r=e.options.cornerText;if(r)return r;var o=e.store.get("drillDownFieldInLevel",[]).map((function(e){return e.drillField}));return n.filter((function(e){return!ov(o,e)})).map((function(t){return e.dataSet.getFieldName(t)})).join("/")},t.prototype.onCorScroll=function(e,t){this.headerConfig.scrollX=e,this.render(t)},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.layout=function(){this.renderCells()},t.prototype.renderCells=function(){var e,t,n,r,o=this,i=this.headerConfig,a=i.data,l=i.spreadsheet,s=null===(t=null===(e=null==l?void 0:l.facet)||void 0===e?void 0:e.cfg)||void 0===t?void 0:t.cornerHeader,u=null===(r=null===(n=null==l?void 0:l.facet)||void 0===n?void 0:n.cfg)||void 0===r?void 0:r.cornerCell;s?s(this,l,this.headerConfig):a.forEach((function(e){var t;u&&(t=u(e,o.headerConfig.spreadsheet,o.headerConfig)),Bv(t)&&(t=new gS(e,o.headerConfig.spreadsheet,o.headerConfig)),o.add(t)}))},t.prototype.offset=function(){var e=this.headerConfig.scrollX;FC(this,-e)},t.prototype.clip=function(){var e=this.headerConfig,t=e.width,n=e.height,r=e.scrollX;this.setClip({type:"rect",attrs:{x:r,y:0,width:t,height:n}})},t.prototype.getNodes=function(){return this.headerConfig.data||[]},t}(gI),bI=function(e){function t(t){var n=e.call(this,t)||this;return n.render(),n}return Ca(t,e),t.prototype.layout=function(){this.addCornerBottomBorder(),this.addCornerRightBorder(),this.addSplitLineShadow()},t.prototype.render=function(){this.clear(),this.layout()},t.prototype.onBorderScroll=function(e){this.cfg.scrollX=e;var t=this.cfg.position;zC(this,t.x-e,0),this.render()},t.prototype.onChangeShadowVisibility=function(e,t){this.cfg.showViewportLeftShadow=e>0,this.cfg.showViewportRightShadow=Math.floor(e)<Math.floor(t),this.render()},t.prototype.addCornerRightBorder=function(){var e,t=this.cfg;if(t.isPivotMode){var n=t.width,r=t.height,o=t.viewportHeight,i=t.position,a=null===(e=t.spreadsheet.theme)||void 0===e?void 0:e.splitLine,l=i.x+n,s=i.y,u=i.y+r+o;this.addShape("line",{attrs:{x1:l,y1:s,x2:l,y2:u,stroke:a.verticalBorderColor,lineWidth:a.verticalBorderWidth,opacity:a.verticalBorderColorOpacity}})}},t.prototype.addCornerBottomBorder=function(){var e,t=this.cfg,n=t.width,r=t.height,o=t.viewportWidth,i=t.position,a=t.scrollX,l=t.scrollContainsRowHeader,s=null===(e=t.spreadsheet.theme)||void 0===e?void 0:e.splitLine,u=i.x,c=u+n+o+(l?a:0),d=i.y+r-1;this.addShape("line",{attrs:{x1:u,y1:d,x2:c,y2:d,stroke:s.horizontalBorderColor,lineWidth:s.horizontalBorderWidth,opacity:s.horizontalBorderColorOpacity}})},t.prototype.addSplitLineShadow=function(){var e,t=this.cfg,n=t.isPivotMode,r=t.spreadsheet,o=null===(e=r.theme)||void 0===e?void 0:e.splitLine;n&&o.showShadow&&r.isFrozenRowHeader()&&(this.addSplitLineLeftShadow(),this.addSplitLineRightShadow())},t.prototype.addSplitLineLeftShadow=function(){var e,t,n;if(this.cfg.showViewportLeftShadow){var r=this.cfg,o=r.width,i=r.height,a=r.viewportHeight,l=r.position,s=null===(e=r.spreadsheet.theme)||void 0===e?void 0:e.splitLine,u=l.x+o,c=l.y;this.addShape("rect",{attrs:{x:u,y:c,width:s.shadowWidth,height:a+i,fill:"l (0) 0:".concat(null===(t=s.shadowColors)||void 0===t?void 0:t.left," 1:").concat(null===(n=s.shadowColors)||void 0===n?void 0:n.right)}})}},t.prototype.addSplitLineRightShadow=function(){var e,t,n;if(this.cfg.showViewportRightShadow){var r=this.cfg,o=r.width,i=r.height,a=r.viewportHeight,l=r.viewportWidth,s=r.position,u=null===(e=r.spreadsheet.theme)||void 0===e?void 0:e.splitLine,c=s.x+o+l-u.shadowWidth,d=s.y;this.addShape("rect",{attrs:{x:c,y:d,width:u.shadowWidth,height:a+i,fill:"l (0) 0:".concat(null===(t=u.shadowColors)||void 0===t?void 0:t.right," 1:").concat(null===(n=u.shadowColors)||void 0===n?void 0:n.left)}})}},t}(Io),CI=function(e){function t(t){return e.call(this,t)||this}return Ca(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gm&&this.gm.destroy()},t.prototype.layout=function(){var e,t,n=this,r=this.headerConfig,o=r.data,i=r.spreadsheet,a=r.width,l=r.viewportHeight,s=r.seriesNumberWidth,u=r.scrollY,c=r.scrollX,d=null===(t=null===(e=null==i?void 0:i.facet)||void 0===e?void 0:e.cfg)||void 0===t?void 0:t.rowCell;tp(o,(function(e){if(function(e){return l+u>e.y&&u<e.y+e.height&&a-s+c>e.x&&c-s<e.x+e.width}(e)&&0!==e.height){var t=void 0;d&&(t=d(e,i,n.headerConfig)),Bv(t)&&i.isPivotMode()&&(t=new TS(e,i,n.headerConfig)),e.belongsCell=t,n.add(t)}}))},t.prototype.offset=function(){var e=this.headerConfig,t=e.scrollX,n=e.scrollY,r=e.position,o=e.seriesNumberWidth;zC(this,r.x-t+o,r.y-n)},t.prototype.clip=function(){var e=this.headerConfig,t=e.width,n=e.viewportHeight,r=e.scrollX,o=e.scrollY,i=e.seriesNumberWidth;this.setClip({type:"rect",attrs:{x:r-i,y:o,width:t,height:n}})},t}(gI),xI=function(e){function t(t){return e.call(this,t)||this}return Ca(t,e),t.getSeriesNumberHeader=function(e,n,r,o,i){var a=e.height,l=e.viewportHeight,s=[],u=o.isHierarchyTreeType();return r.forEach((function(e){if(!e.isTotals||u){var t=new xC({id:"",key:"",value:"".concat(s.length+1)});t.x=e.x,t.y=e.y,t.height=e.height,t.width=n,s.push(t)}})),new t({width:i,height:a,viewportWidth:i,viewportHeight:l,position:{x:0,y:e.y},data:s,spreadsheet:o})},t.prototype.clip=function(){var e=this.headerConfig,t=e.width,n=e.viewportHeight,r=e.scrollY;this.setClip({type:"rect",attrs:{x:0,y:r,width:t,height:n}})},t.prototype.layout=function(){var e=this,t=this.headerConfig,n=t.data,r=t.scrollY,o=t.viewportHeight;t.spreadsheet.isPivotMode&&this.addBackGround();var i=this.addGroup();tp(n,(function(t){var n=t.y,a=t.height,l=t.isLeaf;if(e.isHeaderCellInViewport(n,a,r,o)){var s=e.addGroup();e.addText(s,t),e.add(s),l||e.addBorder(i,t)}}))},t.prototype.offset=function(){var e=this.headerConfig,t=e.scrollY,n=e.scrollX,r=e.position;zC(this,r.x-n,r.y-t),this.backgroundShape&&this.backgroundShape.translate(r.x,r.y+t),this.leftBorderShape&&this.leftBorderShape.translate(r.x,r.y+t)},t.prototype.addBackGround=function(){var e=this.getStyle().cell,t=this.headerConfig,n=t.position,r=t.width,o=t.viewportHeight;this.backgroundShape=fx(this,{x:n.x,y:-n.y,width:r,height:o,fill:e.backgroundColor,stroke:"transparent",opacity:e.backgroundColorOpacity});var i=Nx(qC.LEFT,{x:n.x,y:-n.y,width:r,height:o},e),a=i.position,l=i.style;this.leftBorderShape=gx(this,a,l)},t.prototype.addBorder=function(e,t){var n=this.getStyle().cell,r=Nx(qC.BOTTOM,t,n);gx(e,r.position,r.style)},t.prototype.getStyle=function(){return this.headerConfig.spreadsheet.theme.rowCell},t.prototype.addText=function(e,t){var n=this.headerConfig,r=n.scrollY,o=n.viewportHeight,i=xa(xa({},this.getStyle().seriesText),{textBaseline:"top"}),a=t.label,l=t.x,s=t.y,u=t.width,c=t.height,d=this.getTextPadding(a,u),h=_S(s+d.top,c-d.top-d.bottom,r,o,i.fontSize);e.addShape("text",{attrs:xa(xa({x:l+d.left,y:h,text:a},i),{cursor:"pointer"})})},t.prototype.getTextPadding=function(e,t){var n=this.getStyle(),r=this.headerConfig.spreadsheet.measureTextWidth(e,n.seriesText),o=Math.max(Math.abs((t-r)/2),4);return xa(xa({},n.cell.padding),{left:o,right:o})},t}(gI),wI=function(){function e(e){var t=this;this.scrollFrameId=null,this.hideScrollBar=function(){var e,n,r;null===(e=t.hRowScrollBar)||void 0===e||e.hide(),null===(n=t.hScrollBar)||void 0===n||n.hide(),null===(r=t.vScrollBar)||void 0===r||r.hide()},this.delayHideScrollBar=Ef(this.hideScrollBar,1e3),this.delayHideScrollbarOnMobile=function(){yC()&&t.delayHideScrollBar()},this.showVerticalScrollBar=function(){var e;null===(e=t.vScrollBar)||void 0===e||e.show()},this.showHorizontalScrollBar=function(){var e,n;null===(e=t.hRowScrollBar)||void 0===e||e.show(),null===(n=t.hScrollBar)||void 0===n||n.show()},this.onContainerWheel=function(){t.onContainerWheelForPc(),t.onContainerWheelForMobile()},this.onContainerWheelForPc=function(){var e=t.spreadsheet.getCanvasElement();null==e||e.addEventListener("wheel",t.onWheel)},this.onContainerWheelForMobile=function(){t.mobileWheel=new LS(t.spreadsheet.container),t.mobileWheel.on("wheel",(function(e){t.spreadsheet.hideTooltip();var n=e.event,r=e.deltaX,o=e.deltaY,i=e.x,a=e.y;t.onWheel(xa(xa({},n),{deltaX:r,deltaY:o,offsetX:i,offsetY:a}))}))},this.bindEvents=function(){t.onContainerWheel(),t.emitPaginationEvent()},this.setScrollOffset=function(e){Object.keys(e).forEach((function(n){var r=e[n];Vv(r)||t.spreadsheet.store.set(n,Math.floor(r))}))},this.getScrollOffset=function(){var e=t.spreadsheet.store;return{scrollX:e.get("scrollX",0),scrollY:e.get("scrollY",0),rowHeaderScrollX:e.get("rowHeaderScrollX",0)}},this.emitPaginationEvent=function(){var e=t.cfg.pagination;if(e){var n=e.current,r=void 0===n?1:n,o=e.pageSize,i=t.viewCellHeights.getTotalLength(),a=Math.floor((i-1)/o)+1;t.cfg.spreadsheet.emit(fi.LAYOUT_PAGINATION,{pageSize:o,pageCount:a,total:i,current:r})}},this.unbindEvents=function(){var e=t.spreadsheet.getCanvasElement();null==e||e.removeEventListener("wheel",t.onWheel),t.mobileWheel.destroy()},this.clipPanelGroup=function(){var e;t.foregroundGroup=t.spreadsheet.foregroundGroup,t.backgroundGroup=t.spreadsheet.backgroundGroup,t.panelGroup=t.spreadsheet.panelGroup;var n=t.panelBBox,r=n.width,o=n.height;null===(e=t.spreadsheet.panelScrollGroup)||void 0===e||e.setClip({type:"rect",attrs:{x:0,y:t.cornerBBox.height,width:r,height:o}})},this.calculateCellWidthHeight=function(){var e=jm(t.layoutResult.colLeafNodes,(function(e,t){return e.push(Zf(e)+t.width),e}),[0]);t.viewCellWidths=e,t.viewCellHeights=t.getViewCellHeights(t.layoutResult)},this.getRealScrollX=function(e,n){return void 0===n&&(n=0),t.cfg.spreadsheet.isScrollContainsRowHeader()?e:n},this.calculatePanelBBox=function(){t.panelBBox=new vI(t,!0)},this.getRealWidth=function(){return Zf(t.viewCellWidths)},this.getRealHeight=function(){var e=t.cfg.pagination,n=t.viewCellHeights;if(e){var r=t.getCellRange(),o=r.start,i=r.end;return n.getCellOffsetY(i+1)-n.getCellOffsetY(o)}return n.getTotalHeight()},this.clearAllGroup=function(){for(var e=t.panelGroup.getChildren()||[],n=e.length-1;n>=0;n--){var r=e[n];r instanceof Io?r.set("children",[]):e[n].remove()}t.foregroundGroup.set("children",[]),t.backgroundGroup.set("children",[])},this.scrollWithAnimation=function(e,n,r){var o,i,a,l;void 0===e&&(e={}),void 0===n&&(n=200);var s=t.getAdjustedScrollOffset({scrollX:(null===(o=e.offsetX)||void 0===o?void 0:o.value)||0,scrollY:(null===(i=e.offsetY)||void 0===i?void 0:i.value)||0,rowHeaderScrollX:(null===(a=e.rowHeaderOffsetX)||void 0===a?void 0:a.value)||0}),u=s.scrollX,c=s.scrollY,d=s.rowHeaderScrollX;null===(l=t.timer)||void 0===l||l.stop();var h=t.getScrollOffset(),f=[null!=u?u:h.scrollX,null!=c?c:h.scrollY,null!=d?d:h.rowHeaderScrollX],p=tn(Object.values(h),f);t.timer=pt((function(e){try{var o=Math.min(e/n,1),i=Ea(p(o),3),a=i[0],l=i[1],s=i[2];t.setScrollOffset({rowHeaderScrollX:s,scrollX:a,scrollY:l}),t.startScroll(),e>n&&(t.timer.stop(),null==r||r())}catch(e){console.error(e),t.timer.stop()}}))},this.scrollImmediately=function(e){var n,r,o;void 0===e&&(e={});var i=t.getAdjustedScrollOffset({scrollX:(null===(n=e.offsetX)||void 0===n?void 0:n.value)||0,scrollY:(null===(r=e.offsetY)||void 0===r?void 0:r.value)||0,rowHeaderScrollX:(null===(o=e.rowHeaderOffsetX)||void 0===o?void 0:o.value)||0}),a=i.scrollX,l=i.scrollY,s=i.rowHeaderScrollX;t.setScrollOffset({scrollX:a,scrollY:l,rowHeaderScrollX:s}),t.startScroll()},this.startScroll=function(e){var n,r,o;void 0===e&&(e=!1);var i=t.getScrollOffset(),a=i.rowHeaderScrollX,l=i.scrollX,s=i.scrollY;null===(n=t.hRowScrollBar)||void 0===n||n.onlyUpdateThumbOffset(t.getScrollBarOffset(a,t.hRowScrollBar)),null===(r=t.hScrollBar)||void 0===r||r.onlyUpdateThumbOffset(t.getScrollBarOffset(l,t.hScrollBar)),null===(o=t.vScrollBar)||void 0===o||o.onlyUpdateThumbOffset(t.getScrollBarOffset(s,t.vScrollBar)),t.dynamicRenderCell(e)},this.getRendererHeight=function(){var e=t.getCellRange(),n=e.start,r=e.end;return t.viewCellHeights.getCellOffsetY(r+1)-t.viewCellHeights.getCellOffsetY(n)},this.getAdjustedScrollOffset=function(e){var n=e.scrollX,r=e.scrollY,o=e.rowHeaderScrollX;return{scrollX:aI(n,t.layoutResult.colsHierarchy.width,t.panelBBox.width),scrollY:aI(r,t.getRendererHeight(),t.panelBBox.height),rowHeaderScrollX:iI(o,t.cornerBBox)}},this.renderRowScrollBar=function(e){if(!t.cfg.spreadsheet.isScrollContainsRowHeader()&&t.cornerBBox.width<t.cornerBBox.originalWidth){var n=t.cornerBBox.originalWidth-t.cornerBBox.width,r=t.getScrollbarPosition().maxY,o=t.spreadsheet.theme,i=o.splitLine,a=o.scrollBar,l=Math.max(t.cornerBBox.width*t.cornerBBox.width/t.cornerBBox.originalWidth,null==a?void 0:a.thumbHorizontalMinSize),s=l-(null==i?void 0:i.verticalBorderWidth);t.hRowScrollBar=new nI({isHorizontal:!0,trackLen:t.cornerBBox.width,thumbLen:s,position:{x:t.cornerBBox.minX+t.scrollBarSize/2,y:r},thumbOffset:e*(t.cornerBBox.width-l)/n,theme:t.scrollBarTheme,scrollTargetMaxOffset:n}),t.hRowScrollBar.on(RO.ScrollChange,(function(e){var r,o,i=e.offset,a=t.getValidScrollBarOffset(i,n),l=Math.floor(a);t.setScrollOffset({rowHeaderScrollX:l}),null===(r=t.rowHeader)||void 0===r||r.onRowScrollX(l,_i),null===(o=t.rowIndexHeader)||void 0===o||o.onRowScrollX(l,Ri),t.cornerHeader.onRowScrollX(l,Ai);var s=t.getScrollBarOffset(l,t.hRowScrollBar),u=t.getScrollOffset(),c={scrollX:u.scrollX,scrollY:u.scrollY,rowHeaderScrollX:s};t.hRowScrollBar.updateThumbOffset(s,!1),t.spreadsheet.emit(fi.ROW_CELL_SCROLL,c),t.spreadsheet.emit(fi.GLOBAL_SCROLL,c)})),t.foregroundGroup.add(t.hRowScrollBar)}},this.getValidScrollBarOffset=function(e,t){return Md(e,0,t)},this.renderHScrollBar=function(e,n,r){if(Math.floor(e)<Math.floor(n)){var o=t.scrollBarSize/2,i=t.getScrollbarPosition().maxY,a=e+(t.cfg.spreadsheet.isScrollContainsRowHeader()?Math.min(t.cornerBBox.width,t.getCanvasHW().width):0),l={x:t.panelBBox.minX+(t.cfg.spreadsheet.isScrollContainsRowHeader()?-t.cornerBBox.width+o:o),y:i},s=n+(t.cfg.spreadsheet.isScrollContainsRowHeader()?t.cornerBBox.width:0),u=t.spreadsheet.theme.scrollBar,c=s-a,d=Math.max(a/s*a,null==u?void 0:u.thumbHorizontalMinSize);t.hScrollBar=new nI({isHorizontal:!0,trackLen:a,thumbLen:d,position:l,thumbOffset:r*(a-d)/c,theme:t.scrollBarTheme,scrollTargetMaxOffset:c}),t.hScrollBar.on(RO.ScrollChange,(function(e){var n=e.offset,r=e.updateThumbOffset,o=t.getValidScrollBarOffset(n,c);r&&t.hScrollBar.updateThumbOffset(t.getScrollBarOffset(o,t.hScrollBar),!1),t.setScrollOffset({scrollX:o}),t.dynamicRenderCell()})),t.foregroundGroup.add(t.hScrollBar)}},this.getScrollbarPosition=function(){var e=t.panelBBox,n=e.maxX,r=e.maxY,o=t.getCanvasHW(),i=o.width,a=o.height,l=t.spreadsheet.options.interaction.scrollbarPosition===ua.CONTENT;return{maxX:(l?n:i)-t.scrollBarSize,maxY:l?r:a-t.scrollBarSize}},this.renderVScrollBar=function(e,n,r){if(e<n){var o=t.spreadsheet.theme.scrollBar,i=Math.max(e/n*e,null==o?void 0:o.thumbVerticalMinSize),a=n-e,l=t.getScrollbarPosition().maxX;t.vScrollBar=new nI({isHorizontal:!1,trackLen:e,thumbLen:i,thumbOffset:r*(e-i)/a,position:{x:l,y:t.panelBBox.minY},theme:t.scrollBarTheme,scrollTargetMaxOffset:a}),t.vScrollBar.on(RO.ScrollChange,(function(e){var n=e.offset,r=e.updateThumbOffset,o=t.getValidScrollBarOffset(n,a);r&&t.vScrollBar.updateThumbOffset(t.getScrollBarOffset(o,t.vScrollBar),!1),t.setScrollOffset({scrollY:o}),t.dynamicRenderCell()})),t.foregroundGroup.add(t.vScrollBar)}},this.getScrollBarOffset=function(e,t){return e*(t.trackLen-t.thumbLen)/t.scrollTargetMaxOffset},this.isScrollOverThePanelArea=function(e){var n=e.offsetX,r=e.offsetY;return n>t.panelBBox.minX&&n<t.panelBBox.maxX&&r>t.panelBBox.minY&&r<t.panelBBox.maxY},this.isScrollOverTheCornerArea=function(e){var n=e.offsetX,r=e.offsetY;return n>t.cornerBBox.minX&&n<t.cornerBBox.maxX&&r>t.cornerBBox.minY&&r<t.cornerBBox.maxY+t.panelBBox.height},this.updateHorizontalRowScrollOffset=function(e){var n,r=e.offset,o=e.offsetX,i=e.offsetY;t.isScrollOverTheCornerArea({offsetX:o,offsetY:i})&&(null===(n=t.hRowScrollBar)||void 0===n||n.emitScrollChange(r))},this.updateHorizontalScrollOffset=function(e){var n,r=e.offset,o=e.offsetX,i=e.offsetY;t.hRowScrollBar&&!t.isScrollOverThePanelArea({offsetX:o,offsetY:i})||null===(n=t.hScrollBar)||void 0===n||n.emitScrollChange(r)},this.isScrollToLeft=function(e){var n=e.deltaX,r=e.offsetX,o=e.offsetY;if(!t.hScrollBar&&!t.hRowScrollBar)return!0;var i=!t.hRowScrollBar||t.isScrollOverThePanelArea({offsetY:o,offsetX:r})||t.hRowScrollBar.thumbOffset<=0,a=!t.hScrollBar||t.hScrollBar.thumbOffset<=0;return n<=0&&a&&i},this.isScrollToRight=function(e){var n,r,o,i,a,l,s=e.deltaX,u=e.offsetX,c=e.offsetY;if(!t.hScrollBar&&!t.hRowScrollBar)return!0;var d=t.spreadsheet.isFrozenRowHeader()?null===(n=t.panelBBox)||void 0===n?void 0:n.width:null===(r=t.panelBBox)||void 0===r?void 0:r.maxX,h=!t.hRowScrollBar||t.isScrollOverThePanelArea({offsetY:c,offsetX:u})||(null===(o=t.hRowScrollBar)||void 0===o?void 0:o.thumbOffset)+(null===(i=t.hRowScrollBar)||void 0===i?void 0:i.thumbLen)>=t.cornerBBox.width,f=t.hRowScrollBar&&t.isScrollOverTheCornerArea({offsetX:u,offsetY:c})||(null===(a=t.hScrollBar)||void 0===a?void 0:a.thumbOffset)+(null===(l=t.hScrollBar)||void 0===l?void 0:l.thumbLen)>=d;return s>=0&&f&&h},this.isScrollToTop=function(e){var n;return!t.vScrollBar||e<=0&&(null===(n=t.vScrollBar)||void 0===n?void 0:n.thumbOffset)<=0},this.isScrollToBottom=function(e){var n,r,o;return!t.vScrollBar||e>=0&&(null===(n=t.vScrollBar)||void 0===n?void 0:n.thumbOffset)+(null===(r=t.vScrollBar)||void 0===r?void 0:r.thumbLen)>=(null===(o=t.panelBBox)||void 0===o?void 0:o.height)},this.isVerticalScrollOverTheViewport=function(e){return!t.isScrollToTop(e)&&!t.isScrollToBottom(e)},this.isHorizontalScrollOverTheViewport=function(e){return!t.isScrollToLeft(e)&&!t.isScrollToRight(e)},this.isScrollOverTheViewport=function(e){var n=e.deltaY,r=e.deltaX;return!(e.offsetY<=t.cornerBBox.maxY)&&(0!==n?t.isVerticalScrollOverTheViewport(n):0!==r&&t.isHorizontalScrollOverTheViewport(e))},this.cancelScrollFrame=function(){return(!yC()||!t.scrollFrameId)&&(cancelAnimationFrame(t.scrollFrameId),!0)},this.clearScrollFrameIdOnMobile=function(){yC()&&(t.scrollFrameId=null)},this.stopScrollChainingIfNeeded=function(e){"auto"!==t.spreadsheet.options.interaction.overscrollBehavior&&t.stopScrollChaining(e)},this.stopScrollChaining=function(e){var t,n;(null==e?void 0:e.cancelable)&&(null===(t=null==e?void 0:e.preventDefault)||void 0===t||t.call(e));var r=null==e?void 0:e.originalEvent;(null==r?void 0:r.cancelable)&&(null===(n=null==r?void 0:r.preventDefault)||void 0===n||n.call(r))},this.onWheel=function(e){var n=t.spreadsheet.options.interaction,r=e.deltaX,o=e.deltaY,i=e.offsetX,a=e.offsetY;e.shiftKey&&bC()&&(i=i-r+o,r=o,a-=o,o=0);var l=Ea(function(e,t,n){var r=Math.abs(e/t),o=r>2?0:t;return[(r<=.5?0:e)*n.horizontal,o*n.vertical]}(r,o,n.scrollSpeedRatio),2),s=l[0],u=l[1];t.spreadsheet.hideTooltip(),t.spreadsheet.interaction.clearHoverTimer(),t.isScrollOverTheViewport({deltaX:s,deltaY:u,offsetX:i,offsetY:a})?(t.stopScrollChaining(e),t.spreadsheet.interaction.addIntercepts([ia.HOVER]),t.cancelScrollFrame()&&(t.scrollFrameId=requestAnimationFrame((function(){var e,n=t.getScrollOffset(),r=n.scrollX,o=n.scrollY,l=n.rowHeaderScrollX;0!==s&&(t.showHorizontalScrollBar(),t.updateHorizontalRowScrollOffset({offsetX:i,offsetY:a,offset:s+l}),t.updateHorizontalScrollOffset({offsetX:i,offsetY:a,offset:s+r})),0!==u&&(t.showVerticalScrollBar(),null===(e=t.vScrollBar)||void 0===e||e.emitScrollChange(u+o)),t.delayHideScrollbarOnMobile(),t.clearScrollFrameIdOnMobile()})))):t.stopScrollChainingIfNeeded(e)},this.addCell=function(e){var n=t.spreadsheet.panelScrollGroup;null==n||n.add(e)},this.realCellRender=function(e,n){var r=t.calculateXYIndexes(e,n);VC.getInstance().logger("renderIndex:",t.preCellIndexes,r);var o=hI(t.preCellIndexes,r),i=o.add,a=o.remove;VC.getInstance().debugCallback("Data Cell Render",(function(){tp(i,(function(e){var n=Ea(e,2),r=n[0],o=n[1],i=t.layoutResult.getCellMeta(o,r);if(i){var a=t.cfg.dataCell(i);a.set("name","".concat(r,"-").concat(o)),t.addCell(a)}}));var e=lI(t.panelGroup.getChildren(),Tw);tp(a,(function(t){var n=Ea(t,2),r=n[0],o=n[1],i=Ip(e,(function(e){return e.get("name")==="".concat(r,"-").concat(o)}));null==i||i.remove(!0)})),VC.getInstance().logger("Render Cell Panel: ".concat(null==e?void 0:e.length,", Add: ").concat(null==i?void 0:i.length,", Remove: ").concat(null==a?void 0:a.length))})),t.preCellIndexes=r,t.spreadsheet.emit(fi.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,{add:i,remove:a,spreadsheet:t.spreadsheet})},this.getGridInfo=function(){var e=Ea(t.preCellIndexes.center,4),n=e[0],r=e[1],o=e[2],i=e[3];return{cols:sI(n,r,t.layoutResult.colLeafNodes),rows:uI(o,i,t.viewCellHeights)}},this.onAfterScroll=Ef((function(){var e=t.spreadsheet,n=e.interaction,r=e.container;if(!n.isSelectedState()&&(n.removeIntercepts([ia.HOVER]),n.getHoverAfterScroll())){var o=n.eventController.canvasMousemoveEvent;if(o){var i=o.x,a=o.y,l=r.getShape(i,a);l&&r.emit(hi.MOUSE_MOVE,xa(xa({},o),{shape:l,target:l,timestamp:performance.now()}))}}}),300),this.cfg=e,this.spreadsheet=e.spreadsheet,this.init()}return Object.defineProperty(e.prototype,"scrollBarTheme",{get:function(){return this.spreadsheet.theme.scrollBar},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollBarSize",{get:function(){return this.scrollBarTheme.size},enumerable:!1,configurable:!0}),e.prototype.getCellCustomWidth=function(e,t){return ll(t)?null==t?void 0:t(e):t},e.prototype.getCellDraggedWidth=function(e){var t=this.cfg.colCfg;return Xu(null==t?void 0:t.widthByFieldValue,"".concat(e.value))},e.prototype.render=function(){var e;Bv((e=this.spreadsheet.dataCfg.fields).rows)&&Bv(e.columns)&&Bv(e.values)&&Bv(e.customTreeItems)||(this.adjustScrollOffset(),this.renderHeaders(),this.renderScrollBars(),this.renderBackground(),this.dynamicRenderCell())},e.prototype.adjustScrollOffset=function(){var e=this.getAdjustedScrollOffset(this.getScrollOffset());this.setScrollOffset(e)},e.prototype.getSeriesNumberWidth=function(){return this.cfg.showSeriesNumber?this.spreadsheet.theme.rowCell.seriesNumberWidth:0},e.prototype.getCanvasHW=function(){return{width:this.cfg.width,height:this.cfg.height}},e.prototype.updateScrollOffset=function(e){var t,n,r,o,i,a;void 0===(null===(t=e.rowHeaderOffsetX)||void 0===t?void 0:t.value)?void 0===(null===(r=e.offsetX)||void 0===r?void 0:r.value)?void 0!==(null===(i=e.offsetY)||void 0===i?void 0:i.value)&&((null===(a=e.offsetY)||void 0===a?void 0:a.animate)?this.scrollWithAnimation(e):this.scrollImmediately(e)):(null===(o=e.offsetX)||void 0===o?void 0:o.animate)?this.scrollWithAnimation(e):this.scrollImmediately(e):(null===(n=e.rowHeaderOffsetX)||void 0===n?void 0:n.animate)?this.scrollWithAnimation(e):this.scrollImmediately(e)},e.prototype.getPaginationScrollY=function(){var e=this.cfg.pagination;if(e){var t=e.current,n=void 0===t?1:t,r=e.pageSize,o=this.viewCellHeights,i=Math.max((n-1)*r,0);return o.getCellOffsetY(i)}return 0},e.prototype.destroy=function(){this.unbindEvents(),this.clearAllGroup(),this.preCellIndexes=null,cancelAnimationFrame(this.scrollFrameId)},e.prototype.calculateXYIndexes=function(e,t){var n=this.panelBBox,r=n.viewportHeight,o=n.viewportWidth;return{center:PC(e,t,this.viewCellWidths,this.viewCellHeights,{width:o,height:r,x:0,y:0},this.getRealScrollX(this.cornerBBox.width))}},e.prototype.calculateCornerBBox=function(){this.cornerBBox=new pI(this,!0)},e.prototype.getCellRange=function(){var e=this.cfg.pagination;return function(e,t){var n=e,r=0,o=n.getTotalLength()-1;if(t){var i=t.current,a=void 0===i?1:i,l=t.pageSize;r=Math.max((a-1)*l,0),o=Math.min(a*l-1,n.getTotalLength()-1)}return{start:r,end:o}}(this.viewCellHeights,e)},e.prototype.clip=function(e,t){var n,r=this.spreadsheet.isFrozenRowHeader();null===(n=this.spreadsheet.panelScrollGroup)||void 0===n||n.setClip({type:"rect",attrs:{x:r?e:0,y:t,width:this.panelBBox.width+(r?0:e),height:this.panelBBox.height}})},e.prototype.translateRelatedGroups=function(e,t,n){var r,o,i,a,l,s;zC(this.spreadsheet.panelScrollGroup,this.cornerBBox.width-e,this.cornerBBox.height-t),null===(r=this.rowHeader)||void 0===r||r.onScrollXY(this.getRealScrollX(e,n),t,_i),null===(o=this.rowIndexHeader)||void 0===o||o.onScrollXY(this.getRealScrollX(e,n),t,Ri),null===(i=this.cornerHeader)||void 0===i||i.onCorScroll(this.getRealScrollX(e,n),Ai),null===(a=this.centerFrame)||void 0===a||a.onChangeShadowVisibility(e,this.getRealWidth()-this.panelBBox.width),null===(l=this.centerFrame)||void 0===l||l.onBorderScroll(this.getRealScrollX(e)),null===(s=this.columnHeader)||void 0===s||s.onColScroll(e,Ni)},e.prototype.init=function(){var e=this;VC.getInstance().debugCallback("Header Layout",(function(){e.layoutResult=e.doLayout(),e.saveInitColumnLeafNodes(e.layoutResult.colLeafNodes),e.spreadsheet.emit(fi.LAYOUT_AFTER_HEADER_LAYOUT,e.layoutResult)})),this.calculateCellWidthHeight(),this.calculateCornerBBox(),this.calculatePanelBBox(),this.clipPanelGroup(),this.bindEvents()},e.prototype.renderBackground=function(){var e=this.getCanvasHW(),t=e.width,n=e.height,r=this.spreadsheet.theme.background,o=r.color,i=r.opacity;this.backgroundGroup.addShape("rect",{attrs:{fill:o,opacity:i,x:0,y:0,width:t,height:n}})},e.prototype.renderScrollBars=function(){var e=this.getScrollOffset(),t=e.scrollX,n=e.scrollY,r=e.rowHeaderScrollX,o=this.panelBBox,i=o.width,a=o.height,l=this.layoutResult.colsHierarchy.width,s=this.getRealHeight();this.renderRowScrollBar(r),this.renderHScrollBar(i,l,t),this.renderVScrollBar(a,s,n)},e.prototype.renderHeaders=function(){var e=this.getSeriesNumberWidth();this.rowHeader=this.getRowHeader(),this.columnHeader=this.getColHeader(),e>0&&!this.rowIndexHeader&&(this.rowIndexHeader=this.getSeriesNumberHeader()),this.cornerHeader=this.getCornerHeader(),this.centerFrame=this.getCenterFrame(),this.rowIndexHeader&&this.foregroundGroup.add(this.rowIndexHeader),this.rowHeader&&this.foregroundGroup.add(this.rowHeader),this.foregroundGroup.add(this.columnHeader),this.foregroundGroup.add(this.cornerHeader),this.foregroundGroup.add(this.centerFrame)},e.prototype.getRowHeader=function(){var e,t,n;if(!this.rowHeader){var r=this.panelBBox,o=r.y,i=r.viewportHeight,a=r.viewportWidth,l=r.height,s=this.getSeriesNumberWidth();return new CI({width:this.cornerBBox.width,height:l,viewportWidth:a,viewportHeight:i,position:{x:0,y:o},data:this.layoutResult.rowNodes,hierarchyType:this.cfg.hierarchyType,linkFields:null!==(n=null===(t=null===(e=this.cfg.spreadsheet.options)||void 0===e?void 0:e.interaction)||void 0===t?void 0:t.linkFields)&&void 0!==n?n:[],seriesNumberWidth:s,spreadsheet:this.spreadsheet})}return this.rowHeader},e.prototype.getColHeader=function(){if(!this.columnHeader){var e=this.panelBBox,t=e.x,n=e.width,r=e.viewportHeight,o=e.viewportWidth;return new mI({width:n,cornerWidth:this.cornerBBox.width,height:this.cornerBBox.height,viewportWidth:o,viewportHeight:r,position:{x:t,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},e.prototype.getCornerHeader=function(){return this.cornerHeader?this.cornerHeader:yI.getCornerHeader(this.panelBBox,this.cornerBBox,this.getSeriesNumberWidth(),this.cfg,this.layoutResult,this.spreadsheet)},e.prototype.getSeriesNumberHeader=function(){return xI.getSeriesNumberHeader(this.panelBBox,this.getSeriesNumberWidth(),this.layoutResult.rowsHierarchy.getNodes(0),this.spreadsheet,this.cornerBBox.width)},e.prototype.getCenterFrame=function(){var e;if(!this.centerFrame){var t=this.panelBBox,n=t.viewportWidth,r=t.viewportHeight,o=this.cornerBBox.width,i=this.cornerBBox.height,a=null===(e=this.cfg)||void 0===e?void 0:e.frame,l={position:{x:this.cornerBBox.x,y:this.cornerBBox.y},width:o,height:i,viewportWidth:n,viewportHeight:r,showViewportLeftShadow:!1,showViewportRightShadow:!1,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),isPivotMode:this.cfg.spreadsheet.isPivotMode(),spreadsheet:this.cfg.spreadsheet};return a?a(l):new bI(l)}return this.centerFrame},e.prototype.updatePanelScrollGroup=function(){this.gridInfo=this.getGridInfo(),this.spreadsheet.panelScrollGroup.update(this.gridInfo)},e.prototype.dynamicRenderCell=function(e){var t=this.getScrollOffset(),n=t.scrollX,r=t.scrollY,o=t.rowHeaderScrollX,i=r+this.getPaginationScrollY(),a=aI(i,this.viewCellHeights.getTotalHeight(),this.panelBBox.viewportHeight);this.spreadsheet.hideTooltip(),this.spreadsheet.interaction.clearHoverTimer(),this.realCellRender(n,a),this.updatePanelScrollGroup(),this.translateRelatedGroups(n,a,o),this.clip(n,a),e||this.emitScrollEvent({scrollX:n,scrollY:a,rowHeaderScrollX:o}),this.onAfterScroll()},e.prototype.emitScrollEvent=function(e){this.spreadsheet.emit(fi.LAYOUT_CELL_SCROLL,e),this.spreadsheet.emit(fi.GLOBAL_SCROLL,e)},e.prototype.saveInitColumnLeafNodes=function(e){void 0===e&&(e=[]);var t=this.spreadsheet,n=t.store,r=t.options.interaction.hiddenColumnFields;e.length+r.length!==n.get("initColumnLeafNodes",[]).length&&n.set("initColumnLeafNodes",e)},e.prototype.getHiddenColumnsInfo=function(e){var t=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return Bv(t)?null:t.find((function(t){var n;return null===(n=null==t?void 0:t.hideColumnNodes)||void 0===n?void 0:n.some((function(t){return t.id===e.id}))}))},e.prototype.getCornerNodes=function(){var e;return(null===(e=this.cornerHeader)||void 0===e?void 0:e.getNodes())||[]},e}(),SI=function(e){var t,n,r,o=e.facetCfg,i=e.customTreeItems,a=void 0===i?[]:i,l=e.level,s=e.parentNode,u=e.hierarchy,c=o.spreadsheet,d=o.collapsedRows,h=o.hierarchyCollapse;try{for(var f=Sa(a),p=f.next();!p.done;p=f.next()){var v=p.value,g=v.key,m=v.title,y=v.collapsed,b=v.children,C=wa(v,["key","title","collapsed","children"]),x=((r={})[mi]=g,r),w=MC(s.id,m),S=null!=y&&y,E=Xu(d,w),O=null!=E?E:h||S,I=new xC({id:w,key:g,label:m,value:m,level:l,parent:s,field:g,isTotals:!1,isCollapsed:O,hierarchy:u,query:x,spreadsheet:c,extra:C});l>u.maxLevel&&(u.maxLevel=l),Bv(b)&&(I.isLeaf=!0);var L=IC(o,s,I,u);Bv(b)||O||!L||SI({facetCfg:o,parentNode:I,level:l+1,hierarchy:u,customTreeItems:b})}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}},EI=(Pi+zi).length,OI=function(e){var t,n,r,o,i,a,l,s=e.parentNode,u=e.currentField,c=e.level,d=e.facetCfg,h=e.hierarchy,f=e.pivotMeta,p=d.spreadsheet,v=d.dataSet,g=d.collapsedRows,m=d.hierarchyCollapse,y=d.rowExpandDepth,b=s.query,C=s.id,x=(null===(o=p.dataCfg.fields.rows)||void 0===o?void 0:o.length)<=c,w=(null===(i=null==v?void 0:v.sortedDimensionValues)||void 0===i?void 0:i[u])||[],S=ix(Array.from(f.keys())),E=ox(S,w,(function(e){return Pi===C?e:MC(C,e).slice(EI)})),O=OC(E,d,s,u),I=p.store.get("drillItemsNum");x&&I>0&&(O=O.slice(0,I)),0===c&&function(e,t,n){var r=e.getTotalsConfig(t);r.showGrandTotals&&n[r.reverseLayout?"unshift":"push"](new SC(r.label,!1,!0))}(p,u,O);try{for(var L=Sa(O),_=L.next();!_.done;_=L.next()){var T=_.value,M=T instanceof SC,R=M?null:f.get(T),A=void 0,N=b,B=!1,D=!1;if(M){var k=T;B=k.isGrandTotals,D=k.isSubTotals,A=dC(T.label),N=b}else A=T,N=xa(xa({},b),((r={})[u]=A,r));var P=MC(C,A),z=null==g?void 0:g[P],F=zv(y)?c>y:null,H=null!==(a=null!=z?z:F)&&void 0!==a?a:m,$=new xC({id:P,key:u,label:A,value:A,level:c,parent:s,field:u,isTotals:M,isGrandTotals:B,isSubTotals:D,isCollapsed:H,hierarchy:h,query:N,spreadsheet:p});c>h.maxLevel&&(h.maxLevel=c);var j=!(null===(l=null==R?void 0:R.children)||void 0===l?void 0:l.size);(j||M)&&($.isLeaf=!0),j||($.isTotals=!0);var W=IC(d,s,$,h);j||H||M||!W||OI({level:c+1,currentField:R.childField,pivotMeta:R.children,facetCfg:d,parentNode:$,hierarchy:h})}}catch(e){t={error:e}}finally{try{_&&!_.done&&(n=L.return)&&n.call(L)}finally{if(t)throw t.error}}},II=function(e){var t,n,r=e.isValueInCols,o=e.moreThanOneValue,i=e.rootNode,a=e.facetCfg,l=e.hierarchy,s=e.fields;e.isRowHeader?(t=!r&&o,n=!r&&!o):(t=r&&o,n=r&&!o),TC({addTotalMeasureInTotal:t,addMeasureInTotalQuery:n,parentNode:i,currentField:s[0],fields:s,facetCfg:a,hierarchy:l})},LI=function(e){var t=e.facetCfg,n=e.rootNode,r=e.hierarchy,o=t.hierarchyType,i=t.rows,a=t.dataSet;"tree"===o?OI({level:0,currentField:i[0],pivotMeta:a.rowPivotMeta,facetCfg:t,parentNode:n,hierarchy:r}):function(e){var t=e.facetCfg,n=e.rootNode,r=e.hierarchy,o=t.dataSet.fields.customTreeItems;SI({customTreeItems:o,facetCfg:t,level:0,parentNode:n,hierarchy:r})}(e)},_I=function(e){var t=e.isPivotMode,n=e.hierarchy,r=e.rootNode,o=e.facetCfg;t?II(e):function(e){var t=e.facetCfg,n=t.columns,r=t.spreadsheet.store.get("hiddenColumnsDetail"),o=null==t?void 0:t.showSeriesNumber,i=Oa([],Ea(WC(n).filter((function(e){return!r||r.every((function(t){return t.hideColumnNodes.every((function(t){return t.field!==e}))}))}))),!1),a=Oa([],Ea(n),!1),l={};o&&(a.unshift({key:Ci}),l[Ci]=!0),i.reduce((function(e,t){return e[t]=!0,e}),l),AC($C(a,l),e,0,null)}({parentNode:r,hierarchy:n,facetCfg:o})},TI=function(e){var t=e.isRowHeader,n=e.facetCfg,r=n.spreadsheet,o=n.rows,i=void 0===o?[]:o,a=n.columns,l=void 0===a?[]:a,s=r.dataCfg.fields.valueInCols,u=r.isPivotMode(),c=n.dataSet.moreThanOneValue(),d=xC.rootNode(),h=new wC,f={isValueInCols:s,isPivotMode:u,moreThanOneValue:c,rootNode:d,hierarchy:h,spreadsheet:r,facetCfg:n,fields:t?i:l,isRowHeader:t};t?function(e){e.spreadsheet.isHierarchyTreeType()?LI(e):II(e)}(f):_I(f);return{hierarchy:h,leafNodes:t&&r.isHierarchyTreeType()?h.getNodes():h.getLeaves()}},MI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Object.defineProperty(t.prototype,"rowCellTheme",{get:function(){return this.spreadsheet.theme.rowCell.cell},enumerable:!1,configurable:!0}),t.prototype.getContentHeight=function(){var e=this.layoutResult,t=e.rowsHierarchy,n=e.colsHierarchy;return t.height+n.height},t.prototype.doLayout=function(){var e=TI({isRowHeader:!0,facetCfg:this.cfg}),t=e.leafNodes,n=e.hierarchy,r=TI({isRowHeader:!1,facetCfg:this.cfg}),o=r.leafNodes,i=r.hierarchy;this.calculateNodesCoordinate(t,n,o,i);var a=this.cfg,l=a.dataSet,s=a.spreadsheet,u={colNodes:i.getNodes(),colsHierarchy:i,rowNodes:n.getNodes(),rowsHierarchy:n,rowLeafNodes:t,colLeafNodes:o,getCellMeta:function(e,n){var r,i,a,u=e||0,c=n||0,d=t[u],h=o[c];if(!d||!h)return null;var f,p=d.query,v=h.query,g=d.isTotals||d.isTotalMeasure||h.isTotals||h.isTotalMeasure,m=s.options.hierarchyType,y=null!==(i=Xu(s,"facet.cfg.colCfg.hideMeasureColumn"))&&void 0!==i&&i&&"customTree"!==m?((r={})[mi]=null===(a=l.fields.values)||void 0===a?void 0:a[0],r):{},b=fg({},p,v,y),C=l.getCellData({query:b,rowNode:d,isTotals:g}),x=null;return Bv(C)?f=Xu(b,[mi],""):(f=Xu(C,[mi],""),x=Xu(C,[gi],null),g&&(f=Xu(b,[mi],""),x=Xu(C,f,null))),{spreadsheet:s,x:h.x,y:d.y,width:h.width,height:d.height,data:C,rowIndex:u,colIndex:c,isTotals:g,valueField:f,fieldValue:x,rowQuery:p,colQuery:v,rowId:d.id,colId:h.id,id:Iw(d.id,h.id)}},spreadsheet:s};return function(e,t){var n=null==e?void 0:e.layoutDataPosition;if(n){var r=t.getCellMeta,o=n(e.spreadsheet,r);return xa(xa({},t),{getCellMeta:o})}return t}(this.cfg,u)},t.prototype.calculateNodesCoordinate=function(e,t,n,r){this.calculateRowNodesCoordinate(e,t,n),this.calculateColNodesCoordinate(n,r,e,t.width)},t.prototype.calculateColNodesCoordinate=function(e,t,n,r){var o,i,a,l,s=xC.blankNode(),u=t.getNodes();try{for(var c=Sa(t.sampleNodesForAllLevels),d=c.next();!d.done;d=c.next()){var h=d.value;h.height=this.getColNodeHeight(h),t.height+=h.height}}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}for(var f=0,p=function(o){var i=u[o];if(i.isLeaf&&(i.colIndex=f,f+=1,i.x=s.x+s.width,i.width=v.calculateColLeafNodesWidth(i,e,n,r),t.width+=i.width,s=i),0===i.level)i.y=0;else{var l=t.sampleNodesForAllLevels.find((function(e){return e.level===i.level-1}));i.y=null!==(a=(null==l?void 0:l.y)+(null==l?void 0:l.height))&&void 0!==a?a:0}i.height=i.isGrandTotals&&i.isLeaf?t.height:v.getColNodeHeight(i),LC(v.cfg,null,i)},v=this,g=0;g<u.length;g++)p(g);this.autoCalculateColNodeWidthAndX(e),Bv(null===(l=this.spreadsheet.options.totals)||void 0===l?void 0:l.col)||(this.adjustTotalNodesCoordinate(t),this.adjustSubTotalNodesCoordinate(t))},t.prototype.autoCalculateColNodeWidthAndX=function(e){for(var t,n=null,r=e.slice(0);r.length;){var o=r.shift().parent;if(n!==o&&o){r.push(o);var i=null===(t=o.children)||void 0===t?void 0:t.find((function(e){return!e.hiddenChildNodeInfo})),a=null==i?void 0:i.x,l=by(o.children,"width");o.x=a,o.width=l,n=o}}},t.prototype.calculateColLeafNodesWidth=function(e,t,n,r){var o,i,a,l,s,u=this.cfg,c=u.colCfg,d=u.dataSet,h=u.filterDisplayDataItem,f=this.getCellDraggedWidth(e);if(zv(f))return f;var p=this.getCellCustomWidth(e,null==c?void 0:c.width);if(zv(p))return p;if(this.spreadsheet.getLayoutWidthType()===ga.Compact){for(var v=this.spreadsheet.theme.colCell,g=v.bolderText,m=v.cell,y=v.icon,b=this.spreadsheet.dataSet.getFieldFormatter(e.field),C=null!==(o=null==b?void 0:b(e.value))&&void 0!==o?o:e.label,x=this.getExpectedCellIconWidth(ea.COL_CELL,this.spreadsheet.isValueInCols()&&this.spreadsheet.options.showDefaultHeaderActionIcon,y),w=this.spreadsheet.measureTextWidthRoughly(C)+x,S=void 0,E=0,O=0;O<50;O++){var I=n[O];if(I){var L=d.getCellData({query:xa(xa({},e.query),I.query),rowNode:I,isTotals:e.isTotals||e.isTotalMeasure||I.isTotals||I.isTotalMeasure});if(L){var _=Ew(L,h),T=null!==(a=null===(i=this.spreadsheet.dataSet.getFieldFormatter(L[mi]))||void 0===i?void 0:i(_))&&void 0!==a?a:_,M="".concat(T),R=this.spreadsheet.measureTextWidthRoughly(M);R>E&&(S=M,E=R)}}}var A=w>E,N=A?C:S,B=A?x:0;return VC.getInstance().logger("Max Label In Col:",e.field,N),this.spreadsheet.measureTextWidth(N,g)+(null===(l=m.padding)||void 0===l?void 0:l.left)+(null===(s=m.padding)||void 0===s?void 0:s.right)+B}return this.spreadsheet.isHierarchyTreeType()?this.getAdaptTreeColWidth(e,t,n):this.getAdaptGridColWidth(t,r)},t.prototype.getColNodeHeight=function(e){var t=this.cfg.colCfg,n=Xu(t,["heightByField",e.key]);return null!=n?n:null==t?void 0:t.height},t.prototype.getExpectedCellIconWidth=function(e,t,n){var r,o=0;if(t)o=1;else{var i=Zw(Bp(this.spreadsheet.options.headerActionIcons,(function(e){return xa(xa({},e),{displayCondition:function(){return!0}})})),null,e);o=null!==(r=null==i?void 0:i.iconNames.length)&&void 0!==r?r:0}return o?o*(n.size+n.margin.left)+n.margin.right:0},t.prototype.calculateRowNodesCoordinate=function(e,t,n){var r,o,i,a,l,s,u,c,d,h,f=this.cfg,p=f.cellCfg,v=f.spreadsheet,g=v.isHierarchyTreeType(),m=Xu(v,"options.style.rowCfg.heightByField",{}),y=null!==(i=t.sampleNodesForAllLevels)&&void 0!==i?i:[];if(g)t.width=this.getTreeRowHeaderWidth();else try{for(var b=Sa(t.sampleNodesForAllLevels),C=b.next();!C.done;C=b.next()){var x=C.value;x.width=this.calculateGridRowNodesWidth(x,n),t.width+=x.width;var w=null!==(a=y[x.level-1])&&void 0!==a?a:{x:0,width:0};x.x=(null==w?void 0:w.x)+(null==w?void 0:w.width)}}catch(e){r={error:e}}finally{try{C&&!C.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}for(var S=xC.blankNode(),E=t.getNodes(),O=0;O<E.length;O++){var I=E[O];if((g||!g&&I.isLeaf)&&(null!==(l=I.rowIndex)&&void 0!==l||(I.rowIndex=O),null!==(s=I.colIndex)&&void 0!==s||(I.colIndex=O),I.y=S.y+S.height,I.height=(null!==(u=null==m?void 0:m[I.id])&&void 0!==u?u:null==p?void 0:p.height)+(null===(c=this.rowCellTheme.padding)||void 0===c?void 0:c.top)+(null===(d=this.rowCellTheme.padding)||void 0===d?void 0:d.bottom),S=I,t.height+=I.height),g||0===I.level)I.x=0;else{w=y[I.level-1];I.x=(null==w?void 0:w.x)+(null==w?void 0:w.width)}if(g)I.width=this.getTreeRowHeaderWidth();else{var L=y[I.level];I.width=null==L?void 0:L.width}LC(this.cfg,I,null)}g||(this.autoCalculateRowNodeHeightAndY(e),Bv(null===(h=v.options.totals)||void 0===h?void 0:h.row)||(this.adjustTotalNodesCoordinate(t,!0),this.adjustSubTotalNodesCoordinate(t,!0)))},t.prototype.autoCalculateRowNodeHeightAndY=function(e){for(var t=null,n=e.slice(0);n.length;){var r=n.shift().parent;t!==r&&r&&(n.push(r),r.y=r.children[0].y,r.height=r.children.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0),t=r)}},t.prototype.adjustTotalNodesCoordinate=function(e,t){var n,r,o,i=this.cfg.dataSet.moreThanOneValue(),a=e.maxLevel,l=Ip(e.getNodes(0),(function(e){return e.isGrandTotals}));if(l instanceof xC){var s=l.children;if(t)l.width=e.width,tp(s,(function(t){var n=e.getNodes(a)[0];t.x=n.x,t.width=n.width}));else if(a>1||a<=1&&!i){var u=null!==(r=null===(n=null==s?void 0:s[0])||void 0===n?void 0:n.height)&&void 0!==r?r:0;l.height=e.height-u;var c=null===(o=Ip(e.getNodes(a),(function(e){return!e.isTotalMeasure})))||void 0===o?void 0:o.y;tp(s,(function(e){e.y=c}))}}},t.prototype.adjustSubTotalNodesCoordinate=function(e,t){var n=e.getNodes().filter((function(e){return e.isSubTotals}));if(!Bv(n)){var r=e.maxLevel;tp(n,(function(n){var o,i,a,l=n.children;if(t)n.width=rI(e.sampleNodesForAllLevels,n.level,"width"),tp(l,(function(t){t.x=e.getNodes(r)[0].x}));else{var s=rI(e.sampleNodesForAllLevels,n.level,"height"),u=null!==(i=null===(o=null==l?void 0:l[0])||void 0===o?void 0:o.height)&&void 0!==i?i:0;n.height=s-u,tp(l,(function(t){t.y=e.getNodes(r)[0].y}));var c=null===(a=Ip(e.getNodes(r),(function(e){return!e.isTotalMeasure})))||void 0===a?void 0:a.y;tp(l,(function(e){e.y=c}))}}))}},t.prototype.calculateGridRowNodesWidth=function(e,t){var n=this.cfg,r=n.rowCfg,o=n.spreadsheet,i=Xu(r,["widthByField",e.key]);if(zv(i))return i;var a=this.getCellCustomWidth(e,null==r?void 0:r.width);return zv(a)?a:o.getLayoutWidthType()!==ga.Adaptive?this.getCompactGridRowWidth(e):this.getAdaptGridColWidth(t)},t.prototype.getAdaptTreeColWidth=function(e,t,n){var r=this.getCanvasHW().width-this.getSeriesNumberWidth(),o=Math.min(r/2,this.getTreeRowHeaderWidth()),i=Math.max(1,t.length),a=this.cfg.cellCfg;return Math.max(jx(a,this.getColLabelLength(e,n)),(r-o)/i)},t.prototype.getColLabelLength=function(e,t){var n,r=Wx(null==e?void 0:e.value);if($a(r))return r.length;for(var o=1,i=0;i<50;i++){var a=t[i];if(!a)return o;for(var l=this.cfg.dataSet.getCellData({query:xa(xa({},e.query),a.query),rowNode:a,isTotals:e.isTotals||e.isTotalMeasure||a.isTotals||a.isTotalMeasure}),s=pu(l),u=0;u<s.length;u++){var c=l[s[u]],d=ny(null===(n=null==c?void 0:c.values)||void 0===n?void 0:n[0]);d>o&&(o=d)}}return o},t.prototype.getAdaptGridColWidth=function(e,t){var n=this.cfg,r=n.rows,o=n.cellCfg,i=r.length,a=e.length,l=this.getCanvasHW().width-this.getSeriesNumberWidth(),s=Math.max(1,i+a);return t?Math.max(jx(o),(l-t)/a):Math.max(jx(o),l/s)},t.prototype.getTreeRowHeaderWidth=function(){var e,t,n,r,o=this.cfg,i=o.rows,a=o.dataSet,l=o.rowCfg,s=o.treeRowsWidth,u=null!=s?s:null==l?void 0:l.treeRowsWidth;if(u)return u;var c=this.getCellCustomWidth(null,null==l?void 0:l.width);if(c)return c;var d=i.map((function(e){return a.getFieldName(e)})).join("/"),h=this.spreadsheet.theme.cornerCell,f=h.bolderText,p=h.icon,v=this.spreadsheet.measureTextWidth(d,f)+2*p.size+(null===(e=p.margin)||void 0===e?void 0:e.left)+(null===(t=p.margin)||void 0===t?void 0:t.right)+(null===(n=this.rowCellTheme.padding)||void 0===n?void 0:n.left)+(null===(r=this.rowCellTheme.padding)||void 0===r?void 0:r.right);return Math.max(null!=u?u:120,v)},t.prototype.getCompactGridRowWidth=function(e){var t,n=this,r=this.cfg,o=r.dataSet,i=r.spreadsheet,a=i.theme.rowCell,l=a.bolderText,s=a.icon,u=a.cell,c=i.theme.cornerCell,d=c.bolderText,h=c.icon,f=c.cell,p=e.field,v=e.isLeaf,g=this.getExpectedCellIconWidth(ea.ROW_CELL,!i.isValueInCols()&&v&&i.options.showDefaultHeaderActionIcon,s),m=null===(t=o.getDimensionValues(p))||void 0===t?void 0:t.slice(0,50).map((function(e){var t,r;return null!==(r=null===(t=n.spreadsheet.dataSet.getFieldFormatter(p))||void 0===t?void 0:t(e))&&void 0!==r?r:e})),y=ug(m,(function(e){return"".concat(e).length})),b=i.measureTextWidth(y,l)+g+u.padding.left+u.padding.right,C=o.getFieldName(p),x=this.getExpectedCellIconWidth(ea.CORNER_CELL,!1,h),w=i.measureTextWidth(C,d)+x+f.padding.left+f.padding.right;return VC.getInstance().logger("Max Label In Row:",p,b>w?y:C),Math.max(b,w)},t.prototype.getViewCellHeights=function(e){var t=jm(e.rowLeafNodes,(function(e,t){return e.push(Zf(e)+t.height),e}),[0]);return{getTotalHeight:function(){return Zf(t)},getCellOffsetY:function(e){return t[e]},getTotalLength:function(){return t.length-1},getIndexRange:function(e,n){return oI(t,e,n)}}},t}(wI),RI=function(e){function t(t){var n,r=this;(r=e.call(this,t)||this).getScrollGroupClipBBox=function(){var e,t=r.headerConfig,n=t.width,o=t.height,i=t.scrollX,a=t.spreadsheet,l=a.options;if(!l.frozenColCount&&!l.frozenTrailingColCount)return{x:i,y:0,width:n,height:o};for(var s=null===(e=a.facet)||void 0===e?void 0:e.layoutResult.colLeafNodes,u=hx(a.options,s.length),c=u.frozenColCount,d=u.frozenTrailingColCount,h=0,f=0,p=0;p<c;p++)h+=s[p].width;for(p=0;p<d;p++)f+=s[s.length-1-p].width;return{x:i+h,y:0,width:n-h-f,height:o}};var o=null===(n=r.headerConfig.spreadsheet)||void 0===n?void 0:n.options,i=o.frozenColCount,a=o.frozenTrailingColCount;return i&&(r.frozenColGroup=r.addGroup({name:"colFrozenGroup",zIndex:4})),a&&(r.frozenTrailingColGroup=r.addGroup({name:"colFrozenTrailingGroup",zIndex:4})),r}return Ca(t,e),t.prototype.isFrozenCell=function(e){var t=this.headerConfig.spreadsheet,n=null==t?void 0:t.options,r=n.frozenColCount,o=n.frozenTrailingColCount,i=e.colIndex,a=null==t?void 0:t.facet.layoutResult.colLeafNodes;return NC(i,r)||BC(i,o,a.length)},t.prototype.clear=function(){var t,n,r=this.headerConfig.spreadsheet;e.prototype.clear.call(this),null===(t=this.frozenTrailingColGroup)||void 0===t||t.clear(),null===(n=this.frozenColGroup)||void 0===n||n.clear();var o=null==r?void 0:r.foregroundGroup.findById(Bi);null==o||o.clear()},t.prototype.getCellInstance=function(e,t,n){return e.field===Ci?new NS(e,t,n):new AS(e,t,n)},t.prototype.getCellGroup=function(e){var t,n,r=this.headerConfig.spreadsheet,o=null==r?void 0:r.options,i=o.frozenColCount,a=o.frozenTrailingColCount,l=null===(t=null==r?void 0:r.facet)||void 0===t?void 0:t.layoutResult.colNodes.filter((function(e){return jC(e)})),s=HC(l,i,a),u=s.colCount,c=s.trailingColCount;return NC(GC(e).colIndex,u)?this.frozenColGroup:BC(GC(e).colIndex,c,null===(n=null==r?void 0:r.facet)||void 0===n?void 0:n.layoutResult.colLeafNodes.length)?this.frozenTrailingColGroup:this.scrollGroup},t.prototype.isColCellInRect=function(t){var n,r,o=this.headerConfig.spreadsheet,i=null==o?void 0:o.options,a=i.frozenColCount,l=i.frozenTrailingColCount,s=null===(n=null==o?void 0:o.facet)||void 0===n?void 0:n.layoutResult.colLeafNodes.length,u=null===(r=null==o?void 0:o.facet)||void 0===r?void 0:r.layoutResult.colNodes.filter((function(e){return jC(e)})),c=HC(u,a,l),d=c.colCount,h=c.trailingColCount;return!(!NC(GC(t).colIndex,d)&&!BC(GC(t).colIndex,h,s))||e.prototype.isColCellInRect.call(this,t)},t.prototype.clip=function(){this.scrollGroup.setClip({type:"rect",attrs:this.getScrollGroupClipBBox()})},t}(mI),AI=function(e){function t(t){var n,r=e.call(this,t)||this;r.frozenGroupInfo=((n={})[Wi.FROZEN_COL]={width:0},n[Wi.FROZEN_ROW]={height:0},n[Wi.FROZEN_TRAILING_ROW]={height:0},n[Wi.FROZEN_TRAILING_COL]={width:0},n),r.panelScrollGroupIndexes=[],r.onSortHandler=function(e){var t=r.spreadsheet,n=e;Array.isArray(e)||(n=[e]);var o=t.dataCfg.sortParams||[];n=n.map((function(e){var t,n,r=xa(xa({},e),{sortFieldId:null!==(t=e.sortKey)&&void 0!==t?t:e.sortFieldId}),i=null!==(n=o.find((function(e){return e.sortFieldId===r.sortFieldId})))&&void 0!==n?n:{};return xa(xa({},i),r)}));var i=o.filter((function(e){return!n.find((function(t){return t.sortFieldId===e.sortFieldId}))}));Jm(t.dataCfg,"sortParams",Oa(Oa([],Ea(i),!1),Ea(n),!1)),t.setDataCfg(t.dataCfg),t.render(!0),t.emit(fi.RANGE_SORTED,t.dataSet.getDisplayDataSet())},r.onFilterHandler=function(e){var t=r.spreadsheet,n=!e.filteredValues||0===e.filteredValues.length,o=t.dataCfg.filterParams||[],i=o.findIndex((function(t){return t.filterKey===e.filterKey}));-1!==i?n?o.splice(i,1):o[i]=e:o.push(e),Jm(t.dataCfg,"filterParams",o),t.render(!0),t.emit(fi.RANGE_FILTERED,t.dataSet.getDisplayDataSet())},r.initFrozenGroupPosition=function(){var e=r.getScrollOffset(),t=e.scrollY,n=e.scrollX,o=r.getPaginationScrollY();zC(r.spreadsheet.frozenRowGroup,r.cornerBBox.width-n,r.cornerBBox.height-o),zC(r.spreadsheet.frozenColGroup,r.cornerBBox.width,r.cornerBBox.height-t-o),zC(r.spreadsheet.frozenTrailingColGroup,r.cornerBBox.width,r.cornerBBox.height-t-o),zC(r.spreadsheet.frozenTopGroup,r.cornerBBox.width,r.cornerBBox.height-o)},r.getTotalHeightForRange=function(e,t){if(e<0||t<0)return 0;if(r.rowOffsets)return r.rowOffsets[t+1]-r.rowOffsets[e];for(var n=0,o=e;o<t+1;o++){n+=r.getDefaultCellHeight()}return n},r.getShadowFill=function(e){var t,n,o=Xu(r.cfg,"spreadsheet.theme.splitLine");return"l (".concat(e,") 0:").concat(null===(t=o.shadowColors)||void 0===t?void 0:t.left," 1:").concat(null===(n=o.shadowColors)||void 0===n?void 0:n.right)},r.renderFrozenGroupSplitLine=function(e,t){var n,o=r.panelBBox,i=o.width,a=o.height,l=o.viewportWidth,s=o.viewportHeight,u=r.cornerBBox.height,c=r.layoutResult.colNodes.filter((function(e){return jC(e)})),d=r.getCellRange(),h=d.end-d.start,f=hx(r.spreadsheet.options,c.length,h),p=f.frozenRowCount,v=f.frozenColCount,g=f.frozenTrailingColCount,m=f.frozenTrailingRowCount,y=Math.floor(t-r.getPaginationScrollY()),b=Math.max(0,Zf(r.viewCellWidths)-l),C=Math.max(0,r.viewCellHeights.getCellOffsetY(d.end+1)-r.viewCellHeights.getCellOffsetY(d.start)-s);null===(n=r.foregroundGroup.findById(Mi))||void 0===n||n.remove();var x,w,S,E,O=Xu(r.cfg,"spreadsheet.theme.splitLine"),I=r.foregroundGroup.addGroup({id:Mi,zIndex:4}),L={lineWidth:null==O?void 0:O.verticalBorderWidth,stroke:null==O?void 0:O.verticalBorderColor,opacity:null==O?void 0:O.verticalBorderColorOpacity},_={lineWidth:null==O?void 0:O.horizontalBorderWidth,stroke:null==O?void 0:O.horizontalBorderColor,opacity:null==O?void 0:O.horizontalBorderColorOpacity};v>0&&(gx(I,{x1:x=c.reduce((function(e,t,n){return n<v?e+t.width:e}),0),x2:x,y1:u,y2:u+(w=m>0?a:s)},xa({},L)),O.showShadow&&e>0&&I.addShape("rect",{attrs:{x:x,y:u,width:O.shadowWidth,height:w,fill:r.getShadowFill(0)}}));p>0&&(gx(I,{x1:0,x2:E=g>0?i:l,y1:S=u+r.getTotalHeightForRange(d.start,d.start+p-1),y2:S},xa({},_)),O.showShadow&&y>0&&I.addShape("rect",{attrs:{x:0,y:S,width:E,height:O.shadowWidth,fill:r.getShadowFill(90)}}));g>0&&(gx(I,{x1:x=c[c.length-g].x,x2:x,y1:u,y2:u+(w=m?a:s)},xa({},L)),O.showShadow&&Math.floor(e)<Math.floor(b)&&I.addShape("rect",{attrs:{x:x-O.shadowWidth,y:u,width:O.shadowWidth,height:w,fill:r.getShadowFill(180)}}));m>0&&(gx(I,{x1:0,x2:E=g>0?i:l,y1:S=r.panelBBox.maxY-r.getTotalHeightForRange(d.end-m+1,d.end),y2:S},xa({},_)),O.showShadow&&y<Math.floor(C)&&I.addShape("rect",{attrs:{x:0,y:S-O.shadowWidth,width:E,height:O.shadowWidth,fill:r.getShadowFill(270)}}));r.foregroundGroup.sort()},r.renderFrozenPanelCornerGroup=function(){var e=r.layoutResult.colNodes.filter((function(e){return jC(e)})),t=r.getCellRange(),n=hx(r.spreadsheet.options,e.length,t.end-t.start+1),o=n.frozenRowCount,i=n.frozenColCount,a=n.frozenTrailingRowCount,l=n.frozenTrailingColCount,s=HC(e,i,l),u=function(e,t,n){for(var r,o=e.frozenColCount,i=e.frozenRowCount,a=e.frozenTrailingColCount,l=e.frozenTrailingRowCount,s=((r={})[ji.TOP]=[],r[ji.BOTTOM]=[],r),u=0;u<o;u++){for(var c=n.start;c<n.start+i;c++)s[ji.TOP].push({x:u,y:c});if(l>0)for(c=0;c<l;c++){var d=n.end-c;s[ji.BOTTOM].push({x:u,y:d})}}for(u=0;u<a;u++){var h=t-1-u;for(c=n.start;c<n.start+i;c++)s[ji.TOP].push({x:h,y:c});if(l>0)for(c=0;c<l;c++)d=n.end-c,s[ji.BOTTOM].push({x:h,y:d})}return s}({frozenRowCount:o,frozenColCount:s.colCount,frozenTrailingRowCount:a,frozenTrailingColCount:s.trailingColCount},r.layoutResult.colLeafNodes.length,t);Object.keys(u).forEach((function(e){var t=u[e],n=r.spreadsheet[ta[e]];n&&t.forEach((function(e){r.addFrozenCell(e.x,e.y,n)}))}))},r.addFrozenCell=function(e,t,n){var o=r.layoutResult.getCellMeta(t,e);if(o.isFrozenCorner=!0,o){var i=r.cfg.dataCell(o);n.add(i)}},r.getRealFrozenColumns=function(e,t){var n,o=e,i=t;if(e||t){var a=r.layoutResult.colsHierarchy.getNodes();a=a.filter((function(e){return jC(e)})),o=(n=HC(a,e,t)).colCount,i=n.trailingColCount}return{colCount:o,trailingColCount:i}},r.addCell=function(e){var t=r.spreadsheet.options,n=t.frozenRowCount,o=t.frozenColCount,i=t.frozenTrailingRowCount,a=t.frozenTrailingColCount,l=r.layoutResult.colsHierarchy.getLeaves().length,s=r.getCellRange(),u=r.getRealFrozenColumns(o,a),c=u.colCount,d=u.trailingColCount,h=function(e,t,n,r){var o=t.frozenColCount,i=t.frozenRowCount,a=t.frozenTrailingColCount,l=t.frozenTrailingRowCount,s=e.colIndex,u=e.rowIndex;return DC(u,r.start,i)?ji.ROW:kC(u,r.end,l)?ji.TRAILING_ROW:NC(s,o)?ji.COL:BC(s,a,n)?ji.TRAILING_COL:ji.SCROLL}(e.getMeta(),{frozenRowCount:n,frozenColCount:c,frozenTrailingRowCount:i,frozenTrailingColCount:d},l,s),f=ta[h];f&&r.spreadsheet[f].add(e)},r.getFrozenOptions=function(){var e=r.layoutResult.colLeafNodes.length,t=r.getCellRange();return hx(r.cfg,e,t.end-t.start+1)};var o=r.spreadsheet;return o.on(fi.RANGE_SORT,r.onSortHandler),o.on(fi.RANGE_FILTER,r.onFilterHandler),r}return Ca(t,e),t.prototype.getContentHeight=function(){var e=this.getViewCellHeights().getTotalHeight,t=this.layoutResult.colsHierarchy;return e()+t.height},Object.defineProperty(t.prototype,"dataCellTheme",{get:function(){return this.spreadsheet.theme.dataCell.cell},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){var t=this.spreadsheet;t.off(fi.RANGE_SORT,this.onSortHandler),t.off(fi.RANGE_FILTER,this.onFilterHandler),e.prototype.destroy.call(this)},t.prototype.calculateCornerBBox=function(){var e=this.layoutResult.colsHierarchy,t=Math.floor(e.height);this.cornerBBox=new pI(this),this.cornerBBox.height=t,this.cornerBBox.maxY=t},t.prototype.doLayout=function(){var e=this,t=this.cfg,n=t.dataSet,r=t.spreadsheet,o=new wC,i=TI({isRowHeader:!1,facetCfg:this.cfg}),a=i.leafNodes,l=i.hierarchy;this.calculateColNodesCoordinate(a,l);var s={colNodes:l.getNodes(),colsHierarchy:l,rowNodes:o.getNodes(),rowsHierarchy:o,rowLeafNodes:o.getLeaves(),colLeafNodes:a,getCellMeta:function(t,o){var i,l,s=e.cfg.showSeriesNumber,u=a[o],c=e.getCellHeight(t),d=e.getCellRange(),h=hx(e.cfg,a.length,d.end-d.start+1).frozenTrailingRowCount,f=u.x,p=e.viewCellHeights.getCellOffsetY(t);return kC(t,d.end,h)&&(p=e.panelBBox.maxY-e.getTotalHeightForRange(t,d.end)),l=s&&u.field===Ci?t+1:n.getCellData({query:{col:u.field,rowIndex:t}}),{spreadsheet:r,x:f,y:p,width:u.width,height:c,data:(i={},i[u.field]=l,i),rowIndex:t,colIndex:o,isTotals:!1,colId:u.id,rowId:String(t),valueField:u.field,fieldValue:l,id:Iw(String(t),u.id)}},spreadsheet:r};return s},t.prototype.getAdaptiveColWidth=function(e){var t=this.cfg.cellCfg,n=this.cfg.showSeriesNumber;if(this.spreadsheet.getLayoutWidthType()!==ga.Compact){var r=this.getSeriesNumberWidth(),o=e.length-(n?1:0),i=this.getCanvasHW().width-r;return Math.max(null==t?void 0:t.width,i/Math.max(1,o))}return null==t?void 0:t.width},t.prototype.getColNodeHeight=function(e,t){var n=this.cfg.colCfg,r=nv(null==n?void 0:n.heightByField)[0]||(null==n?void 0:n.height);if(!t)return r;if(e.children&&e.children.length)return r;for(;e.parent;)t-=jC(e)?0:r,e=e.parent;return t},t.prototype.calculateColNodesCoordinate=function(e,t){var n,r,o,i,a,l,s=xC.blankNode(),u=t.getNodes();try{for(var c=Sa(t.sampleNodesForAllLevels),d=c.next();!d.done;d=c.next()){var h=d.value;h.height=this.getColNodeHeight(h),t.height+=h.height}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}for(var f=this.getAdaptiveColWidth(e),p=0,v=0;v<u.length;v++){(x=u[v]).isLeaf&&(x.colIndex=p,p+=1,x.x=s.x+s.width,x.width=this.calculateColLeafNodesWidth(x,f),LC(this.cfg,null,x),t.width+=x.width,s=x),0===x.level?x.y=0:x.y=null!==(a=(null===(o=x.parent)||void 0===o?void 0:o.y)+(null===(i=x.parent)||void 0===i?void 0:i.height))&&void 0!==a?a:0,x.height=this.getColNodeHeight(x,t.height)}var g=u.filter((function(e){return jC(e)})),m=hx(null===(l=this.spreadsheet)||void 0===l?void 0:l.options,g.length).frozenTrailingColCount;s=xC.blankNode();var y=this.getCanvasHW().width;if(m>0){var b=HC(g,0,m).trailingColCount,C=u.filter((function(e){return e.isLeaf}));for(v=1;v<=b;v++){var x;(x=C[C.length-v]).x=1===v?y-x.width:s.x-x.width,s=x}}this.autoCalculateColNodeWidthAndX(e)},t.prototype.autoCalculateColNodeWidthAndX=function(e){for(var t=null,n=e.slice(0);n.length;){var r=n.shift().parent;t!==r&&r&&(n.push(r),r.x=r.children[0].x,r.width=r.children.map((function(e){return e.width})).reduce((function(e,t){return e+t}),0),t=r)}},t.prototype.calculateColLeafNodesWidth=function(e,t){var n=this.cfg,r=n.colCfg,o=n.dataSet,i=n.spreadsheet,a=this.spreadsheet.getLayoutWidthType(),l=this.getCellDraggedWidth(e);if(zv(l))return l;var s,u=this.getCellCustomWidth(e,null==r?void 0:r.width);if(zv(u))return u;if(a===ga.Compact){var c=o.getDisplayDataSet(),d=o.getFieldFormatter(e.field),h=ug(null==c?void 0:c.slice(0,50).map((function(t){var n;return"".concat(null!==(n=null==d?void 0:d(t[e.field]))&&void 0!==n?n:t[e.field])})),(function(e){return i.measureTextWidthRoughly(e)}));VC.getInstance().logger("Max Label In Col:",e.field,h);var f=i.theme.colCell.bolderText,p=i.theme.dataCell,v=p.text,g=p.cell,m=i.measureTextWidth(h,v)+g.padding.left+g.padding.right+1,y=i.measureTextWidth(e.label,f)+RS(this.spreadsheet,e,i.theme.colCell);s=Math.max(y,m)}else s=t;return e.field===Ci&&(s=this.getSeriesNumberWidth()),s},t.prototype.getDefaultCellHeight=function(){var e=this.cfg.cellCfg;return null==e?void 0:e.height},t.prototype.getCellHeight=function(e){if(this.rowOffsets){var t=Xu(this.spreadsheet,"options.style.rowCfg.heightByField",{}),n=null==t?void 0:t[String(e)];if(zv(n))return n}return this.getDefaultCellHeight()},t.prototype.initRowOffsets=function(){var e=this,t=this.cfg.dataSet,n=Xu(this.spreadsheet,"options.style.rowCfg.heightByField",{});if(Object.keys(n).length){var r=t.getDisplayDataSet();this.rowOffsets=[0];var o=0;r.forEach((function(t,r){var i,a=null!==(i=null==n?void 0:n[String(r)])&&void 0!==i?i:e.getDefaultCellHeight(),l=o+a;e.rowOffsets.push(l),o=l}))}},t.prototype.getViewCellHeights=function(){var e=this,t=this.cfg.dataSet;this.initRowOffsets();var n=this.getDefaultCellHeight();return{getTotalHeight:function(){return e.rowOffsets?Zf(e.rowOffsets):n*t.getDisplayDataSet().length},getCellOffsetY:function(t){if(t<=0)return 0;if(e.rowOffsets)return e.rowOffsets[t];for(var r=0,o=0;o<t;o++)r+=n;return r},getTotalLength:function(){return t.getDisplayDataSet().length},getIndexRange:function(t,r){if(e.rowOffsets)return oI(e.rowOffsets,t,r);var o=Math.floor(t/n),i=r%n==0?r/n-1:Math.floor(r/n);return{start:Math.max(0,o),end:Math.max(0,i)}}}},t.prototype.init=function(){e.prototype.init.call(this);var t=this.panelBBox,n=t.width,r=t.height;this.spreadsheet.panelGroup.setClip({type:"rect",attrs:{x:0,y:this.cornerBBox.height,width:n,height:r}})},t.prototype.getColHeader=function(){if(!this.columnHeader){var e=this.panelBBox,t=e.x,n=e.width,r=e.viewportHeight,o=e.viewportWidth;return new RI({width:n,height:this.cornerBBox.height,viewportWidth:o,viewportHeight:r,cornerWidth:this.cornerBBox.width,position:{x:t,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},t.prototype.updateRowResizeArea=function(){var e=this.spreadsheet,t=e.foregroundGroup,n=Xu(e.options,"interaction.resize");if(Mv(n)?n:null==n?void 0:n.rowCellVertical){var r=t.findById(_i),o=t.findById(Ti);r&&r.set("children",[]),o&&o.set("children",[]),lI(this.panelGroup.getChildren(),BS).filter((function(e){return e.shouldDrawResizeArea()})).forEach((function(e){e.drawResizeArea()}))}},t.prototype.render=function(){this.calculateFrozenGroupInfo(),this.renderFrozenPanelCornerGroup(),e.prototype.render.call(this),this.initFrozenGroupPosition()},t.prototype.calculateFrozenGroupInfo=function(){var e=this.getFrozenOptions(),t=e.frozenColCount,n=e.frozenRowCount,r=e.frozenTrailingColCount,o=e.frozenTrailingRowCount,i=this.layoutResult.colNodes.filter((function(e){return jC(e)})),a=this.viewCellHeights,l=this.getCellRange(),s=this.frozenGroupInfo,u=s.frozenCol,c=s.frozenTrailingCol,d=s.frozenRow,h=s.frozenTrailingRow;t>0&&(u.width=i[t-1].x+i[t-1].width-0,u.range=[0,t-1]),n>0&&(d.height=a.getCellOffsetY(l.start+n)-a.getCellOffsetY(l.start),d.range=[l.start,l.start+n-1]),r>0&&(c.width=i[i.length-1].x-i[i.length-r].x+i[i.length-1].width,c.range=[i.length-r,i.length-1]),o>0&&(h.height=a.getCellOffsetY(l.end+1)-a.getCellOffsetY(l.end+1-o),h.range=[l.end-o+1,l.end])},t.prototype.getRowHeader=function(){return null},t.prototype.getSeriesNumberHeader=function(){return null},t.prototype.translateRelatedGroups=function(t,n,r){var o=this,i=this.spreadsheet,a=i.frozenColGroup,l=i.frozenTrailingColGroup;[i.frozenRowGroup,i.frozenTrailingRowGroup].forEach((function(e){FC(e,o.cornerBBox.width-t)})),[a,l].forEach((function(e){!function(e,t){var n,r=null==e?void 0:e.getMatrix(),o=null!==(n=null==r?void 0:r[7])&&void 0!==n?n:0;null==e||e.translate(0,t-o)}(e,o.cornerBBox.height-n)})),e.prototype.translateRelatedGroups.call(this,t,n,r),this.updateRowResizeArea(),this.renderFrozenGroupSplitLine(t,n)},t.prototype.calculateXYIndexes=function(e,t){var n=this.layoutResult.colLeafNodes.length,r=this.getCellRange(),o=this.panelBBox,i=o.viewportHeight,a=o.viewportWidth,l=this.getFrozenOptions(),s=l.frozenColCount,u=l.frozenRowCount,c=l.frozenTrailingColCount,d=l.frozenTrailingRowCount,h={width:a,height:i,x:0,y:0};if(c>0||s>0){var f=this.frozenGroupInfo,p=f.frozenTrailingCol,v=f.frozenCol;h.width-=p.width+v.width,h.x+=v.width}if(d>0||u>0){var g=this.frozenGroupInfo,m=g.frozenRow,y=g.frozenTrailingRow;h.height<m.height+y.height?(h.height=0,h.y=0):(h.height-=m.height+y.height,h.y+=m.height)}var b=PC(e,t,this.viewCellWidths,this.viewCellHeights,h,this.getRealScrollX(this.cornerBBox.width));this.panelScrollGroupIndexes=b;var C=this.getRealFrozenColumns(s,c);return function(e,t,n,r){var o=t.frozenColCount,i=t.frozenRowCount,a=t.frozenTrailingColCount,l=t.frozenTrailingRowCount,s=Oa([],Ea(e),!1);NC(s[0],o)&&(s[0]=o),BC(s[1],a,n)&&(s[1]=n-a-1),DC(s[2],r.start,i)&&(s[2]=r.start+i),kC(s[3],r.end,l)&&(s[3]=r.end-l);var u=Oa([],Ea(s),!1);u[2]=r.start,u[3]=r.start+i-1;var c=Oa([],Ea(s),!1);c[0]=0,c[1]=o-1;var d=Oa([],Ea(s),!1);d[2]=r.end+1-l,d[3]=r.end;var h=Oa([],Ea(s),!1);return h[0]=n-a,h[1]=n-1,{center:s,frozenRow:u,frozenCol:c,frozenTrailingCol:h,frozenTrailingRow:d}}(b,{frozenColCount:C.colCount,frozenRowCount:u,frozenTrailingColCount:C.trailingColCount,frozenTrailingRowCount:d},n,r)},t.prototype.clip=function(e,t){var n,r,o=this.layoutResult.colLeafNodes,i=this.getPaginationScrollY(),a=this.spreadsheet,l=a.frozenRowGroup,s=a.frozenColGroup,u=a.frozenTrailingColGroup,c=a.frozenTrailingRowGroup,d=a.panelScrollGroup,h=s.getBBox().width,f=l.getBBox().height,p=u.getBBox(),v=c.getBBox().height,g=this.panelBBox.width-h-u.getBBox().width,m=this.panelBBox.height-f-v;d.setClip({type:"rect",attrs:{x:e+h,y:t+f,width:g,height:m}}),l.setClip({type:"rect",attrs:{x:e+h,y:i,width:g,height:f}}),c.setClip({type:"rect",attrs:{x:e+h,y:c.getBBox().minY,width:g,height:v}});var y={y:t+f,height:m};s.setClip({type:"rect",attrs:xa(xa({},y),{x:0,width:h})}),u.setClip({type:"rect",attrs:xa(xa({},y),{x:p.minX,width:p.width})});var b=this.spreadsheet.foregroundGroup.findById(_i);b&&b.setClip({type:"rect",attrs:{x:0,y:f+this.cornerBBox.height,width:null!==(r=null===(n=null==o?void 0:o[0])||void 0===n?void 0:n.width)&&void 0!==r?r:0,height:m}})},t.prototype.updatePanelScrollGroup=function(){var t=this;e.prototype.updatePanelScrollGroup.call(this),[Wi.FROZEN_COL,Wi.FROZEN_ROW,Wi.FROZEN_TRAILING_COL,Wi.FROZEN_TRAILING_ROW].forEach((function(e){if(t.frozenGroupInfo[e].range){var n=[],r=[];if(e.toLowerCase().includes("row")){var o=Ea(t.frozenGroupInfo[e].range,2),i=o[0],a=o[1];if(n=t.gridInfo.cols,r=uI(i,a,t.viewCellHeights),e===Wi.FROZEN_TRAILING_ROW){var l=t.spreadsheet.frozenTrailingRowGroup.getBBox().minY;r=function(e,t,n,r){var o=uI(e,t,r),i=r.getCellOffsetY(e);return o.map((function(e){return e-i+n}))}(i,a,Math.ceil(l),t.viewCellHeights)}}else{var s=Ea(t.frozenGroupInfo[e].range,2),u=s[0],c=s[1],d=t.layoutResult.colNodes.filter((function(e){return jC(e)}));n=sI(u,c,d),r=t.gridInfo.rows}t.spreadsheet["".concat(e,"Group")].updateGrid({cols:n,rows:r},"".concat(e,"Group"))}}))},t}(wI),NI=function(e){function t(t){var n=e.call(this,t)||this;return n.gridInfo={cols:[],rows:[]},n.updateGrid=function(e,t){void 0===t&&(t=Di);var r=n.getBBox(),o=n.s2,i=o.theme,a=o.isTableMode,l=i.dataCell.cell,s=a()&&(t===Di||t===Si);n.gridGroup&&n.findById(t)||(n.gridGroup=n.addGroup({id:t})),n.gridGroup.clear(),n.gridInfo=e,s&&n.gridInfo.cols.unshift(0);var u=l.verticalBorderWidth,c=l.verticalBorderWidth/2;n.gridInfo.cols.forEach((function(e){gx(n.gridGroup,{x1:e,x2:e,y1:Math.ceil(r.minY+c),y2:Math.floor(r.maxY-c)},{stroke:l.verticalBorderColor,strokeOpacity:l.verticalBorderColorOpacity,lineWidth:u,lineCap:Gi})}));var d=l.horizontalBorderWidth,h=l.horizontalBorderWidth/2;n.gridInfo.rows.forEach((function(e){gx(n.gridGroup,{x1:Math.ceil(r.minX+h),x2:Math.floor(r.maxX-h),y1:e,y2:e},{stroke:l.horizontalBorderColor,strokeOpacity:l.horizontalBorderColorOpacity,lineWidth:d,lineCap:Gi})})),n.gridGroup.toFront()},n.s2=t.s2,n}return Ca(t,e),t}(Io),BI=function(e){function t(t){var n=e.call(this,t)||this;return n.initMergedCellsGroup(),n}return Ca(t,e),t.prototype.initMergedCellsGroup=function(){this.mergedCellsGroup&&this.findById(xi)||(this.mergedCellsGroup=this.addGroup({id:xi}))},t.prototype.updateMergedCells=function(){this.initMergedCellsGroup(),zw(this.s2,this.mergedCellsGroup),this.mergedCellsGroup.toFront()},t.prototype.addMergeCell=function(e){var t;null===(t=this.mergedCellsGroup)||void 0===t||t.add(e)},t.prototype.update=function(e){this.updateGrid(e),this.updateMergedCells()},t}(NI),DI=function(){function e(e){var t=this;this.isLinkFieldText=function(e){var n=t.getCellAppendInfo(e);return null==n?void 0:n.isLinkFieldText},this.spreadsheet=e,this.bindEvents()}return e.prototype.getCellAppendInfo=function(e){var t,n;return(null===(t=null==e?void 0:e.attr)||void 0===t?void 0:t.call(e,"appendInfo"))||(null===(n=null==e?void 0:e.attrs)||void 0===n?void 0:n.appendInfo)||{}},e.prototype.reset=function(){},e}(),kI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.bindEvents=function(){this.bindDataCellClick()},t.prototype.bindDataCellClick=function(){var e=this;this.spreadsheet.on(fi.DATA_CELL_CLICK,(function(t){var n;t.stopPropagation();var r=e.spreadsheet.interaction;if(r.clearHoverTimer(),!r.hasIntercepts([ia.CLICK]))if(e.isLinkFieldText(t.target))e.emitLinkFieldClickEvent(t);else{var o=e.spreadsheet.getCell(t.target),i=o.getMeta();if(i)if(r.addIntercepts([ia.HOVER]),r.isSelectedCell(o))1===(null===(n=t.originalEvent)||void 0===n?void 0:n.detail)&&r.reset();else{r.changeState({cells:[zS(o)],stateName:Ji.SELECTED,onUpdateCells:jS}),e.spreadsheet.emit(fi.GLOBAL_SELECTED,[o]),e.showTooltip(t,i);var a=i.rowId,l=i.colId,s=i.spreadsheet,u=r.getSelectedCellHighlight(),c=u.colHeader,d=u.rowHeader;if(c&&ww(l,r.getAllColHeaderCells(),Ji.SELECTED),d&&a){var h=function(e,t){var n=t.interaction,r=t.facet,o=t.options;if(t.isTableMode()){if(!o.showSeriesNumber)return[];var i=r.layoutResult.colLeafNodes[0].id,a=Iw(String(e.rowIndex),i),l=[],s=n.getAllCells().find((function(e){return e.getMeta().id===a}));return s&&s instanceof DS&&l.push(s),l}return xw(e.rowId,n.getAllRowHeaderCells(),t.isHierarchyTreeType())}(i,s);tp(h,(function(e){e.updateByState(Ji.SELECTED)}))}}}}))},t.prototype.getTooltipOperator=function(e,t){var n=this,r={key:"trend",text:dC("趋势"),icon:"Trend"},o=this.spreadsheet.getCell(e.target),i=XO(this.spreadsheet,e).operation,a=i.trend&&xa(xa({},r),{onClick:function(){n.spreadsheet.emit(fi.DATA_CELL_TREND_ICON_CLICK,xa(xa({},t),{record:n.spreadsheet.isTableMode()?n.spreadsheet.dataSet.getCellData({query:{rowIndex:t.rowIndex}}):void 0})),n.spreadsheet.hideTooltip()}});return qO(i,{defaultMenus:[a],cell:o})},t.prototype.showTooltip=function(e,t){var n=t.data,r=t.isTotals,o=void 0!==r&&r,i=t.value,a=t.fieldValue,l=t.field,s=t.valueField,u=n,c=this.spreadsheet.isTableMode(),d=[(c?xa(xa({},u),{value:i||a,valueField:l||s}):u)||xa(xa({},t.rowQuery),t.colQuery)],h=this.getTooltipOperator(e,t);this.spreadsheet.showTooltipWithInfo(e,d,{isTotals:o,operator:h,enterable:!0,hideSummary:!0,showSingleTips:c})},t.prototype.emitLinkFieldClickEvent=function(e){var t=this.getCellAppendInfo(e.target).cellData,n=t.valueField,r=t.data;this.spreadsheet.emit(fi.GLOBAL_LINK_FIELD_JUMP,{key:n,cellData:t,record:Object.assign({rowIndex:t.rowIndex},r)})},t}(DI),PI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.bindEvents=function(){this.bindDataCellClick()},t.prototype.bindDataCellClick=function(){var e=this;this.spreadsheet.on(fi.MERGED_CELLS_CLICK,(function(t){t.stopPropagation();var n=e.spreadsheet.interaction;n.hasIntercepts([ia.CLICK])||n.addIntercepts([ia.HOVER])}))},t}(DI),zI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isMultiSelection=!1,t.handleRowColClick=function(e){if(e.stopPropagation(),!t.isLinkFieldText(e.target)){var n=t.spreadsheet,r=n.interaction,o=n.options,i=t.spreadsheet.getCell(e.target),a=!(!o.interaction.multiSelection||!t.isMultiSelection);r.selectHeaderCell({cell:i,isMultiSelection:a})&&t.showTooltip(e)}},t.getHideColumnField=function(e){return t.spreadsheet.isTableMode()?e.field:e.id},t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindKeyboardUp(),this.bindColCellClick(),this.bindRowCellClick(),this.bindTableColExpand(),this.bindMouseMove()},t.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([ia.CLICK])},t.prototype.bindKeyboardDown=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_KEYBOARD_DOWN,(function(t){kS(t)&&(e.isMultiSelection=!0)}))},t.prototype.bindKeyboardUp=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_KEYBOARD_UP,(function(t){kS(t)&&e.reset()}))},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_MOUSE_MOVE,(function(t){e.isMultiSelection&&!PS(t)&&e.reset()}))},t.prototype.bindRowCellClick=function(){var e=this;this.spreadsheet.on(fi.ROW_CELL_CLICK,(function(t){e.handleRowColClick(t)}))},t.prototype.bindColCellClick=function(){var e=this;this.spreadsheet.on(fi.COL_CELL_CLICK,(function(t){e.handleRowColClick(t)}))},t.prototype.showTooltip=function(e){var t=XO(this.spreadsheet,e),n=t.operation;if(t.showTooltip){var r=this.spreadsheet.interaction,o=r.isSelectedState()?Bp(r.getActiveCells(),(function(e){var t=e.getMeta();return mu({},t.query||{},ym(t,["colIndex","rowIndex"]))})):[],i=this.getTooltipOperator(e,n);this.spreadsheet.showTooltipWithInfo(e,o,{showSingleTips:!0,operator:i})}},t.prototype.getTooltipOperator=function(e,t){var n=this,r=this.spreadsheet.getCell(e.target),o=r.getMeta(),i=r.cellType===ea.COL_CELL,a=1===this.spreadsheet.getColumnLeafNodes().length,l={key:"hiddenColumns",text:dC("隐藏"),icon:"EyeOutlined"},s=i&&!a&&o.isLeaf&&t.hiddenColumns&&xa(xa({},l),{onClick:function(){n.hideSelectedColumns()}});return qO(t,{defaultMenus:[s],cell:r})},t.prototype.bindTableColExpand=function(){var e=this;this.spreadsheet.on(fi.LAYOUT_COLS_EXPANDED,(function(t){e.handleExpandIconClick(t)}))},t.prototype.hideSelectedColumns=function(){var e=this.spreadsheet.interaction.getActiveCells().map((function(e){return e.getMeta()})).map(this.getHideColumnField);jw(this.spreadsheet,e,!0)},t.prototype.handleExpandIconClick=function(e){var t=this.spreadsheet.store.get("hiddenColumnsDetail",[]),n=(Rp(t,(function(t){var n=t.displaySiblingNode;return Ww(n,e.id)}))||{}).hideColumnNodes,r=void 0===n?[]:n,o=this.spreadsheet.options.interaction.hiddenColumnFields,i=r.map(this.getHideColumnField),a=Uf(o,i),l=t.filter((function(t){var n=t.displaySiblingNode;return!Ww(n,e.id)}));this.spreadsheet.setOptions({interaction:{hiddenColumnFields:a}}),this.spreadsheet.store.set("hiddenColumnsDetail",l),this.spreadsheet.interaction.reset(),this.spreadsheet.render(!1)},t}(DI),FI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getRowData=function(e){var n,r=e.getHeadLeafChild(),o=t.spreadsheet.dataSet.getMultiData(null==r?void 0:r.query,null==r?void 0:r.isTotals,!0)[0];return xa(xa({},o),{rowIndex:null!==(n=e.rowIndex)&&void 0!==n?n:r.rowIndex})},t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindRowCellClick()},t.prototype.bindRowCellClick=function(){var e=this;this.spreadsheet.on(fi.ROW_CELL_CLICK,(function(t){if(!e.spreadsheet.interaction.hasIntercepts([ia.CLICK])&&e.isLinkFieldText(t.target)){var n=e.getCellAppendInfo(t.target).cellData,r=n.key,o=e.getRowData(n);e.spreadsheet.emit(fi.GLOBAL_LINK_FIELD_JUMP,{key:r,cellData:n,record:o})}}))},t}(DI),HI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.bindEvents=function(){this.bindCornerCellClick()},t.prototype.bindCornerCellClick=function(){var e=this;this.spreadsheet.on(fi.CORNER_CELL_CLICK,(function(t){var n,r=e.spreadsheet.interaction,o=e.spreadsheet.getCell(t.target);if(o){var i=o.getMeta(),a=e.getRowNodesByField(null==i?void 0:i.field),l=null===(n=a[0])||void 0===n?void 0:n.belongsCell,s=e.getRowCells(a);if(l&&r.isSelectedCell(l))return r.reset(),void e.spreadsheet.emit(fi.GLOBAL_SELECTED,r.getActiveCells());Bv(a)||Bv(s)||(r.addIntercepts([ia.HOVER]),r.changeState({cells:s,stateName:Ji.SELECTED}),r.highlightNodes(a),e.showTooltip(t),e.spreadsheet.emit(fi.GLOBAL_SELECTED,r.getActiveCells()))}}))},t.prototype.getRowNodesByField=function(e){return this.spreadsheet.getRowNodes().filter((function(t){return t.field===e}))},t.prototype.getRowCells=function(e){return e.map((function(e){return{id:e.id,colIndex:-1,rowIndex:-1,type:ea.ROW_CELL}}))},t.prototype.showTooltip=function(e){var t=this.spreadsheet.interaction.getActiveCells();this.spreadsheet.showTooltipWithInfo(e,[],{data:{summaries:[{selectedData:t,name:"",value:null}]}})},t}(DI),$I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.bindEvents=function(){this.bindCornerCellHover(),this.bindDataCellHover(),this.bindRowCellHover(),this.bindColCellHover()},t.prototype.updateRowColCells=function(e){var t=e.rowId,n=e.colId,r=this.spreadsheet.interaction,o=r.getHoverHighlight(),i=o.rowHeader;(o.colHeader&&ww(n,r.getAllColHeaderCells(),Ji.HOVER),i&&t)&&tp(xw(t,r.getAllRowHeaderCells(),this.spreadsheet.isHierarchyTreeType()),(function(e){e.updateByState(Ji.HOVER)}))},t.prototype.changeStateToHoverFocus=function(e,t,n){var r,o=this,i=this.spreadsheet.interaction,a=this.spreadsheet.options.interaction.hoverFocus;i.clearHoverTimer();var l=function(){if(!i.hasIntercepts([ia.HOVER])){i.changeState({cells:[zS(e)],stateName:Ji.HOVER_FOCUS});var r=o.spreadsheet.isTableMode(),a={isTotals:n.isTotals,enterable:!0,hideSummary:!0,showSingleTips:r},l=i.getHoverHighlight(),s=l.rowHeader,u=l.colHeader;(s||u)&&o.updateRowColCells(n);var c=o.getCellData(n,r);o.spreadsheet.showTooltipWithInfo(t,c,a)}},s=800;if(Mv(a)||(s=null!==(r=null==a?void 0:a.duration)&&void 0!==r?r:800),0===s)l();else{var u=window.setTimeout((function(){return l()}),s);i.setHoverTimer(u)}},t.prototype.handleHeaderHover=function(e){var t=this.spreadsheet.getCell(e.target);if(!Bv(t)){var n=this.spreadsheet.interaction;n.clearHoverTimer(),n.isActiveCell(t)||(n.changeState({cells:[zS(t)],stateName:Ji.HOVER}),t.update(),this.showEllipsisTooltip(e,t))}},t.prototype.showEllipsisTooltip=function(e,t){if(t&&t.getActualText()!==t.getFieldValue()){var n=t.getMeta(),r={isTotals:n.isTotals,enterable:!0,hideSummary:!0,showSingleTips:true,enableFormat:this.spreadsheet.isPivotMode()},o=this.getCellData(n,true);this.spreadsheet.showTooltipWithInfo(e,o,r)}},t.prototype.getCellData=function(e,t){void 0===e&&(e={});var n=e.data,r=e.query,o=e.value,i=e.field,a=e.fieldValue,l=e.valueField,s=e.rowQuery,u=e.colQuery,c=n;return t?[xa(xa({},r),{value:o||a,valueField:i||l})]:[c||xa(xa({},s),u)]},t.prototype.bindDataCellHover=function(){var e=this;this.spreadsheet.on(fi.DATA_CELL_HOVER,(function(t){var n=e.spreadsheet.getCell(t.target);if(!Bv(n)){var r=e.spreadsheet,o=r.interaction,i=r.options.interaction,a=null==n?void 0:n.getMeta();if(!o.isActiveCell(n)){o.changeState({cells:[zS(n)],stateName:Ji.HOVER});var l=o.getHoverHighlight(),s=l.rowHeader,u=l.colHeader;(s||u)&&e.updateRowColCells(a),i.hoverFocus&&e.changeStateToHoverFocus(n,t,a)}}}))},t.prototype.bindRowCellHover=function(){var e=this;this.spreadsheet.on(fi.ROW_CELL_HOVER,(function(t){e.handleHeaderHover(t)}))},t.prototype.bindColCellHover=function(){var e=this;this.spreadsheet.on(fi.COL_CELL_HOVER,(function(t){e.handleHeaderHover(t)}))},t.prototype.bindCornerCellHover=function(){var e=this;this.spreadsheet.on(fi.CORNER_CELL_HOVER,(function(t){e.handleHeaderHover(t)}))},t}(DI),jI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.displayedCells=[],t.brushRangeCells=[],t.brushSelectionStage=na.UN_DRAGGED,t.brushSelectionMinimumMoveDistance=5,t.scrollAnimationComplete=!0,t.mouseMoveDistanceFromCanvas=0,t.setMoveDistanceFromCanvas=function(e,n,r){var o=0;if(n&&(o=e.x),r){var i=e.y;o=n?Math.max(i,o):i}t.mouseMoveDistanceFromCanvas=Math.abs(o)},t.formatBrushPointForScroll=function(e,n){var r,o,i,a;void 0===n&&(n=!1);var l=e.x,s=e.y,u=t.spreadsheet.facet,c=n?u.cornerBBox:u.panelBBox,d=c.minX,h=c.maxX,f=u.panelBBox,p=f.minY,v=f.maxY,g=(null===(r=t.endBrushPoint)||void 0===r?void 0:r.x)+l,m=(null===(o=t.endBrushPoint)||void 0===o?void 0:o.y)+s,y=!0,b=!0,C=null===(a=null===(i=u.vScrollBar)||void 0===i?void 0:i.getBBox())||void 0===a?void 0:a.width;return g>h?g=h-C-2:g<d?g=d+2:y=!1,m>v?m=v-2:m<=p?m=p+2:b=!1,{x:{value:g,needScroll:y},y:{value:m,needScroll:b}}},t.rectanglesIntersect=function(e,t){return e.maxX>t.minX&&e.minX<t.maxX&&e.minY<t.maxY&&e.maxY>t.minY},t.autoScrollIntervalId=null,t.autoScrollConfig=Th(ha),t.validateYIndex=function(e){var n,r,o=t.spreadsheet.facet,i=o.frozenGroupInfo,a=0,l=null===(n=null==i?void 0:i.frozenRow)||void 0===n?void 0:n.range;if(l&&(a=l[1]+1),e<a)return null;var s=o.getCellRange().end,u=null===(r=null==i?void 0:i.frozenTrailingRow)||void 0===r?void 0:r.range;return u&&(s=u[0]-1),e>s?null:e},t.validateXIndex=function(e){var n,r,o=t.spreadsheet.facet,i=o.frozenGroupInfo,a=0,l=null===(n=null==i?void 0:i.frozenCol)||void 0===n?void 0:n.range;if(l&&(a=l[1]+1),e<a)return null;var s=o.layoutResult.colLeafNodes.length-1,u=null===(r=null==i?void 0:i.frozenTrailingCol)||void 0===r?void 0:r.range;return u&&(s=u[0]-1),e>s?null:e},t.adjustNextColIndexWithFrozen=function(e,n){var r=t.spreadsheet,o=r.facet,i=r.dataSet,a=r.options,l=i.getDisplayDataSet().length,s=o.layoutResult.colLeafNodes.length,u=hx(a,s,l),c=u.frozenTrailingColCount,d=u.frozenColCount,h=o.panelScrollGroupIndexes;return c>0&&n===ca.SCROLL_DOWN&&BC(e,c,s)?h[1]:d>0&&n===ca.SCROLL_UP&&NC(e,d)?h[0]:e},t.adjustNextRowIndexWithFrozen=function(e,n){var r=t.spreadsheet,o=r.facet,i=r.dataSet,a=r.options,l=i.getDisplayDataSet().length,s=o.layoutResult.colLeafNodes.length,u=o.getCellRange(),c=hx(a,s,l),d=c.frozenTrailingRowCount,h=c.frozenRowCount,f=o.panelScrollGroupIndexes;return d>0&&n===ca.SCROLL_DOWN&&kC(e,u.end,d)?f[3]:h>0&&n===ca.SCROLL_UP&&DC(e,u.start,h)?f[2]:e},t.getWillScrollRowIndexDiff=function(e){return e===ca.SCROLL_DOWN?da.SCROLL_DOWN:da.SCROLL_UP},t.getDefaultWillScrollToRowIndex=function(e){var n=t.adjustNextRowIndexWithFrozen(t.endBrushPoint.rowIndex,e)+t.getWillScrollRowIndexDiff(e);return t.validateYIndex(n)},t.getWillScrollToRowIndex=function(e){return t.getDefaultWillScrollToRowIndex(e)},t.getNextScrollDelta=function(e){var n=t.spreadsheet.facet.getScrollOffset(),r=n.scrollX,o=n.scrollY,i=0,a=0;if(e.y.scroll){var l=e.y.value>0?ca.SCROLL_DOWN:ca.SCROLL_UP,s=t.getWillScrollToRowIndex(l),u=VS(s,l,t.spreadsheet)-o;a=$v(s)||$v(u)||Number.isNaN(u)?0:u}if(e.x.scroll){l=e.x.value>0?ca.SCROLL_DOWN:ca.SCROLL_UP;var c=t.adjustNextColIndexWithFrozen(t.endBrushPoint.colIndex,l),d=t.validateXIndex(c+(e.x.value>0?1:-1));i=$v(d)?0:GS(d,l,t.spreadsheet)-r}return{x:i,y:a}},t.onScrollAnimationComplete=function(){t.scrollAnimationComplete=!0,t.brushSelectionStage!==na.UN_DRAGGED&&t.renderPrepareSelected(t.endBrushPoint)},t.autoScroll=function(e){if(void 0===e&&(e=!1),t.brushSelectionStage!==na.UN_DRAGGED&&t.scrollAnimationComplete){var n=t.autoScrollConfig,r=t.spreadsheet.facet.getScrollOffset(),o=e?"rowHeaderOffsetX":"offsetX",i={rowHeaderOffsetX:{value:r.rowHeaderScrollX,animate:!0},offsetX:{value:r.scrollX,animate:!0},offsetY:{value:r.scrollY,animate:!0}},a=t.getNextScrollDelta(n),l=a.x,s=a.y;if(0!==s||0!==l){if(n.y.scroll&&(i.offsetY.value+=s),n.x.scroll){var u=i[o];u.value+=l,u.value<0&&(u.value=0)}t.scrollAnimationComplete=!1;var c=n.x.scroll?1:3,d=Math.max(16,300-t.mouseMoveDistanceFromCanvas*c);t.spreadsheet.facet.scrollWithAnimation(i,d,t.onScrollAnimationComplete)}else t.clearAutoScroll()}},t.handleScroll=Dy((function(e,n,r){if(void 0===r&&(r=!1),t.brushSelectionStage!==na.UN_DRAGGED){var o=t.formatBrushPointForScroll({x:e,y:n},r),i=o.x,a=i.value,l=i.needScroll,s=o.y,u=s.value,c=s.needScroll,d=t.autoScrollConfig;c&&(d.y.value=n,d.y.scroll=!0),l&&(d.x.value=e,d.x.scroll=!0),t.setMoveDistanceFromCanvas({x:e,y:n},l,c),t.renderPrepareSelected({x:a,y:u}),(c||l)&&(t.clearAutoScroll(),t.autoScroll(r),t.autoScrollIntervalId=setInterval((function(){t.autoScroll(r)}),16))}}),30),t.clearAutoScroll=function(){t.autoScrollIntervalId&&(clearInterval(t.autoScrollIntervalId),t.autoScrollIntervalId=null,t.resetScrollDelta())},t.onUpdateCells=function(e,t){return t()},t.showPrepareSelectedCells=function(){t.brushRangeCells=t.getBrushRangeCells(),t.spreadsheet.interaction.changeState({cells:Bp(t.brushRangeCells,(function(e){return zS(e)})),stateName:Ji.PREPARE_SELECT,force:!0,onUpdateCells:t.onUpdateCells})},t.renderPrepareSelected=function(e){var n=e.x,r=e.y,o=t.spreadsheet.container.getShape(n,r),i=t.spreadsheet.getCell(o);if(i&&(i instanceof Tw||i instanceof TS||i instanceof vS)){var a=i.getMeta(),l=a.rowIndex,s=a.colIndex;t.endBrushPoint={x:n,y:r,rowIndex:l,colIndex:s};var u=t.spreadsheet.interaction;u.addIntercepts([ia.HOVER]),u.clearStyleIndependent(),t.isValidBrushSelection()&&(t.showPrepareSelectedCells(),t.updatePrepareSelectMask())}},t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},t.prototype.getPrepareSelectMaskTheme=function(){var e;return null===(e=this.spreadsheet.theme)||void 0===e?void 0:e.prepareSelectMask},t.prototype.initPrepareSelectMaskShape=function(){var e=this.spreadsheet.foregroundGroup;if(e){e.removeChild(this.prepareSelectMaskShape);var t=this.getPrepareSelectMaskTheme();this.prepareSelectMaskShape=e.addShape("rect",{visible:!1,attrs:{width:0,height:0,x:0,y:0,fill:null==t?void 0:t.backgroundColor,fillOpacity:null==t?void 0:t.backgroundOpacity,zIndex:5},capture:!1})}},t.prototype.setBrushSelectionStage=function(e){this.brushSelectionStage=e},t.prototype.isPointInCanvas=function(e){var t=this.spreadsheet.facet.getCanvasHW(),n=t.height,r=t.width,o=this.spreadsheet.facet.panelBBox,i=o.minX,a=o.minY;return e.x>i&&e.x<r&&e.y>a&&e.y<n},t.prototype.resetDrag=function(){this.hidePrepareSelectMaskShape(),this.setBrushSelectionStage(na.UN_DRAGGED)},t.prototype.isValidBrushSelection=function(){var e=this.getBrushRange(),t=e.start,n=e.end;return n.x-t.x>this.brushSelectionMinimumMoveDistance||n.y-t.y>this.brushSelectionMinimumMoveDistance},t.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getPanelGroupAllDataCells()},t.prototype.updatePrepareSelectMask=function(){var e=this.getBrushRange(),t=this.getPrepareSelectMaskPosition(e),n=t.x,r=t.y;this.prepareSelectMaskShape.attr({x:n,y:r,width:e.width,height:e.height}),this.prepareSelectMaskShape.show()},t.prototype.hidePrepareSelectMaskShape=function(){var e;null===(e=this.prepareSelectMaskShape)||void 0===e||e.hide()},t.prototype.resetScrollDelta=function(){this.autoScrollConfig=Th(ha)},t.prototype.getBrushPoint=function(e){var t=this.spreadsheet.facet.getScrollOffset(),n=t.scrollY,r=t.scrollX,o={x:null==e?void 0:e.x,y:null==e?void 0:e.y},i=this.spreadsheet.getCell(e.target).getMeta(),a=i.colIndex,l=i.rowIndex;return xa(xa({},o),{rowIndex:l,colIndex:a,scrollY:n,scrollX:r})},t.prototype.getBrushRange=function(){var e,t,n,r,o,i,a,l,s=this.spreadsheet.facet.getScrollOffset(),u=s.scrollX,c=s.scrollY,d=Math.min(this.startBrushPoint.rowIndex,null===(e=this.endBrushPoint)||void 0===e?void 0:e.rowIndex),h=Math.max(this.startBrushPoint.rowIndex,null===(t=this.endBrushPoint)||void 0===t?void 0:t.rowIndex),f=Math.min(this.startBrushPoint.colIndex,null===(n=this.endBrushPoint)||void 0===n?void 0:n.colIndex),p=Math.max(this.startBrushPoint.colIndex,null===(r=this.endBrushPoint)||void 0===r?void 0:r.colIndex),v=this.startBrushPoint.x+this.startBrushPoint.scrollX-u,g=this.startBrushPoint.y+this.startBrushPoint.scrollY-c,m=Math.min(v,null===(o=this.endBrushPoint)||void 0===o?void 0:o.x),y=Math.max(v,null===(i=this.endBrushPoint)||void 0===i?void 0:i.x),b=Math.min(g,null===(a=this.endBrushPoint)||void 0===a?void 0:a.y),C=Math.max(g,null===(l=this.endBrushPoint)||void 0===l?void 0:l.y);return{start:{rowIndex:d,colIndex:f,x:m,y:b},end:{rowIndex:h,colIndex:p,x:y,y:C},width:y-m,height:C-b}},t.prototype.getBrushRangeCells=function(){var e=this;return this.setDisplayedCells(),this.displayedCells.filter((function(t){var n=t.getMeta();return e.isInBrushRange(n)}))},t.prototype.mouseDown=function(e){var t;null===(t=null==e?void 0:e.preventDefault)||void 0===t||t.call(e),this.spreadsheet.interaction.hasIntercepts([ia.CLICK])||(this.setBrushSelectionStage(na.CLICK),this.initPrepareSelectMaskShape(),this.setDisplayedCells(),this.startBrushPoint=this.getBrushPoint(e))},t.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([ia.BRUSH_SELECTION])},t.prototype.bindMouseUp=function(e){var t=this;void 0===e&&(e=!1),this.spreadsheet.on(fi.GLOBAL_MOUSE_UP,(function(n){if(t.brushSelectionStage===na.DRAGGED){if(e&&t.clearAutoScroll(),t.isValidBrushSelection()){t.addBrushIntercepts(),t.updateSelectedCells();var r=YO(t.spreadsheet);t.spreadsheet.showTooltipWithInfo(n,r)}t.spreadsheet.interaction.getCurrentStateName()===Ji.PREPARE_SELECT&&t.spreadsheet.interaction.reset(),t.resetDrag()}else t.resetDrag()})),this.spreadsheet.on(fi.GLOBAL_CONTEXT_MENU,(function(){t.brushSelectionStage!==na.UN_DRAGGED&&(t.spreadsheet.interaction.removeIntercepts([ia.HOVER]),t.resetDrag())}))},t.prototype.autoBrushScroll=function(e,t){var n,r;if(void 0===t&&(t=!1),this.clearAutoScroll(),!this.isPointInCanvas(e)){var o=(null==e?void 0:e.x)-(null===(n=this.endBrushPoint)||void 0===n?void 0:n.x),i=(null==e?void 0:e.y)-(null===(r=this.endBrushPoint)||void 0===r?void 0:r.y);return this.handleScroll(o,i,t),!0}return!1},t.prototype.emitBrushSelectionEvent=function(e,t){this.spreadsheet.emit(e,t),this.spreadsheet.emit(fi.GLOBAL_SELECTED,t),Bv(t)&&this.spreadsheet.interaction.removeIntercepts([ia.HOVER])},t.prototype.getVisibleBrushRangeCells=function(e){return this.brushRangeCells.find((function(t){var n=t.getMeta();return(null==n?void 0:n.id)===e}))},t.prototype.isInBrushRange=function(e){return!1},t.prototype.bindMouseDown=function(){},t.prototype.bindMouseMove=function(){},t.prototype.updateSelectedCells=function(){},t.prototype.getPrepareSelectMaskPosition=function(e){return{x:e.start.x,y:e.start.y}},t}(DI),WI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.displayedCells=[],t.brushRangeCells=[],t.onUpdateCells=function(e){return e.updateCells(e.getAllColHeaderCells())},t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},t.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(fi.COL_CELL_MOUSE_DOWN,(function(n){t.spreadsheet.interaction.getBrushSelection().col&&e.prototype.mouseDown.call(t,n)}))},t.prototype.isPointInCanvas=function(e){var t=this.spreadsheet.facet.getCanvasHW().width,n=this.spreadsheet.facet.cornerBBox,r=n.width,o=n.minY,i=n.maxY;return e.x>=r&&e.x<=t&&e.y>=o&&e.y<=i},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(fi.COL_CELL_MOUSE_MOVE,(function(t){if(e.brushSelectionStage!==na.UN_DRAGGED){e.setBrushSelectionStage(na.DRAGGED);var n=e.spreadsheet.container.getPointByEvent(t.originalEvent);e.isPointInCanvas(n)&&e.renderPrepareSelected(n)}}))},t.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllColHeaderCells()},t.prototype.isInBrushRange=function(e){var t=this.getBrushRange(),n=t.start,r=t.end,o=this.spreadsheet.facet.getScrollOffset().scrollX,i=this.spreadsheet.facet.cornerBBox,a=e.x,l=void 0===a?0:a,s=e.y,u=void 0===s?0:s,c=e.width,d=void 0===c?0:c,h=e.height,f=void 0===h?0:h;return this.rectanglesIntersect({minX:n.x-i.width+o,minY:n.y,maxX:r.x-i.width+o,maxY:r.y},{minX:l,maxX:l+d,minY:u,maxY:u+f})},t.prototype.updateSelectedCells=function(){var e=this.spreadsheet.interaction;e.changeState({cells:Bp(this.brushRangeCells,zS),stateName:Ji.SELECTED,onUpdateCells:function(e){e.updateCells(e.getAllColHeaderCells())}}),this.spreadsheet.emit(fi.COL_CELL_BRUSH_SELECTION,this.brushRangeCells),this.spreadsheet.emit(fi.GLOBAL_SELECTED,this.brushRangeCells),Bv(this.brushRangeCells)&&e.removeIntercepts([ia.HOVER])},t.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([ia.COL_BRUSH_SELECTION])},t}(jI),GI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.displayedCells=[],t.brushRangeCells=[],t.getSelectedCellMetas=function(e){var n=[],r=t.spreadsheet.facet.layoutResult,o=r.rowLeafNodes,i=void 0===o?[]:o,a=r.colLeafNodes,l=void 0===a?[]:a,s=Pm(e.start.rowIndex,e.end.rowIndex+1),u=Pm(e.start.colIndex,e.end.colIndex+1);return s.forEach((function(e){u.forEach((function(r){var o=String(l[r].id),a=Bv(i)?String(e):String(i[e].id);n.push({colIndex:r,rowIndex:e,id:"".concat(a,"-").concat(o),type:ea.DATA_CELL,rowId:a,colId:o,spreadsheet:t.spreadsheet})}))})),n},t}return Ca(t,e),t.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(fi.DATA_CELL_MOUSE_DOWN,(function(n){t.spreadsheet.interaction.getBrushSelection().data&&(e.prototype.mouseDown.call(t,n),t.resetScrollDelta())}))},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_MOUSE_MOVE,(function(t){if(e.brushSelectionStage!==na.UN_DRAGGED){e.setBrushSelectionStage(na.DRAGGED);var n=e.spreadsheet.container.getPointByEvent(t);e.autoBrushScroll(n)||e.renderPrepareSelected(n)}}))},t.prototype.isInBrushRange=function(e){var t=this.getBrushRange(),n=t.start,r=t.end,o=e.rowIndex,i=e.colIndex;return o>=n.rowIndex&&o<=r.rowIndex&&i>=n.colIndex&&i<=r.colIndex},t.prototype.updateSelectedCells=function(){var e=this.getBrushRange(),t=this.getSelectedCellMetas(e);this.spreadsheet.interaction.changeState({cells:t,stateName:Ji.SELECTED,onUpdateCells:jS});var n=this.getScrollBrushRangeCells(t);this.emitBrushSelectionEvent(fi.DATA_CELL_BRUSH_SELECTION,n)},t.prototype.getScrollBrushRangeCells=function(e){var t=this;return e.map((function(e){var n=t.getVisibleBrushRangeCells(e.id);if(n)return n;var r=t.spreadsheet.facet.layoutResult.getCellMeta(e.rowIndex,e.colIndex);return new(t.spreadsheet.isTableMode()?BS:Tw)(r,t.spreadsheet)}))},t.prototype.bindMouseUp=function(){e.prototype.bindMouseUp.call(this,!0)},t.prototype.getPrepareSelectMaskPosition=function(e){var t=this.spreadsheet.facet.panelBBox,n=t.minX,r=t.minY;return{x:Math.max(e.start.x,n),y:Math.max(e.start.y,r)}},t}(jI),VI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isInBrushRange=function(e){var n=t.getBrushRange(),r=n.start,o=n.end,i=t.spreadsheet.facet.getScrollOffset(),a=i.scrollY,l=i.rowHeaderScrollX,s=t.spreadsheet.facet.cornerBBox,u=e.x,c=void 0===u?0:u,d=e.y,h=void 0===d?0:d,f=e.width,p=void 0===f?0:f,v=e.height,g=void 0===v?0:v;return t.rectanglesIntersect({minX:r.x+l,minY:r.y-s.height+a,maxX:o.x+l,maxY:o.y-s.height+a},{minX:c,maxX:c+p,minY:h,maxY:h+g})},t.onUpdateCells=function(e){return e.updateCells(e.getAllRowHeaderCells())},t.getSelectedRowNodes=function(){return t.spreadsheet.getRowNodes().filter(t.isInBrushRange)},t.getVisibleRowLeafCellByScrollDirection=function(e){var n=t.spreadsheet.interaction.getAllRowHeaderCells();return e===ca.SCROLL_DOWN?Zf(n):n.find((function(e){return e.getMeta().isLeaf}))},t.getWillScrollToRowIndex=function(e){var n,r;if(!$v(t.endBrushPoint.rowIndex))return t.getDefaultWillScrollToRowIndex(e);var o=t.getVisibleRowLeafCellByScrollDirection(e),i=(null!==(r=null===(n=null==o?void 0:o.getMeta())||void 0===n?void 0:n.rowIndex)&&void 0!==r?r:0)+t.getWillScrollRowIndexDiff(e);return t.validateYIndex(i)},t}return Ca(t,e),t.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(fi.ROW_CELL_MOUSE_DOWN,(function(n){t.spreadsheet.interaction.getBrushSelection().row&&e.prototype.mouseDown.call(t,n)}))},t.prototype.isPointInCanvas=function(e){var t=this.spreadsheet.facet.getCanvasHW().height,n=this.spreadsheet.facet.cornerBBox,r=n.minX,o=n.height,i=n.maxX;return e.x>=r&&e.x<=i&&e.y>=o&&e.y<=t},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_MOUSE_MOVE,(function(t){if(e.brushSelectionStage!==na.UN_DRAGGED){e.setBrushSelectionStage(na.DRAGGED);var n=e.spreadsheet.container.getPointByEvent(t);e.autoBrushScroll(n,!0)||e.renderPrepareSelected(n)}}))},t.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllRowHeaderCells()},t.prototype.updateSelectedCells=function(){var e=this.getSelectedRowNodes(),t=this.getScrollBrushRangeCells(e),n=Bp(t,zS);this.spreadsheet.interaction.changeState({cells:n,stateName:Ji.SELECTED,onUpdateCells:this.onUpdateCells}),this.emitBrushSelectionEvent(fi.ROW_CELL_BRUSH_SELECTION,t)},t.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([ia.ROW_BRUSH_SELECTION])},t.prototype.getScrollBrushRangeCells=function(e){var t=this;return e.map((function(e){var n=t.getVisibleBrushRangeCells(e.id);return n||new TS(e,t.spreadsheet)}))},t.prototype.getPrepareSelectMaskPosition=function(e){var t=this.spreadsheet.facet.panelBBox.minY;return{x:e.start.x,y:Math.max(e.start.y,t)}},t}(jI),UI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isMultiSelection=!1,t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},t.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([ia.CLICK])},t.prototype.bindKeyboardDown=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_KEYBOARD_DOWN,(function(t){kS(t)&&(e.isMultiSelection=!0,e.spreadsheet.interaction.addIntercepts([ia.CLICK]))}))},t.prototype.bindKeyboardUp=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_KEYBOARD_UP,(function(t){kS(t)&&e.reset()}))},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_MOUSE_MOVE,(function(t){e.isMultiSelection&&!PS(t)&&e.reset()}))},t.prototype.getSelectedCells=function(e){var t=e.getMeta().id,n=this.spreadsheet.interaction,r=n.getCells([ea.DATA_CELL]);return n.getCurrentStateName()!==Ji.SELECTED&&(r=[]),r.find((function(e){return e.id===t}))?r.filter((function(e){return e.id!==t})):Oa(Oa([],Ea(r),!1),[zS(e)],!1)},t.prototype.bindDataCellClick=function(){var e=this;this.spreadsheet.on(fi.DATA_CELL_CLICK,(function(t){t.stopPropagation();var n=e.spreadsheet.getCell(t.target),r=n.getMeta(),o=e.spreadsheet,i=o.interaction;if(o.options,e.isMultiSelection&&r){var a=e.getSelectedCells(n);if(Bv(a))return i.clearState(),void e.spreadsheet.hideTooltip();i.addIntercepts([ia.CLICK,ia.HOVER]),e.spreadsheet.hideTooltip(),i.changeState({cells:a,stateName:Ji.SELECTED,onUpdateCells:jS}),e.spreadsheet.emit(fi.GLOBAL_SELECTED,i.getActiveCells()),e.spreadsheet.showTooltipWithInfo(t,YO(e.spreadsheet))}}))},t}(DI),ZI=function(){function e(e){var t=this;this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[],this.isCanvasEffect=!1,this.isGuiIconShape=function(e){return e instanceof ko&&e.attrs.type===nx.type},this.onCanvasMousedown=function(e){if(t.target=e.target,t.spreadsheet.interaction.clearHoverTimer(),t.isResizeArea(e)){t.spreadsheet.emit(fi.LAYOUT_RESIZE_MOUSE_DOWN,e);var n=function(n){if(!t.spreadsheet.getCanvasElement())return!1;t.spreadsheet.getCanvasElement()!==n.target&&(e.clientX=n.clientX,e.clientY=n.clientY,e.originalEvent=n,t.spreadsheet.emit(fi.LAYOUT_RESIZE_MOUSE_MOVE,e))};return window.addEventListener("mousemove",n),void window.addEventListener("mouseup",(function(){window.removeEventListener("mousemove",n)}),{once:!0})}switch(t.spreadsheet.getCellType(e.target)){case ea.DATA_CELL:t.spreadsheet.emit(fi.DATA_CELL_MOUSE_DOWN,e);break;case ea.ROW_CELL:t.spreadsheet.emit(fi.ROW_CELL_MOUSE_DOWN,e);break;case ea.COL_CELL:t.spreadsheet.emit(fi.COL_CELL_MOUSE_DOWN,e);break;case ea.CORNER_CELL:t.spreadsheet.emit(fi.CORNER_CELL_MOUSE_DOWN,e);break;case ea.MERGED_CELL:t.spreadsheet.emit(fi.MERGED_CELLS_MOUSE_DOWN,e)}},this.onCanvasMousemove=function(e){if(t.canvasMousemoveEvent=e,t.isResizeArea(e))return t.activeResizeArea(e),void t.spreadsheet.emit(fi.LAYOUT_RESIZE_MOUSE_MOVE,e);t.resetResizeArea();var n=t.spreadsheet.getCell(e.target);if(n){var r=n.cellType;switch(r){case ea.DATA_CELL:t.spreadsheet.emit(fi.DATA_CELL_MOUSE_MOVE,e);break;case ea.ROW_CELL:t.spreadsheet.emit(fi.ROW_CELL_MOUSE_MOVE,e);break;case ea.COL_CELL:t.spreadsheet.emit(fi.COL_CELL_MOUSE_MOVE,e);break;case ea.CORNER_CELL:t.spreadsheet.emit(fi.CORNER_CELL_MOUSE_MOVE,e);break;case ea.MERGED_CELL:t.spreadsheet.emit(fi.MERGED_CELLS_MOUSE_MOVE,e)}if(!t.hasBrushSelectionIntercepts())switch(t.spreadsheet.emit(fi.GLOBAL_HOVER,e),r){case ea.DATA_CELL:t.spreadsheet.emit(fi.DATA_CELL_HOVER,e);break;case ea.ROW_CELL:t.spreadsheet.emit(fi.ROW_CELL_HOVER,e);break;case ea.COL_CELL:t.spreadsheet.emit(fi.COL_CELL_HOVER,e);break;case ea.CORNER_CELL:t.spreadsheet.emit(fi.CORNER_CELL_HOVER,e);break;case ea.MERGED_CELL:t.spreadsheet.emit(fi.MERGED_CELLS_HOVER,e)}}},this.onCanvasMouseup=function(e){if(t.isResizeArea(e))t.spreadsheet.emit(fi.LAYOUT_RESIZE_MOUSE_UP,e);else{var n=t.spreadsheet.getCell(e.target);if(n){var r=n.cellType;if(t.target===e.target){var o=t.isGuiIconShape(e.target);switch(r){case ea.DATA_CELL:t.spreadsheet.emit(fi.DATA_CELL_CLICK,e);break;case ea.ROW_CELL:if(o)break;t.spreadsheet.emit(fi.ROW_CELL_CLICK,e);break;case ea.COL_CELL:if(o)break;t.spreadsheet.emit(fi.COL_CELL_CLICK,e);break;case ea.CORNER_CELL:if(o)break;t.spreadsheet.emit(fi.CORNER_CELL_CLICK,e);break;case ea.MERGED_CELL:t.spreadsheet.emit(fi.MERGED_CELLS_CLICK,e)}}switch(r){case ea.DATA_CELL:t.spreadsheet.emit(fi.DATA_CELL_MOUSE_UP,e);break;case ea.ROW_CELL:t.spreadsheet.emit(fi.ROW_CELL_MOUSE_UP,e);break;case ea.COL_CELL:t.spreadsheet.emit(fi.COL_CELL_MOUSE_UP,e);break;case ea.CORNER_CELL:t.spreadsheet.emit(fi.CORNER_CELL_MOUSE_UP,e);break;case ea.MERGED_CELL:t.spreadsheet.emit(fi.MERGED_CELLS_MOUSE_UP,e)}}}},this.onCanvasClick=function(e){t.spreadsheet.emit(fi.GLOBAL_CLICK,e)},this.onCanvasDoubleClick=function(e){var n=t.spreadsheet;if(t.isResizeArea(e))n.emit(fi.LAYOUT_RESIZE_MOUSE_UP,e);else{n.emit(fi.GLOBAL_DOUBLE_CLICK,e);var r=n.getCell(e.target);if(r){var o=r.cellType;if(t.target===e.target)switch(o){case ea.DATA_CELL:n.emit(fi.DATA_CELL_DOUBLE_CLICK,e);break;case ea.ROW_CELL:n.emit(fi.ROW_CELL_DOUBLE_CLICK,e);break;case ea.COL_CELL:n.emit(fi.COL_CELL_DOUBLE_CLICK,e);break;case ea.CORNER_CELL:n.emit(fi.CORNER_CELL_DOUBLE_CLICK,e);break;case ea.MERGED_CELL:n.emit(fi.MERGED_CELLS_DOUBLE_CLICK,e)}}}},this.onCanvasMouseout=function(e){if(t.isAutoResetSheetStyle&&!(null==e?void 0:e.shape)){var n=t.spreadsheet.interaction;n.isSelectedState()||n.intercepts.size>0||n.reset()}},this.onCanvasContextMenu=function(e){var n=t.spreadsheet;if(t.isResizeArea(e))n.emit(fi.LAYOUT_RESIZE_MOUSE_UP,e);else switch(n.emit(fi.GLOBAL_CONTEXT_MENU,e),t.spreadsheet.getCellType(e.target)){case ea.DATA_CELL:t.spreadsheet.emit(fi.DATA_CELL_CONTEXT_MENU,e);break;case ea.ROW_CELL:t.spreadsheet.emit(fi.ROW_CELL_CONTEXT_MENU,e);break;case ea.COL_CELL:t.spreadsheet.emit(fi.COL_CELL_CONTEXT_MENU,e);break;case ea.CORNER_CELL:t.spreadsheet.emit(fi.CORNER_CELL_CONTEXT_MENU,e);break;case ea.MERGED_CELL:t.spreadsheet.emit(fi.MERGED_CELLS_CONTEXT_MENU,e)}},this.spreadsheet=e,this.bindEvents()}return Object.defineProperty(e.prototype,"canvasContainer",{get:function(){return this.spreadsheet.container},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAutoResetSheetStyle",{get:function(){return this.spreadsheet.options.interaction.autoResetSheetStyle},enumerable:!1,configurable:!0}),e.prototype.bindEvents=function(){var e=this;this.clearAllEvents(),this.addCanvasEvent(hi.CLICK,this.onCanvasClick),this.addCanvasEvent(hi.MOUSE_DOWN,this.onCanvasMousedown),this.addCanvasEvent(hi.MOUSE_MOVE,this.onCanvasMousemove),this.addCanvasEvent(hi.MOUSE_OUT,this.onCanvasMouseout),this.addCanvasEvent(hi.MOUSE_UP,this.onCanvasMouseup),this.addCanvasEvent(hi.DOUBLE_CLICK,this.onCanvasDoubleClick),this.addCanvasEvent(hi.CONTEXT_MENU,this.onCanvasContextMenu),this.addS2Event(fi.GLOBAL_ACTION_ICON_CLICK,(function(){e.spreadsheet.interaction.addIntercepts([ia.HOVER]),e.spreadsheet.interaction.clearState()})),this.addDomEventListener(window,hi.CLICK,(function(t){e.resetSheetStyle(t),e.isCanvasEffect=e.isMouseOnTheCanvasContainer(t)})),this.addDomEventListener(window,hi.KEY_DOWN,(function(t){e.onKeyboardCopy(t),e.onKeyboardEsc(t),e.spreadsheet.emit(fi.GLOBAL_KEYBOARD_DOWN,t)})),this.addDomEventListener(window,hi.KEY_UP,(function(t){e.spreadsheet.emit(fi.GLOBAL_KEYBOARD_UP,t)})),this.addDomEventListener(window,hi.MOUSE_UP,(function(t){e.spreadsheet.emit(fi.GLOBAL_MOUSE_UP,t)})),this.addDomEventListener(window,hi.MOUSE_MOVE,(function(t){e.spreadsheet.emit(fi.GLOBAL_MOUSE_MOVE,t)}))},e.prototype.onKeyboardCopy=function(e){if(this.isCanvasEffect&&this.spreadsheet.options.interaction.enableCopy&&Gx(e.key,ra.COPY)&&(e.metaKey||e.ctrlKey)){var t=function(e){var t,n,r=e.interaction,o=r.getState().cells||[],i=null!==(t=r.getInteractedCells())&&void 0!==t?t:[];return(n=!Bv(i)&&bp(i,(function(e){return e.cellType===ea.ROW_CELL||e.cellType===ea.COL_CELL}))?aw(i):sw(e,o))&&dw(n),ew(n,Vx.PLAIN)}(this.spreadsheet);$v(t)||this.spreadsheet.emit(fi.GLOBAL_COPIED,t)}},e.prototype.onKeyboardEsc=function(e){this.isCanvasEffect&&Gx(e.key,ra.ESC)&&this.resetSheetStyle(e)},e.prototype.resetSheetStyle=function(e){if(this.isAutoResetSheetStyle&&this.spreadsheet){var t=this.spreadsheet.interaction;t.hasIntercepts([ia.BRUSH_SELECTION,ia.COL_BRUSH_SELECTION,ia.ROW_BRUSH_SELECTION])?t.removeIntercepts([ia.BRUSH_SELECTION,ia.ROW_BRUSH_SELECTION,ia.COL_BRUSH_SELECTION]):this.isMouseOnTheTooltip(e)||this.isMouseOnTheCanvasContainer(e)||(this.spreadsheet.emit(fi.GLOBAL_RESET,e),t.reset())}},e.prototype.isMouseEvent=function(e){return ef(e,"clientX")&&ef(e,"clientY")},e.prototype.isMouseOnTheCanvasContainer=function(e){if(this.isMouseEvent(e)){var t=this.spreadsheet.getCanvasElement();if(!t)return!1;var n=t.getBoundingClientRect()||{},r=n.x,o=n.y,i=this.getContainerRect(),a=i.width,l=i.height;return t.contains(e.target)&&e.clientX<=r+a&&e.clientY<=o+l}return!1},e.prototype.getContainerRect=function(){var e,t=(null===(e=this.spreadsheet.facet)||void 0===e?void 0:e.panelBBox)||{},n=t.maxX,r=t.maxY,o=this.spreadsheet.options,i=o.width,a=o.height;return{width:Math.min(i,n),height:Math.min(a,r)}},e.prototype.isMouseOnTheTooltip=function(e){var t,n,r,o,i=this.spreadsheet.tooltip;if(!(null==i?void 0:i.visible))return!1;var a=(null===(r=null===(n=null===(t=this.spreadsheet.tooltip)||void 0===t?void 0:t.container)||void 0===n?void 0:n.getBoundingClientRect)||void 0===r?void 0:r.call(n))||{},l=a.x,s=a.y,u=a.width,c=a.height;return e.target instanceof Node?function(e,t){for(var n=!1,r=t;r&&r!==document.body;){if(e===r){n=!0;break}r=r.parentElement}return n}(null===(o=this.spreadsheet.tooltip)||void 0===o?void 0:o.container,e.target):!!this.isMouseEvent(e)&&(e.clientX>=l&&e.clientX<=l+u&&e.clientY>=s&&e.clientY<=s+c)},e.prototype.isResizeArea=function(e){var t=Xu(e.target,"attrs.appendInfo");return null==t?void 0:t.isResizeArea},e.prototype.activeResizeArea=function(e){this.resetResizeArea();var t=e.target;this.spreadsheet.store.set("activeResizeArea",t),t.attr(aa.backgroundOpacity,this.spreadsheet.theme.resizeArea.interactionState.hover.backgroundOpacity)},e.prototype.resetResizeArea=function(){var e=this.spreadsheet.store.get("activeResizeArea");Bv(e)||e.attr(aa.backgroundOpacity,this.spreadsheet.theme.resizeArea.backgroundOpacity),this.spreadsheet.store.set("activeResizeArea",e)},e.prototype.hasBrushSelectionIntercepts=function(){return this.spreadsheet.interaction.hasIntercepts([ia.HOVER,ia.BRUSH_SELECTION,ia.ROW_BRUSH_SELECTION,ia.COL_BRUSH_SELECTION])},e.prototype.clear=function(){this.unbindEvents()},e.prototype.unbindEvents=function(){this.clearAllEvents()},e.prototype.addCanvasEvent=function(e,t){var n;null===(n=this.canvasContainer)||void 0===n||n.on(e,t),this.canvasEventHandlers.push({type:e,handler:t})},e.prototype.addS2Event=function(e,t){this.spreadsheet.on(e,t),this.s2EventHandlers.push({type:e,handler:t})},e.prototype.addDomEventListener=function(e,t,n){if(e.addEventListener){var r=this.spreadsheet.options.interaction.eventListenerOptions;e.addEventListener(t,n,r),this.domEventListeners.push({target:e,type:t,handler:n,options:r})}else console.error("Please make sure ".concat(e," has addEventListener function"))},e.prototype.clearAllEvents=function(){var e=this;tp(this.canvasEventHandlers,(function(t){var n,r=t.type,o=t.handler;null===(n=e.canvasContainer)||void 0===n||n.off(r,o)})),tp(this.s2EventHandlers,(function(t){var n=t.type,r=t.handler;e.spreadsheet.off(n,r)})),tp(this.domEventListeners,(function(e){e.target.removeEventListener(e.type,e.handler,e.options)})),this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[]},e}(),YI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isRangeSelection=!1,t.handleColClick=function(e){e.stopPropagation();var n=t.spreadsheet.interaction,r=t.spreadsheet.getCell(e.target),o=null==r?void 0:r.getMeta();if(!$v(null==o?void 0:o.x)){n.addIntercepts([ia.HOVER]);var i=[zS(r)],a=t.spreadsheet.store.get("lastClickedCell");if(t.isRangeSelection&&a&&a.cellType===r.cellType&&a.getMeta().level===r.getMeta().level){var l=Ea([t.spreadsheet.facet.layoutResult.rowsHierarchy.maxLevel,t.spreadsheet.facet.layoutResult.colsHierarchy.maxLevel],2),s=l[0],u=l[1],c=FS(a.getMeta(),r.getMeta()),d=c.start,h=c.end;r instanceof Tw?i=t.handleSeriesNumberRowSelected(d.rowIndex,h.rowIndex,r):r.cellType===ea.ROW_CELL&&r.getMeta().level===s?i=t.handleRowSelected(d.rowIndex,h.rowIndex,r):r.cellType===ea.COL_CELL&&r.getMeta().level===u&&(i=t.handleColSelected(d.colIndex,h.colIndex,r)),n.changeState({cells:i,stateName:Ji.SELECTED})}else Bv(n.getCells())&&n.removeIntercepts([ia.HOVER]),t.spreadsheet.store.set("lastClickedCell",r);var f=i.map((function(e){return e.id}));n.updateCells(n.getRowColActiveCells(f)),t.spreadsheet.emit(fi.GLOBAL_SELECTED,n.getActiveCells())}},t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindColCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},t.prototype.reset=function(){this.isRangeSelection=!1,this.spreadsheet.interaction.removeIntercepts([ia.CLICK])},t.prototype.bindKeyboardDown=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_KEYBOARD_DOWN,(function(t){t.key===ra.SHIFT&&(e.isRangeSelection=!0,e.spreadsheet.interaction.addIntercepts([ia.CLICK]))}))},t.prototype.bindKeyboardUp=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_KEYBOARD_UP,(function(t){t.key===ra.SHIFT&&e.reset()}))},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_MOUSE_MOVE,(function(t){e.isRangeSelection&&!t.shiftKey&&e.reset()}))},t.prototype.bindColCellClick=function(){var e=this;this.spreadsheet.isTableMode()&&this.spreadsheet.on(fi.ROW_CELL_CLICK,(function(t){e.handleColClick(t)})),this.spreadsheet.on(fi.COL_CELL_CLICK,(function(t){e.handleColClick(t)}))},t.prototype.bindDataCellClick=function(){var e=this;this.spreadsheet.on(fi.DATA_CELL_CLICK,(function(t){t.stopPropagation();var n=e.spreadsheet.getCell(t.target),r=n.getMeta(),o=e.spreadsheet.interaction;if(r){var i=e.spreadsheet.store.get("lastClickedCell");if(e.isRangeSelection&&(null==i?void 0:i.cellType)===n.cellType){var a=FS(i.getMeta(),n.getMeta()),l=a.start,s=a.end,u=Pm(l.colIndex,s.colIndex+1).flatMap((function(t){var r=e.spreadsheet.facet.layoutResult.colLeafNodes[t].id;return Pm(l.rowIndex,s.rowIndex+1).map((function(o){return{id:(e.spreadsheet.facet.getSeriesNumberWidth()||e.spreadsheet.isTableMode()?String(o):e.spreadsheet.facet.layoutResult.rowLeafNodes[o].id)+"-"+r,colIndex:t,rowIndex:o,type:n.cellType}}))}));o.addIntercepts([ia.CLICK,ia.HOVER]),o.changeState({cells:u,stateName:Ji.SELECTED}),e.spreadsheet.showTooltipWithInfo(t,YO(e.spreadsheet)),e.spreadsheet.emit(fi.GLOBAL_SELECTED,o.getActiveCells())}else e.spreadsheet.store.set("lastClickedCell",n)}}))},t.prototype.handleSeriesNumberRowSelected=function(e,t,n){var r=this.spreadsheet.facet.layoutResult.colLeafNodes[0].id;return Pm(e,t+1).map((function(e){return{id:String(e)+"-"+r,colIndex:0,rowIndex:e,type:n.cellType}}))},t.prototype.handleRowSelected=function(e,t,n){return this.spreadsheet.facet.layoutResult.rowNodes.filter((function(n){return Jp(n.rowIndex,e,t+1)})).map((function(e){return{id:e.id,colIndex:e.colIndex,rowIndex:e.rowIndex,type:n.cellType}}))},t.prototype.handleColSelected=function(e,t,n){return this.spreadsheet.facet.layoutResult.colLeafNodes.filter((function(n){return Jp(n.colIndex,e,t+1)})).map((function(e){return{id:e.id,colIndex:e.colIndex,rowIndex:e.rowIndex,type:n.cellType}}))},t}(DI),XI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resizeStartPosition={},t.resizeMouseMove=function(e){var n,r;if(null===(n=t.resizeReferenceGroup)||void 0===n?void 0:n.get("visible")){null===(r=null==e?void 0:e.preventDefault)||void 0===r||r.call(e);var o=e.originalEvent,i=t.getResizeInfo(),a=t.resizeReferenceGroup.getChildren()||[];if(!Bv(a)){var l=Ea(a,2)[1],s=Ea(_h(l.attr("path")),2),u=s[0],c=s[1];i.type===fa.Horizontal?t.updateHorizontalResizingEndGuideLinePosition(o,i,u,c):t.updateVerticalResizingEndGuideLinePosition(o,i,u,c),t.updateResizeGuideLineTheme(l),l.attr("path",[u,c])}}},t}return Ca(t,e),t.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},t.prototype.initResizeGroup=function(){if(!this.resizeReferenceGroup){this.resizeReferenceGroup=this.spreadsheet.foregroundGroup.addGroup();var e=this.spreadsheet.options,t=e.width,n=e.height,r=this.getResizeAreaTheme(),o=r.guideLineColor,i={path:"",lineDash:r.guideLineDash,stroke:o,lineWidth:r.size};this.resizeReferenceGroup.addShape("path",{id:"RESIZE_START_GUIDE_LINE",attrs:i}),this.resizeReferenceGroup.addShape("path",{id:"RESIZE_END_GUIDE_LINE",attrs:i}),this.resizeReferenceGroup.addShape("rect",{id:"RESIZE_MASK",attrs:{appendInfo:{isResizeArea:!0},x:0,y:0,width:t,height:n,fill:"transparent"}})}},t.prototype.getResizeAreaTheme=function(){return this.spreadsheet.theme.resizeArea},t.prototype.setResizeTarget=function(e){this.resizeTarget=e},t.prototype.getGuideLineWidthAndHeight=function(){var e=this.spreadsheet.options,t=e.width,n=e.height,r=this.spreadsheet.facet.panelBBox,o=r.maxY,i=r.maxX;return{width:Math.min(i,t),height:Math.min(o,n)}},t.prototype.getResizeShapes=function(){var e;return(null===(e=this.resizeReferenceGroup)||void 0===e?void 0:e.get("children"))||[]},t.prototype.setResizeMaskCursor=function(e){var t=Ea(this.getResizeShapes(),3)[2];null==t||t.attr("cursor",e)},t.prototype.updateResizeGuideLinePosition=function(e,t){var n=this.getResizeShapes();if(!Bv(n)){var r=Ea(n,2),o=r[0],i=r[1],a=t.type,l=t.offsetX,s=t.offsetY,u=t.width,c=t.height,d=this.getGuideLineWidthAndHeight(),h=d.width,f=d.height;if(this.setResizeMaskCursor("".concat(a,"-resize")),a===fa.Horizontal)return o.attr("path",[["M",l,s],["L",l,f]]),i.attr("path",[["M",l+u,s],["L",l+u,f]]),this.resizeStartPosition.offsetX=e.offsetX,void(this.resizeStartPosition.clientX=e.clientX);o.attr("path",[["M",l,s],["L",h,s]]),i.attr("path",[["M",l,s+c],["L",h,s+c]]),this.resizeStartPosition.offsetY=e.offsetY,this.resizeStartPosition.clientY=e.clientY}},t.prototype.bindMouseDown=function(){var e=this;this.spreadsheet.on(fi.LAYOUT_RESIZE_MOUSE_DOWN,(function(t){var n=t.target,r=t.originalEvent,o=e.getCellAppendInfo(t.target);e.spreadsheet.store.set("resized",!1),(null==o?void 0:o.isResizeArea)&&(e.spreadsheet.interaction.reset(),e.spreadsheet.interaction.addIntercepts([ia.RESIZE]),e.setResizeTarget(n),e.showResizeGroup(),e.updateResizeGuideLinePosition(r,o))}))},t.prototype.bindMouseMove=function(){var e=this;this.spreadsheet.on(fi.LAYOUT_RESIZE_MOUSE_MOVE,(function(t){Dy(e.resizeMouseMove,33)(t)}))},t.prototype.getResizeGuideLinePosition=function(){var e=Ea(this.resizeReferenceGroup.getChildren()||[],2),t=e[0],n=e[1],r=(null==t?void 0:t.attr("path"))||[],o=(null==n?void 0:n.attr("path"))||[],i=Ea(r[0]||[],3),a=i[1],l=void 0===a?0:a,s=i[2],u=void 0===s?0:s,c=Ea(o[0]||[],3),d=c[1],h=void 0===d?0:d,f=c[2];return{start:{x:l,y:u},end:{x:h,y:void 0===f?0:f}}},t.prototype.getDisAllowResizeInfo=function(){var e,t=this.getResizeInfo(),n=this.spreadsheet.options.interaction.resize,r=t.width,o=t.height,i=t.resizedWidth,a=t.resizedHeight,l=null===(e=null==n?void 0:n.disable)||void 0===e?void 0:e.call(n,t);return{displayWidth:l?r:i,displayHeight:l?o:a,isDisabled:l}},t.prototype.getResizeWidthDetail=function(){var e,t,n=this.getResizeInfo(),r=this.getDisAllowResizeInfo().displayWidth;switch(n.effect){case pa.Field:return{eventType:fi.LAYOUT_RESIZE_ROW_WIDTH,style:{rowCfg:{widthByField:(e={},e[n.id]=r,e)}}};case pa.Tree:return{eventType:fi.LAYOUT_RESIZE_TREE_WIDTH,style:{treeRowsWidth:r,rowCfg:{treeRowsWidth:r}}};case pa.Cell:return{eventType:fi.LAYOUT_RESIZE_COL_WIDTH,style:{colCfg:{widthByFieldValue:(t={},t[n.id]=r,t)}}};case pa.Series:return{eventType:fi.LAYOUT_RESIZE_SERIES_WIDTH,seriesNumberWidth:r};default:return null}},t.prototype.getResizeHeightDetail=function(){var e,t,n,r=this.spreadsheet.options,o=r.interaction.resize,i=r.style.rowCfg.heightByField,a=this.spreadsheet.theme.rowCell.cell.padding,l=this.getResizeInfo(),s=this.getDisAllowResizeInfo().displayHeight,u=s-a.top-a.bottom;switch(l.effect){case pa.Field:return{eventType:fi.LAYOUT_RESIZE_COL_HEIGHT,style:{colCfg:{heightByField:(e={},e[l.id]=s,e)}}};case pa.Cell:return n=(null==i?void 0:i[String(l.id)])||(null==o?void 0:o.rowResizeType)===va.CURRENT?{rowCfg:{heightByField:(t={},t[l.id]=u,t)}}:{cellCfg:{height:u}},{eventType:fi.LAYOUT_RESIZE_ROW_HEIGHT,style:n};default:return null}},t.prototype.getResizeDetail=function(){return this.getResizeInfo().type===fa.Horizontal?this.getResizeWidthDetail():this.getResizeHeightDetail()},t.prototype.showResizeGroup=function(){this.initResizeGroup(),this.resizeReferenceGroup.set("visible",!0)},t.prototype.hideResizeGroup=function(){this.resizeReferenceGroup.set("visible",!1)},t.prototype.bindMouseUp=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_MOUSE_UP,(function(){var t;e.setResizeMaskCursor("default"),e.resizeReferenceGroup&&!Bv(null===(t=e.resizeReferenceGroup)||void 0===t?void 0:t.getChildren())&&(e.hideResizeGroup(),e.renderResizedResult())}))},t.prototype.updateResizeGuideLineTheme=function(e){var t=this.getResizeAreaTheme(),n=t.guideLineColor,r=t.guideLineDisableColor,o=this.getDisAllowResizeInfo().isDisabled;e.attr("stroke",o?r:n),this.setResizeMaskCursor(o?"no-drop":"default")},t.prototype.updateHorizontalResizingEndGuideLinePosition=function(e,t,n,r){var o=e.clientX-this.resizeStartPosition.clientX;t.width+o<28&&(o=-(t.width-28));var i=t.offsetX+t.width+o;n[1]=i,r[1]=i,this.resizeTarget.attr({x:i-t.size/2})},t.prototype.updateVerticalResizingEndGuideLinePosition=function(e,t,n,r){var o=e.clientY-this.resizeStartPosition.clientY;t.height+o<16&&(o=-(t.height-16));var i=t.offsetY+t.height+o;n[2]=i,r[2]=i,this.resizeTarget.attr({y:i-t.size/2})},t.prototype.renderResizedResult=function(){var e=this.getResizeInfo(),t=this.getResizeDetail()||{},n=t.style,r=t.seriesNumberWidth,o=t.eventType,i={info:e,style:n};this.spreadsheet.emit(fi.LAYOUT_RESIZE,i),this.spreadsheet.emit(o,i),n&&this.spreadsheet.setOptions({style:n}),r&&this.spreadsheet.setTheme({rowCell:{seriesNumberWidth:r}}),this.spreadsheet.store.set("resized",!0),this.render()},t.prototype.getResizeInfo=function(){var e=this.getCellAppendInfo(this.resizeTarget),t=this.getResizeGuideLinePosition(),n=t.start,r=t.end,o=Math.floor(r.x-n.x),i=Math.floor(r.y-n.y);return xa(xa({},e),{resizedWidth:o,resizedHeight:i})},t.prototype.render=function(){this.resizeStartPosition={},this.resizeTarget=null,this.resizeReferenceGroup=null,this.spreadsheet.render(!1)},t}(DI),qI=[ra.ARROW_LEFT,ra.ARROW_RIGHT,ra.ARROW_UP,ra.ARROW_DOWN],KI=function(e){function t(t){return e.call(this,t)||this}return Ca(t,e),t.prototype.isCanvasEffect=function(){return this.spreadsheet.interaction.eventController.isCanvasEffect},t.prototype.bindEvents=function(){var e=this;this.spreadsheet.on(fi.GLOBAL_KEYBOARD_DOWN,(function(t){if(e.isCanvasEffect()){var n=t.shiftKey,r=t.metaKey,o=!1,i=!1,a=!1;qI.includes(t.key)&&(r&&n?(o=!1,i=!0,a=!1):r?(o=!0,i=!0,a=!0):n?(o=!1,i=!1,a=!1):(o=!0,i=!1,a=!0),e.handleMove({event:t,changeStartCell:o,isJumpMode:i,isSingleSelection:a}))}})),this.spreadsheet.on(fi.DATA_CELL_CLICK,(function(t){var n=e.spreadsheet.getCell(t.target).getMeta();n&&(e.startCell=e.getCellMetaFromViewMeta(n),e.endCell=e.startCell)}))},t.prototype.getCellMetaFromViewMeta=function(e){return{rowIndex:e.rowIndex,colIndex:e.colIndex,id:e.id,type:ea.DATA_CELL}},t.prototype.handleMove=function(e){var t=e.event,n=e.changeStartCell,r=e.isJumpMode,o=e.isSingleSelection,i=this,a=i.spreadsheet,l=i.startCell,s=i.endCell,u=n?l:s,c=this.getMoveInfo(t.key,u,r);if(c){var d=Ea([c.row,c.col],2),h=d[0],f=d[1];this.scrollToActiveCell(a,h,f);var p=this.generateCellMeta(a,h,f),v=o?[p]:this.getRangeCells(a,l,p);!function(e,t){var n=e.interaction;n.changeState({stateName:Ji.SELECTED,cells:t}),e.emit(fi.GLOBAL_SELECTED,n.getActiveCells())}(a,v),n&&(this.startCell=p),this.endCell=p,this.spreadsheet.emit(fi.DATA_CELL_SELECT_MOVE,v)}},t.prototype.generateCellMeta=function(e,t,n){var r=e.isTableMode,o=e.facet.layoutResult,i=o.colLeafNodes,a=o.rowLeafNodes,l=r()?String(t):a[t].id,s=i[n].id;return{rowIndex:t,colIndex:n,id:Iw(l,s),type:ea.DATA_CELL}},t.prototype.getRangeCells=function(e,t,n){for(var r=FS(t,n),o=r.start,i=o.rowIndex,a=o.colIndex,l=r.end,s=l.rowIndex,u=l.colIndex,c=[],d=i;d<=s;d++)for(var h=a;h<=u;h++)c.push(this.generateCellMeta(e,d,h));return c},t.prototype.getMoveInfo=function(e,t,n){var r=this.spreadsheet,o=r.options,i=o.frozenColCount,a=void 0===i?0:i,l=o.frozenRowCount,s=void 0===l?0:l,u=o.frozenTrailingColCount,c=void 0===u?0:u,d=o.frozenTrailingRowCount,h=void 0===d?0:d,f=r.facet.layoutResult,p=f.rowLeafNodes,v=Ea([0+a,f.colLeafNodes.length-c-1],2),g=v[0],m=v[1],y=Ea([0+s,(r.isTableMode()?r.dataSet.getDisplayDataSet().length:p.length)-h-1],2),b=y[0],C=y[1];if(t)switch(e){case ra.ARROW_RIGHT:if(t.colIndex+1>m)return;return{row:t.rowIndex,col:n?m:t.colIndex+1};case ra.ARROW_LEFT:if(t.colIndex-1<g)return;return{row:t.rowIndex,col:n?g:t.colIndex-1};case ra.ARROW_UP:if(t.rowIndex-1<b)return;return{row:n?b:t.rowIndex-1,col:t.colIndex};case ra.ARROW_DOWN:if(t.rowIndex+1>C)return;return{row:n?C:t.rowIndex+1,col:t.colIndex}}},t.prototype.calculateOffset=function(e,t,n){var r=e.options,o=r.frozenRowCount,i=void 0===o?0:o,a=r.frozenTrailingRowCount,l=void 0===a?0:a,s=e.facet,u=e.frozenColGroup,c=e.frozenTrailingColGroup,d=e.frozenRowGroup,h=e.frozenTrailingRowGroup,f=s.layoutResult.colLeafNodes,p=s.getScrollOffset(),v=p.scrollX,g=p.scrollY,m=s.panelBBox,y=m.viewportHeight,b=m.viewportWidth,C=Xu(e,"theme.splitLine"),x=u?Math.floor(u.getBBox().width-C.verticalBorderWidth/2):0,w=c?Math.floor(c.getBBox().width):0,S=d?Math.floor(d.getBBox().height-C.horizontalBorderWidth/2):0,E=h?Math.floor(h.getBBox().height):0,O=PC(v,g,s.viewCellWidths,s.viewCellHeights,{width:b-x-w,height:y-S-E,x:x,y:S},s.getRealScrollX(s.cornerBBox.width)),I=-1,L=-1,_=f.find((function(e){return e.colIndex===n}));if(n<=O[0]?I=_.x-x:n>=O[1]&&n<f.length-l&&(I=_.x+_.width-b+w),t<=O[2])L=s.viewCellHeights.getCellOffsetY(t-i);else if(t>=O[3]){L=s.viewCellHeights.getCellOffsetY(t+1)+E-y}return{offsetX:I,offsetY:L}},t.prototype.scrollToActiveCell=function(e,t,n){var r=this.calculateOffset(e,t,n),o=r.offsetX,i=r.offsetY,a=e.facet,l=e.facet.getScrollOffset(),s=l.scrollX,u=l.scrollY;a.scrollWithAnimation({offsetX:{value:o>-1?o:s},offsetY:{value:i>-1?i:u}})},t}(DI),QI=function(){function e(e){var t=this;this.interactions=new Map,this.intercepts=new Set,this.hoverTimer=null,this.defaultState={cells:[],force:!1},this.onTriggerInteractionsResetEffect=function(){t.interactions.forEach((function(e){e.reset()}))},this.selectAll=function(){t.changeState({stateName:Ji.ALL_SELECTED})},this.getCellChildrenNodes=function(e){var n,r=null===(n=null==e?void 0:e.getMeta)||void 0===n?void 0:n.call(e),o=(null==e?void 0:e.cellType)===ea.ROW_CELL;return t.spreadsheet.isHierarchyTreeType()&&o?xC.getAllLeaveNodes(r).filter((function(e){return e.rowIndex===r.rowIndex})):xC.getAllChildrenNodes(r)},this.selectHeaderCell=function(e){var n;void 0===e&&(e={});var r=e.cell;if(!Bv(r)){var o=null===(n=null==r?void 0:r.getMeta)||void 0===n?void 0:n.call(r);if(o&&!$v(null==o?void 0:o.x)){t.addIntercepts([ia.HOVER]);var i=t.spreadsheet.isHierarchyTreeType(),a=(null==r?void 0:r.cellType)===ea.COL_CELL,l=t.getState(),s=t.isSelectedCell(r),u=(null==e?void 0:e.isMultiSelection)&&t.isSelectedState(),c=s?[]:t.getCellChildrenNodes(r),d=s?[]:[zS(r)];if(u&&(d=Rh(null==l?void 0:l.cells,d),c=Rh(null==l?void 0:l.nodes,c),s&&(d=d.filter((function(e){return e.id!==o.id})),c=c.filter((function(e){return!(null==e?void 0:e.id.includes(o.id))})))),Bv(d))return t.reset(),void t.spreadsheet.emit(fi.GLOBAL_SELECTED,t.getActiveCells());var h=c.filter((function(e){return null==e?void 0:e.isLeaf}));t.changeState({cells:d,nodes:h,stateName:Ji.SELECTED});var f=d.map((function(e){return e.id}));return t.updateCells(t.getRowColActiveCells(f)),i&&!a||t.highlightNodes(c),t.spreadsheet.emit(fi.GLOBAL_SELECTED,t.getActiveCells()),!0}}},this.highlightNodes=function(e){void 0===e&&(e=[]),e.forEach((function(e){var t;null===(t=null==e?void 0:e.belongsCell)||void 0===t||t.updateByState(Ji.SELECTED,e.belongsCell)}))},this.mergeCells=function(e,n){Dw(t.spreadsheet,e,n)},this.unmergeCell=function(e){kw(t.spreadsheet,e)},this.spreadsheet=e,this.registerEventController(),this.registerInteractions(),window.addEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)}return e.prototype.destroy=function(){this.interactions.clear(),this.intercepts.clear(),this.eventController.clear(),this.clearHoverTimer(),this.resetState(),window.removeEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)},e.prototype.reset=function(){this.clearState(),this.clearHoverTimer(),this.intercepts.clear(),this.spreadsheet.hideTooltip()},e.prototype.setState=function(e){!function(e,t){var n=null==t?void 0:t.stateName;e.interaction.isEqualStateName(n)||(WS(e),e.hideTooltip(),e.store.set(sa,t))}(this.spreadsheet,e)},e.prototype.getState=function(){return this.spreadsheet.store.get(sa)||this.defaultState},e.prototype.setInteractedCells=function(e){var t=this.getInteractedCells().concat([e]),n=this.getState();n.interactedCells=t,this.setState(n)},e.prototype.getInteractedCells=function(){var e=this.getState();return(null==e?void 0:e.interactedCells)||[]},e.prototype.resetState=function(){this.spreadsheet.store.set(sa,this.defaultState)},e.prototype.getCurrentStateName=function(){return this.getState().stateName},e.prototype.isEqualStateName=function(e){return this.getCurrentStateName()===e},e.prototype.isStateOf=function(e){var t=this.getState();return(null==t?void 0:t.stateName)===e},e.prototype.isSelectedState=function(){return this.isStateOf(Ji.SELECTED)},e.prototype.isAllSelectedState=function(){return this.isStateOf(Ji.ALL_SELECTED)},e.prototype.isHoverFocusState=function(){return this.isStateOf(Ji.HOVER_FOCUS)},e.prototype.isHoverState=function(){return this.isStateOf(Ji.HOVER)},e.prototype.isActiveCell=function(e){return!!this.getCells().find((function(t){return e.getMeta().id===t.id}))},e.prototype.isSelectedCell=function(e){return this.isSelectedState()&&this.isActiveCell(e)},e.prototype.getCells=function(e){var t=this.getState(),n=(null==t?void 0:t.cells)||[];return $v(e)?n:n.filter((function(t){return e.includes(t.type)}))},e.prototype.getActiveCells=function(){var e=this.getCells().map((function(e){return e.id})),t=this.getAllCells();return Bp(e,(function(e){return Ip(t,(function(t){var n;return(null===(n=null==t?void 0:t.getMeta())||void 0===n?void 0:n.id)===e}))})).filter((function(e){return e}))},e.prototype.clearStyleIndependent=function(){(this.isSelectedState()||this.isHoverState()||this.isAllSelectedState())&&this.getPanelGroupAllDataCells().forEach((function(e){e.hideInteractionShape()}))},e.prototype.getPanelGroupAllUnSelectedDataCells=function(){var e=this;return this.getPanelGroupAllDataCells().filter((function(t){return!e.isActiveCell(t)}))},e.prototype.getPanelGroupAllDataCells=function(){var e;return lI(null===(e=this.spreadsheet.panelGroup)||void 0===e?void 0:e.getChildren(),Tw)},e.prototype.getAllRowHeaderCells=function(){var e,t,n=((null===(e=this.spreadsheet.foregroundGroup)||void 0===e?void 0:e.getChildren())||[]).find((function(e){return e instanceof CI})),r=(null===(t=null==n?void 0:n.cfg)||void 0===t?void 0:t.children)||[];return lI(r,TS).filter((function(e){return e.cellType===ea.ROW_CELL}))},e.prototype.getAllColHeaderCells=function(){var e,t,n=((null===(e=this.spreadsheet.foregroundGroup)||void 0===e?void 0:e.getChildren())||[]).find((function(e){return e instanceof mI})),r=(null===(t=null==n?void 0:n.cfg)||void 0===t?void 0:t.children)||[];return lI(r,vS).filter((function(e){return e.cellType===ea.COL_CELL}))},e.prototype.getRowColActiveCells=function(e){return Rh(this.getAllRowHeaderCells(),this.getAllColHeaderCells()).filter((function(t){return e.includes(t.getMeta().id)}))},e.prototype.getAllCells=function(){return Rh(this.getPanelGroupAllDataCells(),this.getAllRowHeaderCells(),this.getAllColHeaderCells())},e.prototype.hideColumns=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=!0),jw(this.spreadsheet,e,t)},e.prototype.getBrushSelectionInfo=function(e){var t,n,r;return Mv(e)?{dataBrushSelection:e,rowBrushSelection:e,colBrushSelection:e}:{dataBrushSelection:null!==(t=null==e?void 0:e.data)&&void 0!==t&&t,rowBrushSelection:null!==(n=null==e?void 0:e.row)&&void 0!==n&&n,colBrushSelection:null!==(r=null==e?void 0:e.col)&&void 0!==r&&r}},e.prototype.getDefaultInteractions=function(){var e=this.spreadsheet.options.interaction,t=e.resize,n=e.brushSelection,r=e.multiSelection,o=e.rangeSelection,i=e.selectedCellMove,a=this.getBrushSelectionInfo(n),l=a.dataBrushSelection,s=a.rowBrushSelection,u=a.colBrushSelection;return[{key:Qi.CORNER_CELL_CLICK,interaction:HI},{key:Qi.DATA_CELL_CLICK,interaction:kI},{key:Qi.ROW_COLUMN_CLICK,interaction:zI},{key:Qi.ROW_TEXT_CLICK,interaction:FI},{key:Qi.MERGED_CELLS_CLICK,interaction:PI},{key:Qi.HOVER,interaction:$I,enable:!yC()},{key:Qi.BRUSH_SELECTION,interaction:GI,enable:!yC()&&l},{key:Qi.ROW_BRUSH_SELECTION,interaction:VI,enable:!yC()&&s},{key:Qi.COL_BRUSH_SELECTION,interaction:WI,enable:!yC()&&u},{key:Qi.COL_ROW_RESIZE,interaction:XI,enable:!yC()&&t},{key:Qi.DATA_CELL_MULTI_SELECTION,interaction:UI,enable:!yC()&&r},{key:Qi.RANGE_SELECTION,interaction:YI,enable:!yC()&&o},{key:Qi.SELECTED_CELL_MOVE,interaction:KI,enable:!yC()&&i}]},e.prototype.registerInteractions=function(){var e=this,t=this.spreadsheet.options.interaction.customInteractions;this.interactions.clear(),this.getDefaultInteractions().forEach((function(t){var n=t.key,r=t.interaction;!1!==t.enable&&e.interactions.set(n,new r(e.spreadsheet))})),Bv(t)||tp(t,(function(t){var n=t.interaction;e.interactions.set(t.key,new n(e.spreadsheet))}))},e.prototype.registerEventController=function(){this.eventController=new ZI(this.spreadsheet)},e.prototype.draw=function(){this.spreadsheet.container.draw()},e.prototype.clearState=function(){WS(this.spreadsheet)&&this.draw()},e.prototype.changeState=function(e){var t=this,n=this.spreadsheet.interaction,r=e.cells,o=void 0===r?[]:r,i=e.force,a=e.stateName,l=e.onUpdateCells;if(Bv(o)&&a===Ji.SELECTED)i&&n.changeState({cells:[],stateName:Ji.UNSELECTED});else{this.getCurrentStateName()===Ji.ALL_SELECTED&&this.clearStyleIndependent(),this.clearState(),this.setState(e);var s=function(){t.updatePanelGroupAllDataCells()};l?l(this,s):s(),this.draw()}},e.prototype.updatePanelGroupAllDataCells=function(){this.updateCells(this.getPanelGroupAllDataCells())},e.prototype.updateCells=function(e){void 0===e&&(e=[]),e.forEach((function(e){e.update()}))},e.prototype.addIntercepts=function(e){var t=this;void 0===e&&(e=[]),e.forEach((function(e){t.intercepts.add(e)}))},e.prototype.hasIntercepts=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.intercepts.has(e)}))},e.prototype.removeIntercepts=function(e){var t=this;void 0===e&&(e=[]),e.forEach((function(e){t.intercepts.delete(e)}))},e.prototype.clearHoverTimer=function(){clearTimeout(this.hoverTimer)},e.prototype.setHoverTimer=function(e){this.hoverTimer=e},e.prototype.getHoverTimer=function(){return this.hoverTimer},e.prototype.getSelectedCellHighlight=function(){var e=this.spreadsheet.options.interaction.selectedCellHighlight;if(Mv(e))return{rowHeader:e,colHeader:e,currentRow:!1,currentCol:!1};var t=null!=e?e:{},n=t.rowHeader,r=void 0!==n&&n,o=t.colHeader,i=void 0!==o&&o,a=t.currentRow,l=void 0!==a&&a,s=t.currentCol;return{rowHeader:r,colHeader:i,currentRow:l,currentCol:void 0!==s&&s}},e.prototype.getHoverAfterScroll=function(){return this.spreadsheet.options.interaction.hoverAfterScroll},e.prototype.getHoverHighlight=function(){var e=this.spreadsheet.options.interaction.hoverHighlight;if(Mv(e))return{rowHeader:e,colHeader:e,currentRow:e,currentCol:e};var t=null!=e?e:{},n=t.rowHeader,r=void 0!==n&&n,o=t.colHeader,i=void 0!==o&&o,a=t.currentRow,l=void 0!==a&&a,s=t.currentCol;return{rowHeader:r,colHeader:i,currentRow:l,currentCol:void 0!==s&&s}},e.prototype.getBrushSelection=function(){var e=this.spreadsheet.options.interaction.brushSelection;if(Mv(e))return{data:e,row:e,col:e};var t=null!=e?e:{},n=t.data,r=void 0!==n&&n,o=t.row,i=void 0!==o&&o,a=t.col;return{data:r,row:i,col:void 0!==a&&a}},e}(),JI=function(){function e(e){var t=this;this.viewport=window,this.isDevicePixelRatioChange=!1,this.init=function(){t.initDevicePixelRatioListener(),t.initDeviceZoomListener()},this.destroy=function(){t.removeDevicePixelRatioListener(),t.removeDeviceZoomListener()},this.removeDevicePixelRatioListener=function(){var e;(null===(e=t.devicePixelRatioMedia)||void 0===e?void 0:e.removeEventListener)?t.devicePixelRatioMedia.removeEventListener("change",t.renderByDevicePixelRatioChanged):t.devicePixelRatioMedia.removeListener(t.renderByDevicePixelRatioChanged)},this.initDeviceZoomListener=function(){var e,n;yC()||null===(n=null===(e=t.viewport)||void 0===e?void 0:e.visualViewport)||void 0===n||n.addEventListener("resize",t.renderByZoomScaleWithoutResizeEffect)},this.removeDeviceZoomListener=function(){var e,n;yC()||null===(n=null===(e=t.viewport)||void 0===e?void 0:e.visualViewport)||void 0===n||n.removeEventListener("resize",t.renderByZoomScaleWithoutResizeEffect)},this.renderByZoomScaleWithoutResizeEffect=function(e){t.isDevicePixelRatioChange=!1,t.renderByZoomScale(e)},this.renderByDevicePixelRatioChanged=function(){t.isDevicePixelRatioChange=!0,t.renderByDevicePixelRatio()},this.renderByDevicePixelRatio=function(e){void 0===e&&(e=window.devicePixelRatio);var n=t.spreadsheet,r=n.container,o=n.options,i=o.width,a=o.height,l=o.devicePixelRatio,s=t.spreadsheet.getCanvasElement();if(r.get("pixelRatio")!==e&&s){var u=Math.max(e,l,1);r.set("pixelRatio",u),r.changeSize(i,a),t.spreadsheet.render(!1)}},this.renderByZoomScale=Ef((function(e){var n=Math.ceil(e.target.scale);n>=1&&!t.isDevicePixelRatioChange&&t.renderByDevicePixelRatio(n)}),350),this.spreadsheet=e}return e.prototype.initDevicePixelRatioListener=function(){var e;this.devicePixelRatioMedia=window.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")),(null===(e=this.devicePixelRatioMedia)||void 0===e?void 0:e.addEventListener)?this.devicePixelRatioMedia.addEventListener("change",this.renderByDevicePixelRatioChanged):this.devicePixelRatioMedia.addListener(this.renderByDevicePixelRatioChanged)},e}(),eL=function(){function e(e){this.visible=!1,this.position={x:0,y:0},this.spreadsheet=e}return e.prototype.show=function(e){var t,n,r,o=e.position,i=e.options,a=e.content,l=e.event,s=PO(i).enterable,u=this.spreadsheet.options.tooltip||{},c=u.autoAdjustBoundary,d=u.adjustPosition;this.visible=!0,this.options=e;var h=this.getContainer();this.renderContent(a);var f=function(e){var t=e.spreadsheet,n=e.position,r=e.tooltipContainer,o=e.autoAdjustBoundary,i=t.getCanvasElement(),a=n.x+gC,l=n.y+mC;if(!o||!i)return{x:a,y:l};var s="body"===o,u=t.facet.panelBBox,c=u.maxX,d=u.maxY,h=t.options,f=h.width,p=h.height,v=i.getBoundingClientRect(),g=v.top,m=v.left,y=r.getBoundingClientRect(),b=y.width,C=y.height,x=document.body.getBoundingClientRect(),w=x.width,S=x.height,E=s?w:Math.min(f,c)+m,O=s?S:Math.min(p,d)+g;return a+b>=E&&(a=E-b),l+C>=O&&(l=O-C),{x:a,y:l}}({spreadsheet:this.spreadsheet,position:o,tooltipContainer:h,autoAdjustBoundary:c}),p=f.x,v=f.y;this.position=null!==(t=null==d?void 0:d({position:{x:p,y:v},event:l}))&&void 0!==t?t:{x:p,y:v},FO(h,{style:{left:"".concat(null===(n=this.position)||void 0===n?void 0:n.x,"px"),top:"".concat(null===(r=this.position)||void 0===r?void 0:r.y,"px"),pointerEvents:s?"all":"none"},visible:!0})},e.prototype.hide=function(){this.visible=!1,this.container&&(FO(this.container,{style:{pointerEvents:"none"},visible:!1}),this.resetPosition())},e.prototype.destroy=function(){var e,t;this.visible=!1,this.container&&(this.resetPosition(),null===(t=(e=this.container).remove)||void 0===t||t.call(e),this.container=null)},e.prototype.renderContent=function(e){if(this.container){this.clearContent();var t=(this.spreadsheet.options.tooltip||{}).content,n=null!=e?e:t;$v(n)||("string"!=typeof n?n instanceof Element&&this.container.appendChild(n):this.container.innerHTML=n)}},e.prototype.clearContent=function(){this.container&&(this.container.innerHTML="")},e.prototype.disablePointerEvent=function(){this.container&&"none"!==this.container.style.pointerEvents&&FO(this.container,{style:{pointerEvents:"none"}})},e.prototype.resetPosition=function(){this.position={x:0,y:0}},e.prototype.getContainer=function(){var e;if(!this.container){var t=this.spreadsheet.options.tooltip,n=(null===(e=t.getContainer)||void 0===e?void 0:e.call(t))||document.body,r=document.createElement("div");return FO(r,{style:t.style,className:[fC].concat(t.className)}),n.appendChild(r),this.container=r,this.container}return this.container},e}(),tL=function(e){function t(t,n,r){var o=e.call(this)||this;return o.store=new rx,o.untypedOn=o.on,o.untypedEmit=o.emit,o.on=function(e,t){return o.untypedOn(e,t)},o.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o.untypedEmit.apply(o,Oa([e],Ea(t),!1))},o.initHiddenColumnsDetail=function(){var e=o.options.interaction.hiddenColumnFields,t=o.store.get("hiddenColumnsDetail");Bv(e)&&Bv(t)||jw(o,e,!0)},o.measureText=Hu((function(e,t){var n;if(void 0===e&&(e=""),!t)return null;var r=null===(n=o.getCanvasElement())||void 0===n?void 0:n.getContext("2d"),i=t,a=i.fontSize,l=i.fontFamily,s=i.fontWeight,u=i.fontStyle,c=i.fontVariant;return r.font=[u,c,s,"".concat(a,"px"),l].join(" ").trim(),r.measureText(String(e))}),(function(e,t){return Oa([e],Ea(nv(t)),!1).join("")})),o.measureTextWidth=function(e,t){void 0===e&&(e="");var n=o.measureText(e,t);return(null==n?void 0:n.width)||0},o.measureTextHeight=function(e,t){void 0===e&&(e="");var n=o.measureText(e,t);return n?n.actualBoundingBoxAscent+n.actualBoundingBoxDescent:0},o.measureTextWidthRoughly=function(e,t){var n,r;void 0===t&&(t={});var i=o.measureTextWidth("a",t),a=o.measureTextWidth("蚂",t),l=0;if(!e)return l;try{for(var s=Sa(e),u=s.next();!u.done;u=s.next()){var c=u.value.charCodeAt(0);l+=c>=0&&c<=255?i:a}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return l},o.dataCfg=YS(n),o.options=XS(r),o.dataSet=o.getDataSet(o.options),o.setDebug(),o.initTooltip(),o.initGroups(t),o.bindEvents(),o.initInteraction(),o.initTheme(),o.initHdAdapter(),o.registerIcons(),o.setOverscrollBehavior(),o}return Ca(t,e),t.prototype.setOverscrollBehavior=function(){var e=this.options.interaction.overscrollBehavior,t=window.getComputedStyle(document.body).getPropertyValue("overscroll-behavior");t&&"auto"!==t?this.store.set("initOverscrollBehavior",t):e&&(document.body.style.overscrollBehavior=e)},t.prototype.restoreOverscrollBehavior=function(){document.body.style.overscrollBehavior=this.store.get("initOverscrollBehavior")||""},t.prototype.setDebug=function(){VC.getInstance().setDebug(this.options.debug)},t.prototype.initTheme=function(){this.setThemeCfg({name:"default"})},t.prototype.getMountContainer=function(e){var t=ev(e)?document.querySelector(e):e;if(!t)throw new Error("Target mount container is not a DOM element");return t},t.prototype.initHdAdapter=function(){this.options.hdAdapter&&(this.hdAdapter=new JI(this),this.hdAdapter.init())},t.prototype.initInteraction=function(){var e,t;null===(t=null===(e=this.interaction)||void 0===e?void 0:e.destroy)||void 0===t||t.call(e),this.interaction=new QI(this)},t.prototype.initTooltip=function(){var e,t,n,r;null===(t=null===(e=this.tooltip)||void 0===e?void 0:e.destroy)||void 0===t||t.call(e),this.tooltip=this.renderTooltip(),this.tooltip instanceof eL||console.warn("[Custom Tooltip]: ".concat(null===(r=null===(n=this.tooltip)||void 0===n?void 0:n.constructor)||void 0===r?void 0:r.toString()," should be extends from BaseTooltip"))},t.prototype.renderTooltip=function(){var e,t;return(null===(t=null===(e=this.options.tooltip)||void 0===e?void 0:e.renderTooltip)||void 0===t?void 0:t.call(e,this))||new eL(this)},t.prototype.showTooltip=function(e){var t,n,r=e.content,o=e.event,i=this.getCell(null==o?void 0:o.target),a=ll(r)?r(i,e):r;null===(n=(t=this.tooltip).show)||void 0===n||n.call(t,xa(xa({},e),{content:a}))},t.prototype.showTooltipWithInfo=function(e,t,n){var r,o=XO(this,e),i=o.showTooltip,a=o.content;if(i){var l=this.getCell(null==e?void 0:e.target),s=null!==(r=null==n?void 0:n.data)&&void 0!==r?r:ZO({spreadsheet:this,cellInfos:t,targetCell:l,options:xa({enableFormat:!0},n)});this.showTooltip({data:s,position:{x:e.clientX,y:e.clientY},options:xa({enterable:!0},n),event:e,content:a})}},t.prototype.hideTooltip=function(){var e,t;null===(t=(e=this.tooltip).hide)||void 0===t||t.call(e)},t.prototype.destroyTooltip=function(){var e,t;null===(t=(e=this.tooltip).destroy)||void 0===t||t.call(e)},t.prototype.registerIcons=function(){var e=this.options.customSVGIcons;Bv(e)||tp(e,(function(e){YC(e.name,e.svg)}))},t.prototype.setDataCfg=function(e,t){this.store.set("originalDataCfg",e),this.dataCfg=t?YS(e):YS(this.dataCfg,e),this.store.set(Zi,Yi)},t.prototype.setOptions=function(e,t){var n;this.hideTooltip(),this.options=t?XS(e):US(this.options,e),(t||(null===(n=e.tooltip)||void 0===n?void 0:n.renderTooltip))&&this.initTooltip(),this.registerIcons()},t.prototype.render=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t={}),this.getCanvasElement()){var n=t.reBuildDataSet,r=void 0!==n&&n,o=t.reBuildHiddenColumnsDetail,i=void 0===o||o;this.emit(fi.LAYOUT_BEFORE_RENDER),r&&(this.dataSet=this.getDataSet(this.options)),e&&(this.clearDrillDownData("",!0),this.dataSet.setDataCfg(this.dataCfg)),this.buildFacet(),i&&this.initHiddenColumnsDetail(),this.emit(fi.LAYOUT_AFTER_RENDER)}},t.prototype.destroy=function(){var e,t,n,r,o;this.restoreOverscrollBehavior(),this.emit(fi.LAYOUT_DESTROY),null===(e=this.facet)||void 0===e||e.destroy(),null===(t=this.hdAdapter)||void 0===t||t.destroy(),null===(n=this.interaction)||void 0===n||n.destroy(),null===(r=this.store)||void 0===r||r.clear(),this.destroyTooltip(),this.clearCanvasEvent(),null===(o=this.container)||void 0===o||o.destroy(),function(){var e;null===(e=document.getElementById(xx))||void 0===e||e.remove()}()},t.prototype.setThemeCfg=function(e){void 0===e&&(e={});var t=(null==e?void 0:e.theme)||{},n=CC(xa(xa({},e),{spreadsheet:this}));this.theme=US(n,t)},t.prototype.setTheme=function(e){this.theme=US(this.theme,e)},t.prototype.updatePagination=function(e){this.options=US(this.options,{pagination:e}),this.store.set("scrollX",0),this.store.set("scrollY",0)},t.prototype.getContentHeight=function(){return this.facet.getContentHeight()},t.prototype.changeSize=function(e,t){void 0===e&&(e=this.options.width),void 0===t&&(t=this.options.height),this.changeSheetSize(e,t)},t.prototype.changeSheetSize=function(e,t){void 0===e&&(e=this.options.width),void 0===t&&(t=this.options.height);var n=this.getCanvasElement(),r=this.container.get("width"),o=this.container.get("height");(e!==r||t!==o)&&n&&(this.options=US(this.options,{width:e,height:t}),this.container.changeSize(e,t))},t.prototype.getCanvasElement=function(){return this.container.get("el")},t.prototype.getLayoutWidthType=function(){return this.options.style.layoutWidthType},t.prototype.getRowNodes=function(e){return void 0===e&&(e=-1),-1===e?this.facet.layoutResult.rowNodes:this.facet.layoutResult.rowNodes.filter((function(t){return t.level===e}))},t.prototype.getRowLeafNodes=function(){var e;return(null===(e=this.facet)||void 0===e?void 0:e.layoutResult.rowLeafNodes)||[]},t.prototype.getColumnNodes=function(e){var t;void 0===e&&(e=-1);var n=(null===(t=this.facet)||void 0===t?void 0:t.layoutResult.colNodes)||[];return-1===e?n:n.filter((function(t){return t.level===e}))},t.prototype.getColumnLeafNodes=function(){var e;return(null===(e=this.facet)||void 0===e?void 0:e.layoutResult.colLeafNodes)||[]},t.prototype.updateScrollOffset=function(e){var t={offsetX:{value:void 0,animate:!1},offsetY:{value:void 0,animate:!1},rowHeaderOffsetX:{value:void 0,animate:!1}};this.facet.updateScrollOffset(US(t,e))},t.prototype.getTooltipDataItemMappingCallback=function(){var e;return null===(e=this.options)||void 0===e?void 0:e.mappingDisplayDataItem},t.prototype.getCell=function(e){for(var t,n=e;n&&!(n instanceof pi);){if(n instanceof Sw)return n;n=null===(t=n.get)||void 0===t?void 0:t.call(n,"parent")}return null},t.prototype.getCellType=function(e){var t=this.getCell(e);return null==t?void 0:t.cellType},t.prototype.getTotalsConfig=function(e){var t=Xu(this.options.totals,ov(this.dataSet.fields.rows,e)?"row":"col",{});return{showSubTotals:!(!t.showSubTotals||!ov(t.subTotalsDimensions,e))&&t.showSubTotals,showGrandTotals:t.showGrandTotals,reverseLayout:t.reverseLayout,reverseSubLayout:t.reverseSubLayout,label:t.label||dC("总计"),subLabel:t.subLabel||dC("小计")}},t.prototype.initGroups=function(e){var t=this.options,n=t.width,r=t.height,o=t.supportCSSTransform,i=t.devicePixelRatio;this.container=new pi({container:this.getMountContainer(e),width:n,height:r,localRefresh:!1,supportCSSTransform:o,pixelRatio:Math.max(i,1)}),this.backgroundGroup=this.container.addGroup({name:"backGroundGroup",zIndex:0}),this.panelGroup=this.container.addGroup({name:"panelGroup",zIndex:1}),this.foregroundGroup=this.container.addGroup({name:"foreGroundGroup",zIndex:3}),this.initPanelGroupChildren(),this.updateContainerStyle()},t.prototype.updateContainerStyle=function(){var e=this.getCanvasElement();e&&(e.style.display="block")},t.prototype.initPanelGroupChildren=function(){this.panelScrollGroup=new BI({name:"panelScrollGroup",zIndex:1,s2:this}),this.panelGroup.add(this.panelScrollGroup)},t.prototype.getInitColumnLeafNodes=function(){return this.store.get("initColumnLeafNodes",[])},t.prototype.clearColumnLeafNodes=function(){this.store.set("initColumnLeafNodes",void 0)},t.prototype.clearCanvasEvent=function(){var e=this;Fp(this.getEvents(),(function(t,n){e.off(n)}))},t.prototype.updateSortMethodMap=function(e,t,n){var r;void 0===n&&(n=!1);var o=n?null:this.store.get("sortMethodMap");this.store.set("sortMethodMap",xa(xa({},o),((r={})[e]=t,r)))},t.prototype.getMenuDefaultSelectedKeys=function(e){var t=Xu(this.store.get("sortMethodMap"),e);return t?[t]:[]},t}(pe),nL=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.getDataSet=function(e){var t=e.dataSet,n=e.hierarchyType;return t?t(this):"customTree"===n?new tI(this):new JO(this)},t.prototype.getContentHeight=function(){return this.facet.getContentHeight()},t.prototype.isPivotMode=function(){return!0},t.prototype.isTableMode=function(){return!1},t.prototype.isHierarchyTreeType=function(){var e=this.options.hierarchyType;return"tree"===e||"customTree"===e},t.prototype.isScrollContainsRowHeader=function(){return!this.isFrozenRowHeader()},t.prototype.isFrozenRowHeader=function(){var e;return null===(e=this.options)||void 0===e?void 0:e.frozenRowHeader},t.prototype.isValueInCols=function(){return this.dataSet.fields.valueInCols},t.prototype.clearDrillDownData=function(e,t){this.dataSet instanceof JO&&(this.dataSet.clearDrillDownData(e),t||(this.interaction.reset(),this.render(!1)))},t.prototype.getFacetCfgFromDataSetAndOptions=function(){var e=this,t=this.dataSet,n=t.fields,r=t.meta,o=this.options,i=o.style,a=o.dataCell;return xa(xa(xa(xa({},this.options),n),i),{meta:r,spreadsheet:this,dataSet:this.dataSet,dataCell:null!=a?a:function(t){return new Tw(t,e)}})},t.prototype.buildFacet=function(){var e,t=this.getFacetCfgFromDataSetAndOptions();null===(e=this.facet)||void 0===e||e.destroy(),this.facet=new MI(t),this.facet.render()},t.prototype.bindEvents=function(){this.off(fi.ROW_CELL_COLLAPSE_TREE_ROWS),this.off(fi.LAYOUT_TREE_ROWS_COLLAPSE_ALL),this.on(fi.ROW_CELL_COLLAPSE_TREE_ROWS,this.handleRowCellCollapseTreeRows),this.on(fi.LAYOUT_TREE_ROWS_COLLAPSE_ALL,this.handleTreeRowsCollapseAll)},t.prototype.handleRowCellCollapseTreeRows=function(e){var t,n=e.id,r=e.isCollapsed,o={style:{collapsedRows:(t={},t[n]=r,t)}};this.emit(fi.LAYOUT_COLLAPSE_ROWS,{collapsedRows:o.style.collapsedRows,meta:null==e?void 0:e.node}),this.setOptions(o),this.render(!1),this.emit(fi.LAYOUT_AFTER_COLLAPSE_ROWS,{collapsedRows:o.style.collapsedRows,meta:null==e?void 0:e.node})},t.prototype.handleTreeRowsCollapseAll=function(e){var t={style:{hierarchyCollapse:!e,collapsedRows:null,rowExpandDepth:null}};this.setOptions(t),this.render(!1)},t.prototype.groupSortByMethod=function(e,t){var n=this.dataCfg.fields,r=n.rows,o=n.columns,i=this.options.style.colCfg.hideMeasureColumn,a=this.isValueInCols()?Zf(r):Zf(o),l=t.query,s=t.value,u=_h(l),c=s;i&&this.isValueInCols()&&(c=this.dataSet.fields.values[0],u[mi]=c);var d={sortFieldId:a,sortMethod:e,sortByMeasure:c,query:u},h=this.dataCfg.sortParams.filter((function(e){return(null==e?void 0:e.sortFieldId)!==a}));this.updateSortMethodMap(t.id,e,!0);var f=Oa(Oa([],Ea(h),!1),[d],!1);this.emit(fi.RANGE_SORT,f),this.setDataCfg(xa(xa({},this.dataCfg),{sortParams:f})),this.render()},t.prototype.handleGroupSort=function(e,t){var n=this;e.stopPropagation(),this.interaction.addIntercepts([ia.HOVER]);var r=this.getMenuDefaultSelectedKeys(null==t?void 0:t.id),o={onClick:function(r){var o=r.key;n.groupSortByMethod(o,t),n.emit(fi.RANGE_SORTED,e)},menus:[{key:"asc",icon:"groupAsc",text:dC("组内升序")},{key:"desc",icon:"groupDesc",text:dC("组内降序")},{key:"none",text:dC("不排序")}],defaultSelectedKeys:r};this.showTooltipWithInfo(e,[],{operator:o,onlyMenu:!0,forceRender:!0})},t}(tL),rL=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t}(NI),oL=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSortTooltipClick=function(e,n){var r=e.key,o={sortFieldId:n.field,sortMethod:r};t.updateSortMethodMap(n.id,r),t.emit(fi.RANGE_SORT,[o])},t}return Ca(t,e),t.prototype.getDataSet=function(e){var t=e.dataSet;return t?t(this):new eI(this)},t.prototype.isPivotMode=function(){return!1},t.prototype.isTableMode=function(){return!0},t.prototype.isHierarchyTreeType=function(){return!1},t.prototype.isScrollContainsRowHeader=function(){return!1},t.prototype.isFrozenRowHeader=function(){return!1},t.prototype.clearDrillDownData=function(){},t.prototype.isValueInCols=function(){return!1},t.prototype.bindEvents=function(){},t.prototype.initPanelGroupChildren=function(){var t,n=this;e.prototype.initPanelGroupChildren.call(this);var r={zIndex:2,s2:this};t=Ea([wi,Si,Ei,Oi,Ii,Li].map((function(e){var t=new rL(xa({name:e},r));return n.panelGroup.add(t),t})),6),this.frozenRowGroup=t[0],this.frozenColGroup=t[1],this.frozenTrailingRowGroup=t[2],this.frozenTrailingColGroup=t[3],this.frozenTopGroup=t[4],this.frozenBottomGroup=t[5]},t.prototype.getFacetCfgFromDataSetAndOptions=function(){var e=this,t=this.dataSet,n=t.fields,r=t.meta,o=this.options,i=o.style,a=o.dataCell;return xa(xa(xa(xa({},this.options),n),i),{meta:r,spreadsheet:this,dataSet:this.dataSet,dataCell:null!=a?a:function(t){return e.options.showSeriesNumber&&0===t.colIndex?new DS(t,e):new BS(t,e)}})},t.prototype.buildFacet=function(){var e,t=this.getFacetCfgFromDataSetAndOptions();null===(e=this.facet)||void 0===e||e.destroy(),this.facet=new AI(t),this.facet.render()},t.prototype.clearFrozenGroups=function(){this.frozenRowGroup.set("children",[]),this.frozenColGroup.set("children",[]),this.frozenTrailingRowGroup.set("children",[]),this.frozenTrailingColGroup.set("children",[]),this.frozenTopGroup.set("children",[]),this.frozenBottomGroup.set("children",[])},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.clearFrozenGroups(),this.off(fi.RANGE_SORT),this.off(fi.RANGE_FILTER)},t.prototype.handleGroupSort=function(e,t){var n=this;e.stopPropagation(),this.interaction.addIntercepts([ia.HOVER]);var r=this.getMenuDefaultSelectedKeys(null==t?void 0:t.id),o={onClick:function(e){var r=e.key;n.onSortTooltipClick({key:r},t)},menus:[{key:"asc",icon:"groupAsc",text:dC("升序")},{key:"desc",icon:"groupDesc",text:dC("降序")},{key:"none",text:dC("不排序")}],defaultSelectedKeys:r};this.showTooltipWithInfo(e,[],{operator:o,onlyMenu:!0,forceRender:!0})},t}(tL)},49571:function(){},73360:function(e,t,n){n.d(t,{Z:function(){return he}});var r=n(58964),o=n(87462),i=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},l=n(93771),s=function(e,t){return i.createElement(l.Z,(0,o.Z)({},e,{ref:t,icon:a}))};var u=i.forwardRef(s),c=n(94184),d=n.n(c),h=n(4942),f=n(71002),p=n(97685),v=n(91),g=n(15671),m=n(43144);function y(){return"function"==typeof BigInt}function b(e){return!e&&0!==e&&!Number.isNaN(e)||!String(e).trim()}function C(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",o=r.split("."),i=o[0]||"0",a=o[1]||"0";"0"===i&&"0"===a&&(n=!1);var l=n?"-":"";return{negative:n,negativeStr:l,trimStr:r,integerStr:i,decimalStr:a,fullStr:"".concat(l).concat(r)}}function x(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function w(e){var t=String(e);if(x(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return null!=r&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&E(t)?t.length-t.indexOf(".")-1:0}function S(e){var t=String(e);if(x(e)){if(e>Number.MAX_SAFE_INTEGER)return String(y()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(y()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(w(t))}return C(t).fullStr}function E(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var O=function(){function e(t){if((0,g.Z)(this,e),(0,h.Z)(this,"origin",""),(0,h.Z)(this,"negative",void 0),(0,h.Z)(this,"integer",void 0),(0,h.Z)(this,"decimal",void 0),(0,h.Z)(this,"decimalLen",void 0),(0,h.Z)(this,"empty",void 0),(0,h.Z)(this,"nan",void 0),b(t))this.empty=!0;else if(this.origin=String(t),"-"===t||Number.isNaN(t))this.nan=!0;else{var n=t;if(x(n)&&(n=Number(n)),E(n="string"==typeof n?n:S(n))){var r=C(n);this.negative=r.negative;var o=r.trimStr.split(".");this.integer=BigInt(o[0]);var i=o[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}}return(0,m.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,n,r){var o=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),i=n(this.alignDecimal(o),t.alignDecimal(o)).toString(),a=r(o),l=C(i),s=l.negativeStr,u=l.trimStr,c="".concat(s).concat(u.padStart(a+1,"0"));return new e("".concat(c.slice(0,-a),".").concat(c.slice(-a)))}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);return n.isInvalidate()?this:this.cal(n,(function(e,t){return e+t}),(function(e){return e}))}},{key:"multi",value:function(t){var n=new e(t);return this.isInvalidate()||n.isInvalidate()?new e(NaN):this.cal(n,(function(e,t){return e*t}),(function(e){return 2*e}))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null==e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":C("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),I=function(){function e(t){(0,g.Z)(this,e),(0,h.Z)(this,"origin",""),(0,h.Z)(this,"number",void 0),(0,h.Z)(this,"empty",void 0),b(t)?this.empty=!0:(this.origin=String(t),this.number=Number(t))}return(0,m.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(w(this.number),w(n));return new e(r.toFixed(o))}},{key:"multi",value:function(t){var n=Number(t);if(this.isInvalidate()||Number.isNaN(n))return new e(NaN);var r=this.number*n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(w(this.number),w(n));return new e(r.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null==e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":S(this.number):this.origin}}]),e}();function L(e){return y()?new O(e):new I(e)}function _(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var o=C(e),i=o.negativeStr,a=o.integerStr,l=o.decimalStr,s="".concat(t).concat(l),u="".concat(i).concat(a);if(n>=0){var c=Number(l[n]);if(c>=5&&!r){var d=L(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-c));return _(d.toString(),t,n,r)}return 0===n?u:"".concat(u).concat(t).concat(l.padEnd(n,"0").slice(0,n))}return".0"===s?u:"".concat(u).concat(s)}var T=L,M=n(67656),R=n(8410),A=n(42550),N=n(80334);var B=n(31131),D=function(){var e=(0,i.useState)(!1),t=(0,p.Z)(e,2),n=t[0],r=t[1];return(0,R.Z)((function(){r((0,B.Z)())}),[]),n},k=n(75164);function P(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,a=e.upDisabled,l=e.downDisabled,s=e.onStep,u=i.useRef(),c=i.useRef([]),f=i.useRef();f.current=s;var p=function(){clearTimeout(u.current)},v=function(e,t){e.preventDefault(),p(),f.current(t),u.current=setTimeout((function e(){f.current(t),u.current=setTimeout(e,200)}),600)};if(i.useEffect((function(){return function(){p(),c.current.forEach((function(e){return k.Z.cancel(e)}))}}),[]),D())return null;var g="".concat(t,"-handler"),m=d()(g,"".concat(g,"-up"),(0,h.Z)({},"".concat(g,"-up-disabled"),a)),y=d()(g,"".concat(g,"-down"),(0,h.Z)({},"".concat(g,"-down-disabled"),l)),b=function(){return c.current.push((0,k.Z)(p))},C={unselectable:"on",role:"button",onMouseUp:b,onMouseLeave:b};return i.createElement("div",{className:"".concat(g,"-wrap")},i.createElement("span",(0,o.Z)({},C,{onMouseDown:function(e){v(e,!0)},"aria-label":"Increase Value","aria-disabled":a,className:m}),n||i.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),i.createElement("span",(0,o.Z)({},C,{onMouseDown:function(e){v(e,!1)},"aria-label":"Decrease Value","aria-disabled":l,className:y}),r||i.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function z(e){var t="number"==typeof e?S(e):C(e).fullStr;return t.includes(".")?C(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var F=n(87887),H=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],$=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","classes","className","classNames"],j=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},W=function(e){var t=T(e);return t.isInvalidate()?null:t},G=i.forwardRef((function(e,t){var n,r=e.prefixCls,a=void 0===r?"rc-input-number":r,l=e.className,s=e.style,u=e.min,c=e.max,g=e.step,m=void 0===g?1:g,y=e.defaultValue,b=e.value,C=e.disabled,x=e.readOnly,O=e.upHandler,I=e.downHandler,L=e.keyboard,M=e.controls,B=void 0===M||M,D=e.classNames,F=e.stringMode,$=e.parser,G=e.formatter,V=e.precision,U=e.decimalSeparator,Z=e.onChange,Y=e.onInput,X=e.onPressEnter,q=e.onStep,K=(0,v.Z)(e,H),Q="".concat(a,"-input"),J=i.useRef(null),ee=i.useState(!1),te=(0,p.Z)(ee,2),ne=te[0],re=te[1],oe=i.useRef(!1),ie=i.useRef(!1),ae=i.useRef(!1),le=i.useState((function(){return T(null!=b?b:y)})),se=(0,p.Z)(le,2),ue=se[0],ce=se[1];var de=i.useCallback((function(e,t){if(!t)return V>=0?V:Math.max(w(e),w(m))}),[V,m]),he=i.useCallback((function(e){var t=String(e);if($)return $(t);var n=t;return U&&(n=n.replace(U,".")),n.replace(/[^\w.-]+/g,"")}),[$,U]),fe=i.useRef(""),pe=i.useCallback((function(e,t){if(G)return G(e,{userTyping:t,input:String(fe.current)});var n="number"==typeof e?S(e):e;if(!t){var r=de(n,t);if(E(n)&&(U||r>=0))n=_(n,U||".",r)}return n}),[G,de,U]),ve=i.useState((function(){var e=null!=y?y:b;return ue.isInvalidate()&&["string","number"].includes((0,f.Z)(e))?Number.isNaN(e)?"":e:pe(ue.toString(),!1)})),ge=(0,p.Z)(ve,2),me=ge[0],ye=ge[1];function be(e,t){ye(pe(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}fe.current=me;var Ce,xe,we,Se,Ee,Oe=i.useMemo((function(){return W(c)}),[c,V]),Ie=i.useMemo((function(){return W(u)}),[u,V]),Le=i.useMemo((function(){return!(!Oe||!ue||ue.isInvalidate())&&Oe.lessEquals(ue)}),[Oe,ue]),_e=i.useMemo((function(){return!(!Ie||!ue||ue.isInvalidate())&&ue.lessEquals(Ie)}),[Ie,ue]),Te=(Ce=J.current,xe=ne,we=(0,i.useRef)(null),[function(){try{var e=Ce.selectionStart,t=Ce.selectionEnd,n=Ce.value,r=n.substring(0,e),o=n.substring(t);we.current={start:e,end:t,value:n,beforeTxt:r,afterTxt:o}}catch(e){}},function(){if(Ce&&we.current&&xe)try{var e=Ce.value,t=we.current,n=t.beforeTxt,r=t.afterTxt,o=t.start,i=e.length;if(e.endsWith(r))i=e.length-we.current.afterTxt.length;else if(e.startsWith(n))i=n.length;else{var a=n[o-1],l=e.indexOf(a,o-1);-1!==l&&(i=l+1)}Ce.setSelectionRange(i,i)}catch(e){(0,N.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(e.message))}}]),Me=(0,p.Z)(Te,2),Re=Me[0],Ae=Me[1],Ne=function(e){return Oe&&!e.lessEquals(Oe)?Oe:Ie&&!Ie.lessEquals(e)?Ie:null},Be=function(e){return!Ne(e)},De=function(e,t){var n,r=e,o=Be(r)||r.isEmpty();if(r.isEmpty()||t||(r=Ne(r)||r,o=!0),!x&&!C&&o){var i=r.toString(),a=de(i,t);return a>=0&&(r=T(_(i,".",a)),Be(r)||(r=T(_(i,".",a,!0)))),r.equals(ue)||(n=r,void 0===b&&ce(n),null==Z||Z(r.isEmpty()?null:j(F,r)),void 0===b&&be(r,t)),r}return ue},ke=(Se=(0,i.useRef)(0),Ee=function(){k.Z.cancel(Se.current)},(0,i.useEffect)((function(){return Ee}),[]),function(e){Ee(),Se.current=(0,k.Z)((function(){e()}))}),Pe=function e(t){if(Re(),fe.current=t,ye(t),!ie.current){var n=he(t),r=T(n);r.isNaN()||De(r,!0)}null==Y||Y(t),ke((function(){var n=t;$||(n=t.replace(/。/g,".")),n!==t&&e(n)}))},ze=function(e){var t;if(!(e&&Le||!e&&_e)){oe.current=!1;var n=T(ae.current?z(m):m);e||(n=n.negate());var r=(ue||T(0)).add(n.toString()),o=De(r,!1);null==q||q(j(F,o),{offset:ae.current?z(m):m,type:e?"up":"down"}),null===(t=J.current)||void 0===t||t.focus()}},Fe=function(e){var t=T(he(me)),n=t;n=t.isNaN()?De(ue,e):De(t,e),void 0!==b?be(ue,!1):n.isNaN()||be(n,!1)};return(0,R.o)((function(){ue.isInvalidate()||be(ue,!1)}),[V]),(0,R.o)((function(){var e=T(b);ce(e);var t=T(he(me));e.equals(t)&&oe.current&&!G||be(e,oe.current)}),[b]),(0,R.o)((function(){G&&Ae()}),[me]),i.createElement("div",{className:d()(a,null==D?void 0:D.input,l,(n={},(0,h.Z)(n,"".concat(a,"-focused"),ne),(0,h.Z)(n,"".concat(a,"-disabled"),C),(0,h.Z)(n,"".concat(a,"-readonly"),x),(0,h.Z)(n,"".concat(a,"-not-a-number"),ue.isNaN()),(0,h.Z)(n,"".concat(a,"-out-of-range"),!ue.isInvalidate()&&!Be(ue)),n)),style:s,onFocus:function(){re(!0)},onBlur:function(){Fe(!1),re(!1),oe.current=!1},onKeyDown:function(e){var t=e.key,n=e.shiftKey;oe.current=!0,ae.current=n,"Enter"===t&&(ie.current||(oe.current=!1),Fe(!1),null==X||X(e)),!1!==L&&!ie.current&&["Up","ArrowUp","Down","ArrowDown"].includes(t)&&(ze("Up"===t||"ArrowUp"===t),e.preventDefault())},onKeyUp:function(){oe.current=!1,ae.current=!1},onCompositionStart:function(){ie.current=!0},onCompositionEnd:function(){ie.current=!1,Pe(J.current.value)},onBeforeInput:function(){oe.current=!0}},B&&i.createElement(P,{prefixCls:a,upNode:O,downNode:I,upDisabled:Le,downDisabled:_e,onStep:ze}),i.createElement("div",{className:"".concat(Q,"-wrap")},i.createElement("input",(0,o.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":u,"aria-valuemax":c,"aria-valuenow":ue.isInvalidate()?null:ue.toString(),step:m},K,{ref:(0,A.sQ)(J,t),className:Q,value:me,onChange:function(e){Pe(e.target.value)},disabled:C,readOnly:x}))))})),V=i.forwardRef((function(e,t){var n=e.disabled,r=e.style,a=e.prefixCls,l=e.value,s=e.prefix,u=e.suffix,c=e.addonBefore,d=e.addonAfter,h=e.classes,f=e.className,p=e.classNames,g=(0,v.Z)(e,$),m=i.useRef(null);return i.createElement(M.Q,{inputElement:i.createElement(G,(0,o.Z)({prefixCls:a,disabled:n,classNames:p,ref:(0,A.sQ)(m,t)},g)),className:f,triggerFocus:function(e){m.current&&(0,F.nH)(m.current,e)},prefixCls:a,value:l,disabled:n,style:r,prefix:s,suffix:u,addonAfter:d,addonBefore:c,classes:h,classNames:p,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"}})}));V.displayName="InputNumber";var U=V,Z=n(9708),Y=n(53124),X=n(94740),q=n(98866),K=n(98675),Q=n(65223),J=n(4173),ee=n(47673),te=n(14747),ne=n(80110),re=n(67968),oe=n(45503);const ie=(e,t)=>{let{componentCls:n,borderRadiusSM:r,borderRadiusLG:o}=e;const i="lg"===t?o:r;return{[`&-${t}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:i,borderEndEndRadius:i},[`${n}-handler-up`]:{borderStartEndRadius:i},[`${n}-handler-down`]:{borderEndEndRadius:i}}}},ae=e=>{const{componentCls:t,lineWidth:n,lineType:r,colorBorder:o,borderRadius:i,fontSizeLG:a,controlHeightLG:l,controlHeightSM:s,colorError:u,paddingInlineSM:c,colorTextDescription:d,motionDurationMid:h,handleHoverColor:f,paddingInline:p,paddingBlock:v,handleBg:g,handleActiveBg:m,colorTextDisabled:y,borderRadiusSM:b,borderRadiusLG:C,controlWidth:x,handleVisible:w,handleBorderColor:S}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,te.Wf)(e)),(0,ee.ik)(e)),(0,ee.bi)(e,t)),{display:"inline-block",width:x,margin:0,padding:0,border:`${n}px ${r} ${o}`,borderRadius:i,"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:a,borderRadius:C,[`input${t}-input`]:{height:l-2*n}},"&-sm":{padding:0,borderRadius:b,[`input${t}-input`]:{height:s-2*n,padding:`0 ${c}px`}},"&:hover":Object.assign({},(0,ee.pU)(e)),"&-focused":Object.assign({},(0,ee.M1)(e)),"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:u}}},"&-group":Object.assign(Object.assign(Object.assign({},(0,te.Wf)(e)),(0,ee.s7)(e)),{"&-wrapper":{display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:C,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:b}},[`${t}-wrapper-disabled > ${t}-group-addon`]:Object.assign({},(0,ee.Xy)(e))}}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},(0,te.Wf)(e)),{width:"100%",padding:`${v}px ${p}px`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:i,outline:0,transition:`all ${h} linear`,appearance:"textfield",fontSize:"inherit"}),(0,ee.nz)(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[t]:Object.assign(Object.assign(Object.assign({[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{opacity:1},[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleWidth,height:"100%",background:g,borderStartStartRadius:0,borderStartEndRadius:i,borderEndEndRadius:i,borderEndStartRadius:0,opacity:!0===w?1:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${h} linear ${h}`,[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`\n              ${t}-handler-up-inner,\n              ${t}-handler-down-inner\n            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:d,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${n}px ${r} ${S}`,transition:`all ${h} linear`,"&:active":{background:m},"&:hover":{height:"60%",[`\n              ${t}-handler-up-inner,\n              ${t}-handler-down-inner\n            `]:{color:f}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},(0,te.Ro)()),{color:d,transition:`all ${h} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:i},[`${t}-handler-down`]:{borderBlockStart:`${n}px ${r} ${S}`,borderEndEndRadius:i}},ie(e,"lg")),ie(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`\n          ${t}-handler-up-disabled,\n          ${t}-handler-down-disabled\n        `]:{cursor:"not-allowed"},[`\n          ${t}-handler-up-disabled:hover &-handler-up-inner,\n          ${t}-handler-down-disabled:hover &-handler-down-inner\n        `]:{color:y}})},{[`${t}-borderless`]:{borderColor:"transparent",boxShadow:"none",[`${t}-handler-down`]:{borderBlockStartWidth:0}}}]},le=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:o,controlWidth:i,borderRadiusLG:a,borderRadiusSM:l}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign(Object.assign({},(0,ee.ik)(e)),(0,ee.bi)(e,`${t}-affix-wrapper`)),{position:"relative",display:"inline-flex",width:i,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:a},"&-sm":{borderRadius:l},[`&:not(${t}-affix-wrapper-disabled):hover`]:Object.assign(Object.assign({},(0,ee.pU)(e)),{zIndex:1}),"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},[`input${t}-input`]:{padding:`${n}px 0`},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:o},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:r,marginInlineStart:o}}})}};var se=(0,re.Z)("InputNumber",(e=>{const t=(0,oe.TS)(e,(0,ee.e5)(e));return[ae(t),le(t),(0,ne.c)(t)]}),(e=>Object.assign(Object.assign({},(0,ee.TM)(e)),{controlWidth:90,handleWidth:e.controlHeightSM-2*e.lineWidth,handleFontSize:e.fontSize/2,handleVisible:"auto",handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder}))),ue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const ce=i.forwardRef(((e,t)=>{const{getPrefixCls:n,direction:o}=i.useContext(Y.E_),a=i.useRef(null);i.useImperativeHandle(t,(()=>a.current));const{className:l,rootClassName:s,size:c,disabled:h,prefixCls:f,addonBefore:p,addonAfter:v,prefix:g,bordered:m=!0,readOnly:y,status:b,controls:C}=e,x=ue(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),w=n("input-number",f),[S,E]=se(w),{compactSize:O,compactItemClassnames:I}=(0,J.ri)(w,o);let L=i.createElement(u,{className:`${w}-handler-up-inner`}),_=i.createElement(r.Z,{className:`${w}-handler-down-inner`});const T="boolean"==typeof C?C:void 0;"object"==typeof C&&(L=void 0===C.upIcon?L:i.createElement("span",{className:`${w}-handler-up-inner`},C.upIcon),_=void 0===C.downIcon?_:i.createElement("span",{className:`${w}-handler-down-inner`},C.downIcon));const{hasFeedback:M,status:R,isFormItemInput:A,feedbackIcon:N}=i.useContext(Q.aM),B=(0,Z.F)(R,b),D=(0,K.Z)((e=>{var t;return null!==(t=null!=c?c:O)&&void 0!==t?t:e})),k=i.useContext(q.Z),P=null!=h?h:k,z=d()({[`${w}-lg`]:"large"===D,[`${w}-sm`]:"small"===D,[`${w}-rtl`]:"rtl"===o,[`${w}-borderless`]:!m,[`${w}-in-form-item`]:A},(0,Z.Z)(w,B),I,E),F=`${w}-group`;return S(i.createElement(U,Object.assign({ref:a,disabled:P,className:d()(l,s),upHandler:L,downHandler:_,prefixCls:w,readOnly:y,controls:T,prefix:g,suffix:M&&N,addonAfter:v&&i.createElement(J.BR,null,i.createElement(Q.Ux,{override:!0,status:!0},v)),addonBefore:p&&i.createElement(J.BR,null,i.createElement(Q.Ux,{override:!0,status:!0},p)),classNames:{input:z},classes:{affixWrapper:d()((0,Z.Z)(`${w}-affix-wrapper`,B,M),{[`${w}-affix-wrapper-sm`]:"small"===D,[`${w}-affix-wrapper-lg`]:"large"===D,[`${w}-affix-wrapper-rtl`]:"rtl"===o,[`${w}-affix-wrapper-borderless`]:!m},E),wrapper:d()({[`${F}-rtl`]:"rtl"===o,[`${w}-wrapper-disabled`]:P},E),group:d()({[`${w}-group-wrapper-sm`]:"small"===D,[`${w}-group-wrapper-lg`]:"large"===D,[`${w}-group-wrapper-rtl`]:"rtl"===o},(0,Z.Z)(`${w}-group-wrapper`,B,M),E)}},x)))})),de=ce;de._InternalPanelDoNotUseOrYouWillBeFired=e=>i.createElement(X.ZP,{theme:{components:{InputNumber:{handleVisible:!0}}}},i.createElement(ce,Object.assign({},e)));var he=de},71338:function(e,t,n){n.d(t,{Z:function(){return J}});var r=n(67294),o=n(94184),i=n.n(o),a=n(4942),l=n(74902),s=n(97685),u=n(71002),c=n(91881),d=n(21770),h=n(87462),f=n(91),p=n(1413),v=n(15105),g=r.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0});function m(e,t,n){return(e-t)/(n-t)}function y(e,t,n,r){var o=m(t,n,r),i={};switch(e){case"rtl":i.right="".concat(100*o,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(100*o,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(100*o,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(100*o,"%"),i.transform="translateX(-50%)"}return i}function b(e,t){return Array.isArray(e)?e[t]:e}var C=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],x=r.forwardRef((function(e,t){var n,o,l=e.prefixCls,s=e.value,u=e.valueIndex,c=e.onStartMove,d=e.style,m=e.render,x=e.dragging,w=e.onOffsetChange,S=(0,f.Z)(e,C),E=r.useContext(g),O=E.min,I=E.max,L=E.direction,_=E.disabled,T=E.keyboard,M=E.range,R=E.tabIndex,A=E.ariaLabelForHandle,N=E.ariaLabelledByForHandle,B=E.ariaValueTextFormatterForHandle,D="".concat(l,"-handle"),k=function(e){_||c(e,u)},P=y(L,s,O,I),z=r.createElement("div",(0,h.Z)({ref:t,className:i()(D,(n={},(0,a.Z)(n,"".concat(D,"-").concat(u+1),M),(0,a.Z)(n,"".concat(D,"-dragging"),x),n)),style:(0,p.Z)((0,p.Z)({},P),d),onMouseDown:k,onTouchStart:k,onKeyDown:function(e){if(!_&&T){var t=null;switch(e.which||e.keyCode){case v.Z.LEFT:t="ltr"===L||"btt"===L?-1:1;break;case v.Z.RIGHT:t="ltr"===L||"btt"===L?1:-1;break;case v.Z.UP:t="ttb"!==L?1:-1;break;case v.Z.DOWN:t="ttb"!==L?-1:1;break;case v.Z.HOME:t="min";break;case v.Z.END:t="max";break;case v.Z.PAGE_UP:t=2;break;case v.Z.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),w(t,u))}},tabIndex:_?null:b(R,u),role:"slider","aria-valuemin":O,"aria-valuemax":I,"aria-valuenow":s,"aria-disabled":_,"aria-label":b(A,u),"aria-labelledby":b(N,u),"aria-valuetext":null===(o=b(B,u))||void 0===o?void 0:o(s),"aria-orientation":"ltr"===L||"rtl"===L?"horizontal":"vertical"},S));return m&&(z=m(z,{index:u,prefixCls:l,value:s,dragging:x})),z}));var w=x,S=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],E=r.forwardRef((function(e,t){var n=e.prefixCls,o=e.style,i=e.onStartMove,a=e.onOffsetChange,l=e.values,s=e.handleRender,u=e.draggingIndex,c=(0,f.Z)(e,S),d=r.useRef({});return r.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=d.current[e])||void 0===t||t.focus()}}})),r.createElement(r.Fragment,null,l.map((function(e,t){return r.createElement(w,(0,h.Z)({ref:function(e){e?d.current[t]=e:delete d.current[t]},dragging:u===t,prefixCls:n,style:b(o,t),key:t,value:e,valueIndex:t,onStartMove:i,onOffsetChange:a,render:s},c))})))}));var O=E;function I(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function L(e){var t,n=e.prefixCls,o=e.style,l=e.start,s=e.end,u=e.index,c=e.onStartMove,d=r.useContext(g),h=d.direction,f=d.min,v=d.max,y=d.disabled,b=d.range,C="".concat(n,"-track"),x=m(l,f,v),w=m(s,f,v),S=function(e){!y&&c&&c(e,-1)},E={};switch(h){case"rtl":E.right="".concat(100*x,"%"),E.width="".concat(100*w-100*x,"%");break;case"btt":E.bottom="".concat(100*x,"%"),E.height="".concat(100*w-100*x,"%");break;case"ttb":E.top="".concat(100*x,"%"),E.height="".concat(100*w-100*x,"%");break;default:E.left="".concat(100*x,"%"),E.width="".concat(100*w-100*x,"%")}return r.createElement("div",{className:i()(C,(t={},(0,a.Z)(t,"".concat(C,"-").concat(u+1),b),(0,a.Z)(t,"".concat(n,"-track-draggable"),c),t)),style:(0,p.Z)((0,p.Z)({},E),o),onMouseDown:S,onTouchStart:S})}function _(e){var t=e.prefixCls,n=e.style,o=e.values,i=e.startPoint,a=e.onStartMove,l=r.useContext(g),s=l.included,u=l.range,c=l.min,d=r.useMemo((function(){if(!u){if(0===o.length)return[];var e=null!=i?i:c,t=o[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<o.length-1;r+=1)n.push({start:o[r],end:o[r+1]});return n}),[o,u,i,c]);return s?d.map((function(e,o){var i=e.start,l=e.end;return r.createElement(L,{index:o,prefixCls:t,style:b(n,o),start:i,end:l,key:o,onStartMove:a})})):null}function T(e){var t=e.prefixCls,n=e.style,o=e.children,l=e.value,s=e.onClick,u=r.useContext(g),c=u.min,d=u.max,h=u.direction,f=u.includedStart,v=u.includedEnd,m=u.included,b="".concat(t,"-text"),C=y(h,l,c,d);return r.createElement("span",{className:i()(b,(0,a.Z)({},"".concat(b,"-active"),m&&f<=l&&l<=v)),style:(0,p.Z)((0,p.Z)({},C),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){s(l)}},o)}function M(e){var t=e.prefixCls,n=e.marks,o=e.onClick,i="".concat(t,"-mark");return n.length?r.createElement("div",{className:i},n.map((function(e){var t=e.value,n=e.style,a=e.label;return r.createElement(T,{key:t,prefixCls:i,style:n,value:t,onClick:o},a)}))):null}function R(e){var t=e.prefixCls,n=e.value,o=e.style,l=e.activeStyle,s=r.useContext(g),u=s.min,c=s.max,d=s.direction,h=s.included,f=s.includedStart,v=s.includedEnd,m="".concat(t,"-dot"),b=h&&f<=n&&n<=v,C=(0,p.Z)((0,p.Z)({},y(d,n,u,c)),"function"==typeof o?o(n):o);return b&&(C=(0,p.Z)((0,p.Z)({},C),"function"==typeof l?l(n):l)),r.createElement("span",{className:i()(m,(0,a.Z)({},"".concat(m,"-active"),b)),style:C})}function A(e){var t=e.prefixCls,n=e.marks,o=e.dots,i=e.style,a=e.activeStyle,l=r.useContext(g),s=l.min,u=l.max,c=l.step,d=r.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),o&&null!==c)for(var t=s;t<=u;)e.add(t),t+=c;return Array.from(e)}),[s,u,c,o,n]);return r.createElement("div",{className:"".concat(t,"-step")},d.map((function(e){return r.createElement(R,{prefixCls:t,key:e,value:e,style:i,activeStyle:a})})))}n(80334);var N=r.forwardRef((function(e,t){var n,o=e.prefixCls,h=void 0===o?"rc-slider":o,f=e.className,p=e.style,v=e.disabled,m=void 0!==v&&v,y=e.keyboard,b=void 0===y||y,C=e.autoFocus,x=e.onFocus,w=e.onBlur,S=e.min,E=void 0===S?0:S,L=e.max,T=void 0===L?100:L,R=e.step,N=void 0===R?1:R,B=e.value,D=e.defaultValue,k=e.range,P=e.count,z=e.onChange,F=e.onBeforeChange,H=e.onAfterChange,$=e.allowCross,j=void 0===$||$,W=e.pushable,G=void 0!==W&&W,V=e.draggableTrack,U=e.reverse,Z=e.vertical,Y=e.included,X=void 0===Y||Y,q=e.startPoint,K=e.trackStyle,Q=e.handleStyle,J=e.railStyle,ee=e.dotStyle,te=e.activeDotStyle,ne=e.marks,re=e.dots,oe=e.handleRender,ie=e.tabIndex,ae=void 0===ie?0:ie,le=e.ariaLabelForHandle,se=e.ariaLabelledByForHandle,ue=e.ariaValueTextFormatterForHandle,ce=r.useRef(),de=r.useRef(),he=r.useMemo((function(){return Z?U?"ttb":"btt":U?"rtl":"ltr"}),[U,Z]),fe=r.useMemo((function(){return isFinite(E)?E:0}),[E]),pe=r.useMemo((function(){return isFinite(T)?T:100}),[T]),ve=r.useMemo((function(){return null!==N&&N<=0?1:N}),[N]),ge=r.useMemo((function(){return"boolean"==typeof G?!!G&&ve:G>=0&&G}),[G,ve]),me=r.useMemo((function(){return Object.keys(ne||{}).map((function(e){var t=ne[e],n={value:Number(e)};return t&&"object"===(0,u.Z)(t)&&!r.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"==typeof t})).sort((function(e,t){return e.value-t.value}))}),[ne]),ye=function(e,t,n,o,i,a){var s=r.useCallback((function(n){var r=isFinite(n)?n:e;return r=Math.min(t,n),Math.max(e,r)}),[e,t]),u=r.useCallback((function(r){if(null!==n){var o=e+Math.round((s(r)-e)/n)*n,i=function(e){return(String(e).split(".")[1]||"").length},a=Math.max(i(n),i(t),i(e)),l=Number(o.toFixed(a));return e<=l&&l<=t?l:null}return null}),[n,e,t,s]),c=r.useCallback((function(r){var i=s(r),a=o.map((function(e){return e.value}));null!==n&&a.push(u(r)),a.push(e,t);var l=a[0],c=t-e;return a.forEach((function(e){var t=Math.abs(i-e);t<=c&&(l=e,c=t)})),l}),[e,t,o,n,s,u]),d=function r(i,a,s){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof a){var d,h=i[s],f=h+a,p=[];o.forEach((function(e){p.push(e.value)})),p.push(e,t),p.push(u(h));var v=a>0?1:-1;"unit"===c?p.push(u(h+v*n)):p.push(u(f)),p=p.filter((function(e){return null!==e})).filter((function(e){return a<0?e<=h:e>=h})),"unit"===c&&(p=p.filter((function(e){return e!==h})));var g="unit"===c?h:f;d=p[0];var m=Math.abs(d-g);if(p.forEach((function(e){var t=Math.abs(e-g);t<m&&(d=e,m=t)})),void 0===d)return a<0?e:t;if("dist"===c)return d;if(Math.abs(a)>1){var y=(0,l.Z)(i);return y[s]=d,r(y,a-v,s,c)}return d}return"min"===a?e:"max"===a?t:void 0},h=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e[n],i=d(e,t,n,r);return{value:i,changed:i!==o}},f=function(e){return null===a&&0===e||"number"==typeof a&&e<a};return[c,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e.map(c),l=o[n],s=d(o,t,n,r);if(o[n]=s,!1===i){var u=a||0;n>0&&o[n-1]!==l&&(o[n]=Math.max(o[n],o[n-1]+u)),n<o.length-1&&o[n+1]!==l&&(o[n]=Math.min(o[n],o[n+1]-u))}else if("number"==typeof a||null===a){for(var p=n+1;p<o.length;p+=1)for(var v=!0;f(o[p]-o[p-1])&&v;){var g=h(o,1,p);o[p]=g.value,v=g.changed}for(var m=n;m>0;m-=1)for(var y=!0;f(o[m]-o[m-1])&&y;){var b=h(o,-1,m-1);o[m-1]=b.value,y=b.changed}for(var C=o.length-1;C>0;C-=1)for(var x=!0;f(o[C]-o[C-1])&&x;){var w=h(o,-1,C-1);o[C-1]=w.value,x=w.changed}for(var S=0;S<o.length-1;S+=1)for(var E=!0;f(o[S+1]-o[S])&&E;){var O=h(o,1,S+1);o[S+1]=O.value,E=O.changed}}return{value:o[n],values:o}}]}(fe,pe,ve,me,j,ge),be=(0,s.Z)(ye,2),Ce=be[0],xe=be[1],we=(0,d.Z)(D,{value:B}),Se=(0,s.Z)(we,2),Ee=Se[0],Oe=Se[1],Ie=r.useMemo((function(){var e=null==Ee?[]:Array.isArray(Ee)?Ee:[Ee],t=(0,s.Z)(e,1)[0],n=null===Ee?[]:[void 0===t?fe:t];if(k){if(n=(0,l.Z)(e),P||void 0===Ee){var r=P>=0?P+1:2;for(n=n.slice(0,r);n.length<r;){var o;n.push(null!==(o=n[n.length-1])&&void 0!==o?o:fe)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=Ce(e)})),n}),[Ee,k,fe,P,Ce]),Le=r.useRef(Ie);Le.current=Ie;var _e=function(e){return k?e:e[0]},Te=function(e){var t=(0,l.Z)(e).sort((function(e,t){return e-t}));z&&!(0,c.Z)(t,Le.current,!0)&&z(_e(t)),Oe(t)},Me=function(e){if(!m){var t=0,n=pe-fe;Ie.forEach((function(r,o){var i=Math.abs(e-r);i<=n&&(n=i,t=o)}));var r=(0,l.Z)(Ie);r[t]=e,k&&!Ie.length&&void 0===P&&r.push(e),null==F||F(_e(r)),Te(r),null==H||H(_e(r))}},Re=r.useState(null),Ae=(0,s.Z)(Re,2),Ne=Ae[0],Be=Ae[1];r.useEffect((function(){if(null!==Ne){var e=Ie.indexOf(Ne);e>=0&&ce.current.focus(e)}Be(null)}),[Ne]);var De=r.useMemo((function(){return(!V||null!==ve)&&V}),[V,ve]),ke=function(e,t,n,o,i,a,u,c,d){var h=r.useState(null),f=(0,s.Z)(h,2),p=f[0],v=f[1],g=r.useState(-1),m=(0,s.Z)(g,2),y=m[0],b=m[1],C=r.useState(n),x=(0,s.Z)(C,2),w=x[0],S=x[1],E=r.useState(n),O=(0,s.Z)(E,2),L=O[0],_=O[1],T=r.useRef(null),M=r.useRef(null);r.useEffect((function(){-1===y&&S(n)}),[n,y]),r.useEffect((function(){return function(){document.removeEventListener("mousemove",T.current),document.removeEventListener("mouseup",M.current),document.removeEventListener("touchmove",T.current),document.removeEventListener("touchend",M.current)}}),[]);var R=function(e,t){w.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&v(t),S(e),u(e))},A=function(e,t){if(-1===e){var n=L[0],r=L[L.length-1],s=o-n,u=i-r,c=t*(i-o);c=Math.max(c,s),c=Math.min(c,u);var h=a(n+c);c=h-n;var f=L.map((function(e){return e+c}));R(f)}else{var p=(i-o)*t,v=(0,l.Z)(w);v[e]=L[e];var g=d(v,p,e,"dist");R(g.values,g.value)}},N=r.useRef(A);N.current=A;var B=r.useMemo((function(){var e=(0,l.Z)(n).sort((function(e,t){return e-t})),t=(0,l.Z)(w).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?w:n}),[n,w]);return[y,p,B,function(r,o){r.stopPropagation();var i=n[o];b(o),v(i),_(n);var a=I(r),l=a.pageX,s=a.pageY,u=function(n){n.preventDefault();var r,i=I(n),a=i.pageX,u=i.pageY,c=a-l,d=u-s,h=e.current.getBoundingClientRect(),f=h.width,p=h.height;switch(t){case"btt":r=-d/p;break;case"ttb":r=d/p;break;case"rtl":r=-c/f;break;default:r=c/f}N.current(o,r)},d=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",u),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",u),T.current=null,M.current=null,b(-1),c()};document.addEventListener("mouseup",d),document.addEventListener("mousemove",u),document.addEventListener("touchend",d),document.addEventListener("touchmove",u),T.current=u,M.current=d}]}(de,he,Ie,fe,pe,Ce,Te,(function(){null==H||H(_e(Le.current))}),xe),Pe=(0,s.Z)(ke,4),ze=Pe[0],Fe=Pe[1],He=Pe[2],$e=Pe[3],je=function(e,t){$e(e,t),null==F||F(_e(Le.current))},We=-1!==ze;r.useEffect((function(){if(!We){var e=Ie.lastIndexOf(Fe);ce.current.focus(e)}}),[We]);var Ge=r.useMemo((function(){return(0,l.Z)(He).sort((function(e,t){return e-t}))}),[He]),Ve=r.useMemo((function(){return k?[Ge[0],Ge[Ge.length-1]]:[fe,Ge[0]]}),[Ge,k,fe]),Ue=(0,s.Z)(Ve,2),Ze=Ue[0],Ye=Ue[1];r.useImperativeHandle(t,(function(){return{focus:function(){ce.current.focus(0)},blur:function(){var e=document.activeElement;de.current.contains(e)&&(null==e||e.blur())}}})),r.useEffect((function(){C&&ce.current.focus(0)}),[]);var Xe=r.useMemo((function(){return{min:fe,max:pe,direction:he,disabled:m,keyboard:b,step:ve,included:X,includedStart:Ze,includedEnd:Ye,range:k,tabIndex:ae,ariaLabelForHandle:le,ariaLabelledByForHandle:se,ariaValueTextFormatterForHandle:ue}}),[fe,pe,he,m,b,ve,X,Ze,Ye,k,ae,le,se,ue]);return r.createElement(g.Provider,{value:Xe},r.createElement("div",{ref:de,className:i()(h,f,(n={},(0,a.Z)(n,"".concat(h,"-disabled"),m),(0,a.Z)(n,"".concat(h,"-vertical"),Z),(0,a.Z)(n,"".concat(h,"-horizontal"),!Z),(0,a.Z)(n,"".concat(h,"-with-marks"),me.length),n)),style:p,onMouseDown:function(e){e.preventDefault();var t,n=de.current.getBoundingClientRect(),r=n.width,o=n.height,i=n.left,a=n.top,l=n.bottom,s=n.right,u=e.clientX,c=e.clientY;switch(he){case"btt":t=(l-c)/o;break;case"ttb":t=(c-a)/o;break;case"rtl":t=(s-u)/r;break;default:t=(u-i)/r}Me(Ce(fe+t*(pe-fe)))}},r.createElement("div",{className:"".concat(h,"-rail"),style:J}),r.createElement(_,{prefixCls:h,style:K,values:Ge,startPoint:q,onStartMove:De?je:null}),r.createElement(A,{prefixCls:h,marks:me,dots:re,style:ee,activeStyle:te}),r.createElement(O,{ref:ce,prefixCls:h,style:Q,values:He,draggingIndex:ze,onStartMove:je,onOffsetChange:function(e,t){if(!m){var n=xe(Ie,e,t);null==F||F(_e(Ie)),Te(n.values),null==H||H(_e(n.values)),Be(n.value)}},onFocus:x,onBlur:w,handleRender:oe}),r.createElement(M,{prefixCls:h,marks:me,onClick:Me})))}));var B=N,D=n(53124),k=n(98866),P=n(75164),z=n(42550),F=n(61781);var H=r.forwardRef(((e,t)=>{const{open:n}=e,o=(0,r.useRef)(null),i=(0,r.useRef)(null);function a(){P.Z.cancel(i.current),i.current=null}return r.useEffect((()=>(n?i.current=(0,P.Z)((()=>{var e;null===(e=o.current)||void 0===e||e.forceAlign(),i.current=null})):a(),a)),[n,e.title]),r.createElement(F.Z,Object.assign({ref:(0,z.sQ)(o,t)},e))})),$=n(10274),j=n(14747),W=n(67968),G=n(45503);const V=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:o,marginFull:i,marginPart:a,colorFillContentHover:l}=e;return{[t]:Object.assign(Object.assign({},(0,j.Wf)(e)),{position:"relative",height:r,margin:`${a}px ${i}px`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${i}px ${a}px`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${e.motionDurationMid}`},[`${t}-track`]:{position:"absolute",backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS,transition:`background-color ${e.motionDurationMid}`},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:l},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${e.handleLineWidth}px ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:e.handleSize,height:e.handleSize,outline:"none",[`${t}-dragging`]:{zIndex:1},"&::before":{content:'""',position:"absolute",insetInlineStart:-e.handleLineWidth,insetBlockStart:-e.handleLineWidth,width:e.handleSize+2*e.handleLineWidth,height:e.handleSize+2*e.handleLineWidth,backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:e.handleSize,height:e.handleSize,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${e.handleLineWidth}px ${e.handleColor}`,borderRadius:"50%",cursor:"pointer",transition:`\n            inset-inline-start ${e.motionDurationMid},\n            inset-block-start ${e.motionDurationMid},\n            width ${e.motionDurationMid},\n            height ${e.motionDurationMid},\n            box-shadow ${e.motionDurationMid}\n          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:-((e.handleSizeHover-e.handleSize)/2+e.handleLineWidthHover),insetBlockStart:-((e.handleSizeHover-e.handleSize)/2+e.handleLineWidthHover),width:e.handleSizeHover+2*e.handleLineWidthHover,height:e.handleSizeHover+2*e.handleLineWidthHover},"&::after":{boxShadow:`0 0 0 ${e.handleLineWidthHover}px ${e.handleActiveColor}`,width:e.handleSizeHover,height:e.handleSizeHover,insetInlineStart:(e.handleSize-e.handleSizeHover)/2,insetBlockStart:(e.handleSize-e.handleSizeHover)/2}}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:e.colorBgElevated,border:`${e.handleLineWidth}px solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`\n          ${t}-dot\n        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:e.handleSize,height:e.handleSize,boxShadow:`0 0 0 ${e.handleLineWidth}px ${new $.C(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexShortString()}`,insetInlineStart:0,insetBlockStart:0},[`\n          ${t}-mark-text,\n          ${t}-dot\n        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},U=(e,t)=>{const{componentCls:n,railSize:r,handleSize:o,dotSize:i}=e,a=t?"width":"height",l=t?"height":"width",s=t?"insetBlockStart":"insetInlineStart",u=t?"top":"insetInlineStart",c=(3*r-o)/2,d=(o-r)/2,h=t?{borderWidth:`${d}px 0`,transform:`translateY(-${d}px)`}:{borderWidth:`0 ${d}px`,transform:`translateX(-${d}px)`};return{[t?"paddingBlock":"paddingInline"]:r,[l]:3*r,[`${n}-rail`]:{[a]:"100%",[l]:r},[`${n}-track`]:{[l]:r},[`${n}-track-draggable`]:Object.assign({},h),[`${n}-handle`]:{[s]:c},[`${n}-mark`]:{insetInlineStart:0,top:0,[u]:3*r+(t?0:e.marginFull),[a]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[u]:r,[a]:"100%",[l]:r},[`${n}-dot`]:{position:"absolute",[s]:(r-i)/2}}},Z=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},U(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},Y=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},U(e,!1)),{height:"100%"})}};var X=(0,W.Z)("Slider",(e=>{const t=(0,G.TS)(e,{marginPart:(e.controlHeight-e.controlSize)/2,marginFull:e.controlSize/2,marginPartWithMark:e.controlHeightLG-e.controlSize});return[V(t),Z(t),Y(t)]}),(e=>{const t=e.controlHeightLG/4;return{controlSize:t,railSize:4,handleSize:t,handleSizeHover:e.controlHeightSM/2,dotSize:8,handleLineWidth:e.lineWidth+1,handleLineWidthHover:e.lineWidth+3,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:e.colorPrimary,dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}})),q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const K=e=>"number"==typeof e?e.toString():"",Q=r.forwardRef(((e,t)=>{const{prefixCls:n,range:o,className:a,rootClassName:l,style:s,disabled:u,tooltipPrefixCls:c,tipFormatter:d,tooltipVisible:h,getTooltipPopupContainer:f,tooltipPlacement:p}=e,v=q(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement"]),{direction:g,slider:m,getPrefixCls:y,getPopupContainer:b}=r.useContext(D.E_),C=r.useContext(k.Z),x=null!=u?u:C,[w,S]=r.useState({}),E=(e,t)=>{S((n=>Object.assign(Object.assign({},n),{[e]:t})))},O=(e,t)=>e||(t?"rtl"===g?"left":"right":"top"),I=y("slider",n),[L,_]=X(I),T=i()(a,null==m?void 0:m.className,l,{[`${I}-rtl`]:"rtl"===g},_);"rtl"!==g||v.vertical||(v.reverse=!v.reverse);const[M,R]=r.useMemo((()=>o?"object"==typeof o?[!0,o.draggableTrack]:[!0,!1]:[!1]),[o]);const A=Object.assign(Object.assign({},null==m?void 0:m.style),s);return L(r.createElement(B,Object.assign({},v,{step:v.step,range:M,draggableTrack:R,className:T,style:A,disabled:x,ref:t,prefixCls:I,handleRender:(t,n)=>{var o;const{index:i,dragging:a}=n,{tooltip:l={},vertical:s}=e,u=Object.assign({},l),{open:v,placement:g,getPopupContainer:m,prefixCls:C,formatter:x}=u;let S;S=x||null===x?x:d||null===d?d:K;const L=!!S&&(w[i]||a),_=null!==(o=null!=v?v:h)&&void 0!==o?o:void 0===v&&L,T=Object.assign(Object.assign({},t.props),{onMouseEnter:()=>E(i,!0),onMouseLeave:()=>E(i,!1)}),M=y("tooltip",null!=C?C:c);return r.createElement(H,Object.assign({},u,{prefixCls:M,title:S?S(n.value):"",open:_,placement:O(null!=g?g:p,s),key:i,overlayClassName:`${I}-tooltip`,getPopupContainer:m||f||b}),r.cloneElement(t,T))}})))}));var J=Q}}]);